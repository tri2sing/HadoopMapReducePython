From users-return-238294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 00:08:30 2012
Return-Path: <users-return-238294-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4BEAADD1A
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 00:08:30 +0000 (UTC)
Received: (qmail 74540 invoked by uid 500); 1 Dec 2012 00:08:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74494 invoked by uid 500); 1 Dec 2012 00:08:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74483 invoked by uid 99); 1 Dec 2012 00:08:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 00:08:26 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [156.42.184.98] (HELO extmail1.maricopa.gov) (156.42.184.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 00:08:20 +0000
X-IronPort-AV: E=Sophos;i="4.84,194,1355122800"; 
   d="scan'208";a="53971307"
Received: from dacrspxcnghub3.enterprise.maricopa.gov ([10.4.49.30])
  by intmail1.maricopa.gov with ESMTP; 30 Nov 2012 17:08:00 -0700
Received: from cms1.enterprise.maricopa.gov ([10.4.94.11]) by
 dacrspxcnghub3.enterprise.maricopa.gov ([10.4.49.30]) with mapi; Fri, 30 Nov
 2012 17:07:59 -0700
From: Leo Donahue - RDSA IT <LeoDonahue@mail.maricopa.gov>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 30 Nov 2012 17:07:58 -0700
Subject: RE: Context Path for a subdirectory
Thread-Topic: Context Path for a subdirectory
Thread-Index: Ac3PVMgtwstPGiBEQneeH2/jB6CS3gAAENnQAACrKNA=
Message-ID: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B68@CMS1.enterprise.maricopa.gov>
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com>
 <50B90E20.2000907@tmbsw.com>
 <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com>
 <50B92DB1.3000201@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com>
 <50B9359C.8060209@christopherschultz.net>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>
 <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B45@CMS1.enterprise.maricopa.gov>
 <50B944F4.8060606@ice-sa.com>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B65@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B65@CMS1.enterprise.maricopa.gov>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

>-----Original Message-----
>From: Leo Donahue - RDSA IT [mailto:LeoDonahue@mail.maricopa.gov]
>Sent: Friday, November 30, 2012 5:02 PM
>To: Tomcat Users List
>Subject: RE: Context Path for a subdirectory
>
>
>The way the Server 1 is configured, there are accounts that the rest/admin
>web app will take which let you do things like shutdown the services and
>other stuff, if you were able to brute force the rest/admin
>username/password.
>

That would only do you any good if you knew the internal server name.  But =
I have to protect from internal threats as well, right?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 01:04:49 2012
Return-Path: <users-return-238295-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BA3BE983
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 01:04:49 +0000 (UTC)
Received: (qmail 91831 invoked by uid 500); 1 Dec 2012 01:04:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91782 invoked by uid 500); 1 Dec 2012 01:04:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91772 invoked by uid 99); 1 Dec 2012 01:04:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 01:04:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.21 as permitted sender)
Received: from [206.46.173.21] (HELO vms173021pub.verizon.net) (206.46.173.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 01:04:36 +0000
MIME-version: 1.0
Content-transfer-encoding: 8BIT
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Received: from [192.168.11.4] ([unknown] [96.233.132.234])
 by vms173021.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0MEB00H76UYT6RF0@vms173021.mailsrvcs.net> for
 users@tomcat.apache.org; Fri, 30 Nov 2012 19:04:06 -0600 (CST)
Message-id: <50B95785.6050301@verizon.net>
Date: Fri, 30 Nov 2012 20:04:05 -0500
From: David Kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/17.0 Thunderbird/17.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Error page messages
References:
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615A7B@CMS1.enterprise.maricopa.gov>
 <50B92D65.8000307@pidster.com>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615AF2@CMS1.enterprise.maricopa.gov>
 <99C8B2929B39C24493377AC7A121E21FC4948CDC38@USEA-EXCH8.na.uis.unisys.com>
 <50B93688.5010002@christopherschultz.net> <50B93A46.3020000@ice-sa.com>
In-reply-to: <50B93A46.3020000@ice-sa.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 11/30/2012 5:59 PM, André Warnier wrote:
> Christopher Schultz wrote:
> ...
>>
>> I've even seen a site with a Perl-based (or was it PHP-based) service
> ..
>
> must have been PHP, not Perl, I'm sure.  We Perl guys don't do things
> that way.
> As I was telling Leo off-line, we have a nice global switch called
> "fatals_to_browser", which you can just turn on on a dev website if you
> want to see the stack traces, and turn off for a prod website where you
> don't.  So when you deliver software to customers, you turn it off, and
> it just looks a lot better.
> Not that you need the feature too often either, because Perl always
> finds a way to interpret your code so as to do something, instead of

That's really scary!


> just giving up.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 01:09:30 2012
Return-Path: <users-return-238296-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F7E8E9A0
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 01:09:30 +0000 (UTC)
Received: (qmail 4555 invoked by uid 500); 1 Dec 2012 01:09:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4509 invoked by uid 500); 1 Dec 2012 01:09:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4497 invoked by uid 99); 1 Dec 2012 01:09:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 01:09:27 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 01:09:17 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-200.messagelabs.com!1354324136!11618637!1
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 31782 invoked from network); 1 Dec 2012 01:08:56 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-4.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 1 Dec 2012 01:08:56 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 30 Nov 2012 19:08:55 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Fri, 30 Nov
 2012 19:08:55 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 30 Nov 2012 19:08:54 -0600
Subject: RE: Context Path for a subdirectory
Thread-Topic: Context Path for a subdirectory
Thread-Index: Ac3PS6A3rsTpEplZSxSpbBAkXJTAkwAAI5AAAAB0npAAAH3TgAAD+aYQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FC4948CDD46@USEA-EXCH8.na.uis.unisys.com>
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com>
 <50B90E20.2000907@tmbsw.com>
 <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com>
 <50B92DB1.3000201@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com>
 <50B9359C.8060209@christopherschultz.net>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>
 <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B45@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B45@CMS1.enterprise.maricopa.gov>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Leo Donahue - RDSA IT [mailto:LeoDonahue@mail.maricopa.gov]=20
> Subject: RE: Context Path for a subdirectory

> I considered the security constraint, but wouldn't that have required me=
=20
> to set up SSL (for a secure user/password submittal) and get someone to=20
> pay for a public certificate - which would probably not happen.

No, SSL is not required (that's called transport guarantee in the spec).  H=
owever, not using it means that the credentials could be sniffed by anyone =
with access to the wire.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 03:13:40 2012
Return-Path: <users-return-238297-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1CE74E78D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 03:13:40 +0000 (UTC)
Received: (qmail 38466 invoked by uid 500); 1 Dec 2012 03:13:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37906 invoked by uid 500); 1 Dec 2012 03:13:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37880 invoked by uid 99); 1 Dec 2012 03:13:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:13:35 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:13:29 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id W2ox1k0020vyq2s543D6oZ; Sat, 01 Dec 2012 03:13:06 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id W3D51k00S38FjT13R3D6VS; Sat, 01 Dec 2012 03:13:06 +0000
Message-ID: <50B975C1.4060805@christopherschultz.net>
Date: Fri, 30 Nov 2012 22:13:05 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354331586;
	bh=AwkYKeNzMM8aNXFuzLpuabJBykKV0DzZUZp2p7mcjUw=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=C2KYTouVFMXGsP/f3AW2SpZ5qPn/6sCW15+CCp9N9+yrzPl/5Z7xs1idQx69ToI8N
	 MRx5D3e+obzf4Pw0NQ0IyX6q+79nKlDAAgvbzgRrPQF+be5KoRceenvVUAJBLy2/xs
	 ViQWwhtn83yt1QW+Q6x/2vaqSyEbP4MiIN4Guh9andkjgp+vd+9/dEtJrdfwPUzjwQ
	 0go8RfX+8RvfPYZrKMD5t4+A/zLPEWr/jOyA6j0lXFFH+hGVfCfG32pEIh9haResm9
	 sqwKAtKj9jZBVKtHIjWZYj3U0d7OMrswykRB+6L0aBBp0/adxgNOPtXAUH5JOjhZes
	 ntfbp4VUl+Xjg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leo,

On 11/30/12 5:52 PM, Leo Donahue - RDSA IT wrote:
> Ok, so before I upgraded to Tomcat 7.0.33 to use the container 
> supplied remote address filter, what were my options to restrict 
> access to just a subdirectory of a web app in Tomcat 6.0.35?

<security-constraint> on a <web-resource-collection> with whatever
<url-pattern> you want. In web.xml. As Chuck says, restricting by IP
address requires that you step outside of the spec-compliant stuff and
either write your own Valve (counterproductive IMO), use url-rewrite
(our favorite 3rd-party tool), or write your own filter.

Please remember that you aren't protecting a directory. Ever. You are
protecting a url-pattern and nothing more. While Apache httpd allows
you to protect directories such that multiple URLs mapping to that
directory are always protected, there is no such analog in the Tomcat
world: you will always have to protect based upon URL patterns.

> I'll admit, contexts are confusing to me.

A context is a thing which has been deployed as a web application.
It's got its own web.xml (even if it doesn't actually have one: it
will get a default one), ClassLoader, etc.

> You can create contexts in conf\Catalina\localhost that map to
> places that are not even in the webapps folder, but expose
> themselves as a URL to the end user.

They don't even have to be backed by the filesystem, really. If Tomcat
allowed you to deploy WARs from a database, there really is no
filesystem at all.

A file in conf/Catalina/localhost can define a context. By default,
any .war file or directory in Tomcat's webapps/ directory will be
auto-deployed as a context as well. If you want to, you can even put a
directory in webapps/ and also create an alias to it using a file in
conf/Catalina/localhost, but it's generally not recommended because a)
that's not usually what you want to do and b) it's confusing as hell.

> My thought was if I could create a context that mapped to a 
> subdirectory, I could create a valve that restricted access to
> that URL.

There is no reason for the second context: if you have the Valve, you
can restrict it by url-pattern in the one-and-only webapp and not have
to artificially create another webapp just for that purpose.

> What is the right way to do this in Tomcat 6.0.35?

If you need IP-based authorization in Tomcat 6.0.35, I'd go for
url-rewrite. Just map /path/to/protect/* to url-rewrite and set up a
rule that says "ip != your.special.ip" -> 403.html (or whatever).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC5dcEACgkQ9CaO5/Lv0PCxngCggWcf01I3VYYHBAVfJWtszzxZ
smIAn1NBWnFodCHDAVZnpNTyxwJSAbgP
=pu3c
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 03:21:22 2012
Return-Path: <users-return-238298-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EE3BE79B
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 03:21:22 +0000 (UTC)
Received: (qmail 51850 invoked by uid 500); 1 Dec 2012 03:21:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51659 invoked by uid 500); 1 Dec 2012 03:21:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51625 invoked by uid 99); 1 Dec 2012 03:21:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:21:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:21:07 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id W3BJ1k0011ei1Bg5F3LmzB; Sat, 01 Dec 2012 03:20:46 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id W3Ll1k00L38FjT13k3LmmT; Sat, 01 Dec 2012 03:20:46 +0000
Message-ID: <50B9778D.3070307@christopherschultz.net>
Date: Fri, 30 Nov 2012 22:20:45 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov> <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354332046;
	bh=ybK1m5p7jhKDxQYxO5daHbVt0/o4IiTya7e3sY9JV04=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=fXAJgtg0aykIqYDCjuBC/O+V9bXWkKuBTMcD/WVanvCTXSvyIuPPcXcN8UEMpZP0K
	 8sJLCvSbhg0LI01HBE/rdlVeNtmzOMrWmGKgcOw1WpyBLe4Dhtz/D8VibwJ/3Oze3l
	 r8eOELhYQyT5zwzteAF7MM7O1lISzXap/nMgpmKAoZ6pCep4W1n5Rvx7l1ukHH5uOk
	 GuXvA3228ru8FQpbwrcXF/LhoNCn6SQwKwNjCUHRTNj6lXlKf1hormq+nLh27fjCqQ
	 sU+HnPbIVZODfdGAGMVfdWWo3pY8Q/4HsbhtFJoNnJPMxmRL4nMNq8V1MUXfhoONvQ
	 03r0Bl/Xzj59g==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Chuck,

On 11/30/12 6:04 PM, Caldarale, Charles R wrote:
> The SecurityFilter from sourceforge might be able to do it, but I'm
> not sure (Chris should know).

Nope, sf doesn't have IP filtering built into it.

In my private copy, it's got the ability to restrict a session to a
specific IP, but I never bothered committing that to the repo because
it seemed so trivial.

Plus, another release of sf in its current form is seriously unlikely.

I think what I might end up doing is changing the project to "security
filters" and just package a few very useful tools that can be used
together. Either that or change the project page to redirect to Spring
Security.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC5d40ACgkQ9CaO5/Lv0PBtkQCfYwUhJudfAIBm6eIX9Dv+kb8l
yvkAn22BSFNvrHBxF9/AuQJaQ4K83/bN
=NqPw
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 03:26:13 2012
Return-Path: <users-return-238299-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 72DA7D44D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 03:26:13 +0000 (UTC)
Received: (qmail 62440 invoked by uid 500); 1 Dec 2012 03:26:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62326 invoked by uid 500); 1 Dec 2012 03:26:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61853 invoked by uid 99); 1 Dec 2012 03:26:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:26:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:25:59 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id VneU1k0040SCNGk533ReKi; Sat, 01 Dec 2012 03:25:38 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id W3Rd1k00738FjT13V3ReJC; Sat, 01 Dec 2012 03:25:38 +0000
Message-ID: <50B978B1.7020600@christopherschultz.net>
Date: Fri, 30 Nov 2012 22:25:37 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov> <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B45@CMS1.enterprise.maricopa.gov> <50B944F4.8060606@ice-sa.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B65@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B65@CMS1.enterprise.maricopa.gov>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354332338;
	bh=OHl5Z4weuQzVyWW3iaD9y+BbcGB0SKY7n7FqrhotCdk=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=CjsJAkw8DZXsdGv/BuvvMLzpUiAzFZezIpoVX2CQ57Lk06AtxVgkia7YePLQnlQgm
	 lFCOstQlfxDfbmvn7Vh9AUEa7B08sP9YvPRWjZZzaRWsRk8kiLNix5E6bmkO5z2PiK
	 3B/TLdotzOu8bVQr4Pxc/xfOejJaRESVXvQ3Ddk8VuWpLEHbP8gyDVI0g0okev37O8
	 1n2mq4XNWxQ3O59BKMkQfvjh2euQMNxxRGQi6t8zOliqNUxbtcv/qE96DsTXt/nkTB
	 OxxzTsFg+8tg/GGYkftd/diwC8AYVRBhg5OjULX04yWtqJehqs8hXd3f8mDkVGTlf+
	 USPpDaeL2gdRw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leo,

On 11/30/12 7:02 PM, Leo Donahue - RDSA IT wrote:
> Any changes that I make to the rest web app are done on Server 1,
> in which I then need to generate a new rest.war file to be deployed
> on Server 4.  Anything custom that I configure for the rest webapp,
> like the filter in web.xml, I have to remember to unpack the war
> file, make edits and re-pack it, or leave it exploded.

I highly recommend that you script this. Apache ant is great for this
stuff. It's got tasks for unwarring WAR files, re-warring WAR files,
performing XSLT transformations, string-replacements, merging
directories together into archives (like WARs), etc.

It's quite easy to do this kind of stuff.

For instance, we have a Cocoon-based webapp that unpacks a pre-built
Cocoon WAR file, compiles some custom Cocoon-based components against
it, re-wires the XML-based configurations using XSLT, then re-builds
the WAR file so it's ready for deployment. Nothing to "remember"
except pushing the button.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC5eLEACgkQ9CaO5/Lv0PDIhgCgp3iiao79N9fQPgE9IAqLEFvt
1RQAnA8Al9G1NJcEXBkajijEtoIxI1cX
=GQwZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 03:28:24 2012
Return-Path: <users-return-238300-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E73F9D245
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 03:28:23 +0000 (UTC)
Received: (qmail 68368 invoked by uid 500); 1 Dec 2012 03:28:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68305 invoked by uid 500); 1 Dec 2012 03:28:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68288 invoked by uid 99); 1 Dec 2012 03:28:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:28:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.212] (HELO qmta14.westchester.pa.mail.comcast.net) (76.96.59.212)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 03:28:11 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta14.westchester.pa.mail.comcast.net with comcast
	id W3SQ1k00117dt5G5E3TqPc; Sat, 01 Dec 2012 03:27:50 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id W3To1k00C38FjT13Z3TpsS; Sat, 01 Dec 2012 03:27:50 +0000
Message-ID: <50B97934.8060701@christopherschultz.net>
Date: Fri, 30 Nov 2012 22:27:48 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov> <99C8B2929B39C24493377AC7A121E21FC4948CDCAE@USEA-EXCH8.na.uis.unisys.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B45@CMS1.enterprise.maricopa.gov> <50B944F4.8060606@ice-sa.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B65@CMS1.enterprise.maricopa.gov> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B68@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FD615B68@CMS1.enterprise.maricopa.gov>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354332470;
	bh=5HonYu9TPVi7PB5dWVXmJRq12DFi8Q1jPpRWISSjFVk=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=NdKWBrF6BuOZYhPdyilUMaOdI973OVhLaEyBLveZbzDAB7g5y5yE3dT2oFLfVHZ/C
	 gew1HJqnj0L4+3GnPx7JqrG+UOenykmDhcLcn4b5vXQYua41yhZW9mGtTx0feO5Mtc
	 QkL+hum0vZCd1NLm4KkciDqVfwhMIVBAj9RmaVsdX3w6uinlw0CO/3m7XQC10pxqLt
	 Z4jl7SH/9CkWG/DFFEFWCrD+8+1uEOkUhM1aA9xVq/XHhsqDkDda1TdS4XaxBmRkzB
	 RNY3+nMrjaqLqfRCzuQj8f7WUjqIi7lGXWX+vUB8hmccDULRGnv9T42IOHyEaXjYkm
	 FMgUez3WIZN4w==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leo,

On 11/30/12 7:07 PM, Leo Donahue - RDSA IT wrote:
>> -----Original Message----- From: Leo Donahue - RDSA IT
>> [mailto:LeoDonahue@mail.maricopa.gov] Sent: Friday, November 30,
>> 2012 5:02 PM To: Tomcat Users List Subject: RE: Context Path for
>> a subdirectory
>> 
>> 
>> The way the Server 1 is configured, there are accounts that the
>> rest/admin web app will take which let you do things like
>> shutdown the services and other stuff, if you were able to brute
>> force the rest/admin username/password.
>> 
> 
> That would only do you any good if you knew the internal server
> name. But I have to protect from internal threats as well, right?

Now, you're thinking properly ;)

Just remember that you asked to be able to restrict by IP address.
Well, an internal threat might be able to come from that IP address,
so you might want credentials that can be relatively quickly revoked.
I suppose you could change the IP whitelist, but then maybe you'll
have to figure out what the new blessed IP will be...

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC5eTQACgkQ9CaO5/Lv0PB6PwCdHxGgWyhTjvxfq/sUuelnXI2I
2CUAn2XccinoszoRrw6H52zgZj73WyB3
=XjhS
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 04:02:25 2012
Return-Path: <users-return-238301-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 297D1D838
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 04:02:25 +0000 (UTC)
Received: (qmail 25646 invoked by uid 500); 1 Dec 2012 04:02:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25446 invoked by uid 500); 1 Dec 2012 04:02:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24988 invoked by uid 99); 1 Dec 2012 04:02:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 04:02:18 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 04:02:09 +0000
Received: from [127.0.0.1] (adsl-208-191-157-48.dsl.hstntx.swbell.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id B78E92016B
	for <users@tomcat.apache.org>; Fri, 30 Nov 2012 22:01:48 -0600 (CST)
Message-ID: <50B9814E.7060203@tmbsw.com>
Date: Fri, 30 Nov 2012 22:02:22 -0600
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 11/30/2012 2:00 PM, Caldarale, Charles R wrote:
>> From: Terence M. Bandoian [mailto:terence@tmbsw.com]
>> Subject: Context Path for a subdirectory
>>> A webapp can never be nested inside another, so what you're trying
>>> to do is nonsensical.
>> I don't mean to be argumentative but, with Tomcat 6.0.29, I found that
>> static files from an images subdirectory of a web application were not
>> cached by Internet Explorer 7.  As a workaround, I created a context for
>> the images subdirectory and left it nested in the web application.  The
>> files from that directory were then cached by IE7.  The difference was
>> that the following response headers were included when there was no
>> separate context defined for the subdirectory:
>> Pragma: No-cache
>> Cache-Control: no-cache
>> Expires: Wed, 31 Dec 1969 18:00:00 CST
>> I realize this is a non-standard configuration but it worked with 6.0.29
>> and 6.0.35.
> It may accidentally work in some versions, but it is in no way a supported configuration.
>
> I think the effort would be better spent in figuring out how to control the headers properly rather than inventing something that is known to be contrary to the spec.
>
>   - Chuck

Hi, Chuck-

As I mentioned, I realize this is a non-standard configuration. Also, 
this was a fairly simple, but probably fairly common, use case:

- single web application
- static files in subdirectories to be delivered by Tomcat (no HTTPD 
front end)

I experimented with deploying the subdirectories as separate, un-nested 
applications but that only added complexity with no real benefit so I 
opted for the simpler solution.  Given more time, I might have tracked 
down the reason for the no-cache headers - which I did attempt to do - 
but this worked reliably.  And I'm not sure it's technically contrary to 
the spec.  It certainly didn't violate anything I read in the Tomcat 
configuration reference.  In fact, as previously mentioned in another 
post, the documentation [1] states:

"The web application used to process each HTTP request is selected by 
Catalina based on matching the longest possible prefix of the Request 
URI against the context path of each defined Context."

I didn't see any mention of restrictions on the locations of context roots.

-Terence Bandoian

1. http://tomcat.apache.org/tomcat-6.0-doc/config/context.html#Introduction


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 10:47:54 2012
Return-Path: <users-return-238302-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C958E798
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 10:47:54 +0000 (UTC)
Received: (qmail 54953 invoked by uid 500); 1 Dec 2012 10:47:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54791 invoked by uid 500); 1 Dec 2012 10:47:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54744 invoked by uid 99); 1 Dec 2012 10:47:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 10:47:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 10:47:39 +0000
Received: from [192.168.245.129] (p549E1F12.dip0.t-ipconnect.de [84.158.31.18])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id B1C7E3C0A9A
	for <users@tomcat.apache.org>; Sat,  1 Dec 2012 11:48:03 +0100 (CET)
Message-ID: <50B9E030.7070600@ice-sa.com>
Date: Sat, 01 Dec 2012 11:47:12 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: aw@ice-sa.com
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Error page messages
References: <D72C174D3CAC0A4E812FAD012D646E9F24FD615A7B@CMS1.enterprise.maricopa.gov> <50B92D65.8000307@pidster.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615AF2@CMS1.enterprise.maricopa.gov> <99C8B2929B39C24493377AC7A121E21FC4948CDC38@USEA-EXCH8.na.uis.unisys.com> <50B93688.5010002@christopherschultz.net> <50B93A46.3020000@ice-sa.com> <50B95785.6050301@verizon.net>
In-Reply-To: <50B95785.6050301@verizon.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

David Kerber wrote:
> On 11/30/2012 5:59 PM, André Warnier wrote:
>> Christopher Schultz wrote:
>> ...
>>>
>>> I've even seen a site with a Perl-based (or was it PHP-based) service
>> ..
>>
>> must have been PHP, not Perl, I'm sure.  We Perl guys don't do things
>> that way.
>> As I was telling Leo off-line, we have a nice global switch called
>> "fatals_to_browser", which you can just turn on on a dev website if you
>> want to see the stack traces, and turn off for a prod website where you
>> don't.  So when you deliver software to customers, you turn it off, and
>> it just looks a lot better.
>> Not that you need the feature too often either, because Perl always
>> finds a way to interpret your code so as to do something, instead of
> 
> That's really scary!
> 
> 
>> just giving up.
> 

It was meant to be, how do you say this, "tongue in cheek" ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 12:12:03 2012
Return-Path: <users-return-238303-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 42110D941
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 12:12:03 +0000 (UTC)
Received: (qmail 3967 invoked by uid 500); 1 Dec 2012 12:11:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3853 invoked by uid 500); 1 Dec 2012 12:11:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3812 invoked by uid 99); 1 Dec 2012 12:11:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 12:11:58 +0000
X-ASF-Spam-Status: No, hits=0.3 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of paul.van.hoven@googlemail.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ea0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 12:11:52 +0000
Received: by mail-ea0-f173.google.com with SMTP id i13so685694eaa.18
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 04:11:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=hAm7e6Bib5lDKPXO72FN+HPKKV9eItiegZd/BX/6cc4=;
        b=WQhGzuXBBdIovhtiUVJJWmaQULdstUD2+B4bOqyy8x3szW3G0ZFrNgs0EaClR0oBge
         1FrqZkb17GgKj7o7cvcXdeHeaCbX07iIbwDcAJ8IvFg2AKh2C9VnMb4rMjf2P2AgmIQf
         S1AQPwOiXECrmR9icfT2INSqud2v6xgdGWKnlbbFYhpvCGHMWHg11sms/AFf+w0xb+Yl
         +dDJInQAVBABgDQLYLxbBrzh3ltYcaj/iq+T+z7Vu5gwPuc/r2O1tvKp8iKDxAFHossT
         V68GJgzz/i6ollpAZq8/fMhqOf/URAQbzjZLK0fuouwyhmiuj9U8Ao8Z9GdxvQSVCy9F
         b58g==
MIME-Version: 1.0
Received: by 10.14.175.133 with SMTP id z5mr15523730eel.15.1354363892287; Sat,
 01 Dec 2012 04:11:32 -0800 (PST)
Received: by 10.223.165.196 with HTTP; Sat, 1 Dec 2012 04:11:32 -0800 (PST)
In-Reply-To: <CACmC4yDhUu=Bt4AzFbQy38vrHuHSscbOg6MSBHk9w-NSqj-d9w@mail.gmail.com>
References: <CANqzD4MWWvAtRE6LZ+7hobXXnQL+Lrhz=oeRpEPd7tEa8nAZ_g@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FC48F48FF6D@USEA-EXCH8.na.uis.unisys.com>
	<CANqzD4P=e+3oQ=rY4WFS=3GFu80yCxuohuK+T3fQE2mzZj1GSg@mail.gmail.com>
	<7215BA462D00D343B2837F9113F0131F01277F6FC1@POSTOFFICE02.polydyne.com>
	<CANqzD4Pi=5_dipq64sK1Pb09oLjNZmV9bTGOXpYTq8wvAqe_+A@mail.gmail.com>
	<7215BA462D00D343B2837F9113F0131F01277F7501@POSTOFFICE02.polydyne.com>
	<50B8CC92.5080008@ice-sa.com>
	<50B92A34.3000302@christopherschultz.net>
	<CACmC4yAA8uwGZsiuKmU6YYgiG9X+Yi=5wLCmHiAw9sjVvtJD_g@mail.gmail.com>
	<50B92F6B.60006@christopherschultz.net>
	<CACmC4yDhUu=Bt4AzFbQy38vrHuHSscbOg6MSBHk9w-NSqj-d9w@mail.gmail.com>
Date: Sat, 1 Dec 2012 13:11:32 +0100
Message-ID: <CANqzD4NaTnvbGKq490Bd2iqWrrYCsiWXrv9i92Ok0oXznJc5rA@mail.gmail.com>
Subject: Re: Tomcat with multiple domains
From: Paul van Hoven <paul.van.hoven@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you guys for your great help. It was indeed an error in the xml
that I entered in the server.xml file. I put something like this:

<Server port="8005" shutdown="SHUTDOWN">
...
<Service name="Catalina">
...
<Engine name="Catalina" defaultHost="localhost">
<Host name="localhost"  appBase="webapps"
            unpackWARs="true" autoDeploy="true">
<Host name="www.my2nddomain.com"
appBase="/opt/apache-tomcat-7.0.32/my2nddomain" unpackWARs="true"
autoDeploy="true" xmlValidation="false" xmlNamespaceAware="false">
        </Host>
   </Host>
</Engine>
  </Service>
</Server>

Notice that I nested the virtual host definition within the host
definition tags of the default host. So, therefore it did not work and
I didn't see it.

Okay now it works perfectly fine. Again, thanks for your fantastic support!

2012/11/30 Hassan Schroeder <hassan.schroeder@gmail.com>:
> On Fri, Nov 30, 2012 at 2:12 PM, Christopher Schultz
> <chris@christopherschultz.net> wrote:
>
>> OP never posted the whole XML, so we don't know that it's definitely
>> not well-formed.
>
> Good point -- should have asked for the whole file before jumping to
> that conclusion. But it certainly looked sketchy :-)
>
> --
> Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
> http://about.me/hassanschroeder
> twitter: @hassan
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 13:06:02 2012
Return-Path: <users-return-238304-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70C5CE5CD
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 13:06:02 +0000 (UTC)
Received: (qmail 4996 invoked by uid 500); 1 Dec 2012 13:05:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4571 invoked by uid 500); 1 Dec 2012 13:05:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3765 invoked by uid 99); 1 Dec 2012 13:05:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 13:05:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 13:05:46 +0000
Received: from [192.168.245.129] (p549E1FF3.dip0.t-ipconnect.de [84.158.31.243])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id E428D3C063B
	for <users@tomcat.apache.org>; Sat,  1 Dec 2012 14:06:10 +0100 (CET)
Message-ID: <50BA008F.9010707@ice-sa.com>
Date: Sat, 01 Dec 2012 14:05:19 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat with multiple domains
References: <CANqzD4MWWvAtRE6LZ+7hobXXnQL+Lrhz=oeRpEPd7tEa8nAZ_g@mail.gmail.com>	<99C8B2929B39C24493377AC7A121E21FC48F48FF6D@USEA-EXCH8.na.uis.unisys.com>	<CANqzD4P=e+3oQ=rY4WFS=3GFu80yCxuohuK+T3fQE2mzZj1GSg@mail.gmail.com>	<7215BA462D00D343B2837F9113F0131F01277F6FC1@POSTOFFICE02.polydyne.com>	<CANqzD4Pi=5_dipq64sK1Pb09oLjNZmV9bTGOXpYTq8wvAqe_+A@mail.gmail.com>	<7215BA462D00D343B2837F9113F0131F01277F7501@POSTOFFICE02.polydyne.com>	<50B8CC92.5080008@ice-sa.com>	<50B92A34.3000302@christopherschultz.net>	<CACmC4yAA8uwGZsiuKmU6YYgiG9X+Yi=5wLCmHiAw9sjVvtJD_g@mail.gmail.com>	<50B92F6B.60006@christopherschultz.net>	<CACmC4yDhUu=Bt4AzFbQy38vrHuHSscbOg6MSBHk9w-NSqj-d9w@mail.gmail.com> <CANqzD4NaTnvbGKq490Bd2iqWrrYCsiWXrv9i92Ok0oXznJc5rA@mail.gmail.com>
In-Reply-To: <CANqzD4NaTnvbGKq490Bd2iqWrrYCsiWXrv9i92Ok0oXznJc5rA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Paul, you shouldn't top-post.  It makes it hard to follow the logical gist of the 
conversation.

> 
> 2012/11/30 Hassan Schroeder <hassan.schroeder@gmail.com>:
>> On Fri, Nov 30, 2012 at 2:12 PM, Christopher Schultz
>> <chris@christopherschultz.net> wrote:
>>
>>> OP never posted the whole XML, so we don't know that it's definitely
>>> not well-formed.
>> Good point -- should have asked for the whole file before jumping to
>> that conclusion. But it certainly looked sketchy :-)
>>
>> --
Paul van Hoven wrote:
 > Thank you guys for your great help. It was indeed an error in the xml
 > that I entered in the server.xml file. I put something like this:
 >
 > <Server port="8005" shutdown="SHUTDOWN">
 > ...
 > <Service name="Catalina">
 > ...
 > <Engine name="Catalina" defaultHost="localhost">
 > <Host name="localhost"  appBase="webapps"
 >             unpackWARs="true" autoDeploy="true">
 > <Host name="www.my2nddomain.com"
 > appBase="/opt/apache-tomcat-7.0.32/my2nddomain" unpackWARs="true"
 > autoDeploy="true" xmlValidation="false" xmlNamespaceAware="false">
 >         </Host>
 >    </Host>
 > </Engine>
 >   </Service>
 > </Server>
 >
 > Notice that I nested the virtual host definition within the host
 > definition tags of the default host. So, therefore it did not work and
 > I didn't see it.
 >
 > Okay now it works perfectly fine. Again, thanks for your fantastic support!

So, taking into account Christoper's detailed explanation of why Tomcat would not detect 
this as an error in server.xml, we are still left with something strange here.

Assuming that Paul previously reported the result correctly (he requested a URL mapping to 
the first host, and got a response from an app of the second Host instead), that would 
mean that in the process of parsing the above, Tomcat somehow overwrote the appBase of the 
first <Host> tag, with the appBase of the second <Host> tag, no ?



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 13:16:48 2012
Return-Path: <users-return-238305-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55C03E5E9
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 13:16:48 +0000 (UTC)
Received: (qmail 28823 invoked by uid 500); 1 Dec 2012 13:16:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28623 invoked by uid 500); 1 Dec 2012 13:16:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28595 invoked by uid 99); 1 Dec 2012 13:16:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 13:16:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jost.boekemeier@gmail.com designates 209.85.212.173 as permitted sender)
Received: from [209.85.212.173] (HELO mail-wi0-f173.google.com) (209.85.212.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 13:16:36 +0000
Received: by mail-wi0-f173.google.com with SMTP id hn17so198939wib.0
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 05:16:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=ZZ3eSnW6tBY+fSsFGC1HtmnYSC+9pKv6j1SkX2lQHt4=;
        b=Hk2Gxr/XHpFwxURoieZz2t1NZme7pyHqyIFZj56WusYaAh/2kjMir9u9ilOrODIhU/
         TGpcfDLmcpU7Et0rfop5taOdt7B6yD4swNFBc7SJuNDaO9VlhmvxrnehQFx9IxdFSrSu
         n0a8duuaTf3ymHoRURuWsBHpJEw4dvphou0lYWUdEJd5TwN3RATO8+TbgQ/rx5UlNl/8
         GeHjc/+r0iaEXSn7zVkz3SDDjq0Y3z+qbHvDds2xqu4PWs69FtrzcIjmH9IUd3hhAw1o
         uQWyTUZqHsvmUdIb4ayHQGg6T4GETsIfiokJygYDd7+ZaUyOWjl5VOUyxAYgoyptDhB6
         q4uA==
MIME-Version: 1.0
Received: by 10.180.103.106 with SMTP id fv10mr2095187wib.19.1354367775588;
 Sat, 01 Dec 2012 05:16:15 -0800 (PST)
Received: by 10.194.110.137 with HTTP; Sat, 1 Dec 2012 05:16:15 -0800 (PST)
Date: Sat, 1 Dec 2012 14:16:15 +0100
Message-ID: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com>
Subject: tomcat 7 udp connector
From: Jost Boekemeier <jost.boekemeier@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d0443049c28c25e04cfca52f9
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0443049c28c25e04cfca52f9
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hello,

I am developing a JEE web application which has to handle HTTP, TCP and UDP
connections.

Can Tomcat >=3D 7 handle raw TCP and UDP connections? Are there extensions
(connectors?) available which can handle them?

*I am aware of mina.apache.org, and I can write my own socket server, so
please don't point me to these solutions. The requirement is a JEE (Tomcat)
web app.*


I think persistent TCP connections should easy to implement. But what about
UDP?


Any pointers welcome.


Regards,
Jost B=C3=B6kemeier

--f46d0443049c28c25e04cfca52f9--

From users-return-238306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 17:23:20 2012
Return-Path: <users-return-238306-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55486D9D4
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 17:23:20 +0000 (UTC)
Received: (qmail 15536 invoked by uid 500); 1 Dec 2012 17:23:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15316 invoked by uid 500); 1 Dec 2012 17:23:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15288 invoked by uid 99); 1 Dec 2012 17:23:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 17:23:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.213.165] (HELO nm20-vm0.bullet.mail.bf1.yahoo.com) (98.139.213.165)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 17:23:05 +0000
Received: from [98.139.215.143] by nm20.bullet.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 17:22:44 -0000
Received: from [98.139.213.11] by tm14.bullet.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 17:22:44 -0000
Received: from [127.0.0.1] by smtp111.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 17:22:44 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354382564; bh=buseTXAfTvZYVbRp7OPLtriI2hOspLHWfFMzsJe92P4=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=GnPPffqnMdcxy5ManQyLtP6LYGXQ/T/5iAUbCrtnB7uALnOD2t89FPC/oLwJup/XHjzKy+Bu+PZAZTXtNJ7OmfLXuz0CnSNaSxqFq0Qc3h1Fn1hqZqjs8M+2XSUC4ERpVinaXZpmXetDyyTzRoyzrzG/KixhlaVYkk1MlWJr07A=
X-Yahoo-Newman-Id: 244563.7036.bm@smtp111.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: sJbHqz4VM1koRjP5ZHbQjL.OBy83J4VUHGtfjSecBr0kwZ3
 bBc03x6tkfC0fKaLiGUYY83AbaK52UzO.IoeLdwzI2qnxykhWd8p_PkJ8Ofr
 Vg90FLIc8N48EniIldA40VSWJ4Mzx57s6EqFYO08.YMHtEne0cN7LSVxFN_v
 a.Iwt74xKxnBY5ppNLEsCivcR8CptDP1I0JzOAajRA2t_d6Qw3MVHdiVkRkg
 w9YCnFb0YvTYA1fZxOnuJ4bLqFm7C1MMTuaVWtJzTXl8Bo_I3UlSbd9_8bc2
 AOGjgd56K...HWW9dSi39zYpgqzQC6eRDnOT74SjTQOPTgQYi95X5Jn3Zg3n
 HE52IzHcD7RrwEUhRuFhA.HAS5OI8gJ18pKnOjKFayTFuwS6Xp2DqSeNI1YM
 ib3HQ7DWN6XD45zqfiAOYdHPGd8PTWGYlztunkuwwe3KUc72ofQpszJi1rs5
 jlsAhmwEI.IdiB.pMcj_LvLwjjjh65Mic9Vjh8NHhdDhtjJcUcR4LtcYiRv2
 a9xI1N0ge2k0h
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@71.129.34.235 with plain)
        by smtp111.mail.bf1.yahoo.com with SMTP; 01 Dec 2012 09:22:44 -0800 PST
Message-ID: <50BA3CC8.9010902@yahoo.com>
Date: Sat, 01 Dec 2012 09:22:16 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com>
In-Reply-To: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/1/2012 5:16 AM, Jost Boekemeier wrote:
> Hello,
>
> I am developing a JEE web application which has to handle HTTP, TCP
> and UDP connections.
>
> Can Tomcat >= 7 handle raw TCP and UDP connections? Are there
> extensions (connectors?) available which can handle them?
>
> *I am aware of mina.apache.org, and I can write my own socket server,
> so please don't point me to these solutions. The requirement is a JEE
> (Tomcat) web app.*
>
>
> I think persistent TCP connections should easy to implement. But what
> about UDP?
>
>
> Any pointers welcome.
>
>
> Regards, Jost BÃ¶kemeier
>

Jost,

I wrote up a nice analysis of how you can accomplish your goals. Then I 
read the following lines:

 > *I am aware of mina.apache.org, and I can write my own socket server,
 > so please don't point me to these solutions. The requirement is a JEE
 > (Tomcat) web app.*

I glanced at the Tomcat code, and it seems to be built in complete 
protocol stacks (HTTP, AJP, clustering). So without major Tomcat surgery 
I don't think so.

I was thinking of a command and control application along with a 
stand-alone server, much like Derby has:

http://db.apache.org/derby/docs/10.1/adminguide/cadminservlet98430.html

However, the above constraint eliminates that approach.

There are some really interesting hackish ways to approach this (JNDI 
beans for clients, ServletContextListener to start servers), but that's 
far off the beaten path.

Maybe if you stepped back and wrote what you're trying to accomplish 
people can suggest some approaches.

All of that is probably quite a bit off-topic from the mailing list.

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 20:43:27 2012
Return-Path: <users-return-238307-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 73685D2F2
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 20:43:27 +0000 (UTC)
Received: (qmail 99442 invoked by uid 500); 1 Dec 2012 20:43:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99385 invoked by uid 500); 1 Dec 2012 20:43:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99373 invoked by uid 99); 1 Dec 2012 20:43:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 20:43:23 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 20:43:17 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so700820wgb.0
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 12:42:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=Zu0MMkJeV1N8aMc+QkoH00kjdHMvQth/ZOjn06xtTNE=;
        b=sMECdFfa6eQ6LLi3L75MlmOaUZJ0d53SLRxz+fJtwJO+1G00Wgw8zDja8zEM8RwML5
         v9jHgGenSNiRl2JMmOri+sJtAOxBMsGyc2v2loWV0PMvRxQJcT7z/r10uzf40kjxA42P
         4+xlWTAdl4gNLuquUS4teBFQmaRrWoRidMH4I=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=Zu0MMkJeV1N8aMc+QkoH00kjdHMvQth/ZOjn06xtTNE=;
        b=CbEnHMdsbEz23sopaS/a80G34ndVvmFgQNRXbE5J1KEGwRcjiuSBMoOw6Xxvv5dyBP
         7iff0Kbke6andZOvtsxRQ/vA6Y0WzxB6vYGauMlep4TB6ruj8Tv2ubmOgUklwFphXUOO
         VA90uqszyjvr+Ud0lmI+bukJct+S1ZjTLH8MGtrVvccQBf8Tt4ilK81bVa0GcBKy3cEt
         yUy59WKtdCmpYnwTp6XGbnICvUxDPJ+ULjW6Pc54Wip66ZwNy22esuFRMbZfHxVloxlv
         OxsQ/oQh0WVrVBUpu9UiR4k4dyeLwJvZjBwYqkkjreX535PjVTh2FIGIecJY2iR6MhTX
         7N9A==
Received: by 10.216.29.211 with SMTP id i61mr1773451wea.175.1354394575487;
        Sat, 01 Dec 2012 12:42:55 -0800 (PST)
Received: from sw-vmw-mbp.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id d9sm4579255wiw.0.2012.12.01.12.42.53
        (version=SSLv3 cipher=OTHER);
        Sat, 01 Dec 2012 12:42:54 -0800 (PST)
Message-ID: <50BA6BCF.5090403@pidster.com>
Date: Sat, 01 Dec 2012 20:42:55 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Error page messages
References: <D72C174D3CAC0A4E812FAD012D646E9F24FD615A7B@CMS1.enterprise.maricopa.gov> <50B92D65.8000307@pidster.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615AF2@CMS1.enterprise.maricopa.gov> <50B92F84.6000101@pidster.com> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B05@CMS1.enterprise.maricopa.gov> <50B93619.9080204@christopherschultz.net>
In-Reply-To: <50B93619.9080204@christopherschultz.net>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig48DB2A6D7CB2B766B6A83CF5"
X-Gm-Message-State: ALoCoQmN66uKjRcL8tgw9JoDn92cHP3/WRXhY/kfjHNy/QKTgs5aYIONzvmsf7Ycq5mrGTEmeRH3
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig48DB2A6D7CB2B766B6A83CF5
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 30/11/2012 22:41, Christopher Schultz wrote:
> Leo,
>=20
> On 11/30/12 5:29 PM, Leo Donahue - RDSA IT wrote:
>> http://tinyurl.com/bvl2gko
>=20
> I was almost hoping for a rickroll.
>=20
> Hasn't happened to me for a loooong time.

I was clicking the link and steeling myself for something louad & hard
to explain...


p


--=20

[key:62590808]


--------------enig48DB2A6D7CB2B766B6A83CF5
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQumvPAAoJEGoM2OGpOvr9KwMQAK0//T3rJx8V9w+uHZTrjCVq
FBRUqVHejeGne1jFypwpEvwqGv/RO1TABgKCvwlMcUKJ5P1HsNpJnTbwTM+S+dvd
KDi/gRggc+18cRbD+whOA/Hs7D0WcZBT7RnKp+0WK8fMQaOfCJ8GWk+9RYcYCiGf
yb9jmWHbrdQxWiZAOgHvbd8/ONI8HZQaQj0l5zw0q/H38G3tNdw4uN9BjxKs6Le4
AerribncfKEo0/049S5yNpoVd76gG3+uaDUC/SmKzzDRS056l4uMaOysEM6zoysH
wjkQMErjQK0gI1pBdB6cvGSEUpK/7jykoP5I9sA6Zx5cY/kguuf8NFbDime/mwoO
S61/A5X47kSC3E2igKYaaCufPrAHISpf610tmpo+ahqMG1OPVWGT3RsGTUDhJcbL
O9mE/mLJqcXs7L0QQuc14yUSx3z1O5yNoyIDPROWhbJ8VO9kkjD8LojzW7N2di9H
5UQMdodksC8ROIXyiie1r4pr62ChpHOmK5IWLCEs9qkBjU9DtjXRhXq/TCnsqkZg
WrK5J8uEXk2XSRvKVK7wn/wBH2zm+e8cqwpPT44u9APYFdIRS9kgFaXvOVpH7NGR
R5V3xq1ObpFx2CnEMQgdC0miMq1tpG7DcNrob46iyu+Oo+eB8T54L2/4h1+HvEQf
/dsFiR6NCkWBS1GBVssf
=Z6bi
-----END PGP SIGNATURE-----

--------------enig48DB2A6D7CB2B766B6A83CF5--

From users-return-238308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 20:50:53 2012
Return-Path: <users-return-238308-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21150D306
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 20:50:53 +0000 (UTC)
Received: (qmail 14208 invoked by uid 500); 1 Dec 2012 20:50:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14022 invoked by uid 500); 1 Dec 2012 20:50:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14009 invoked by uid 99); 1 Dec 2012 20:50:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 20:50:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.179 as permitted sender)
Received: from [209.85.212.179] (HELO mail-wi0-f179.google.com) (209.85.212.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 20:50:42 +0000
Received: by mail-wi0-f179.google.com with SMTP id o1so299363wic.0
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 12:50:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=UHhPFstP1qKi7skWfeEOpTIwEqrRxc8drYYH/ikm3ms=;
        b=q+Dg24WRbZNuctyuRmp8pJLwB4jxBNGp+VNcd+FYT+7QWv/amtfsXPckoUtpDUxvbt
         LYsN3CjhOfLxt33Kd6ViIrvyYmIU/Hcvh2SO2iyGFd1MvHOoslXhIT25YoaiPDH8Tora
         zMBvw3gpoNvZYcNYCq0ItjP1EzWol7qw5TSgI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=UHhPFstP1qKi7skWfeEOpTIwEqrRxc8drYYH/ikm3ms=;
        b=K5V6nV6cxOTDB3pueJz8yIbWwwPrF7ioTaPCKH1lMlLYsRzoRTkfxLxTtb57QKJIcp
         BOzaIvSVrbWmY2tZRGPzFFGmGFPlWnAsTYRViPaHtpRfiYxjvFkObpO8P9+89dMaCcxn
         Tmxa+qDVxaiiqQxsD6+2opDS4gYJOdX8+ydLoGpT6dcceNKzBZJ5C6q1zA5jiKf/BP3C
         OFgN0UWHcFvrXIP9Jqe9ujQrcUFVUodEpwCCNtVLusUjSWTGY+OKasK4k6rsCsTIKAJG
         MTCiYQn13wWZ8Z6dCHcMjcKwt71KTwAEGC6DrYK0P7ltb8htVOQe3HasrPKXMTkjtazl
         WcDw==
Received: by 10.180.20.109 with SMTP id m13mr3184155wie.16.1354395021401;
        Sat, 01 Dec 2012 12:50:21 -0800 (PST)
Received: from sw-vmw-mbp.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id fv2sm4430341wib.4.2012.12.01.12.50.19
        (version=SSLv3 cipher=OTHER);
        Sat, 01 Dec 2012 12:50:20 -0800 (PST)
Message-ID: <50BA6D8D.5030005@pidster.com>
Date: Sat, 01 Dec 2012 20:50:21 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com>
In-Reply-To: <50BA3CC8.9010902@yahoo.com>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigEADBA3674532E3F60C87CD84"
X-Gm-Message-State: ALoCoQmy8EJvIVYnnrKiS/UavB4ZEe+x1pVbfQzRuE+OhCXexXP8txo0R86s+bQg0v+OTJ9q9dq/
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigEADBA3674532E3F60C87CD84
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 01/12/2012 17:22, Mark Eggers wrote:
> On 12/1/2012 5:16 AM, Jost Boekemeier wrote:
>> Hello,
>>
>> I am developing a JEE web application which has to handle HTTP, TCP
>> and UDP connections.
>>
>> Can Tomcat >=3D 7 handle raw TCP and UDP connections? Are there
>> extensions (connectors?) available which can handle them?
>>
>> *I am aware of mina.apache.org, and I can write my own socket server,
>> so please don't point me to these solutions. The requirement is a JEE
>> (Tomcat) web app.*
>>
>>
>> I think persistent TCP connections should easy to implement. But what
>> about UDP?
>>
>>
>> Any pointers welcome.
>>
>>
>> Regards, Jost B=C3=B6kemeier
>>
>=20
> Jost,
>=20
> I wrote up a nice analysis of how you can accomplish your goals. Then I=

> read the following lines:
>=20
>> *I am aware of mina.apache.org, and I can write my own socket server,
>> so please don't point me to these solutions. The requirement is a JEE
>> (Tomcat) web app.*
>=20
> I glanced at the Tomcat code, and it seems to be built in complete
> protocol stacks (HTTP, AJP, clustering). So without major Tomcat surger=
y
> I don't think so.
>=20
> I was thinking of a command and control application along with a
> stand-alone server, much like Derby has:
>=20
> http://db.apache.org/derby/docs/10.1/adminguide/cadminservlet98430.html=

>=20
> However, the above constraint eliminates that approach.
>=20
> There are some really interesting hackish ways to approach this (JNDI
> beans for clients, ServletContextListener to start servers), but that's=

> far off the beaten path.
>=20
> Maybe if you stepped back and wrote what you're trying to accomplish
> people can suggest some approaches.
>=20
> All of that is probably quite a bit off-topic from the mailing list.

Well, that saves me some work.

I'll just add the following: it's really important to comprehend that
Tomcat is a Servlet Container and by extension, to understand what a
Servlet Container is.

Reading an appropriate version of the Servlet Specification is therefore
a good idea.


p




--=20

[key:62590808]


--------------enigEADBA3674532E3F60C87CD84
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQum2NAAoJEGoM2OGpOvr9DXsQAKnvv5tXgkYY2HaGJ7Df1k1q
CkKcgy2dYyiehJ6SrWM80lvHIKJjx1tUlfUwqJFyi4hcqymboFYuNaKvH89Dx/uz
SAe3HZNeLlvX4olNHaCS5pT4GajeIvUmheR7nBH9B7ACpvZkj02caN0N0t6awF0x
k/euY0dUHtRaxGzSndAZ2wR3eqAIV3f0qK6MHa+74FXZh+/C+DtjYXfFA6mmlJZU
BzFdxmCGQyAcxKSBE1nnQWzMRkTQGZ/eKNjwenNBE/2D+uldscvgGeuGfrC+WUmj
TYGEoagdzwjGZDjzFjgk0rg2y5J3d57B/K8nW9cM9hZwL/U2MuBsq6vrNPANRRLs
GpSf49gzhdd1Do9YPkMY91x3qc7Iojieq3I/mk6KQjqFQSDk2x7g3kJnO45uq3pT
/R921xmwTu+LCYphdiZzoqM5Au8E+LEkjLWFKjYQVRB7Njr7t46Lf9atVJp4554O
hfs/BpcWwfyQ532YqR5jRLGb4k0hbAkEavavSijC0buQzD6CY91mzElp7zPyVhUH
xankYoijpdsgGCiNDGrIExay9Pj18u7VylXl7c+eGMrqeLdPy3fzKiBaYDBtTtNF
Bdw+woRAA18OvFFYJDCEoIvXNfNPt7iigyZPJz1qJdjcB52pPQnGpSt11WXMKz61
6lVxJCpoSad/2ww3ZnpS
=3PUE
-----END PGP SIGNATURE-----

--------------enigEADBA3674532E3F60C87CD84--

From users-return-238309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 21:15:53 2012
Return-Path: <users-return-238309-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3254DD3EC
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 21:15:53 +0000 (UTC)
Received: (qmail 68332 invoked by uid 500); 1 Dec 2012 21:15:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68279 invoked by uid 500); 1 Dec 2012 21:15:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68270 invoked by uid 99); 1 Dec 2012 21:15:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 21:15:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jost.boekemeier@gmail.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 21:15:44 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so708439wgb.0
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 13:15:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pmCrG4x6SuzOisBv7ijp2ZcPZbwS38p2DWb/SmaxMQU=;
        b=GDvHq+5ueJG9XOMkKKix21vHlsr8XDAg2x+8eKiNyo26U+S9oil+mjzIsKBMPMwRJr
         QaUwKDB8nW1xzdPi89Elg6KtGK3zUCNgo0BbZnzxMuKMFt7uHdUTWTGVevh86oSRdmEA
         N3WPVGzVqXWkfxsXiXoRR688W3KxBBAmq0UIW5xZ+dJ9xlnHyqSEqPfW4yTjIf6JYWj1
         nKSvlw5kDDljpInsZfm+6fSziWMkFiCdAIqrUS0p2O7jCRBd9utkK2FzBSryBp+dSe0H
         7ZaIuXyIetOrKldfeE5Rq6d6ILzBOiMrRRsRwljpo86Cz6mQAjBFGfhVbPC8f5dU2QaB
         2spA==
MIME-Version: 1.0
Received: by 10.180.92.132 with SMTP id cm4mr3248336wib.12.1354396523071; Sat,
 01 Dec 2012 13:15:23 -0800 (PST)
Received: by 10.194.110.137 with HTTP; Sat, 1 Dec 2012 13:15:22 -0800 (PST)
Received: by 10.194.110.137 with HTTP; Sat, 1 Dec 2012 13:15:22 -0800 (PST)
In-Reply-To: <50BA6D8D.5030005@pidster.com>
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com>
	<50BA3CC8.9010902@yahoo.com>
	<50BA6D8D.5030005@pidster.com>
Date: Sat, 1 Dec 2012 22:15:22 +0100
Message-ID: <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
Subject: Re: tomcat 7 udp connector
From: Jost Boekemeier <jost.boekemeier@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d043be1f4a488bc04cfd1036e
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043be1f4a488bc04cfd1036e
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi,

I don't think tomcat is hard-wired the way you suggest.

And the servlet spec doesn't require http. In the past I've written a
servlet container which uses raw tcp instead of http.

The tomcat jee container is needed by php java bridge to rund php code from
Java.

Probably the tomcat dev ml is more appropriate.
Am 01.12.2012 21:50 schrieb "Pid" <pid@pidster.com>:

> On 01/12/2012 17:22, Mark Eggers wrote:
> > On 12/1/2012 5:16 AM, Jost Boekemeier wrote:
> >> Hello,
> >>
> >> I am developing a JEE web application which has to handle HTTP, TCP
> >> and UDP connections.
> >>
> >> Can Tomcat >=3D 7 handle raw TCP and UDP connections? Are there
> >> extensions (connectors?) available which can handle them?
> >>
> >> *I am aware of mina.apache.org, and I can write my own socket server,
> >> so please don't point me to these solutions. The requirement is a JEE
> >> (Tomcat) web app.*
> >>
> >>
> >> I think persistent TCP connections should easy to implement. But what
> >> about UDP?
> >>
> >>
> >> Any pointers welcome.
> >>
> >>
> >> Regards, Jost B=C3=B6kemeier
> >>
> >
> > Jost,
> >
> > I wrote up a nice analysis of how you can accomplish your goals. Then I
> > read the following lines:
> >
> >> *I am aware of mina.apache.org, and I can write my own socket server,
> >> so please don't point me to these solutions. The requirement is a JEE
> >> (Tomcat) web app.*
> >
> > I glanced at the Tomcat code, and it seems to be built in complete
> > protocol stacks (HTTP, AJP, clustering). So without major Tomcat surger=
y
> > I don't think so.
> >
> > I was thinking of a command and control application along with a
> > stand-alone server, much like Derby has:
> >
> > http://db.apache.org/derby/docs/10.1/adminguide/cadminservlet98430.html
> >
> > However, the above constraint eliminates that approach.
> >
> > There are some really interesting hackish ways to approach this (JNDI
> > beans for clients, ServletContextListener to start servers), but that's
> > far off the beaten path.
> >
> > Maybe if you stepped back and wrote what you're trying to accomplish
> > people can suggest some approaches.
> >
> > All of that is probably quite a bit off-topic from the mailing list.
>
> Well, that saves me some work.
>
> I'll just add the following: it's really important to comprehend that
> Tomcat is a Servlet Container and by extension, to understand what a
> Servlet Container is.
>
> Reading an appropriate version of the Servlet Specification is therefore
> a good idea.
>
>
> p
>
>
>
>
> --
>
> [key:62590808]
>
>

--f46d043be1f4a488bc04cfd1036e--

From users-return-238310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  1 23:20:54 2012
Return-Path: <users-return-238310-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B1D40D2BF
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  1 Dec 2012 23:20:54 +0000 (UTC)
Received: (qmail 29396 invoked by uid 500); 1 Dec 2012 23:20:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29329 invoked by uid 500); 1 Dec 2012 23:20:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29318 invoked by uid 99); 1 Dec 2012 23:20:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 23:20:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.212.160] (HELO nm1.bullet.mail.bf1.yahoo.com) (98.139.212.160)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 01 Dec 2012 23:20:41 +0000
Received: from [98.139.212.145] by nm1.bullet.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 23:20:20 -0000
Received: from [98.139.211.207] by tm2.bullet.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 23:20:20 -0000
Received: from [127.0.0.1] by smtp216.mail.bf1.yahoo.com with NNFMP; 01 Dec 2012 23:20:20 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354404020; bh=QiO1hLgpDVnf1GEdtlu9zUG/JIchkuW90kTn210dLns=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=6Ae7Prq/U1axmkYUoXLZzIkp95GbN7ylN+fVSotPwIuQNLxzO5JdzrQyuxT5FlTXK47xZuveOdAsFK/PkuNmfD7MGml09g3dHrpMZnFb8x1TvoSB9/t4Z7AI8eqfaPV85TLIdKDPm7DqWXoYyDDMTKEaJdrJr+IdmIQLFs3SMq8=
X-Yahoo-Newman-Id: 708332.66643.bm@smtp216.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: CLSsCuIVM1kdR3JO7eN1gcSg5OHRHjmnY83Hc0Q3fbES7Iu
 mJQmaLTR1FUNlCMqddTrtLtd0ZAkaR90X.Ltr1Qy5Wu0YqTv4F1aS.vJwBMB
 cl39qD0.WwqKOnDIbE2swifwiyAA7MOzx.0cj0dWxoo0FjJWAbjQAmAG.S9V
 OVLLUkKD11hIT4CzbW0v71nrqGV_XcoNrfG.IxPHtoYNXm9I9XJDq96QaL_s
 wenO80OdPugsLXTM.DI6PcVOMpWu44kQ4j1ab3lJo1mENQswRsScXxfsdH66
 YnCEPF6nM6xo_6tqCIAxs9V1VpWb2XDCEb75qgP8HUyJ3zu_UwpBVEPpB4gn
 MbGHUMoPZSlEXCiX7NFXr8bwXp9VknzOx4U1PnBlZNSPE1G8YxuMaMOmcQgk
 sD_STq4ROTnyxNGRte6ptr5VNSJ4RS3buZpy6dnmUhbyJdYY5VyMeJiuP6l_
 2h8YkfDmHYo4rm_pnsu8eUfPqDRYSCxxv6MasTmP_nRG2XTmD1ZZSTWqPFDj
 Hoo4WDp9EPekcCqieSmm7zi1co3iDE5R0.wO2zkwKAKNrLenyxVAa0OcDwMr
 JCYRpYppYrCZB30Hh_tg8yyYXslLZxJQ-
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@71.129.34.235 with plain)
        by smtp216.mail.bf1.yahoo.com with SMTP; 01 Dec 2012 15:20:20 -0800 PST
Message-ID: <50BA907A.7010403@yahoo.com>
Date: Sat, 01 Dec 2012 15:19:22 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com> <50BA6D8D.5030005@pidster.com> <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
In-Reply-To: <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/1/2012 1:15 PM, Jost Boekemeier wrote:
> Hi,
>
> I don't think tomcat is hard-wired the way you suggest.
>
> And the servlet spec doesn't require http. In the past I've written a
> servlet container which uses raw tcp instead of http.
>
> The tomcat jee container is needed by php java bridge to rund php code from
> Java.
>

Sigh, please don't top post. I almost missed the vital key.

See at the end of the message.

> Probably the tomcat dev ml is more appropriate.
> Am 01.12.2012 21:50 schrieb "Pid" <pid@pidster.com>:
>
>> On 01/12/2012 17:22, Mark Eggers wrote:
>>> On 12/1/2012 5:16 AM, Jost Boekemeier wrote:
>>>> Hello,
>>>>
>>>> I am developing a JEE web application which has to handle HTTP, TCP
>>>> and UDP connections.
>>>>
>>>> Can Tomcat >= 7 handle raw TCP and UDP connections? Are there
>>>> extensions (connectors?) available which can handle them?
>>>>
>>>> *I am aware of mina.apache.org, and I can write my own socket server,
>>>> so please don't point me to these solutions. The requirement is a JEE
>>>> (Tomcat) web app.*
>>>>
>>>>
>>>> I think persistent TCP connections should easy to implement. But what
>>>> about UDP?
>>>>
>>>>
>>>> Any pointers welcome.
>>>>
>>>>
>>>> Regards, Jost BÃ¶kemeier
>>>>
>>>
>>> Jost,
>>>
>>> I wrote up a nice analysis of how you can accomplish your goals. Then I
>>> read the following lines:
>>>
>>>> *I am aware of mina.apache.org, and I can write my own socket server,
>>>> so please don't point me to these solutions. The requirement is a JEE
>>>> (Tomcat) web app.*
>>>
>>> I glanced at the Tomcat code, and it seems to be built in complete
>>> protocol stacks (HTTP, AJP, clustering). So without major Tomcat surgery
>>> I don't think so.
>>>
>>> I was thinking of a command and control application along with a
>>> stand-alone server, much like Derby has:
>>>
>>> http://db.apache.org/derby/docs/10.1/adminguide/cadminservlet98430.html
>>>
>>> However, the above constraint eliminates that approach.
>>>
>>> There are some really interesting hackish ways to approach this (JNDI
>>> beans for clients, ServletContextListener to start servers), but that's
>>> far off the beaten path.
>>>
>>> Maybe if you stepped back and wrote what you're trying to accomplish
>>> people can suggest some approaches.
>>>
>>> All of that is probably quite a bit off-topic from the mailing list.
>>
>> Well, that saves me some work.
>>
>> I'll just add the following: it's really important to comprehend that
>> Tomcat is a Servlet Container and by extension, to understand what a
>> Servlet Container is.
>>
>> Reading an appropriate version of the Servlet Specification is therefore
>> a good idea.
>>
>>
>> p

Jost,

You're the project admin (creator, lead developer) for PHP / Java bridge:

http://php-java-bridge.sourceforge.net/pjb/

So now I'm really confused.

Basically, I'm reading that you can drop your WAR file into Tomcat, add 
the appropriate PHP application, and everything just works. The code 
would either work with the PHP application residing within Tomcat, or 
the PHP application residing in an HTTP server and sending requests to 
Tomcat.

There are lots of interesting challenges in the documentation, but I 
won't dig into those right now.

So, maybe you can restate your question?

I guess you need a j-random style port in Tomcat to support the HTTP/XML 
communications between a web server and Apache Tomcat?

Since you are sending HTTP, why do you need a raw UDP or TCP socket when 
Tomcat has multiple HTTP connectors available (and you can run them on 
any port)?

. . . . confused
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  2 01:14:24 2012
Return-Path: <users-return-238311-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82162E345
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  2 Dec 2012 01:14:24 +0000 (UTC)
Received: (qmail 36063 invoked by uid 500); 2 Dec 2012 01:14:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36020 invoked by uid 500); 2 Dec 2012 01:14:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36009 invoked by uid 99); 2 Dec 2012 01:14:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 01:14:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.212.169 as permitted sender)
Received: from [209.85.212.169] (HELO mail-wi0-f169.google.com) (209.85.212.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 01:14:14 +0000
Received: by mail-wi0-f169.google.com with SMTP id hq12so403822wib.0
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 17:13:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=rIWft00d19cTIUGZmxEG4WouJafQ+4q7IfIoKGiBjNA=;
        b=F3X76eB6Al0rhmbzsjhxD6SPKEsZltBrt+IwQNKPyKATbY3aov64R8BCWehFSdZdV5
         8/SCr6zg8jswKXjzyOwGy0dDyLr4NqkcyhcgSovVm0qLTPHbmGPtEG2zNu6773c2Nksl
         l12mABiwnXX+zoKmLFabNhzENCdJ2EvyWNCRY=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=rIWft00d19cTIUGZmxEG4WouJafQ+4q7IfIoKGiBjNA=;
        b=P5ON7//aJd8B5dTg9mYY2LdonT9xIbWu6ZzvDwFQQTu9r9oSSksI6rDLoJSQwOpwOd
         tYf7UjD56M3c121xIkXptFWBS1+fLjNB3JYU8NK6+6gM+qeE5ZzV/dyTYaTqG+ikQwu3
         cYGzCBUy6BaaLYJ9fm1pG4C1csxwsNzDuxBBWtRSZroBieWVfdrAKwo4JFe3tR8JKIHD
         QnRWai30lcaj8yvKZbGBbnJFgeaIVo677VPe4/YniR2jfydmcyBDf70bOu1DlAcoTtrC
         Y0TdpHPLPS0MVGw+qNFJ604dygQpwQtMR102dlcR4Q2G1yjpZUun0NnfDjNDvCkeKSkF
         djtg==
Received: by 10.180.20.109 with SMTP id m13mr3701974wie.16.1354410833092;
        Sat, 01 Dec 2012 17:13:53 -0800 (PST)
Received: from sw-vmw-mbp.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id dw4sm5833766wib.1.2012.12.01.17.13.51
        (version=SSLv3 cipher=OTHER);
        Sat, 01 Dec 2012 17:13:52 -0800 (PST)
Message-ID: <50BAAB4F.10700@pidster.com>
Date: Sun, 02 Dec 2012 01:13:51 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com> <50BA6D8D.5030005@pidster.com> <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
In-Reply-To: <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig001313133F810546F33C881D"
X-Gm-Message-State: ALoCoQnEYefV+3ZrlWQ/hqZv4BdlVF453V2meXBUxgFtueeDi2ogjcn95TKft42WXxdxgoRWHT1d
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig001313133F810546F33C881D
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 01/12/2012 21:15, Jost Boekemeier wrote:
> Hi,
>=20
> I don't think tomcat is hard-wired the way you suggest.

[sigh] Suggest?

Tomcat, as does the Servlet Spec, focuses on web applications, ie ones
served over HTTP.

The Connector implementations are configurable, but there is no UDP
implementation shipped with Tomcat.  Nor is there a raw Servlet, TCP
implementation.


> And the servlet spec doesn't require http.=20

What a strange statement.

The javax.servlet.http package, (being part of the spec), does rather
seem to focus on it and the 3.0 spec mentions HTTP on a fairly large
number of it's pages.


> In the past I've written a
> servlet container which uses raw tcp instead of http.

Smashing.


> The tomcat jee container is needed by php java bridge to rund php code =
from
> Java.

Is that the context of your problem, or just some random info?


> Probably the tomcat dev ml is more appropriate.

Ahh, the dismissal.  Bueno.


p


> Am 01.12.2012 21:50 schrieb "Pid" <pid@pidster.com>:
>=20
>> On 01/12/2012 17:22, Mark Eggers wrote:
>>> On 12/1/2012 5:16 AM, Jost Boekemeier wrote:
>>>> Hello,
>>>>
>>>> I am developing a JEE web application which has to handle HTTP, TCP
>>>> and UDP connections.
>>>>
>>>> Can Tomcat >=3D 7 handle raw TCP and UDP connections? Are there
>>>> extensions (connectors?) available which can handle them?
>>>>
>>>> *I am aware of mina.apache.org, and I can write my own socket server=
,
>>>> so please don't point me to these solutions. The requirement is a JE=
E
>>>> (Tomcat) web app.*
>>>>
>>>>
>>>> I think persistent TCP connections should easy to implement. But wha=
t
>>>> about UDP?
>>>>
>>>>
>>>> Any pointers welcome.
>>>>
>>>>
>>>> Regards, Jost B=C3=B6kemeier
>>>>
>>>
>>> Jost,
>>>
>>> I wrote up a nice analysis of how you can accomplish your goals. Then=
 I
>>> read the following lines:
>>>
>>>> *I am aware of mina.apache.org, and I can write my own socket server=
,
>>>> so please don't point me to these solutions. The requirement is a JE=
E
>>>> (Tomcat) web app.*
>>>
>>> I glanced at the Tomcat code, and it seems to be built in complete
>>> protocol stacks (HTTP, AJP, clustering). So without major Tomcat surg=
ery
>>> I don't think so.
>>>
>>> I was thinking of a command and control application along with a
>>> stand-alone server, much like Derby has:
>>>
>>> http://db.apache.org/derby/docs/10.1/adminguide/cadminservlet98430.ht=
ml
>>>
>>> However, the above constraint eliminates that approach.
>>>
>>> There are some really interesting hackish ways to approach this (JNDI=

>>> beans for clients, ServletContextListener to start servers), but that=
's
>>> far off the beaten path.
>>>
>>> Maybe if you stepped back and wrote what you're trying to accomplish
>>> people can suggest some approaches.
>>>
>>> All of that is probably quite a bit off-topic from the mailing list.
>>
>> Well, that saves me some work.
>>
>> I'll just add the following: it's really important to comprehend that
>> Tomcat is a Servlet Container and by extension, to understand what a
>> Servlet Container is.
>>
>> Reading an appropriate version of the Servlet Specification is therefo=
re
>> a good idea.
>>
>>
>> p
>>
>>
>>
>>
>> --
>>
>> [key:62590808]
>>
>>
>=20


--=20

[key:62590808]


--------------enig001313133F810546F33C881D
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQuqtRAAoJEGoM2OGpOvr9UYYP/2IXmwEGgwKwSAMj5SDHEt/2
kUitVHjoRCjMNBVo9WB0x/8Wa48JtU1Mznzs/nfcSJDw3DIZWsat6uA3dUPExpN8
rS2nELodMLUJEA09xNnoYqpxLh5cAMWU5k4oER+MifyZuh5jzfJoGD3UCCEmZd9h
rGLSp8BDawULutCQBU6P7Tr4hol8mQgYdvpnFluxO5GtYD6YXiaWZTx5G8wme3UD
48lc+ue+OtkSpuNcHCNibm/z38IjIZvmfRZ5AqbmxwcYF5JqCBpr4hosVA9UPuxZ
1DW6dQhH8MjIyKIwiDzZ/gg3wMcJiasWckSiWiFJmfpjtgsFWkIB51oV0mqCT6Om
vJKDep+AFpvUG+ksoxh7N30k12g1b79iw6aXPGOn741Gro2Kxse0lzOCk+q7Kqgt
zjeGdxSlVzWkM2kbiqOz4kMpHVvOJhIK1han/V0ECI9D6fos9T62ybd1g+FHrWTp
xLHjRiYRjiXR6Zfg9hGBL36SNbWVJwgHnuXatNafLcGwEEH4Zx7Y7VQ89BXajwlN
qDkUfo4GgB64Wl0BUwh0AH/JS13rYCRtrwX4Yhp0UdJKVEb8unS7pduwn3WDgAo8
BJMVb15+kSYsnhmSNaUP+jbmv/9EHYjx1uNWJemzoEFV/Tx1zpszcbGKDuuHnhaN
N0nzs/Q8OzLVJLko2ViN
=8hEw
-----END PGP SIGNATURE-----

--------------enig001313133F810546F33C881D--

From users-return-238312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  2 06:05:11 2012
Return-Path: <users-return-238312-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A205AE0B3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  2 Dec 2012 06:05:11 +0000 (UTC)
Received: (qmail 93144 invoked by uid 500); 2 Dec 2012 06:05:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92973 invoked by uid 500); 2 Dec 2012 06:05:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92917 invoked by uid 99); 2 Dec 2012 06:05:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 06:05:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jost.boekemeier@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 06:04:57 +0000
Received: by mail-we0-f173.google.com with SMTP id z2so767800wey.18
        for <users@tomcat.apache.org>; Sat, 01 Dec 2012 22:04:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=JKcnlDO6ClST5PTwalD0z0WuaDVMC5746XyjpgjD6UY=;
        b=EJpldouZ+dOTmECMKVHoyleBO+J/j3U28yfQpKcD+ivfO6FuRS+rDSDZQJYW2cPNTz
         S6VhxoDxdPUKD5IcaW5yuH2hBN1M52byNZRFZQo5+2xO4cyQ2XJFfOlco7eYD3v2ZnTu
         8pbW3vAjEC02hDH4EkzsA9MDgGEn6D8SRQ+cXTZha58eGSn64HEPqqtE4cT+n23mDNj5
         j+51BNGMqONPctW2lwwxXSsHatdx19KMn/mNxW6CDntaEWJop6vmq/UKrjOb4CXwPZHQ
         C7TCl1EBdWzD0YlUbGNuUouIkHl3GUputuw716qpHEKZ+jvWQ9mkoljJO8WcK4rDpjzj
         yO2A==
MIME-Version: 1.0
Received: by 10.180.92.132 with SMTP id cm4mr4256542wib.12.1354428277039; Sat,
 01 Dec 2012 22:04:37 -0800 (PST)
Received: by 10.194.110.137 with HTTP; Sat, 1 Dec 2012 22:04:36 -0800 (PST)
Received: by 10.194.110.137 with HTTP; Sat, 1 Dec 2012 22:04:36 -0800 (PST)
In-Reply-To: <50BA907A.7010403@yahoo.com>
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com>
	<50BA3CC8.9010902@yahoo.com>
	<50BA6D8D.5030005@pidster.com>
	<CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com>
	<50BA907A.7010403@yahoo.com>
Date: Sun, 2 Dec 2012 07:04:36 +0100
Message-ID: <CAKC=6XedEDSAxhN++VaApR9etgFXE7YUniMQ-6ZDBFsCURydHg@mail.gmail.com>
Subject: Re: tomcat 7 udp connector
From: Jost Boekemeier <jost.boekemeier@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d043be1f453a3a904cfd8684a
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043be1f453a3a904cfd8684a
Content-Type: text/plain; charset=UTF-8

Hi Mark,

I'm using gmail from android, which includes quoted text at the bottom.  So
I don't have much control over the layout.

I won't explain php Java bridge. It's just a library which requires a jee
(tomcat) environment.

We currently have code, written in php, which comnunicates whith trackboxes
(mostly systech "a1") via udp/tcp and Java clients via http;  in other
words: we have a http server, written in php, which also accepts udp and
tcp requests.

We want to replace our proprietary code with standard components.

Wer know that tomcat can handle http and tcp. But what's the best way to
implement a udp listener? I guess I have to add a new connector.

--f46d043be1f453a3a904cfd8684a--

From users-return-238313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  2 08:56:54 2012
Return-Path: <users-return-238313-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5E5AFE3E5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  2 Dec 2012 08:56:54 +0000 (UTC)
Received: (qmail 74716 invoked by uid 500); 2 Dec 2012 08:56:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73810 invoked by uid 500); 2 Dec 2012 08:56:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73779 invoked by uid 99); 2 Dec 2012 08:56:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 08:56:48 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of 22687582@qq.com designates 64.71.138.43 as permitted sender)
Received: from [64.71.138.43] (HELO smtpbg52.qq.com) (64.71.138.43)
    by apache.org (qpsmtpd/0.29) with SMTP; Sun, 02 Dec 2012 08:56:42 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1354438582; bh=xajvHEf0hzQfq4ToL9axkF/HZkaTO50wM6QeUPk2afI=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer;
	b=Ftf0/E/OX4Q4t9UgNE3PfAGpLwLwDtKcTsp1HmrcCjWhfTvyM6jwL2s2Issm4Jfs0
	 6a2K00+b1Jj+jpqnVeunZX3WfYaEcL+Ug72sOG3AGoPh09NSPj5wB4+rWUYKjLQ
X-QQ-SSF: 000000000000009000000000000000Z
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 114.248.83.108
X-QQ-STYLE: 
X-QQ-mid: webmail464t1354438580t6971333
From: "=?gb18030?B?1Ma3ydHu?=" <22687582@qq.com>
To: "=?gb18030?B?dXNlcnM=?=" <users@tomcat.apache.org>
Subject: tomcat jdbc pool stackoverflow error used with spring
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_50BB17B4_096CAAB0_71DD9295"
Content-Transfer-Encoding: 8Bit
Date: Sun, 2 Dec 2012 16:56:20 +0800
X-Priority: 3
Message-ID: <tencent_10F199076DC121523FAD03C2@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_50BB17B4_096CAAB0_71DD9295
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

SGk6DQoNCkknbSBldmFsdWF0aW5nIGpkYmMgcG9vbCBhZnRlciByZWFkaW5nIHNvbWUgYmxv
Z3Mgb24gIHRvbWNhdGV4cGVydC5jb20uIEJ1dCB3aGVuIEkgdHJ5IHRvIHN3aXRjaCB0byBq
ZGJjIHBvb2wgZnJvbSBkYmNwLCBJJ20gIGdldHRpbmcgc3RhY2tvdmVyZmxvdyBlcnJvciBs
aWtlIHRoaXM6DQoNCkNhdXNlZCBieTogamF2YS5sYW5nLlN0YWNrT3ZlcmZsb3dFcnJvcg0K
ICAgIGF0IGphdmEudXRpbC5jb25jdXJyZW50LkFic3RyYWN0RXhlY3V0b3JTZXJ2aWNlLjxp
bml0PihBYnN0cmFjdEV4ZWN1dG9yU2VydmljZS5qYXZhOjcxKQ0KICAgIGF0IGphdmEudXRp
bC5jb25jdXJyZW50LlRocmVhZFBvb2xFeGVjdXRvci48aW5pdD4oVGhyZWFkUG9vbEV4ZWN1
dG9yLmphdmE6MTI3MCkNCiAgICBhdCBqYXZhLnV0aWwuY29uY3VycmVudC5UaHJlYWRQb29s
RXhlY3V0b3IuPGluaXQ+KFRocmVhZFBvb2xFeGVjdXRvci5qYXZhOjExNjMpDQogICAgYXQg
b3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLjxpbml0PihDb25u
ZWN0aW9uUG9vbC5qYXZhOjExNykNCiAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBv
b2wuRGF0YVNvdXJjZVByb3h5LnBDcmVhdGVQb29sKERhdGFTb3VyY2VQcm94eS5qYXZhOjEx
NikNCiAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5
LmNyZWF0ZVBvb2woRGF0YVNvdXJjZVByb3h5LmphdmE6MTAzKQ0KICAgIGF0IG9yZy5hcGFj
aGUudG9tY2F0LmpkYmMucG9vbC5EYXRhU291cmNlUHJveHkuZ2V0Q29ubmVjdGlvbihEYXRh
U291cmNlUHJveHkuamF2YToxMjcpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5w
b29sLkRhdGFTb3VyY2VQcm94eS5nZXRDb25uZWN0aW9uKERhdGFTb3VyY2VQcm94eS5qYXZh
Ojg2KQ0KICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Qb29sZWRDb25uZWN0
aW9uLmNvbm5lY3RVc2luZ0RhdGFTb3VyY2UoUG9vbGVkQ29ubmVjdGlvbi5qYXZhOjIyNCkN
CiAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuUG9vbGVkQ29ubmVjdGlvbi5j
b25uZWN0KFBvb2xlZENvbm5lY3Rpb24uamF2YToxODApDQogICAgYXQgb3JnLmFwYWNoZS50
b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLmNyZWF0ZUNvbm5lY3Rpb24oQ29ubmVj
dGlvblBvb2wuamF2YTo2OTkpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29s
LkNvbm5lY3Rpb25Qb29sLmJvcnJvd0Nvbm5lY3Rpb24oQ29ubmVjdGlvblBvb2wuamF2YTo2
MzEpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29s
LmluaXQoQ29ubmVjdGlvblBvb2wuamF2YTo0ODUpDQogICAgYXQgb3JnLmFwYWNoZS50b21j
YXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLjxpbml0PihDb25uZWN0aW9uUG9vbC5qYXZh
OjE0MykNCiAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVBy
b3h5LnBDcmVhdGVQb29sKERhdGFTb3VyY2VQcm94eS5qYXZhOjExNikNCiAgICBhdCBvcmcu
YXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LmNyZWF0ZVBvb2woRGF0
YVNvdXJjZVByb3h5LmphdmE6MTAzKQ0KICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMu
cG9vbC5EYXRhU291cmNlUHJveHkuZ2V0Q29ubmVjdGlvbihEYXRhU291cmNlUHJveHkuamF2
YToxMjcpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkRhdGFTb3VyY2VQ
cm94eS5nZXRDb25uZWN0aW9uKERhdGFTb3VyY2VQcm94eS5qYXZhOjg2KQ0KICAgIGF0IG9y
Zy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Qb29sZWRDb25uZWN0aW9uLmNvbm5lY3RVc2lu
Z0RhdGFTb3VyY2UoUG9vbGVkQ29ubmVjdGlvbi5qYXZhOjIyNCkNCiAgICBhdCBvcmcuYXBh
Y2hlLnRvbWNhdC5qZGJjLnBvb2wuUG9vbGVkQ29ubmVjdGlvbi5jb25uZWN0KFBvb2xlZENv
bm5lY3Rpb24uamF2YToxODApDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29s
LkNvbm5lY3Rpb25Qb29sLmNyZWF0ZUNvbm5lY3Rpb24oQ29ubmVjdGlvblBvb2wuamF2YTo2
OTkpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29s
LmJvcnJvd0Nvbm5lY3Rpb24oQ29ubmVjdGlvblBvb2wuamF2YTo2MzEpDQogICAgYXQgb3Jn
LmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLmluaXQoQ29ubmVjdGlv
blBvb2wuamF2YTo0ODUpDQogICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNv
bm5lY3Rpb25Qb29sLjxpbml0PihDb25uZWN0aW9uUG9vbC5qYXZhOjE0MykNCiAgICBhdCBv
cmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LnBDcmVhdGVQb29s
KERhdGFTb3VyY2VQcm94eS5qYXZhOjExNikNCiAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5q
ZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LmNyZWF0ZVBvb2woRGF0YVNvdXJjZVByb3h5Lmph
dmE6MTAzKQ0KICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5EYXRhU291cmNl
UHJveHkuZ2V0Q29ubmVjdGlvbihEYXRhU291cmNlUHJveHkuamF2YToxMjcpDQogICAgYXQg
b3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkRhdGFTb3VyY2VQcm94eS5nZXRDb25uZWN0
aW9uKERhdGFTb3VyY2VQcm94eS5qYXZhOjg2KQ0KICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0
LmpkYmMucG9vbC5Qb29sZWRDb25uZWN0aW9uLmNvbm5lY3RVc2luZ0RhdGFTb3VyY2UoUG9v
bGVkQ29ubmVjdGlvbi5qYXZhOjIyNCkNCg0KYW5kIEkgbm90aWNlZCB0aGF0IHNvbWVvbmUg
aGFkIHRoZSBzYW1lIGlzc3VlIGJlZm9yZSBidXQgbm90IGFuc3dlcmVkOg0KaHR0cDovL21h
aWwtYXJjaGl2ZXMuYXBhY2hlLm9yZy9tb2RfbWJveC90b21jYXQtdXNlcnMvMjAxMTA3Lm1i
b3gvJTNDMzIwNDYzMTEucG9zdEB0YWxrLm5hYmJsZS5jb20lM0UNCg0KbXkgd2ViIGFwcCBp
cyBhIHR5cGljYWwgc3ByaW5nbXZjK2hpYmVybmF0ZSBhcHBsaWNhdGlvbiwgYW5kIGhlcmUg
aXMgbXkgYXBwbGljYXRpb25jb250ZXh0IGRhdGFzb3VyY2UgcGFydDoNCg0KPGJlYW4gaWQ9
ImRhdGFTb3VyY2UiIGNsYXNzPSJvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNv
dXJjZSIgZGVzdHJveS1tZXRob2Q9ImNsb3NlIj4NCjxwcm9wZXJ0eSBuYW1lPSJkcml2ZXJD
bGFzc05hbWUiIHZhbHVlPSIke3RlbHJlZ2lzdHJ5LmpkYmMuZHJpdmVyQ2xhc3NOYW1lfSIg
Lz4NCjxwcm9wZXJ0eSBuYW1lPSJ1cmwiIHZhbHVlPSIke3RlbHJlZ2lzdHJ5LmpkYmMudXJs
fSIvPg0KPHByb3BlcnR5IG5hbWU9InVzZXJuYW1lIiB2YWx1ZT0iJHt0ZWxyZWdpc3RyeS5q
ZGJjLnVzZXJuYW1lfSIvPg0KPHByb3BlcnR5IG5hbWU9InBhc3N3b3JkIiB2YWx1ZT0iJHt0
ZWxyZWdpc3RyeS5qZGJjLnBhc3N3b3JkfSIvPg0KPHByb3BlcnR5IG5hbWU9ImluaXRpYWxT
aXplIiB2YWx1ZT0iNSIvPg0KPHByb3BlcnR5IG5hbWU9ImluaXRTUUwiIHZhbHVlPSJTRUxF
Q1QgMSIvPg0KPHByb3BlcnR5IG5hbWU9Im1pbklkbGUiIHZhbHVlPSI1Ii8+DQo8cHJvcGVy
dHkgbmFtZT0ibWF4SWRsZSIgdmFsdWU9IjUwIi8+DQo8cHJvcGVydHkgbmFtZT0ibWF4QWN0
aXZlIiB2YWx1ZT0iMTAwIi8+DQo8cHJvcGVydHkgbmFtZT0ibWF4V2FpdCIgdmFsdWU9IjYw
MDAiLz4NCjxwcm9wZXJ0eSBuYW1lPSJ2YWxpZGF0aW9uSW50ZXJ2YWwiIHZhbHVlPSIxODAw
MDAwIi8+DQo8cHJvcGVydHkgbmFtZT0idmFsaWRhdGlvblF1ZXJ5IiB2YWx1ZT0iU0VMRUNU
IDEiLz4NCjwvYmVhbj4NCg0KbXkgc3lzdGVtOg0Kd2luNyAzMmJpdA0KamRrMS43LjBfOShh
bHNvIHRlc3Qgb24gamRrMS42LjBfMjUpDQpteXNxbCA1LjUoYWxzbyB0ZXN0IG9yYWNsZTEx
ZykNCnNwcmluZyAzLjEuMA0KamRiYyBwb29sKHRvbWNhdC1qZGJjLTcuMC4zMC5qYXIgZnJv
bSBvZmZpY2lhbCBtYXZlbiByZXBvKQ0KDQpBbHNvIEkgdGVzdCBqZGJjIHBvb2wgdW5kZXIg
dG9tY2F0NyBhcyBhIGNvbnRhaW5lciByZXNvdXJjZS4gSXQgd29ya3MuIEl0IHNlZW1zIHRo
YXQgamRiYyBwb29sIGNhbm5vdCBjb21lIGFsb25nIHdpdGggc3ByaW5nLg0KDQoNClBscyBo
ZWxwIG1lIG91dC4NCg0KdGhhbmtzLg0KDQoNCllhbmt5

------=_NextPart_50BB17B4_096CAAB0_71DD9295--


From users-return-238314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  2 10:25:03 2012
Return-Path: <users-return-238314-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2B064DBB1
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  2 Dec 2012 10:25:03 +0000 (UTC)
Received: (qmail 24368 invoked by uid 500); 2 Dec 2012 10:24:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24307 invoked by uid 500); 2 Dec 2012 10:24:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24252 invoked by uid 99); 2 Dec 2012 10:24:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 10:24:57 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 10:24:50 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so1038765vbi.18
        for <users@tomcat.apache.org>; Sun, 02 Dec 2012 02:24:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=apuGdb9Twhg9zXXVt4keGzdxo2qf/qTwpOFN7Zya9iQ=;
        b=EAzhV7jcKlaptymvcDF3K2mVZKZhdWZP+Uvoujexvb6zqQs6RBYxv+BwEtBp4gfWBs
         S1fyhpCzuFn215dlQV16A3OY4GJQ8XiaWOo4TEVXOG8LFtfcf1N0mMsnoimbyX9NAvqz
         gmggNzFJudsoWe7odrgb4q6/Xi5hztMmBxjtcowHbf8UZ2qtEXC7R6krcvKr58n2DJes
         00mvvuOggZ2x8CS6009uaSWcmKH+QO+Y/UBZKqiMM8Iw/DQg8Xr1uFedgCbmszpBVkhn
         RC5DJIfV6wMh5JVmhxrfqGFbBv7giPu7QfCgS2294YI3ZwGZFxvje99FykRJqUKmt7AE
         m7Ww==
MIME-Version: 1.0
Received: by 10.220.156.143 with SMTP id x15mr5731611vcw.50.1354443869781;
 Sun, 02 Dec 2012 02:24:29 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Sun, 2 Dec 2012 02:24:29 -0800 (PST)
In-Reply-To: <tencent_10F199076DC121523FAD03C2@qq.com>
References: <tencent_10F199076DC121523FAD03C2@qq.com>
Date: Sun, 2 Dec 2012 14:24:29 +0400
Message-ID: <CABzHfVkKGkwKjFWJtPrQCqGMB6HQNtKzYgkVkCyTzB_ey8oBUg@mail.gmail.com>
Subject: Re: tomcat jdbc pool stackoverflow error used with spring
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/2 =E4=BA=91=E9=A3=9E=E6=9D=A8 <22687582@qq.com>:
> Hi:
>
> I'm evaluating jdbc pool after reading some blogs on  tomcatexpert.com. B=
ut when I try to switch to jdbc pool from dbcp, I'm  getting stackoverflow =
error like this:
>
> Caused by: java.lang.StackOverflowError
>     at java.util.concurrent.AbstractExecutorService.<init>(AbstractExecut=
orService.java:71)
>     at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.=
java:1270)
>     at java.util.concurrent.ThreadPoolExecutor.<init>(ThreadPoolExecutor.=
java:1163)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.j=
ava:117)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSource=
Proxy.java:116)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceP=
roxy.java:103)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:127)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:86)
>     at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDataSourc=
e(PooledConnection.java:224)
>     at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnect=
ion.java:180)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(Connec=
tionPool.java:699)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(Connec=
tionPool.java:631)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.jav=
a:485)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.j=
ava:143)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSource=
Proxy.java:116)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceP=
roxy.java:103)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:127)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:86)
>     at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDataSourc=
e(PooledConnection.java:224)
>     at org.apache.tomcat.jdbc.pool.PooledConnection.connect(PooledConnect=
ion.java:180)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.createConnection(Connec=
tionPool.java:699)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(Connec=
tionPool.java:631)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.init(ConnectionPool.jav=
a:485)
>     at org.apache.tomcat.jdbc.pool.ConnectionPool.<init>(ConnectionPool.j=
ava:143)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.pCreatePool(DataSource=
Proxy.java:116)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.createPool(DataSourceP=
roxy.java:103)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:127)
>     at org.apache.tomcat.jdbc.pool.DataSourceProxy.getConnection(DataSour=
ceProxy.java:86)
>     at org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDataSourc=
e(PooledConnection.java:224)
>
> and I noticed that someone had the same issue before but not answered:
> http://mail-archives.apache.org/mod_mbox/tomcat-users/201107.mbox/%3C3204=
6311.post@talk.nabble.com%3E
>
> my web app is a typical springmvc+hibernate application, and here is my a=
pplicationcontext datasource part:
>
> <bean id=3D"dataSource" class=3D"org.apache.tomcat.jdbc.pool.DataSource" =
destroy-method=3D"close">
> <property name=3D"driverClassName" value=3D"${telregistry.jdbc.driverClas=
sName}" />
> <property name=3D"url" value=3D"${telregistry.jdbc.url}"/>
> <property name=3D"username" value=3D"${telregistry.jdbc.username}"/>
> <property name=3D"password" value=3D"${telregistry.jdbc.password}"/>
> <property name=3D"initialSize" value=3D"5"/>
> <property name=3D"initSQL" value=3D"SELECT 1"/>
> <property name=3D"minIdle" value=3D"5"/>
> <property name=3D"maxIdle" value=3D"50"/>
> <property name=3D"maxActive" value=3D"100"/>
> <property name=3D"maxWait" value=3D"6000"/>
> <property name=3D"validationInterval" value=3D"1800000"/>
> <property name=3D"validationQuery" value=3D"SELECT 1"/>
> </bean>
>
> my system:
> win7 32bit
> jdk1.7.0_9(also test on jdk1.6.0_25)
> mysql 5.5(also test oracle11g)
> spring 3.1.0
> jdbc pool(tomcat-jdbc-7.0.30.jar from official maven repo)
>
> Also I test jdbc pool under tomcat7 as a container resource. It works. It=
 seems that jdbc pool cannot come along with spring.


1. Please file an issue in Bugzilla.
There were no fixes in jdbc-pool module between 7.0.30 and the current
version 7.0.33, so the bug should still be there.

2. This is caused by "<property name=3D"initialSize" value=3D"5"/>" in
your configuration.
The ConnectionPool.init(..) method tries to open those 5 connections
and fails with a recursion.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  2 10:55:17 2012
Return-Path: <users-return-238315-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C26BBD70A
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  2 Dec 2012 10:55:17 +0000 (UTC)
Received: (qmail 81856 invoked by uid 500); 2 Dec 2012 10:55:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81609 invoked by uid 500); 2 Dec 2012 10:55:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81560 invoked by uid 99); 2 Dec 2012 10:55:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 10:55:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 02 Dec 2012 10:55:07 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so1259763vcb.18
        for <users@tomcat.apache.org>; Sun, 02 Dec 2012 02:54:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mUf22/Lp1OM9KXLFknxtOotxtdEePekMbJcv3UATcsU=;
        b=OaBo6Y1zjHwfExClfjeeHTnbS7T4zv2EyKvveXGHEwObCUMMQY0lgAhTTDgR0FKE81
         bIvzp8KaO02iCX/wfzXz+taxPtDsdbsqi31ElXF1UEo5T5ZGgkzRekwdGHIYF+x78EY0
         so0yhaLq++gn8wsq/KOuN3N68wTmWCE3gk0zHIm9Lq5jqXl/GqrfZ2vzyPRMCWZgLhDz
         YDzbCkzjFOKk92C+oinu5jO5UcyerBFCmz9V1LT0HRSFOAWaknSHbRq3Uje+O6RMNa4a
         LFjBz/bJRjc8vq7a7OEaoMBr6SSYJB4Rosqy0gDEC8T8BdwMynAjAWktIJxEPWmjnJIu
         H3CQ==
MIME-Version: 1.0
Received: by 10.220.154.148 with SMTP id o20mr5757328vcw.54.1354445686172;
 Sun, 02 Dec 2012 02:54:46 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Sun, 2 Dec 2012 02:54:45 -0800 (PST)
In-Reply-To: <50B90E20.2000907@tmbsw.com>
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com>
	<50B90E20.2000907@tmbsw.com>
Date: Sun, 2 Dec 2012 14:54:45 +0400
Message-ID: <CABzHfVng3dfOYAPAyCB0CGMPd=FFB5wq9-SRLZy44NsPOeGG5g@mail.gmail.com>
Subject: Re: Context Path for a subdirectory
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/11/30 Terence M. Bandoian <terence@tmbsw.com>:
> Hi, Chuck-
>
> I don't mean to be argumentative but, with Tomcat 6.0.29, I found that
> static files from an images subdirectory of a web application were not
> cached by Internet Explorer 7.  As a workaround, I created a context for the
> images subdirectory and left it nested in the web application.  The files
> from that directory were then cached by IE7.  The difference was that the
> following response headers were included when there was no separate context
> defined for the subdirectory:
>
> Pragma: No-cache
> Cache-Control: no-cache
> Expires: Wed, 31 Dec 1969 18:00:00 CST
>
> Something else I found unusual was that ETag and Last-Modified headers were
> provided in both configurations.  Apparently, some browsers (e.g. Firefox)
> utilize that information even when the no-cache and Expires headers are
> provided.
>
> I realize this is a non-standard configuration but it worked with 6.0.29 and
> 6.0.35.
>


The "no-cache" headers are added to resources that are protected by a
security constraint.   That is for an obvious reason: if a resource is
cached locally, you cannot protect it.

It is usually a good idea to do not protect such static files.


Regarding "a.war/foo/bar" vs "a#foo.war/bar",  Tomcat always selects a
webapp first - one that matches the longest path. Then it selects a
resource in the selected webapp.

It is mentioned in the Introduction section of the
"config/context.html" page of the Configuration Reference Guide.

One example of using this rule is ROOT/admin/index.html page in Tomcat 5.5.

When a user requests "http://localhost:8080/admin/" and the admin
webapp is not installed, the ROOT/admin/index.html page is called and
says that "no such application is here".  If the admin webapp is
installed, then its welcome page (admin/index.jsp) is displayed.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 04:54:14 2012
Return-Path: <users-return-238316-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 772D0D827
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 04:54:14 +0000 (UTC)
Received: (qmail 30497 invoked by uid 500); 3 Dec 2012 04:54:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30253 invoked by uid 500); 3 Dec 2012 04:54:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30224 invoked by uid 99); 3 Dec 2012 04:54:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 04:54:06 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of kurt.weixiang@huawei.com designates 119.145.14.64 as permitted sender)
Received: from [119.145.14.64] (HELO szxga01-in.huawei.com) (119.145.14.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 04:54:01 +0000
Received: from 172.24.2.119 (EHLO szxeml214-edg.china.huawei.com) ([172.24.2.119])
	by szxrg01-dlp.huawei.com (MOS 4.3.4-GA FastPath queued)
	with ESMTP id ATW24248;
	Mon, 03 Dec 2012 12:53:38 +0800 (CST)
Received: from SZXEML407-HUB.china.huawei.com (10.82.67.94) by
 szxeml214-edg.china.huawei.com (172.24.2.29) with Microsoft SMTP Server (TLS)
 id 14.1.323.3; Mon, 3 Dec 2012 12:53:10 +0800
Received: from SZXEML502-MBX.china.huawei.com ([169.254.2.89]) by
 szxeml407-hub.china.huawei.com ([10.82.67.94]) with mapi id 14.01.0323.003;
 Mon, 3 Dec 2012 12:53:10 +0800
From: Weixiang <kurt.weixiang@huawei.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Tomcat7.0-Setting property 'threadPriority' did not find a matching
 property
Thread-Topic: Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Index: Ac3REhZYf1AzmeQeRDSvyBHfbZfjfQ==
Date: Mon, 3 Dec 2012 04:53:08 +0000
Message-ID: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
x-originating-ip: [10.138.12.59]
Content-Type: multipart/related;
	boundary="_004_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_";
	type="multipart/alternative"
MIME-Version: 1.0
X-CFilter-Loop: Reflected
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_
Content-Type: multipart/alternative;
	boundary="_000_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_"

--_000_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64

VG9tY2F0IHZlcnNpb26jujcuMC4yOQ0KDQpRdWVzdGlvbqO6DQpJIGNvbmZpZyBpbiBteSBzZXJ2
ZXIueG1sIGZvciBhIEhUVFAgQ29ubmVjdG9yIG5hbWVkIKGwTUdNVKGxOg0KDQp0aHJlYWRQcmlv
cml0eT0iamF2YS5sYW5nLlRocmVhZCNUaHJlYWQuTUFYX1BSSU9SSVRZIg0KDQpXaGVuIGFwcGxp
Y2F0aW9uIGlzIHN0YXJ0aW5nIHVwo6x0aGUgY2F0YWxpbmEub3V0IGdpdmVzIHNvbWUgd2Fybmlu
ZyBpbmZvcm1hdGlvbjoNCg0KV0FSTklORzogW1NldEFsbFByb3BlcnRpZXNSdWxlXXtTZXJ2ZXIv
U2VydmljZS9Db25uZWN0b3J9IFNldHRpbmcgcHJvcGVydHkgJ3RocmVhZFByaW9yaXR5JyB0byAn
amF2YS5sYW5nLlRocmVhZCNNQVhfUFJJT1JJVFknIGRpZCBub3QgZmluZCBhIG1hdGNoaW5nIHBy
b3BlcnR5Lg0KDQpJIHNlYXJjaCBvbiBnb29nbGUgYW5kIGRpZCBub3QgZ2V0IGFueSB1c2VmdWwg
aGVscDsNCg0KSSBhbHNvIHNlYXJjaCBkb2N1bWVudGF0aW9uIG9uIHRoZSBhcGFjaGUub3JnIGFu
ZCBtYWtlIHN1cmUgdGhhdCAndGhyZWFkUHJpb3JpdHknIGlzIGEgbGVnYWwgYXR0cmlidXRlIGZv
ciBIVFRQIENvbm5lY3RvcqOsc28gSSB3b25kZXIgd2h5IHdvdWxkIHRoaXMgd2FybmluZyBpbmZv
cm1hdGlvbiB3aWxsIGNvbWUgdXAuDQoNClBsZWFzZSB0ZWxsIG1lIHdoYXShr3Mgd3JvbmcsIFRo
YW5rIHlvdSENCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCiAgICAgICAgICAg
ICAgUGF0Y2ggbXkgc2VydmVyLnhtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbjoNCg0KPD94bWwgdmVy
c2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnPz4NCjwhLS0NCiAgTGljZW5zZWQgdG8gdGhlIEFw
YWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZSBvciBtb3JlDQogIGNvbnRy
aWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0
ZWQgd2l0aA0KICB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5n
IGNvcHlyaWdodCBvd25lcnNoaXAuDQogIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlv
dSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wDQogICh0aGUgIkxpY2Vuc2Ui
KTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoDQog
IHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQoN
CiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMA0KDQogIFVu
bGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywg
c29mdHdhcmUNCiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQg
b24gYW4gIkFTIElTIiBCQVNJUywNCiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMg
T0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogIFNlZSB0aGUgTGljZW5z
ZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCiAg
bGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQotLT4NCjwhLS0gTm90ZTogIEEgIlNlcnZl
ciIgaXMgbm90IGl0c2VsZiBhICJDb250YWluZXIiLCBzbyB5b3UgbWF5IG5vdA0KICAgICBkZWZp
bmUgc3ViY29tcG9uZW50cyBzdWNoIGFzICJWYWx2ZXMiIGF0IHRoaXMgbGV2ZWwuDQogICAgRG9j
dW1lbnRhdGlvbiBhdCAvZG9jcy9jb25maWcvc2VydmVyLmh0bWwNCi0tPg0KPFNlcnZlciBwb3J0
PSItMSIgc2h1dGRvd249IlNIVVRET1dOIj4NCiAgPCEtLSBTZWN1cml0eSBsaXN0ZW5lci4gRG9j
dW1lbnRhdGlvbiBhdCAvZG9jcy9jb25maWcvbGlzdGVuZXJzLmh0bWwNCiAgPExpc3RlbmVyIGNs
YXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5zZWN1cml0eS5TZWN1cml0eUxpc3RlbmVyIiAv
Pg0KICAtLT4NCiAgPCEtLUFQUiBsaWJyYXJ5IGxvYWRlci4gRG9jdW1lbnRhdGlvbiBhdCAvZG9j
cy9hcHIuaHRtbCAtLT4NCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGlu
YS5jb3JlLkFwckxpZmVjeWNsZUxpc3RlbmVyIiBTU0xFbmdpbmU9Im9uIiAvPg0KICA8IS0tSW5p
dGlhbGl6ZSBKYXNwZXIgcHJpb3IgdG8gd2ViYXBwcyBhcmUgbG9hZGVkLiBEb2N1bWVudGF0aW9u
IGF0IC9kb2NzL2phc3Blci1ob3d0by5odG1sIC0tPg0KICA8TGlzdGVuZXIgY2xhc3NOYW1lPSJv
cmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuSmFzcGVyTGlzdGVuZXIiIC8+DQogIDwhLS0gUHJldmVu
dCBtZW1vcnkgbGVha3MgZHVlIHRvIHVzZSBvZiBwYXJ0aWN1bGFyIGphdmEvamF2YXggQVBJcy0t
Pg0KICA8TGlzdGVuZXIgY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuSnJlTWVt
b3J5TGVha1ByZXZlbnRpb25MaXN0ZW5lciIgLz4NCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3Jn
LmFwYWNoZS5jYXRhbGluYS5tYmVhbnMuR2xvYmFsUmVzb3VyY2VzTGlmZWN5Y2xlTGlzdGVuZXIi
IC8+DQogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5UaHJl
YWRMb2NhbExlYWtQcmV2ZW50aW9uTGlzdGVuZXIiIC8+DQogIDwhLS0gR2xvYmFsIEpOREkgcmVz
b3VyY2VzDQogICAgICAgRG9jdW1lbnRhdGlvbiBhdCAvZG9jcy9qbmRpLXJlc291cmNlcy1ob3d0
by5odG1sDQogIC0tPg0KICA8R2xvYmFsTmFtaW5nUmVzb3VyY2VzPg0KICAgIDwhLS0gRWRpdGFi
bGUgdXNlciBkYXRhYmFzZSB0aGF0IGNhbiBhbHNvIGJlIHVzZWQgYnkNCiAgICAgICAgIFVzZXJE
YXRhYmFzZVJlYWxtIHRvIGF1dGhlbnRpY2F0ZSB1c2Vycw0KICAgIC0tPg0KICAgIDxSZXNvdXJj
ZSBuYW1lPSJVc2VyRGF0YWJhc2UiIGF1dGg9IkNvbnRhaW5lciINCiAgICAgICAgICAgICAgdHlw
ZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5Vc2VyRGF0YWJhc2UiDQogICAgICAgICAgICAgIGRlc2Ny
aXB0aW9uPSJVc2VyIGRhdGFiYXNlIHRoYXQgY2FuIGJlIHVwZGF0ZWQgYW5kIHNhdmVkIg0KICAg
ICAgICAgICAgICBmYWN0b3J5PSJvcmcuYXBhY2hlLmNhdGFsaW5hLnVzZXJzLk1lbW9yeVVzZXJE
YXRhYmFzZUZhY3RvcnkiDQogICAgICAgICAgICAgIHBhdGhuYW1lPSJjb25mL3RvbWNhdC11c2Vy
cy54bWwiIC8+DQogIDwvR2xvYmFsTmFtaW5nUmVzb3VyY2VzPg0KDQogIDwhLS0gQSAiU2Vydmlj
ZSIgaXMgYSBjb2xsZWN0aW9uIG9mIG9uZSBvciBtb3JlICJDb25uZWN0b3JzIiB0aGF0IHNoYXJl
DQogICAgICAgYSBzaW5nbGUgIkNvbnRhaW5lciIgTm90ZTogIEEgIlNlcnZpY2UiIGlzIG5vdCBp
dHNlbGYgYSAiQ29udGFpbmVyIiwNCiAgICAgICBzbyB5b3UgbWF5IG5vdCBkZWZpbmUgc3ViY29t
cG9uZW50cyBzdWNoIGFzICJWYWx2ZXMiIGF0IHRoaXMgbGV2ZWwuDQogICAgICAgRG9jdW1lbnRh
dGlvbiBhdCAvZG9jcy9jb25maWcvc2VydmljZS5odG1sDQogICAtLT4NCiAgPFNlcnZpY2UgbmFt
ZT0iQ2F0YWxpbmEiPg0KDQogICAgPCEtLVRoZSBjb25uZWN0b3JzIGNhbiB1c2UgYSBzaGFyZWQg
ZXhlY3V0b3IsIHlvdSBjYW4gZGVmaW5lIG9uZSBvciBtb3JlIG5hbWVkIHRocmVhZCBwb29scy0t
Pg0KICAgIDwhLS0NCiAgICA8RXhlY3V0b3IgbmFtZT0idG9tY2F0VGhyZWFkUG9vbCIgbmFtZVBy
ZWZpeD0iY2F0YWxpbmEtZXhlYy0iDQogICAgICAgIG1heFRocmVhZHM9IjE1MCIgbWluU3BhcmVU
aHJlYWRzPSI0Ii8+DQogICAgLS0+DQoNCiAgICA8IS0tIEEgIkNvbm5lY3RvciIgcmVwcmVzZW50
cyBhbiBlbmRwb2ludCBieSB3aGljaCByZXF1ZXN0cyBhcmUgcmVjZWl2ZWQNCiAgICAgICAgIGFu
ZCByZXNwb25zZXMgYXJlIHJldHVybmVkLiBEb2N1bWVudGF0aW9uIGF0IDoNCiAgICAgICAgIEph
dmEgSFRUUCBDb25uZWN0b3I6IC9kb2NzL2NvbmZpZy9odHRwLmh0bWwgKGJsb2NraW5nICYgbm9u
LWJsb2NraW5nKQ0KICAgICAgICAgSmF2YSBBSlAgIENvbm5lY3RvcjogL2RvY3MvY29uZmlnL2Fq
cC5odG1sDQogICAgICAgICBBUFIgKEhUVFAvQUpQKSBDb25uZWN0b3I6IC9kb2NzL2Fwci5odG1s
DQogICAgICAgICBEZWZpbmUgYSBub24tU1NMIEhUVFAvMS4xIENvbm5lY3RvciBvbiBwb3J0IDgw
ODANCiAgICAtLT4NCg0KICAgIDwhLS1Db25uZWN0b3IgZm9yIGFwcGxpY2F0aW9uLS0+DQogICAg
PENvbm5lY3RvciBzZXJ2ZXI9IkFQUCINCiAgICAgICAgICAgICAgIHBvcnQ9IjEzMDgwIg0KICAg
ICAgICAgICAgICAgcHJvdG9jb2w9Im9yZy5hcGFjaGUuY295b3RlLmh0dHAxMS5IdHRwMTFOaW9Q
cm90b2NvbCINCiAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0PSIyMDAwMCINCiAgICAg
ICAgICAgICAgIGFjY2VwdENvdW50PSIyMDAwIg0KICAgICAgICAgICAgICAgbWF4VGhyZWFkcz0i
MTIwMCINCiAgICAgICAgICAgICAgIG1pblNwYXJlVGhyZWFkcz0iMTAiDQogICAgICAgICAgICAg
ICBjb21wcmVzc2lvbj0ib24iDQogICAgICAgICAgICAgICBjb21wcmVzc2lvbk1pblNpemU9IjIw
NDgiDQogICAgICAgICAgICAgICBtYXhQb3N0U2l6ZT0iMTAyNDAiDQogICAgICAgICAgICAgICBh
bGxvd1RyYWNlPSJmYWxzZSINCiAgICAgICAgICAgICAgIHJlZGlyZWN0UG9ydD0iMTM0NDMiDQog
ICAgICAgICAgICAgICBlbmFibGVMb29rdXBzPSJmYWxzZSINCiAgICAgICAgICAgICAgIHhwb3dl
cmVkQnk9ImZhbHNlIg0KICAgICAgICAgICAgICAgY29tcHJlc3NhYmxlTWltZVR5cGU9InRleHQv
eG1sLGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSxhcHBsaWNhdGlvbi9qc29uIi8+DQoNCiAgICA8
IS0tIEEgIkNvbm5lY3RvciIgdXNpbmcgdGhlIHNoYXJlZCB0aHJlYWQgcG9vbC0tPg0KICAgIDwh
LS0gPENvbm5lY3RvciBleGVjdXRvcj0idG9tY2F0VGhyZWFkUG9vbCIgcG9ydD0iMTk5OTgiIHBy
b3RvY29sPSJIVFRQLzEuMSIgY29ubmVjdGlvblRpbWVvdXQ9IjIwMDAwIiByZWRpcmVjdFBvcnQ9
Ijg1NDIiIC8+ICAtLT4NCiAgICA8IS0tIERlZmluZSBhIFNTTCBIVFRQLzEuMSBDb25uZWN0b3Ig
b24gcG9ydCA4NDQzDQogICAgICAgIFRoaXMgY29ubmVjdG9yIHVzZXMgdGhlIEpTU0UgY29uZmln
dXJhdGlvbiwgd2hlbiB1c2luZyBBUFIsIHRoZQ0KICAgICAgICAgY29ubmVjdG9yIHNob3VsZCBi
ZSB1c2luZyB0aGUgT3BlblNTTCBzdHlsZSBjb25maWd1cmF0aW9uDQogICAgICAgICBkZXNjcmli
ZWQgaW4gdGhlIEFQUiBkb2N1bWVudGF0aW9uIC0tPg0KDQogICAgPCEtLUNvbm5lY3RvciBmb3Ig
bWFuYWdlbWVudC0tPg0KICAgIDxDb25uZWN0b3Igc2VydmVyPSJNR01UIg0KICAgICAgICAgICAg
ICAgICAgICAgICAgcG9ydD0iMTMwODkiDQogICAgICAgICAgICAgICAgICBwcm90b2NvbD0iSFRU
UC8xLjEiDQogICAgICAgICAgICAgICAgICBtYXhUaHJlYWRzPSIxMjAiDQogICAgICAgICAgICAg
ICAgICBhY2NlcHRDb3VudD0iMjAwIg0KICAgICAgICAgICAgICAgICAgZW5hYmxlTG9va3Vwcz0i
ZmFsc2UiDQogICAgICAgICAgICAgICAgICB4cG93ZXJlZEJ5PSJmYWxzZSINCiAgICAgICAgICAg
ICAgICAgIHRocmVhZFByaW9yaXR5PSJqYXZhLmxhbmcuVGhyZWFkI01BWF9QUklPUklUWSINCiAg
ICAgICAgICAgICAgIHJlZGlyZWN0UG9ydD0iMTM0NDMiIC8+DQoNCiAgICA8IS0tQ29ubmVjdG9y
IGZvciBodHRwcy0tPg0KICAgIDxDb25uZWN0b3Igc2VydmVyPSJIVFRQUyINCiAgICAgICAgICAg
ICAgIHBvcnQ9IjEzNDQzIg0KICAgICAgICAgICAgICAgcHJvdG9jb2w9Im9yZy5hcGFjaGUuY295
b3RlLmh0dHAxMS5IdHRwMTFOaW9Qcm90b2NvbCINCiAgICAgICAgICAgICAgIFNTTEVuYWJsZWQg
PSJ0cnVlIg0KICAgICAgICAgICAgICAgc3NsUHJvdG9jb2wgPSJUTFMiDQogICAgICAgICAgICAg
ICBhY2NlcHRDb3VudD0iMjAwMCINCiAgICAgICAgICAgICAgIG1pblNwYXJlVGhyZWFkcz0iMTAi
DQogICAgICAgICAgICAgICBlbmFibGVMb29rdXBzPSJmYWxzZSINCiAgICAgICAgICAgICAgIHNj
aGVtZT0iaHR0cHMiDQogICAgICAgICAgICAgICBzZWN1cmU9InRydWUiDQogICAgICAgICAgICAg
ICBjbGllbnRBdXRoPSJmYWxzZSINCiAgICAgICAgICAgICAgIGtleXN0b3JlRmlsZT0iY29uZi9r
ZXkuc3RvcmUiDQogICAgICAgICAgICAgICBrZXlzdG9yZVBhc3M9Im9hNWw1QXpvYjdIaFdPc2pK
WnlqT1E9PSINCiAgICAgICAgICAgICAgIGNpcGhlcnM9IlNTTF9SU0FfV0lUSF9SQzRfMTI4X1NI
QSxUTFNfUlNBX1dJVEhfQUVTXzEyOF9DQkNfU0hBLFRMU19ESEVfUlNBX1dJVEhfQUVTXzEyOF9D
QkNfU0hBLFRMU19ESEVfRFNTX1dJVEhfQUVTXzEyOF9DQkNfU0hBLFNTTF9SU0FfV0lUSF8zREVT
X0VERV9DQkNfU0hBLFNTTF9ESEVfUlNBX1dJVEhfM0RFU19FREVfQ0JDX1NIQSxTU0xfREhFX0RT
U19XSVRIXzNERVNfRURFX0NCQ19TSEEiDQogICAgICAgICAgICAgICBtYXhQb3N0U2l6ZT0iMTAy
NDAiDQogICAgICAgICAgICAgICBjb25uZWN0aW9uVGltZW91dD0iMjAwMDAiDQogICAgICAgICAg
ICAgICBhbGxvd1RyYWNlPSJmYWxzZSINCiAgICAgICAgICAgICAgIHhwb3dlcmVkQnk9ImZhbHNl
IiAvPg0KDQogICAgPCEtLSBEZWZpbmUgYW4gQUpQIDEuMyBDb25uZWN0b3Igb24gcG9ydCA4MDA5
IC0tPg0KICAgIDwhLS0gPENvbm5lY3RvciBwb3J0PSIxODAxMCIgcHJvdG9jb2w9IkFKUC8xLjMi
IGNvbm5lY3Rpb25UaW1lb3V0PSIyMDAwMCIgIG1heFBvc3RTaXplPSIxMDI0MCIgcmVkaXJlY3RQ
b3J0PSI4NTQyIiBhbGxvd1RyYWNlPSJmYWxzZSIgeHBvd2VyZWRCeT0iZmFsc2UiIC8+ICAtLT4N
Cg0KICAgIDwhLS0gQW4gRW5naW5lIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBvaW50ICh3aXRoaW4g
Q2F0YWxpbmEpIHRoYXQgcHJvY2Vzc2VzDQogICAgICAgICBldmVyeSByZXF1ZXN0LiAgVGhlIEVu
Z2luZSBpbXBsZW1lbnRhdGlvbiBmb3IgVG9tY2F0IHN0YW5kIGFsb25lDQogICAgICAgICBhbmFs
eXplcyB0aGUgSFRUUCBoZWFkZXJzIGluY2x1ZGVkIHdpdGggdGhlIHJlcXVlc3QsIGFuZCBwYXNz
ZXMgdGhlbQ0KICAgICAgICAgb24gdG8gdGhlIGFwcHJvcHJpYXRlIEhvc3QgKHZpcnR1YWwgaG9z
dCkuDQogICAgICAgICBEb2N1bWVudGF0aW9uIGF0IC9kb2NzL2NvbmZpZy9lbmdpbmUuaHRtbCAt
LT4NCg0KICAgIDwhLS0gWW91IHNob3VsZCBzZXQganZtUm91dGUgdG8gc3VwcG9ydCBsb2FkLWJh
bGFuY2luZyB2aWEgQUpQIGllIDoNCiAgICA8RW5naW5lIG5hbWU9IkNhdGFsaW5hIiBkZWZhdWx0
SG9zdD0ibG9jYWxob3N0IiBqdm1Sb3V0ZT0ianZtMSI+DQogICAgLS0+DQogICAgPEVuZ2luZSBu
YW1lPSJDYXRhbGluYSIgZGVmYXVsdEhvc3Q9ImxvY2FsaG9zdCI+DQoNCiAgICAgIDwhLS1Gb3Ig
Y2x1c3RlcmluZywgcGxlYXNlIHRha2UgYSBsb29rIGF0IGRvY3VtZW50YXRpb24gYXQ6DQogICAg
ICAgICAgL2RvY3MvY2x1c3Rlci1ob3d0by5odG1sICAoc2ltcGxlIGhvdyB0bykNCiAgICAgICAg
ICAvZG9jcy9jb25maWcvY2x1c3Rlci5odG1sIChyZWZlcmVuY2UgZG9jdW1lbnRhdGlvbikgLS0+
DQogICAgICA8IS0tDQogICAgICA8Q2x1c3RlciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxp
bmEuaGEudGNwLlNpbXBsZVRjcENsdXN0ZXIiLz4NCiAgICAgIC0tPg0KDQogICAgICA8IS0tIFVz
ZSB0aGUgTG9ja091dFJlYWxtIHRvIHByZXZlbnQgYXR0ZW1wdHMgdG8gZ3Vlc3MgdXNlciBwYXNz
d29yZHMNCiAgICAgICAgICAgdmlhIGEgYnJ1dGUtZm9yY2UgYXR0YWNrIC0tPg0KICAgICAgPFJl
YWxtIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5yZWFsbS5Mb2NrT3V0UmVhbG0iIGZh
aWx1cmVDb3VudD0iMyIgbG9ja091dFRpbWU9IjYwMCINCiAgICAgICBjYWNoZVNpemU9IjEwMDAi
IGNhY2hlUmVtb3ZhbFdhcm5pbmdUaW1lPSIzNjAwIj4NCiAgICAgICAgPCEtLSBUaGlzIFJlYWxt
IHVzZXMgdGhlIFVzZXJEYXRhYmFzZSBjb25maWd1cmVkIGluIHRoZSBnbG9iYWwgSk5ESQ0KICAg
ICAgICAgICAgIHJlc291cmNlcyB1bmRlciB0aGUga2V5ICJVc2VyRGF0YWJhc2UiLiAgQW55IGVk
aXRzDQogICAgICAgICAgICAgdGhhdCBhcmUgcGVyZm9ybWVkIGFnYWluc3QgdGhpcyBVc2VyRGF0
YWJhc2UgYXJlIGltbWVkaWF0ZWx5DQogICAgICAgICAgICAgYXZhaWxhYmxlIGZvciB1c2UgYnkg
dGhlIFJlYWxtLiAgLS0+DQogICAgICAgIDxSZWFsbSBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0
YWxpbmEucmVhbG0uVXNlckRhdGFiYXNlUmVhbG0iIGRpZ2VzdD0ic2hhIg0KICAgICAgICAgICAg
ICAgcmVzb3VyY2VOYW1lPSJVc2VyRGF0YWJhc2UiLz4NCiAgICAgIDwvUmVhbG0+DQoNCiAgICAg
IDxIb3N0IG5hbWU9ImxvY2FsaG9zdCIgIGFwcEJhc2U9IndlYmFwcHMiDQogICAgICAgICAgICB1
bnBhY2tXQVJzPSJ0cnVlIiBhdXRvRGVwbG95PSJmYWxzZSIgZGVwbG95T25TdGFydHVwPSJmYWxz
ZSIgPg0KICAgICAgIDxDb250ZXh0IHBhdGg9Ii9tZ210V2ViIiBkb2NCYXNlPSJtZ210V2ViIiBy
ZWxvYWRhYmxlPSJmYWxzZSIgLz4NCiAgICAgICA8IS0tIExpbmsgdG8gdGhlIHVzZXIgZGF0YWJh
c2Ugd2Ugd2lsbCBnZXQgcm9sZXMgZnJvbSAtLT4NCiAgICAgICA8IS0tVmFsdmUgY2xhc3NOYW1l
PSJvcmcuYXBhY2hlLmNhdGFsaW5hLnZhbHZlcy5SZW1vdGVBZGRyVmFsdmUiIGFsbG93PSIxMC4x
MzguMjUuMTA4IiAvPi0tPg0KDQogICAgICAgIDwhLS0gTGluayB0byB0aGUgdXNlciBkYXRhYmFz
ZSB3ZSB3aWxsIGdldCByb2xlcyBmcm9tIC0tPg0KDQoNCiAgICAgICA8IS0tIDxDb250ZXh0IHBh
dGg9Ii90ZXN0IiByZWxvYWRhYmxlLSJ0cnVlIiBkb2NCYXNlPSJ0ZXN0IiAvPiAtLT4NCg0KICAg
ICAgICA8IS0tIFNpbmdsZVNpZ25PbiB2YWx2ZSwgc2hhcmUgYXV0aGVudGljYXRpb24gYmV0d2Vl
biB3ZWIgYXBwbGljYXRpb25zDQogICAgICAgICAgICAgRG9jdW1lbnRhdGlvbiBhdDogL2RvY3Mv
Y29uZmlnL3ZhbHZlLmh0bWwgLS0+DQogICAgICAgIDwhLS0NCiAgICAgICAgPFZhbHZlIGNsYXNz
TmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5hdXRoZW50aWNhdG9yLlNpbmdsZVNpZ25PbiIgLz4N
CiAgICAgICAgLS0+DQoNCiAgICAgICAgPCEtLSBBY2Nlc3MgbG9nIHByb2Nlc3NlcyBhbGwgZXhh
bXBsZS4NCiAgICAgICAgICAgICBEb2N1bWVudGF0aW9uIGF0OiAvZG9jcy9jb25maWcvdmFsdmUu
aHRtbA0KICAgICAgICAgICAgTm90ZTogVGhlIHBhdHRlcm4gdXNlZCBpcyBlcXVpdmFsZW50IHRv
IHVzaW5nIHBhdHRlcm49ImNvbW1vbiIgLS0+DQogICAgICAgIDxWYWx2ZSBjbGFzc05hbWU9Im9y
Zy5hcGFjaGUuY2F0YWxpbmEudmFsdmVzLkFjY2Vzc0xvZ1ZhbHZlIiBkaXJlY3Rvcnk9ImxvZ3Mi
DQogICAgICAgICAgICAgICBwcmVmaXg9ImxvY2FsaG9zdF9hY2Nlc3NfbG9nLiIgc3VmZml4PSIu
dHh0Ig0KICAgICAgICAgICAgICAgcGF0dGVybj0iJWggJWwgJXUgJXQgJnF1b3Q7JXImcXVvdDsg
JXMgJWIiIC8+DQoNCiAgICAgIDwvSG9zdD4NCg0KICAgIDwvRW5naW5lPg0KICA8L1NlcnZpY2U+
DQo8L1NlcnZlcj4NCg0KDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQrOus/o
DQq7qs6qvLzK9dPQz965q8u+IEh1YXdlaSBUZWNobm9sb2dpZXMgQ28uLCBMdGQuDQpbQ29tcGFu
eV9sb2dvXQ0KDQpQaG9uZTogMDI1LTU2NjIwMzkwDQpGYXg6DQpNb2JpbGU6IDE1ODUwNTAzMDM3
DQpFbWFpbDoga3VydC53ZWl4aWFuZ0BodWF3ZWkuY29tDQq12Na3o7rEz76pytDT6ruox/jI7bz+
tPO1wDEwMbrFu6rOqsTPvqnR0L6/y/kg08qx4KO6MjEwMDAwDQpIdWF3ZWkgVGVjaG5vbG9naWVz
IENvLiwgTHRkLg0KUnVhbkppYW5EYURhbywgWXVIdWEgRGlzdHJpY3QsTmFuSmluZyAyMTAwMDAg
UC5SLkNoaW5hDQpodHRwOi8vd3d3Lmh1YXdlaS5jb20NCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fDQqxvtPKvP68sMbkuL28/rqs09C7qs6quavLvrXEsaPD3NDFz6KjrL32z97T2rei
y824+MnPw+a12Na31tDB0LP2tcS49sjLu/LIutfpoaO9+w0K1rnIzrrOxuTL+8jL0tTIzrrO0M7K
vcq508OjqLD8wKi1q7K7z97T2sirsr+78rK/t9a12NC5wrahori01sahorvyyaK3oqOpsb7Tyrz+
1tANCrXE0MXPoqGjyOe5+8T6tO3K1cHLsb7Tyrz+o6zH68T6waK8tLXnu7C78tPKvP7NqNaqt6K8
/sjLsqLJvrP9sb7Tyrz+o6ENClRoaXMgZS1tYWlsIGFuZCBpdHMgYXR0YWNobWVudHMgY29udGFp
biBjb25maWRlbnRpYWwgaW5mb3JtYXRpb24gZnJvbSBIVUFXRUksIHdoaWNoDQppcyBpbnRlbmRl
ZCBvbmx5IGZvciB0aGUgcGVyc29uIG9yIGVudGl0eSB3aG9zZSBhZGRyZXNzIGlzIGxpc3RlZCBh
Ym92ZS4gQW55IHVzZSBvZiB0aGUNCmluZm9ybWF0aW9uIGNvbnRhaW5lZCBoZXJlaW4gaW4gYW55
IHdheSAoaW5jbHVkaW5nLCBidXQgbm90IGxpbWl0ZWQgdG8sIHRvdGFsIG9yIHBhcnRpYWwNCmRp
c2Nsb3N1cmUsIHJlcHJvZHVjdGlvbiwgb3IgZGlzc2VtaW5hdGlvbikgYnkgcGVyc29ucyBvdGhl
ciB0aGFuIHRoZSBpbnRlbmRlZA0KcmVjaXBpZW50KHMpIGlzIHByb2hpYml0ZWQuIElmIHlvdSBy
ZWNlaXZlIHRoaXMgZS1tYWlsIGluIGVycm9yLCBwbGVhc2Ugbm90aWZ5IHRoZSBzZW5kZXIgYnkN
CnBob25lIG9yIGVtYWlsIGltbWVkaWF0ZWx5IGFuZCBkZWxldGUgaXQhDQo=

--_000_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_
Content-Type: text/html; charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40">
<head>
<meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dgb2312">
<meta name=3D"Generator" content=3D"Microsoft Word 12 (filtered medium)">
<!--[if !mso]><style>v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:=CB=CE=CC=E5;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"\@=CB=CE=CC=E5";
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:=BB=AA=CE=C4=CF=B8=BA=DA;
	panose-1:2 1 6 0 4 1 1 1 1 1;}
@font-face
	{font-family:"\@=BB=AA=CE=C4=CF=B8=BA=DA";
	panose-1:2 1 6 0 4 1 1 1 1 1;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	font-size:10.5pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:#943634;}
.MsoChpDefault
	{mso-style-type:export-only;}
/* Page Definitions */
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"2050" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]-->
</head>
<body lang=3D"ZH-CN" link=3D"blue" vlink=3D"purple" style=3D"text-justify-t=
rim:punctuation">
<div class=3D"WordSection1">
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">Tomcat version</span><span style=3D"font-size:12.0pt;font-family:=
=CB=CE=CC=E5;color:#943634">=A3=BA</span><span lang=3D"EN-US" style=3D"font=
-size:12.0pt;color:#943634">7.0.29<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">Question</span><span style=3D"font-size:12.0pt;font-family:=CB=CE=
=CC=E5;color:#943634">=A3=BA</span><span lang=3D"EN-US" style=3D"font-size:=
12.0pt;color:#943634"><o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:21.0pt;text-indent:21.0pt"><spa=
n lang=3D"EN-US" style=3D"font-size:12.0pt;color:#943634">I config in my se=
rver.xml for a HTTP Connector named =A1=B0MGMT=A1=B1:<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:21.0pt;text-indent:21.0pt"><spa=
n lang=3D"EN-US" style=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p>=
</span></p>
<p class=3D"MsoNormal" style=3D"margin-left:21.0pt;text-indent:21.0pt"><i><=
span lang=3D"EN-US" style=3D"font-size:14.0pt;color:red">threadPriority=3D&=
quot;java.lang.Thread#Thread.MAX_PRIORITY&quot;<o:p></o:p></span></i></p>
<p class=3D"MsoNormal" style=3D"margin-left:21.0pt;text-indent:21.0pt"><spa=
n lang=3D"EN-US" style=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p>=
</span></p>
<p class=3D"MsoNormal" style=3D"margin-left:21.0pt;text-indent:21.0pt"><spa=
n lang=3D"EN-US" style=3D"font-size:12.0pt;color:#943634">When application =
is starting up</span><span style=3D"font-size:12.0pt;font-family:=CB=CE=CC=
=E5;color:#943634">=A3=AC</span><span lang=3D"EN-US" style=3D"font-size:12.=
0pt;color:#943634">the
 catalina.out gives some warning information:<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><i><span lang=3D"EN-US"=
 style=3D"font-size:14.0pt;color:red">WARNING: [SetAllPropertiesRule]{Serve=
r/Service/Connector} Setting property 'threadPriority' to 'java.lang.Thread=
#MAX_PRIORITY' did not find a matching property.<o:p></o:p></span></i></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634">I search on google and did not get a=
ny useful help;<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634">I also search documentation on the a=
pache.org and make sure that 'threadPriority' is a legal attribute for HTTP=
 Connector</span><span style=3D"font-size:12.0pt;font-family:=CB=CE=CC=E5;c=
olor:#943634">=A3=AC</span><span lang=3D"EN-US" style=3D"font-size:12.0pt;c=
olor:#943634">so
 I wonder why would this warning information will come up.<o:p></o:p></span=
></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634">Please tell me what=A1=AFs wrong, Th=
ank you!<o:p></o:p></span></p>
<p class=3D"MsoNormal" style=3D"margin-left:42.0pt"><span lang=3D"EN-US" st=
yle=3D"font-size:12.0pt;color:#943634"><o:p>&nbsp;</o:p></span></p>
<div class=3D"MsoNormal" align=3D"center" style=3D"text-align:center"><span=
 lang=3D"EN-US" style=3D"font-size:12.0pt;font-family:=CB=CE=CC=E5;color:#9=
43634">
<hr size=3D"2" width=3D"100%" align=3D"center">
</span></div>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;
</span><span lang=3D"EN-US" style=3D"font-size:12.0pt;color:#943634">Patch =
my server.xml for more information:<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&lt;?xml version=3D'1.0' encoding=3D'utf-8'?&gt;<o:p></o:p></span=
></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&lt;!--<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; Licensed to the Apache Software Foundation (ASF) under one=
 or more<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; contributor license agreements.&nbsp; See the NOTICE file =
distributed with<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; this work for additional information regarding copyright o=
wnership.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; The ASF licenses this file to You under the Apache License=
, Version 2.0<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; (the &quot;License&quot;); you may not use this file excep=
t in compliance with<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; the License.&nbsp; You may obtain a copy of the License at=
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; http://www.apache.org/licenses/LIC=
ENSE-2.0<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; Unless required by applicable law or agreed to in writing,=
 software<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; distributed under the License is distributed on an &quot;A=
S IS&quot; BASIS,<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either expre=
ss or implied.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; See the License for the specific language governing permis=
sions and<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; limitations under the License.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">--&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&lt;!-- Note:&nbsp; A &quot;Server&quot; is not itself a &quot;Co=
ntainer&quot;, so you may not<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp; define subcomponents such as &quot;Valve=
s&quot; at this level.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;Documentation at /docs/config/server.html=
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">--&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&lt;Server port=3D&quot;-1&quot; shutdown=3D&quot;SHUTDOWN&quot;&=
gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!-- Security listener. Documentation at /docs/config/l=
isteners.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.securit=
y.SecurityListener&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!--APR library loader. Documentation at /docs/apr.html=
 --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.core.Ap=
rLifecycleListener&quot; SSLEngine=3D&quot;on&quot; /&gt;<o:p></o:p></span>=
</p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!--Initialize Jasper prior to webapps are loaded. Docu=
mentation at /docs/jasper-howto.html --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.core.Ja=
sperListener&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!-- Prevent memory leaks due to use of particular java=
/javax APIs--&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.core.Jr=
eMemoryLeakPreventionListener&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.mbeans.=
GlobalResourcesLifecycleListener&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Listener className=3D&quot;org.apache.catalina.core.Th=
readLocalLeakPreventionListener&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!-- Global JNDI resources<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Documentation at /docs/jndi-=
resources-howto.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;GlobalNamingResources&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- Editable user database that can also b=
e used by<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; UserDatabaseReal=
m to authenticate users<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Resource name=3D&quot;UserDatabase&quot; a=
uth=3D&quot;Container&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; type=3D&quot;org.apache.catalina.UserDatabase&quot;<o:p></o:p=
></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; description=3D&quot;User database that can be updated and sav=
ed&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; factory=3D&quot;org.apache.catalina.users.MemoryUserDatabaseF=
actory&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp; pathname=3D&quot;conf/tomcat-users.xml&quot; /&gt;<o:p></o:p>=
</span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;/GlobalNamingResources&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;!-- A &quot;Service&quot; is a collection of one or mo=
re &quot;Connectors&quot; that share<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a single &quot;Container&quo=
t; Note:&nbsp; A &quot;Service&quot; is not itself a &quot;Container&quot;,=
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; so you may not define subcom=
ponents such as &quot;Valves&quot; at this level.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Documentation at /docs/confi=
g/service.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;Service name=3D&quot;Catalina&quot;&gt;<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!--The connectors can use a shared executo=
r, you can define one or more named thread pools--&gt;<o:p></o:p></span></p=
>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!--<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Executor name=3D&quot;tomcatThreadPool&quo=
t; namePrefix=3D&quot;catalina-exec-&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; maxThreads=3D&quot;150=
&quot; minSpareThreads=3D&quot;4&quot;/&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- A &quot;Connector&quot; represents an =
endpoint by which requests are received<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and responses ar=
e returned. Documentation at :<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Java HTTP Connec=
tor: /docs/config/http.html (blocking &amp; non-blocking)<o:p></o:p></span>=
</p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Java AJP&nbsp; C=
onnector: /docs/config/ajp.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; APR (HTTP/AJP) C=
onnector: /docs/apr.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Define a non-SSL=
 HTTP/1.1 Connector on port 8080<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!--Connector for application--&gt;<o:p></o=
:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Connector server=3D&quot;APP&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;port=3D&quot;13080&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;protocol=3D&quot;org.apache.coyote.http11.Http11Ni=
oProtocol&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;connectionTimeout=3D&quot;20000&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;acceptCount=3D&quot;2000&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;maxThreads=3D&quot;1200&quot;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;minSpareThreads=3D&quot;10&quot;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;compression=3D&quot;on&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;compressionMinSize=3D&quot;2048&quot;<o:p></o:p></=
span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;maxPostSize=3D&quot;10240&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;allowTrace=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;redirectPort=3D&quot;13443&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;enableLookups=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;xpoweredBy=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;compressableMimeType=3D&quot;text/xml,application/=
octet-stream,application/json&quot;/&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- A &quot;Connector&quot; using the shar=
ed thread pool--&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- &lt;Connector executor=3D&quot;tomcatT=
hreadPool&quot; port=3D&quot;19998&quot; protocol=3D&quot;HTTP/1.1&quot; co=
nnectionTimeout=3D&quot;20000&quot; redirectPort=3D&quot;8542&quot; /&gt;&n=
bsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- Define a SSL HTTP/1.1 Connector on por=
t 8443<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This connector us=
es the JSSE configuration, when using APR, the<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; connector should=
 be using the OpenSSL style configuration<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; described in the=
 APR documentation --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--Connector for management--&gt;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Connector server=3D&quot;MGMT&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;p=
ort=3D&quot;13089&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol=3D&quot;HTTP/1.1&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxThreads=3D&quot;120&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;acceptCount=3D&quot;200&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enableLookups=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xpoweredBy=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><b><span lang=3D"EN-US" style=
=3D"font-size:12.0pt;color:red">threadPriority=3D&quot;java.lang.Thread#MAX=
_PRIORITY&quot;<o:p></o:p></span></b></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; redirectPort=3D&quot;13443&quot; /&gt;<o:p></o:p></span=
></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!--Connector for https--&gt;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Connector server=3D&quot;HTTPS&quot;<o:p><=
/o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; port=3D&quot;13443&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;protocol=3D&quot;org.apache.coyote.http11.Http11Ni=
oProtocol&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;SSLEnabled =3D&quot;true&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;sslProtocol =3D&quot;TLS&quot;<o:p></o:p></span></=
p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; acceptCount=3D&quot;2000&quot;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;minSpareThreads=3D&quot;10&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;enableLookups=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;scheme=3D&quot;https&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;secure=3D&quot;true&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;clientAuth=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;keystoreFile=3D&quot;conf/key.store&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;keystorePass=3D&quot;oa5l5Azob7HhWOsjJZyjOQ=3D=3D&=
quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; ciphers=3D&quot;SSL_RSA_WITH_RC4_128_SHA,TLS_RSA_WITH_A=
ES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_DSS_WITH_AES_128_CB=
C_SHA,SSL_RSA_WITH_3DES_EDE_CBC_SHA,SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA,SSL_D=
HE_DSS_WITH_3DES_EDE_CBC_SHA&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; maxPostSize=3D&quot;10240&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;connectionTimeout=3D&quot;20000&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;allowTrace=3D&quot;false&quot;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;xpoweredBy=3D&quot;false&quot; /&gt;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- Define an AJP 1.3 Connector on port 80=
09 --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- &lt;Connector port=3D&quot;18010&quot;=
 protocol=3D&quot;AJP/1.3&quot; connectionTimeout=3D&quot;20000&quot;&nbsp;=
 maxPostSize=3D&quot;10240&quot; redirectPort=3D&quot;8542&quot; allowTrace=
=3D&quot;false&quot; xpoweredBy=3D&quot;false&quot; /&gt;&nbsp; --&gt;<o:p>=
</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- An Engine represents the entry point (=
within Catalina) that processes<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; every request.&n=
bsp; The Engine implementation for Tomcat stand alone<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; analyzes the HTT=
P headers included with the request, and passes them<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on to the approp=
riate Host (virtual host).<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Documentation at=
 /docs/config/engine.html --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;!-- You should set jvmRoute to support loa=
d-balancing via AJP ie :<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Engine name=3D&quot;Catalina&quot; default=
Host=3D&quot;localhost&quot; jvmRoute=3D&quot;jvm1&quot;&gt;<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;Engine name=3D&quot;Catalina&quot; default=
Host=3D&quot;localhost&quot;&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--For clustering, please take=
 a look at documentation at:<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /docs/clus=
ter-howto.html&nbsp; (simple how to)<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /docs/conf=
ig/cluster.html (reference documentation) --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Cluster className=3D&quot;org.=
apache.catalina.ha.tcp.SimpleTcpCluster&quot;/&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- Use the LockOutRealm to pr=
event attempts to guess user passwords<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; via =
a brute-force attack --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Realm className=3D&quot;org.ap=
ache.catalina.realm.LockOutRealm&quot; failureCount=3D&quot;3&quot; lockOut=
Time=3D&quot;600&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cacheSize=3D&quot;1000&quot;=
 cacheRemovalWarningTime=3D&quot;3600&quot;&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- This Realm use=
s the UserDatabase configured in the global JNDI<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; resources under the key &quot;UserDatabase&quot;.&nbsp; Any edits<o=
:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; that are performed against this UserDatabase are immediately<o:p></=
o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; available for use by the Realm.&nbsp; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Realm className=3D=
&quot;org.apache.catalina.realm.UserDatabaseRealm&quot; digest=3D&quot;sha&=
quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; resourceName=3D&quot;UserDatabase&quot;/&gt;<o:p></o:p>=
</span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Realm&gt;<o:p></o:p></span></=
p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Host name=3D&quot;localhost&qu=
ot;&nbsp; appBase=3D&quot;webapps&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
; unpackWARs=3D&quot;true&quot; autoDeploy=3D&quot;false&quot; deployOnStar=
tup=3D&quot;false&quot; &gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Context path=3D&quot;/mg=
mtWeb&quot; docBase=3D&quot;mgmtWeb&quot; reloadable=3D&quot;false&quot; /&=
gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- Link to the user dat=
abase we will get roles from --&gt;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--Valve className=3D&qu=
ot;org.apache.catalina.valves.RemoteAddrValve&quot; allow=3D&quot;10.138.25=
.108&quot; /&gt;--&gt;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- Link to t=
he user database we will get roles from --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- &lt;Context path=3D&=
quot;/test&quot; reloadable-&quot;true&quot; docBase=3D&quot;test&quot; /&g=
t; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- SingleSignOn v=
alve, share authentication between web applications<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbs=
p;&nbsp;Documentation at: /docs/config/valve.html --&gt;<o:p></o:p></span><=
/p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!--<o:p></o:p></sp=
an></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Valve className=3D=
&quot;org.apache.catalina.authenticator.SingleSignOn&quot; /&gt;<o:p></o:p>=
</span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt;<o:p></o:p></spa=
n></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;!-- Access log pro=
cesses all example.<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp; Documentation at: /docs/config/valve.html<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;Note: The pattern used is equivalent to using pattern=3D&quot;common=
&quot; --&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Valve className=3D=
&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=3D&quot;log=
s&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; prefix=3D&quot;localhost_access_log.&quot; suffix=3D&qu=
ot;.txt&quot;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp; pattern=3D&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %=
b&quot; /&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/Host&gt;
<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp;&nbsp;&nbsp; &lt;/Engine&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&nbsp; &lt;/Service&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634">&lt;/Server&gt;<o:p></o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<p class=3D"MsoNormal"><span lang=3D"EN-US" style=3D"font-size:12.0pt;color=
:#943634"><o:p>&nbsp;</o:p></span></p>
<div class=3D"MsoNormal" align=3D"center" style=3D"text-align:center"><span=
 lang=3D"EN-US" style=3D"font-size:12.0pt;font-family:=CB=CE=CC=E5;color:#9=
43634">
<hr size=3D"2" width=3D"100%" align=3D"center">
</span></div>
<p class=3D"MsoNormal" align=3D"left" style=3D"text-align:left"><span style=
=3D"font-size:10.0pt;font-family:=BB=AA=CE=C4=CF=B8=BA=DA;color:black">=CE=
=BA=CF=E8<span lang=3D"EN-US"><br>
</span>=BB=AA=CE=AA=BC=BC=CA=F5=D3=D0=CF=DE=B9=AB=CB=BE<span lang=3D"EN-US"=
> Huawei Technologies Co., Ltd.<br>
</span></span><!--[if gte vml 1]><v:shapetype id=3D"_x0000_t75" coordsize=
=3D"21600,21600" o:spt=3D"75" o:preferrelative=3D"t" path=3D"m@4@5l@4@11@9@=
11@9@5xe" filled=3D"f" stroked=3D"f">
<v:stroke joinstyle=3D"miter" />
<v:formulas>
<v:f eqn=3D"if lineDrawn pixelLineWidth 0" />
<v:f eqn=3D"sum @0 1 0" />
<v:f eqn=3D"sum 0 0 @1" />
<v:f eqn=3D"prod @2 1 2" />
<v:f eqn=3D"prod @3 21600 pixelWidth" />
<v:f eqn=3D"prod @3 21600 pixelHeight" />
<v:f eqn=3D"sum @0 0 1" />
<v:f eqn=3D"prod @6 1 2" />
<v:f eqn=3D"prod @7 21600 pixelWidth" />
<v:f eqn=3D"sum @8 21600 0" />
<v:f eqn=3D"prod @7 21600 pixelHeight" />
<v:f eqn=3D"sum @10 21600 0" />
</v:formulas>
<v:path o:extrusionok=3D"f" gradientshapeok=3D"t" o:connecttype=3D"rect" />
<o:lock v:ext=3D"edit" aspectratio=3D"t" />
</v:shapetype><v:shape id=3D"ridImg" o:spid=3D"_x0000_s1026" type=3D"#_x000=
0_t75" alt=3D"Company_logo" style=3D'position:absolute;margin-left:0;margin=
-top:0;width:76.5pt;height:24pt;z-index:1;visibility:visible;mso-wrap-style=
:square;mso-wrap-distance-left:0;mso-wrap-distance-top:0;mso-wrap-distance-=
right:0;mso-wrap-distance-bottom:0;mso-position-horizontal:left;mso-positio=
n-horizontal-relative:text;mso-position-vertical:absolute;mso-position-vert=
ical-relative:line' o:allowoverlap=3D"f">
<v:imagedata src=3D"cid:image001.jpg@01CDD155.2479F490" o:href=3D"file:///C=
:\Users\w00191652.CHINA\Application%20Data\Microsoft\Signatures\company_log=
o.jpg" />
<w:wrap type=3D"square" anchory=3D"line"/>
</v:shape><![endif]--><![if !vml]><img width=3D"102" height=3D"32" src=3D"c=
id:image001.jpg@01CDD155.2479F490" align=3D"left" alt=3D"Company_logo" v:sh=
apes=3D"ridImg"><![endif]><span lang=3D"EN-US" style=3D"font-size:10.0pt;fo=
nt-family:=BB=AA=CE=C4=CF=B8=BA=DA;color:black"><br>
<br>
Phone: 025-56620390<br>
Fax: <br>
Mobile: 15850503037<br>
Email: kurt.weixiang@huawei.com<br>
</span><span style=3D"font-size:10.0pt;font-family:=BB=AA=CE=C4=CF=B8=BA=DA=
;color:black">=B5=D8=D6=B7=A3=BA=C4=CF=BE=A9=CA=D0=D3=EA=BB=A8=C7=F8=C8=ED=
=BC=FE=B4=F3=B5=C0<span lang=3D"EN-US">101</span>=BA=C5=BB=AA=CE=AA=C4=CF=
=BE=A9=D1=D0=BE=BF=CB=F9 =D3=CA=B1=E0=A3=BA<span lang=3D"EN-US">210000<br>
Huawei Technologies Co., Ltd.<br>
RuanJianDaDao, YuHua District,NanJing 210000 P.R.China<br>
http://www.huawei.com</span></span><span lang=3D"EN-US" style=3D"font-size:=
12.0pt;font-family:=CB=CE=CC=E5;color:#943634">
<o:p></o:p></span></p>
<div class=3D"MsoNormal" align=3D"center" style=3D"text-align:center"><span=
 lang=3D"EN-US" style=3D"font-size:12.0pt;font-family:=CB=CE=CC=E5;color:#9=
43634">
<hr size=3D"2" width=3D"100%" align=3D"center">
</span></div>
<p class=3D"MsoNormal"><span style=3D"font-size:7.5pt;font-family:=BB=AA=CE=
=C4=CF=B8=BA=DA;color:gray">=B1=BE=D3=CA=BC=FE=BC=B0=C6=E4=B8=BD=BC=FE=BA=
=AC=D3=D0=BB=AA=CE=AA=B9=AB=CB=BE=B5=C4=B1=A3=C3=DC=D0=C5=CF=A2=A3=AC=BD=F6=
=CF=DE=D3=DA=B7=A2=CB=CD=B8=F8=C9=CF=C3=E6=B5=D8=D6=B7=D6=D0=C1=D0=B3=F6=B5=
=C4=B8=F6=C8=CB=BB=F2=C8=BA=D7=E9=A1=A3=BD=FB<span lang=3D"EN-US"><br>
</span>=D6=B9=C8=CE=BA=CE=C6=E4=CB=FB=C8=CB=D2=D4=C8=CE=BA=CE=D0=CE=CA=BD=
=CA=B9=D3=C3=A3=A8=B0=FC=C0=A8=B5=AB=B2=BB=CF=DE=D3=DA=C8=AB=B2=BF=BB=F2=B2=
=BF=B7=D6=B5=D8=D0=B9=C2=B6=A1=A2=B8=B4=D6=C6=A1=A2=BB=F2=C9=A2=B7=A2=A3=A9=
=B1=BE=D3=CA=BC=FE=D6=D0<span lang=3D"EN-US"><br>
</span>=B5=C4=D0=C5=CF=A2=A1=A3=C8=E7=B9=FB=C4=FA=B4=ED=CA=D5=C1=CB=B1=BE=
=D3=CA=BC=FE=A3=AC=C7=EB=C4=FA=C1=A2=BC=B4=B5=E7=BB=B0=BB=F2=D3=CA=BC=FE=CD=
=A8=D6=AA=B7=A2=BC=FE=C8=CB=B2=A2=C9=BE=B3=FD=B1=BE=D3=CA=BC=FE=A3=A1<span =
lang=3D"EN-US"><br>
</span></span><span lang=3D"EN-US" style=3D"font-size:7.5pt;font-family:&qu=
ot;Arial&quot;,&quot;sans-serif&quot;;color:gray">This e-mail and its attac=
hments contain confidential information from HUAWEI, which
<br>
is intended only for the person or entity whose address is listed above. An=
y use of the
<br>
information contained herein in any way (including, but not limited to, tot=
al or partial
<br>
disclosure, reproduction, or dissemination) by persons other than the inten=
ded <br>
recipient(s) is prohibited. If you receive this e-mail in error, please not=
ify the sender by
<br>
phone or email immediately and delete it!</span><span lang=3D"EN-US"><o:p><=
/o:p></span></p>
</div>
</body>
</html>

--_000_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_--

--_004_87A2EF9B84859D4CB9EEE8A929888B4529CB7F7Aszxeml502mbxchi_--

From users-return-238317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 05:36:21 2012
Return-Path: <users-return-238317-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B88E1E539
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 05:36:21 +0000 (UTC)
Received: (qmail 2782 invoked by uid 500); 3 Dec 2012 05:36:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2645 invoked by uid 500); 3 Dec 2012 05:36:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2614 invoked by uid 99); 3 Dec 2012 05:36:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:36:16 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of xueshengzj@163.com designates 220.181.13.102 as permitted sender)
Received: from [220.181.13.102] (HELO m13-102.163.com) (220.181.13.102)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:36:06 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=163.com;
	s=s110527; h=Received:Date:From:To:Subject:In-Reply-To:
	References:Content-Type:MIME-Version:Message-ID; bh=2uzx79lim4KB
	Q83c4QJioijSNiJKoGBXAR2YeZ64rCM=; b=RhsW7XCmmGAV5wEW6f7JMlUSgxLV
	GTvB7XgWPkIRVcPpys1qn9yfY/9OQ9I8+AGkahaLQWjzECvJDLWuB1f7fo7iujuf
	5IlMA1srNi+nBL3dJQh3Rkjn09cYIAyTaUJMHB/E23vKK2k5OQGbGn5syhGLC6On
	5C4t62BClQ7qAsI=
Received: from xueshengzj$163.com ( [61.186.139.77] ) by
 ajax-webmail-wmsvr102 (Coremail) ; Mon, 3 Dec 2012 13:35:42 +0800 (CST)
X-Originating-IP: [61.186.139.77]
Date: Mon, 3 Dec 2012 13:35:42 +0800 (CST)
From: xueshengzj  <xueshengzj@163.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
Subject: Re:Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
X-Priority: 3
X-Mailer: Coremail Webmail Server Version SP_ntes V3.5 build
 20121107(20462.5035.5036) Copyright (c) 2002-2012 www.mailtech.cn 163com
In-Reply-To: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
X-CM-CTRLDATA: lQe+1mZvb3Rlcl9odG09NDE3NTQ6ODE=
Content-Type: multipart/alternative; 
	boundary="----=_Part_157171_1516621808.1354512942316"
MIME-Version: 1.0
Message-ID: <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com>
X-CM-TRANSID:ZsGowEC5qUIvOrxQpCxmAA--.2200W
X-CM-SenderInfo: p0xh2xhhqj6yi6rwjhhfrp/1tbiTwh6JU9o2uqyEgABsu
X-Coremail-Antispam: 1U5529EdanIXcx71UUUUU7vcSsGvfC2KfnxnUU==
X-Virus-Checked: Checked by ClamAV on apache.org

------=_Part_157171_1516621808.1354512942316
Content-Type: text/plain; charset=GBK
Content-Transfer-Encoding: base64

SGksIGhhdmUgeW91IHNlZW4gdGhlIGVycm9yIHRoYXQgc2hvdyBpdC4gSXQgdGVsbCB1cyB0aGF0
IHRoZSBwcm9wZXJ0eSBpcyBub3QgbWF0Y2hlZC4gIFRoZSB0aHJlYWQgcHJpb3JpdHkgZm9yIHRo
cmVhZHMgaW4gdGhlIGV4ZWN1dG9yLCB0aGUgZGVmYXVsdCBpcyBUaHJlYWQuTk9STV9QUklPUklU
WS4gSXQgc2hvdWxkIHJldHVybiBpbnRlZ2VyLgoKCgoKCgrU2iAyMDEyLTEyLTAzIDEyOjUzOjA4
o6xXZWl4aWFuZyA8a3VydC53ZWl4aWFuZ0BodWF3ZWkuY29tPiDQtLXAo7oKCgpUb21jYXQgdmVy
c2lvbqO6Ny4wLjI5CgogCgpRdWVzdGlvbqO6CgpJIGNvbmZpZyBpbiBteSBzZXJ2ZXIueG1sIGZv
ciBhIEhUVFAgQ29ubmVjdG9yIG5hbWVkIKGwTUdNVKGxOgoKIAoKdGhyZWFkUHJpb3JpdHk9Imph
dmEubGFuZy5UaHJlYWQjVGhyZWFkLk1BWF9QUklPUklUWSIKCiAKCldoZW4gYXBwbGljYXRpb24g
aXMgc3RhcnRpbmcgdXCjrHRoZSBjYXRhbGluYS5vdXQgZ2l2ZXMgc29tZSB3YXJuaW5nIGluZm9y
bWF0aW9uOgoKICAgICAgICAgICAgICAgICAgICAKCldBUk5JTkc6IFtTZXRBbGxQcm9wZXJ0aWVz
UnVsZV17U2VydmVyL1NlcnZpY2UvQ29ubmVjdG9yfSBTZXR0aW5nIHByb3BlcnR5ICd0aHJlYWRQ
cmlvcml0eScgdG8gJ2phdmEubGFuZy5UaHJlYWQjTUFYX1BSSU9SSVRZJyBkaWQgbm90IGZpbmQg
YSBtYXRjaGluZyBwcm9wZXJ0eS4KCiAKCkkgc2VhcmNoIG9uIGdvb2dsZSBhbmQgZGlkIG5vdCBn
ZXQgYW55IHVzZWZ1bCBoZWxwOwoKIAoKSSBhbHNvIHNlYXJjaCBkb2N1bWVudGF0aW9uIG9uIHRo
ZSBhcGFjaGUub3JnIGFuZCBtYWtlIHN1cmUgdGhhdCAndGhyZWFkUHJpb3JpdHknIGlzIGEgbGVn
YWwgYXR0cmlidXRlIGZvciBIVFRQIENvbm5lY3RvcqOsc28gSSB3b25kZXIgd2h5IHdvdWxkIHRo
aXMgd2FybmluZyBpbmZvcm1hdGlvbiB3aWxsIGNvbWUgdXAuCgogCgpQbGVhc2UgdGVsbCBtZSB3
aGF0oa9zIHdyb25nLCBUaGFuayB5b3UhCgogCgogICAgICAgICAgICAgIFBhdGNoIG15IHNlcnZl
ci54bWwgZm9yIG1vcmUgaW5mb3JtYXRpb246CgogCgo8P3htbCB2ZXJzaW9uPScxLjAnIGVuY29k
aW5nPSd1dGYtOCc/PgoKPCEtLQoKICBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZv
dW5kYXRpb24gKEFTRikgdW5kZXIgb25lIG9yIG1vcmUKCiAgY29udHJpYnV0b3IgbGljZW5zZSBh
Z3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZSBkaXN0cmlidXRlZCB3aXRoCgogIHRoaXMg
d29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVy
c2hpcC4KCiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGUgdG8gWW91IHVuZGVyIHRoZSBBcGFj
aGUgTGljZW5zZSwgVmVyc2lvbiAyLjAKCiAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1
c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGgKCiAgdGhlIExpY2Vuc2UuICBZ
b3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAKCiAgICAgIGh0dHA6Ly93
d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIAoKICBVbmxlc3MgcmVxdWlyZWQg
YnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgogIGRp
c3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIg
QkFTSVMsCgogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBl
aXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoKICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVj
aWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgogIGxpbWl0YXRpb25zIHVu
ZGVyIHRoZSBMaWNlbnNlLgoKLS0+Cgo8IS0tIE5vdGU6ICBBICJTZXJ2ZXIiIGlzIG5vdCBpdHNl
bGYgYSAiQ29udGFpbmVyIiwgc28geW91IG1heSBub3QKCiAgICAgZGVmaW5lIHN1YmNvbXBvbmVu
dHMgc3VjaCBhcyAiVmFsdmVzIiBhdCB0aGlzIGxldmVsLgoKICAgIERvY3VtZW50YXRpb24gYXQg
L2RvY3MvY29uZmlnL3NlcnZlci5odG1sCgotLT4KCjxTZXJ2ZXIgcG9ydD0iLTEiIHNodXRkb3du
PSJTSFVURE9XTiI+CgogIDwhLS0gU2VjdXJpdHkgbGlzdGVuZXIuIERvY3VtZW50YXRpb24gYXQg
L2RvY3MvY29uZmlnL2xpc3RlbmVycy5odG1sCgogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5h
cGFjaGUuY2F0YWxpbmEuc2VjdXJpdHkuU2VjdXJpdHlMaXN0ZW5lciIgLz4KCiAgLS0+CgogIDwh
LS1BUFIgbGlicmFyeSBsb2FkZXIuIERvY3VtZW50YXRpb24gYXQgL2RvY3MvYXByLmh0bWwgLS0+
CgogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5BcHJMaWZl
Y3ljbGVMaXN0ZW5lciIgU1NMRW5naW5lPSJvbiIgLz4KCiAgPCEtLUluaXRpYWxpemUgSmFzcGVy
IHByaW9yIHRvIHdlYmFwcHMgYXJlIGxvYWRlZC4gRG9jdW1lbnRhdGlvbiBhdCAvZG9jcy9qYXNw
ZXItaG93dG8uaHRtbCAtLT4KCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRh
bGluYS5jb3JlLkphc3Blckxpc3RlbmVyIiAvPgoKICA8IS0tIFByZXZlbnQgbWVtb3J5IGxlYWtz
IGR1ZSB0byB1c2Ugb2YgcGFydGljdWxhciBqYXZhL2phdmF4IEFQSXMtLT4KCiAgPExpc3RlbmVy
IGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLkpyZU1lbW9yeUxlYWtQcmV2ZW50
aW9uTGlzdGVuZXIiIC8+CgogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxp
bmEubWJlYW5zLkdsb2JhbFJlc291cmNlc0xpZmVjeWNsZUxpc3RlbmVyIiAvPgoKICA8TGlzdGVu
ZXIgY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuVGhyZWFkTG9jYWxMZWFrUHJl
dmVudGlvbkxpc3RlbmVyIiAvPgoKICA8IS0tIEdsb2JhbCBKTkRJIHJlc291cmNlcwoKICAgICAg
IERvY3VtZW50YXRpb24gYXQgL2RvY3Mvam5kaS1yZXNvdXJjZXMtaG93dG8uaHRtbAoKICAtLT4K
CiAgPEdsb2JhbE5hbWluZ1Jlc291cmNlcz4KCiAgICA8IS0tIEVkaXRhYmxlIHVzZXIgZGF0YWJh
c2UgdGhhdCBjYW4gYWxzbyBiZSB1c2VkIGJ5CgogICAgICAgICBVc2VyRGF0YWJhc2VSZWFsbSB0
byBhdXRoZW50aWNhdGUgdXNlcnMKCiAgICAtLT4KCiAgICA8UmVzb3VyY2UgbmFtZT0iVXNlckRh
dGFiYXNlIiBhdXRoPSJDb250YWluZXIiCgogICAgICAgICAgICAgIHR5cGU9Im9yZy5hcGFjaGUu
Y2F0YWxpbmEuVXNlckRhdGFiYXNlIgoKICAgICAgICAgICAgICBkZXNjcmlwdGlvbj0iVXNlciBk
YXRhYmFzZSB0aGF0IGNhbiBiZSB1cGRhdGVkIGFuZCBzYXZlZCIKCiAgICAgICAgICAgICAgZmFj
dG9yeT0ib3JnLmFwYWNoZS5jYXRhbGluYS51c2Vycy5NZW1vcnlVc2VyRGF0YWJhc2VGYWN0b3J5
IgoKICAgICAgICAgICAgICBwYXRobmFtZT0iY29uZi90b21jYXQtdXNlcnMueG1sIiAvPgoKICA8
L0dsb2JhbE5hbWluZ1Jlc291cmNlcz4KCiAKCiAgPCEtLSBBICJTZXJ2aWNlIiBpcyBhIGNvbGxl
Y3Rpb24gb2Ygb25lIG9yIG1vcmUgIkNvbm5lY3RvcnMiIHRoYXQgc2hhcmUKCiAgICAgICBhIHNp
bmdsZSAiQ29udGFpbmVyIiBOb3RlOiAgQSAiU2VydmljZSIgaXMgbm90IGl0c2VsZiBhICJDb250
YWluZXIiLAoKICAgICAgIHNvIHlvdSBtYXkgbm90IGRlZmluZSBzdWJjb21wb25lbnRzIHN1Y2gg
YXMgIlZhbHZlcyIgYXQgdGhpcyBsZXZlbC4KCiAgICAgICBEb2N1bWVudGF0aW9uIGF0IC9kb2Nz
L2NvbmZpZy9zZXJ2aWNlLmh0bWwKCiAgIC0tPgoKICA8U2VydmljZSBuYW1lPSJDYXRhbGluYSI+
CgogCgogICAgPCEtLVRoZSBjb25uZWN0b3JzIGNhbiB1c2UgYSBzaGFyZWQgZXhlY3V0b3IsIHlv
dSBjYW4gZGVmaW5lIG9uZSBvciBtb3JlIG5hbWVkIHRocmVhZCBwb29scy0tPgoKICAgIDwhLS0K
CiAgICA8RXhlY3V0b3IgbmFtZT0idG9tY2F0VGhyZWFkUG9vbCIgbmFtZVByZWZpeD0iY2F0YWxp
bmEtZXhlYy0iCgogICAgICAgIG1heFRocmVhZHM9IjE1MCIgbWluU3BhcmVUaHJlYWRzPSI0Ii8+
CgogICAgLS0+CgogCgogICAgPCEtLSBBICJDb25uZWN0b3IiIHJlcHJlc2VudHMgYW4gZW5kcG9p
bnQgYnkgd2hpY2ggcmVxdWVzdHMgYXJlIHJlY2VpdmVkCgogICAgICAgICBhbmQgcmVzcG9uc2Vz
IGFyZSByZXR1cm5lZC4gRG9jdW1lbnRhdGlvbiBhdCA6CgogICAgICAgICBKYXZhIEhUVFAgQ29u
bmVjdG9yOiAvZG9jcy9jb25maWcvaHR0cC5odG1sIChibG9ja2luZyAmIG5vbi1ibG9ja2luZykK
CiAgICAgICAgIEphdmEgQUpQICBDb25uZWN0b3I6IC9kb2NzL2NvbmZpZy9hanAuaHRtbAoKICAg
ICAgICAgQVBSIChIVFRQL0FKUCkgQ29ubmVjdG9yOiAvZG9jcy9hcHIuaHRtbAoKICAgICAgICAg
RGVmaW5lIGEgbm9uLVNTTCBIVFRQLzEuMSBDb25uZWN0b3Igb24gcG9ydCA4MDgwCgogICAgLS0+
CgogCgogICAgPCEtLUNvbm5lY3RvciBmb3IgYXBwbGljYXRpb24tLT4KCiAgICA8Q29ubmVjdG9y
IHNlcnZlcj0iQVBQIgoKICAgICAgICAgICAgICAgcG9ydD0iMTMwODAiCgogICAgICAgICAgICAg
ICBwcm90b2NvbD0ib3JnLmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMU5pb1Byb3RvY29sIgoK
ICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ9IjIwMDAwIgoKICAgICAgICAgICAgICAg
YWNjZXB0Q291bnQ9IjIwMDAiCgogICAgICAgICAgICAgICBtYXhUaHJlYWRzPSIxMjAwIiAKCiAg
ICAgICAgICAgICAgIG1pblNwYXJlVGhyZWFkcz0iMTAiIAoKICAgICAgICAgICAgICAgY29tcHJl
c3Npb249Im9uIgoKICAgICAgICAgICAgICAgY29tcHJlc3Npb25NaW5TaXplPSIyMDQ4IgoKICAg
ICAgICAgICAgICAgbWF4UG9zdFNpemU9IjEwMjQwIgoKICAgICAgICAgICAgICAgYWxsb3dUcmFj
ZT0iZmFsc2UiCgogICAgICAgICAgICAgICByZWRpcmVjdFBvcnQ9IjEzNDQzIgoKICAgICAgICAg
ICAgICAgZW5hYmxlTG9va3Vwcz0iZmFsc2UiCgogICAgICAgICAgICAgICB4cG93ZXJlZEJ5PSJm
YWxzZSIKCiAgICAgICAgICAgICAgIGNvbXByZXNzYWJsZU1pbWVUeXBlPSJ0ZXh0L3htbCxhcHBs
aWNhdGlvbi9vY3RldC1zdHJlYW0sYXBwbGljYXRpb24vanNvbiIvPgoKIAoKICAgIDwhLS0gQSAi
Q29ubmVjdG9yIiB1c2luZyB0aGUgc2hhcmVkIHRocmVhZCBwb29sLS0+CgogICAgPCEtLSA8Q29u
bmVjdG9yIGV4ZWN1dG9yPSJ0b21jYXRUaHJlYWRQb29sIiBwb3J0PSIxOTk5OCIgcHJvdG9jb2w9
IkhUVFAvMS4xIiBjb25uZWN0aW9uVGltZW91dD0iMjAwMDAiIHJlZGlyZWN0UG9ydD0iODU0MiIg
Lz4gIC0tPgoKICAgIDwhLS0gRGVmaW5lIGEgU1NMIEhUVFAvMS4xIENvbm5lY3RvciBvbiBwb3J0
IDg0NDMKCiAgICAgICAgVGhpcyBjb25uZWN0b3IgdXNlcyB0aGUgSlNTRSBjb25maWd1cmF0aW9u
LCB3aGVuIHVzaW5nIEFQUiwgdGhlCgogICAgICAgICBjb25uZWN0b3Igc2hvdWxkIGJlIHVzaW5n
IHRoZSBPcGVuU1NMIHN0eWxlIGNvbmZpZ3VyYXRpb24KCiAgICAgICAgIGRlc2NyaWJlZCBpbiB0
aGUgQVBSIGRvY3VtZW50YXRpb24gLS0+CgogICAgICAgIAoKICAgIDwhLS1Db25uZWN0b3IgZm9y
IG1hbmFnZW1lbnQtLT4gICAgICAKCiAgICA8Q29ubmVjdG9yIHNlcnZlcj0iTUdNVCIKCiAgICAg
ICAgICAgICAgICAgICAgICAgIHBvcnQ9IjEzMDg5IgoKICAgICAgICAgICAgICAgICAgcHJvdG9j
b2w9IkhUVFAvMS4xIgoKICAgICAgICAgICAgICAgICAgbWF4VGhyZWFkcz0iMTIwIgoKICAgICAg
ICAgICAgICAgICAgYWNjZXB0Q291bnQ9IjIwMCIKCiAgICAgICAgICAgICAgICAgIGVuYWJsZUxv
b2t1cHM9ImZhbHNlIgoKICAgICAgICAgICAgICAgICAgeHBvd2VyZWRCeT0iZmFsc2UiCgogICAg
ICAgICAgICAgICAgICB0aHJlYWRQcmlvcml0eT0iamF2YS5sYW5nLlRocmVhZCNNQVhfUFJJT1JJ
VFkiCgogICAgICAgICAgICAgICByZWRpcmVjdFBvcnQ9IjEzNDQzIiAvPgoKIAoKICAgIDwhLS1D
b25uZWN0b3IgZm9yIGh0dHBzLS0+ICAgICAKCiAgICA8Q29ubmVjdG9yIHNlcnZlcj0iSFRUUFMi
CgogICAgICAgICAgICAgICBwb3J0PSIxMzQ0MyIKCiAgICAgICAgICAgICAgIHByb3RvY29sPSJv
cmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExTmlvUHJvdG9jb2wiCgogICAgICAgICAgICAg
ICBTU0xFbmFibGVkID0idHJ1ZSIKCiAgICAgICAgICAgICAgIHNzbFByb3RvY29sID0iVExTIgoK
ICAgICAgICAgICAgICAgYWNjZXB0Q291bnQ9IjIwMDAiIAoKICAgICAgICAgICAgICAgbWluU3Bh
cmVUaHJlYWRzPSIxMCIKCiAgICAgICAgICAgICAgIGVuYWJsZUxvb2t1cHM9ImZhbHNlIgoKICAg
ICAgICAgICAgICAgc2NoZW1lPSJodHRwcyIKCiAgICAgICAgICAgICAgIHNlY3VyZT0idHJ1ZSIK
CiAgICAgICAgICAgICAgIGNsaWVudEF1dGg9ImZhbHNlIgoKICAgICAgICAgICAgICAga2V5c3Rv
cmVGaWxlPSJjb25mL2tleS5zdG9yZSIKCiAgICAgICAgICAgICAgIGtleXN0b3JlUGFzcz0ib2E1
bDVBem9iN0hoV09zakpaeWpPUT09IgoKICAgICAgICAgICAgICAgY2lwaGVycz0iU1NMX1JTQV9X
SVRIX1JDNF8xMjhfU0hBLFRMU19SU0FfV0lUSF9BRVNfMTI4X0NCQ19TSEEsVExTX0RIRV9SU0Ff
V0lUSF9BRVNfMTI4X0NCQ19TSEEsVExTX0RIRV9EU1NfV0lUSF9BRVNfMTI4X0NCQ19TSEEsU1NM
X1JTQV9XSVRIXzNERVNfRURFX0NCQ19TSEEsU1NMX0RIRV9SU0FfV0lUSF8zREVTX0VERV9DQkNf
U0hBLFNTTF9ESEVfRFNTX1dJVEhfM0RFU19FREVfQ0JDX1NIQSIKCiAgICAgICAgICAgICAgIG1h
eFBvc3RTaXplPSIxMDI0MCIKCiAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0PSIyMDAw
MCIKCiAgICAgICAgICAgICAgIGFsbG93VHJhY2U9ImZhbHNlIgoKICAgICAgICAgICAgICAgeHBv
d2VyZWRCeT0iZmFsc2UiIC8+IAoKIAoKICAgIDwhLS0gRGVmaW5lIGFuIEFKUCAxLjMgQ29ubmVj
dG9yIG9uIHBvcnQgODAwOSAtLT4KCiAgICA8IS0tIDxDb25uZWN0b3IgcG9ydD0iMTgwMTAiIHBy
b3RvY29sPSJBSlAvMS4zIiBjb25uZWN0aW9uVGltZW91dD0iMjAwMDAiICBtYXhQb3N0U2l6ZT0i
MTAyNDAiIHJlZGlyZWN0UG9ydD0iODU0MiIgYWxsb3dUcmFjZT0iZmFsc2UiIHhwb3dlcmVkQnk9
ImZhbHNlIiAvPiAgLS0+CgogCgogICAgPCEtLSBBbiBFbmdpbmUgcmVwcmVzZW50cyB0aGUgZW50
cnkgcG9pbnQgKHdpdGhpbiBDYXRhbGluYSkgdGhhdCBwcm9jZXNzZXMKCiAgICAgICAgIGV2ZXJ5
IHJlcXVlc3QuICBUaGUgRW5naW5lIGltcGxlbWVudGF0aW9uIGZvciBUb21jYXQgc3RhbmQgYWxv
bmUKCiAgICAgICAgIGFuYWx5emVzIHRoZSBIVFRQIGhlYWRlcnMgaW5jbHVkZWQgd2l0aCB0aGUg
cmVxdWVzdCwgYW5kIHBhc3NlcyB0aGVtCgogICAgICAgICBvbiB0byB0aGUgYXBwcm9wcmlhdGUg
SG9zdCAodmlydHVhbCBob3N0KS4KCiAgICAgICAgIERvY3VtZW50YXRpb24gYXQgL2RvY3MvY29u
ZmlnL2VuZ2luZS5odG1sIC0tPgoKIAoKICAgIDwhLS0gWW91IHNob3VsZCBzZXQganZtUm91dGUg
dG8gc3VwcG9ydCBsb2FkLWJhbGFuY2luZyB2aWEgQUpQIGllIDoKCiAgICA8RW5naW5lIG5hbWU9
IkNhdGFsaW5hIiBkZWZhdWx0SG9zdD0ibG9jYWxob3N0IiBqdm1Sb3V0ZT0ianZtMSI+CgogICAg
LS0+CgogICAgPEVuZ2luZSBuYW1lPSJDYXRhbGluYSIgZGVmYXVsdEhvc3Q9ImxvY2FsaG9zdCI+
CgogCgogICAgICA8IS0tRm9yIGNsdXN0ZXJpbmcsIHBsZWFzZSB0YWtlIGEgbG9vayBhdCBkb2N1
bWVudGF0aW9uIGF0OgoKICAgICAgICAgIC9kb2NzL2NsdXN0ZXItaG93dG8uaHRtbCAgKHNpbXBs
ZSBob3cgdG8pCgogICAgICAgICAgL2RvY3MvY29uZmlnL2NsdXN0ZXIuaHRtbCAocmVmZXJlbmNl
IGRvY3VtZW50YXRpb24pIC0tPgoKICAgICAgPCEtLQoKICAgICAgPENsdXN0ZXIgY2xhc3NOYW1l
PSJvcmcuYXBhY2hlLmNhdGFsaW5hLmhhLnRjcC5TaW1wbGVUY3BDbHVzdGVyIi8+CgogICAgICAt
LT4KCiAKCiAgICAgIDwhLS0gVXNlIHRoZSBMb2NrT3V0UmVhbG0gdG8gcHJldmVudCBhdHRlbXB0
cyB0byBndWVzcyB1c2VyIHBhc3N3b3JkcwoKICAgICAgICAgICB2aWEgYSBicnV0ZS1mb3JjZSBh
dHRhY2sgLS0+CgogICAgICA8UmVhbG0gY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLnJl
YWxtLkxvY2tPdXRSZWFsbSIgZmFpbHVyZUNvdW50PSIzIiBsb2NrT3V0VGltZT0iNjAwIgoKICAg
ICAgIGNhY2hlU2l6ZT0iMTAwMCIgY2FjaGVSZW1vdmFsV2FybmluZ1RpbWU9IjM2MDAiPgoKICAg
ICAgICA8IS0tIFRoaXMgUmVhbG0gdXNlcyB0aGUgVXNlckRhdGFiYXNlIGNvbmZpZ3VyZWQgaW4g
dGhlIGdsb2JhbCBKTkRJCgogICAgICAgICAgICAgcmVzb3VyY2VzIHVuZGVyIHRoZSBrZXkgIlVz
ZXJEYXRhYmFzZSIuICBBbnkgZWRpdHMKCiAgICAgICAgICAgICB0aGF0IGFyZSBwZXJmb3JtZWQg
YWdhaW5zdCB0aGlzIFVzZXJEYXRhYmFzZSBhcmUgaW1tZWRpYXRlbHkKCiAgICAgICAgICAgICBh
dmFpbGFibGUgZm9yIHVzZSBieSB0aGUgUmVhbG0uICAtLT4KCiAgICAgICAgPFJlYWxtIGNsYXNz
TmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5yZWFsbS5Vc2VyRGF0YWJhc2VSZWFsbSIgZGlnZXN0
PSJzaGEiCgogICAgICAgICAgICAgICByZXNvdXJjZU5hbWU9IlVzZXJEYXRhYmFzZSIvPgoKICAg
ICAgPC9SZWFsbT4KCiAKCiAgICAgIDxIb3N0IG5hbWU9ImxvY2FsaG9zdCIgIGFwcEJhc2U9Indl
YmFwcHMiCgogICAgICAgICAgICB1bnBhY2tXQVJzPSJ0cnVlIiBhdXRvRGVwbG95PSJmYWxzZSIg
ZGVwbG95T25TdGFydHVwPSJmYWxzZSIgPiAgICAgIAoKICAgICAgIDxDb250ZXh0IHBhdGg9Ii9t
Z210V2ViIiBkb2NCYXNlPSJtZ210V2ViIiByZWxvYWRhYmxlPSJmYWxzZSIgLz4KCiAgICAgICA8
IS0tIExpbmsgdG8gdGhlIHVzZXIgZGF0YWJhc2Ugd2Ugd2lsbCBnZXQgcm9sZXMgZnJvbSAtLT4K
CiAgICAgICA8IS0tVmFsdmUgY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLnZhbHZlcy5S
ZW1vdGVBZGRyVmFsdmUiIGFsbG93PSIxMC4xMzguMjUuMTA4IiAvPi0tPgoKICAgICAgCgogICAg
ICAgIDwhLS0gTGluayB0byB0aGUgdXNlciBkYXRhYmFzZSB3ZSB3aWxsIGdldCByb2xlcyBmcm9t
IC0tPgoKIAoKIAoKICAgICAgIDwhLS0gPENvbnRleHQgcGF0aD0iL3Rlc3QiIHJlbG9hZGFibGUt
InRydWUiIGRvY0Jhc2U9InRlc3QiIC8+IC0tPgoKIAoKICAgICAgICA8IS0tIFNpbmdsZVNpZ25P
biB2YWx2ZSwgc2hhcmUgYXV0aGVudGljYXRpb24gYmV0d2VlbiB3ZWIgYXBwbGljYXRpb25zCgog
ICAgICAgICAgICAgRG9jdW1lbnRhdGlvbiBhdDogL2RvY3MvY29uZmlnL3ZhbHZlLmh0bWwgLS0+
CgogICAgICAgIDwhLS0KCiAgICAgICAgPFZhbHZlIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRh
bGluYS5hdXRoZW50aWNhdG9yLlNpbmdsZVNpZ25PbiIgLz4KCiAgICAgICAgLS0+CgogCgogICAg
ICAgIDwhLS0gQWNjZXNzIGxvZyBwcm9jZXNzZXMgYWxsIGV4YW1wbGUuCgogICAgICAgICAgICAg
RG9jdW1lbnRhdGlvbiBhdDogL2RvY3MvY29uZmlnL3ZhbHZlLmh0bWwKCiAgICAgICAgICAgIE5v
dGU6IFRoZSBwYXR0ZXJuIHVzZWQgaXMgZXF1aXZhbGVudCB0byB1c2luZyBwYXR0ZXJuPSJjb21t
b24iIC0tPgoKICAgICAgICA8VmFsdmUgY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLnZh
bHZlcy5BY2Nlc3NMb2dWYWx2ZSIgZGlyZWN0b3J5PSJsb2dzIgoKICAgICAgICAgICAgICAgcHJl
Zml4PSJsb2NhbGhvc3RfYWNjZXNzX2xvZy4iIHN1ZmZpeD0iLnR4dCIKCiAgICAgICAgICAgICAg
IHBhdHRlcm49IiVoICVsICV1ICV0ICZxdW90OyVyJnF1b3Q7ICVzICViIiAvPgoKICAgICAgCgog
ICAgICA8L0hvc3Q+CgogCgogICAgPC9FbmdpbmU+CgogIDwvU2VydmljZT4KCjwvU2VydmVyPgoK
IAoKIAoKIAoKzrrP6Aq7qs6qvLzK9dPQz965q8u+IEh1YXdlaSBUZWNobm9sb2dpZXMgQ28uLCBM
dGQuCgoKUGhvbmU6IDAyNS01NjYyMDM5MApGYXg6Ck1vYmlsZTogMTU4NTA1MDMwMzcKRW1haWw6
IGt1cnQud2VpeGlhbmdAaHVhd2VpLmNvbQq12Na3o7rEz76pytDT6ruox/jI7bz+tPO1wDEwMbrF
u6rOqsTPvqnR0L6/y/kg08qx4KO6MjEwMDAwCkh1YXdlaSBUZWNobm9sb2dpZXMgQ28uLCBMdGQu
ClJ1YW5KaWFuRGFEYW8sIFl1SHVhIERpc3RyaWN0LE5hbkppbmcgMjEwMDAwIFAuUi5DaGluYQpo
dHRwOi8vd3d3Lmh1YXdlaS5jb20KCrG+08q8/rywxuS4vbz+uqzT0Luqzqq5q8u+tcSxo8Pc0MXP
oqOsvfbP3tPat6LLzbj4yc/D5rXY1rfW0MHQs/a1xLj2yMu78si61+mho737Cta5yM66zsbky/vI
y9LUyM66ztDOyr3KudPDo6iw/MCotauyu8/e09rIq7K/u/Kyv7fWtdjQucK2oaK4tNbGoaK78smi
t6KjqbG+08q8/tbQCrXE0MXPoqGjyOe5+8T6tO3K1cHLsb7Tyrz+o6zH68T6waK8tLXnu7C78tPK
vP7NqNaqt6K8/sjLsqLJvrP9sb7Tyrz+o6EKVGhpcyBlLW1haWwgYW5kIGl0cyBhdHRhY2htZW50
cyBjb250YWluIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbiBmcm9tIEhVQVdFSSwgd2hpY2gKaXMg
aW50ZW5kZWQgb25seSBmb3IgdGhlIHBlcnNvbiBvciBlbnRpdHkgd2hvc2UgYWRkcmVzcyBpcyBs
aXN0ZWQgYWJvdmUuIEFueSB1c2Ugb2YgdGhlCmluZm9ybWF0aW9uIGNvbnRhaW5lZCBoZXJlaW4g
aW4gYW55IHdheSAoaW5jbHVkaW5nLCBidXQgbm90IGxpbWl0ZWQgdG8sIHRvdGFsIG9yIHBhcnRp
YWwKZGlzY2xvc3VyZSwgcmVwcm9kdWN0aW9uLCBvciBkaXNzZW1pbmF0aW9uKSBieSBwZXJzb25z
IG90aGVyIHRoYW4gdGhlIGludGVuZGVkCnJlY2lwaWVudChzKSBpcyBwcm9oaWJpdGVkLiBJZiB5
b3UgcmVjZWl2ZSB0aGlzIGUtbWFpbCBpbiBlcnJvciwgcGxlYXNlIG5vdGlmeSB0aGUgc2VuZGVy
IGJ5CnBob25lIG9yIGVtYWlsIGltbWVkaWF0ZWx5IGFuZCBkZWxldGUgaXQh
------=_Part_157171_1516621808.1354512942316--


From users-return-238318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 05:43:30 2012
Return-Path: <users-return-238318-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 214ACE546
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 05:43:30 +0000 (UTC)
Received: (qmail 19484 invoked by uid 500); 3 Dec 2012 05:43:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19425 invoked by uid 500); 3 Dec 2012 05:43:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19406 invoked by uid 99); 3 Dec 2012 05:43:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:43:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kurt.weixiang@huawei.com designates 119.145.14.65 as permitted sender)
Received: from [119.145.14.65] (HELO szxga02-in.huawei.com) (119.145.14.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:43:18 +0000
Received: from 172.24.2.119 (EHLO szxeml206-edg.china.huawei.com) ([172.24.2.119])
	by szxrg02-dlp.huawei.com (MOS 4.3.4-GA FastPath queued)
	with ESMTP id ATQ00819;
	Mon, 03 Dec 2012 13:42:55 +0800 (CST)
Received: from SZXEML418-HUB.china.huawei.com (10.82.67.157) by
 szxeml206-edg.china.huawei.com (172.24.2.59) with Microsoft SMTP Server (TLS)
 id 14.1.323.3; Mon, 3 Dec 2012 13:42:50 +0800
Received: from SZXEML502-MBX.china.huawei.com ([169.254.2.89]) by
 szxeml418-hub.china.huawei.com ([10.82.67.157]) with mapi id 14.01.0323.003;
 Mon, 3 Dec 2012 13:42:51 +0800
From: Weixiang <kurt.weixiang@huawei.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: =?gb2312?B?tPC4tDogUmU6VG9tY2F0Ny4wLVNldHRpbmcgcHJvcGVydHkgJ3RocmVhZFBy?=
 =?gb2312?Q?iority'_did_not_find_a_matching_property?=
Thread-Topic: Re:Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Index: Ac3REhZYf1AzmeQeRDSvyBHfbZfjff//hcgA//95djA=
Date: Mon, 3 Dec 2012 05:42:50 +0000
Message-ID: <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
 <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com>
In-Reply-To: <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.138.12.59]
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-CFilter-Loop: Reflected
X-Virus-Checked: Checked by ClamAV on apache.org

VGhhbmsgeW91LCBhZnRlciBJIGNoYW5nZWQgJ2phdmEubGFuZy5UaHJlYWQjTUFYX1BSSU9SSVRZ
JyB0byBpbnRlZ2VyICcxMCcsIHRoZSB3YXJuaW5nIGRpc2FwcGVhcmVkIGluIHRvbWNhdCA3Lg0K
DQpCdXQgSSB1c2VyICdqYXZhLmxhbmcuVGhyZWFkI01BWF9QUklPUklUWScgaW4gdG9tY2F0IDYu
MC4zNSBhbmQgdGhlcmUncyBubyBhbnkgd2FybmluZy4NCg0KU28gSSB3YXMgd29uZGVyaW5nIHdo
ZXRoZXIgdGhlIHRvbWNhdCA2IGJsb2NrIHRoaXMgd2FybmluZyBvciBub3Q/DQoNCi0tLS0t08q8
/tStvP4tLS0tLQ0Kt6K8/sjLOiB4dWVzaGVuZ3pqIFttYWlsdG86eHVlc2hlbmd6akAxNjMuY29t
XSANCreiy83KsbzkOiAyMDEyxOoxMtTCM8jVIDEzOjM2DQrK1bz+yMs6IFRvbWNhdCBVc2VycyBM
aXN0DQrW98ziOiBSZTpUb21jYXQ3LjAtU2V0dGluZyBwcm9wZXJ0eSAndGhyZWFkUHJpb3JpdHkn
IGRpZCBub3QgZmluZCBhIG1hdGNoaW5nIHByb3BlcnR5DQoNCkhpLCBoYXZlIHlvdSBzZWVuIHRo
ZSBlcnJvciB0aGF0IHNob3cgaXQuIEl0IHRlbGwgdXMgdGhhdCB0aGUgcHJvcGVydHkgaXMgbm90
IG1hdGNoZWQuICBUaGUgdGhyZWFkIHByaW9yaXR5IGZvciB0aHJlYWRzIGluIHRoZSBleGVjdXRv
ciwgdGhlIGRlZmF1bHQgaXMgVGhyZWFkLk5PUk1fUFJJT1JJVFkuIEl0IHNob3VsZCByZXR1cm4g
aW50ZWdlci4NCg0KDQoNCg0KDQoNCtTaIDIwMTItMTItMDMgMTI6NTM6MDijrFdlaXhpYW5nIDxr
dXJ0LndlaXhpYW5nQGh1YXdlaS5jb20+INC0tcCjug0KDQoNClRvbWNhdCB2ZXJzaW9uo7o3LjAu
MjkNCg0KIA0KDQpRdWVzdGlvbqO6DQoNCkkgY29uZmlnIGluIG15IHNlcnZlci54bWwgZm9yIGEg
SFRUUCBDb25uZWN0b3IgbmFtZWQgobBNR01UobE6DQoNCiANCg0KdGhyZWFkUHJpb3JpdHk9Imph
dmEubGFuZy5UaHJlYWQjVGhyZWFkLk1BWF9QUklPUklUWSINCg0KIA0KDQpXaGVuIGFwcGxpY2F0
aW9uIGlzIHN0YXJ0aW5nIHVwo6x0aGUgY2F0YWxpbmEub3V0IGdpdmVzIHNvbWUgd2FybmluZyBp
bmZvcm1hdGlvbjoNCg0KICAgICAgICAgICAgICAgICAgICANCg0KV0FSTklORzogW1NldEFsbFBy
b3BlcnRpZXNSdWxlXXtTZXJ2ZXIvU2VydmljZS9Db25uZWN0b3J9IFNldHRpbmcgcHJvcGVydHkg
J3RocmVhZFByaW9yaXR5JyB0byAnamF2YS5sYW5nLlRocmVhZCNNQVhfUFJJT1JJVFknIGRpZCBu
b3QgZmluZCBhIG1hdGNoaW5nIHByb3BlcnR5Lg0KDQogDQoNCkkgc2VhcmNoIG9uIGdvb2dsZSBh
bmQgZGlkIG5vdCBnZXQgYW55IHVzZWZ1bCBoZWxwOw0KDQogDQoNCkkgYWxzbyBzZWFyY2ggZG9j
dW1lbnRhdGlvbiBvbiB0aGUgYXBhY2hlLm9yZyBhbmQgbWFrZSBzdXJlIHRoYXQgJ3RocmVhZFBy
aW9yaXR5JyBpcyBhIGxlZ2FsIGF0dHJpYnV0ZSBmb3IgSFRUUCBDb25uZWN0b3KjrHNvIEkgd29u
ZGVyIHdoeSB3b3VsZCB0aGlzIHdhcm5pbmcgaW5mb3JtYXRpb24gd2lsbCBjb21lIHVwLg0KDQog
DQoNClBsZWFzZSB0ZWxsIG1lIHdoYXShr3Mgd3JvbmcsIFRoYW5rIHlvdSENCg0KIA0KDQogICAg
ICAgICAgICAgIFBhdGNoIG15IHNlcnZlci54bWwgZm9yIG1vcmUgaW5mb3JtYXRpb246DQoNCiAN
Cg0KPD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnPz4NCg0KPCEtLQ0KDQogIExp
Y2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmUg
b3IgbW9yZQ0KDQogIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9U
SUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aA0KDQogIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBp
bmZvcm1hdGlvbiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4NCg0KICBUaGUgQVNGIGxp
Y2Vuc2VzIHRoaXMgZmlsZSB0byBZb3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9u
IDIuMA0KDQogICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNl
cHQgaW4gY29tcGxpYW5jZSB3aXRoDQoNCiAgdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBh
IGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQNCg0KIA0KDQogICAgICBodHRwOi8vd3d3LmFwYWNoZS5v
cmcvbGljZW5zZXMvTElDRU5TRS0yLjANCg0KIA0KDQogIFVubGVzcyByZXF1aXJlZCBieSBhcHBs
aWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUNCg0KICBkaXN0cmli
dXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lT
LA0KDQogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRo
ZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KDQogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNp
ZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQNCg0KICBsaW1pdGF0aW9ucyB1
bmRlciB0aGUgTGljZW5zZS4NCg0KLS0+DQoNCjwhLS0gTm90ZTogIEEgIlNlcnZlciIgaXMgbm90
IGl0c2VsZiBhICJDb250YWluZXIiLCBzbyB5b3UgbWF5IG5vdA0KDQogICAgIGRlZmluZSBzdWJj
b21wb25lbnRzIHN1Y2ggYXMgIlZhbHZlcyIgYXQgdGhpcyBsZXZlbC4NCg0KICAgIERvY3VtZW50
YXRpb24gYXQgL2RvY3MvY29uZmlnL3NlcnZlci5odG1sDQoNCi0tPg0KDQo8U2VydmVyIHBvcnQ9
Ii0xIiBzaHV0ZG93bj0iU0hVVERPV04iPg0KDQogIDwhLS0gU2VjdXJpdHkgbGlzdGVuZXIuIERv
Y3VtZW50YXRpb24gYXQgL2RvY3MvY29uZmlnL2xpc3RlbmVycy5odG1sDQoNCiAgPExpc3RlbmVy
IGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5zZWN1cml0eS5TZWN1cml0eUxpc3RlbmVy
IiAvPg0KDQogIC0tPg0KDQogIDwhLS1BUFIgbGlicmFyeSBsb2FkZXIuIERvY3VtZW50YXRpb24g
YXQgL2RvY3MvYXByLmh0bWwgLS0+DQoNCiAgPExpc3RlbmVyIGNsYXNzTmFtZT0ib3JnLmFwYWNo
ZS5jYXRhbGluYS5jb3JlLkFwckxpZmVjeWNsZUxpc3RlbmVyIiBTU0xFbmdpbmU9Im9uIiAvPg0K
DQogIDwhLS1Jbml0aWFsaXplIEphc3BlciBwcmlvciB0byB3ZWJhcHBzIGFyZSBsb2FkZWQuIERv
Y3VtZW50YXRpb24gYXQgL2RvY3MvamFzcGVyLWhvd3RvLmh0bWwgLS0+DQoNCiAgPExpc3RlbmVy
IGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLkphc3Blckxpc3RlbmVyIiAvPg0K
DQogIDwhLS0gUHJldmVudCBtZW1vcnkgbGVha3MgZHVlIHRvIHVzZSBvZiBwYXJ0aWN1bGFyIGph
dmEvamF2YXggQVBJcy0tPg0KDQogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0
YWxpbmEuY29yZS5KcmVNZW1vcnlMZWFrUHJldmVudGlvbkxpc3RlbmVyIiAvPg0KDQogIDxMaXN0
ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxpbmEubWJlYW5zLkdsb2JhbFJlc291cmNl
c0xpZmVjeWNsZUxpc3RlbmVyIiAvPg0KDQogIDxMaXN0ZW5lciBjbGFzc05hbWU9Im9yZy5hcGFj
aGUuY2F0YWxpbmEuY29yZS5UaHJlYWRMb2NhbExlYWtQcmV2ZW50aW9uTGlzdGVuZXIiIC8+DQoN
CiAgPCEtLSBHbG9iYWwgSk5ESSByZXNvdXJjZXMNCg0KICAgICAgIERvY3VtZW50YXRpb24gYXQg
L2RvY3Mvam5kaS1yZXNvdXJjZXMtaG93dG8uaHRtbA0KDQogIC0tPg0KDQogIDxHbG9iYWxOYW1p
bmdSZXNvdXJjZXM+DQoNCiAgICA8IS0tIEVkaXRhYmxlIHVzZXIgZGF0YWJhc2UgdGhhdCBjYW4g
YWxzbyBiZSB1c2VkIGJ5DQoNCiAgICAgICAgIFVzZXJEYXRhYmFzZVJlYWxtIHRvIGF1dGhlbnRp
Y2F0ZSB1c2Vycw0KDQogICAgLS0+DQoNCiAgICA8UmVzb3VyY2UgbmFtZT0iVXNlckRhdGFiYXNl
IiBhdXRoPSJDb250YWluZXIiDQoNCiAgICAgICAgICAgICAgdHlwZT0ib3JnLmFwYWNoZS5jYXRh
bGluYS5Vc2VyRGF0YWJhc2UiDQoNCiAgICAgICAgICAgICAgZGVzY3JpcHRpb249IlVzZXIgZGF0
YWJhc2UgdGhhdCBjYW4gYmUgdXBkYXRlZCBhbmQgc2F2ZWQiDQoNCiAgICAgICAgICAgICAgZmFj
dG9yeT0ib3JnLmFwYWNoZS5jYXRhbGluYS51c2Vycy5NZW1vcnlVc2VyRGF0YWJhc2VGYWN0b3J5
Ig0KDQogICAgICAgICAgICAgIHBhdGhuYW1lPSJjb25mL3RvbWNhdC11c2Vycy54bWwiIC8+DQoN
CiAgPC9HbG9iYWxOYW1pbmdSZXNvdXJjZXM+DQoNCiANCg0KICA8IS0tIEEgIlNlcnZpY2UiIGlz
IGEgY29sbGVjdGlvbiBvZiBvbmUgb3IgbW9yZSAiQ29ubmVjdG9ycyIgdGhhdCBzaGFyZQ0KDQog
ICAgICAgYSBzaW5nbGUgIkNvbnRhaW5lciIgTm90ZTogIEEgIlNlcnZpY2UiIGlzIG5vdCBpdHNl
bGYgYSAiQ29udGFpbmVyIiwNCg0KICAgICAgIHNvIHlvdSBtYXkgbm90IGRlZmluZSBzdWJjb21w
b25lbnRzIHN1Y2ggYXMgIlZhbHZlcyIgYXQgdGhpcyBsZXZlbC4NCg0KICAgICAgIERvY3VtZW50
YXRpb24gYXQgL2RvY3MvY29uZmlnL3NlcnZpY2UuaHRtbA0KDQogICAtLT4NCg0KICA8U2Vydmlj
ZSBuYW1lPSJDYXRhbGluYSI+DQoNCiANCg0KICAgIDwhLS1UaGUgY29ubmVjdG9ycyBjYW4gdXNl
IGEgc2hhcmVkIGV4ZWN1dG9yLCB5b3UgY2FuIGRlZmluZSBvbmUgb3IgbW9yZSBuYW1lZCB0aHJl
YWQgcG9vbHMtLT4NCg0KICAgIDwhLS0NCg0KICAgIDxFeGVjdXRvciBuYW1lPSJ0b21jYXRUaHJl
YWRQb29sIiBuYW1lUHJlZml4PSJjYXRhbGluYS1leGVjLSINCg0KICAgICAgICBtYXhUaHJlYWRz
PSIxNTAiIG1pblNwYXJlVGhyZWFkcz0iNCIvPg0KDQogICAgLS0+DQoNCiANCg0KICAgIDwhLS0g
QSAiQ29ubmVjdG9yIiByZXByZXNlbnRzIGFuIGVuZHBvaW50IGJ5IHdoaWNoIHJlcXVlc3RzIGFy
ZSByZWNlaXZlZA0KDQogICAgICAgICBhbmQgcmVzcG9uc2VzIGFyZSByZXR1cm5lZC4gRG9jdW1l
bnRhdGlvbiBhdCA6DQoNCiAgICAgICAgIEphdmEgSFRUUCBDb25uZWN0b3I6IC9kb2NzL2NvbmZp
Zy9odHRwLmh0bWwgKGJsb2NraW5nICYgbm9uLWJsb2NraW5nKQ0KDQogICAgICAgICBKYXZhIEFK
UCAgQ29ubmVjdG9yOiAvZG9jcy9jb25maWcvYWpwLmh0bWwNCg0KICAgICAgICAgQVBSIChIVFRQ
L0FKUCkgQ29ubmVjdG9yOiAvZG9jcy9hcHIuaHRtbA0KDQogICAgICAgICBEZWZpbmUgYSBub24t
U1NMIEhUVFAvMS4xIENvbm5lY3RvciBvbiBwb3J0IDgwODANCg0KICAgIC0tPg0KDQogDQoNCiAg
ICA8IS0tQ29ubmVjdG9yIGZvciBhcHBsaWNhdGlvbi0tPg0KDQogICAgPENvbm5lY3RvciBzZXJ2
ZXI9IkFQUCINCg0KICAgICAgICAgICAgICAgcG9ydD0iMTMwODAiDQoNCiAgICAgICAgICAgICAg
IHByb3RvY29sPSJvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExTmlvUHJvdG9jb2wiDQoN
CiAgICAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0PSIyMDAwMCINCg0KICAgICAgICAgICAg
ICAgYWNjZXB0Q291bnQ9IjIwMDAiDQoNCiAgICAgICAgICAgICAgIG1heFRocmVhZHM9IjEyMDAi
IA0KDQogICAgICAgICAgICAgICBtaW5TcGFyZVRocmVhZHM9IjEwIiANCg0KICAgICAgICAgICAg
ICAgY29tcHJlc3Npb249Im9uIg0KDQogICAgICAgICAgICAgICBjb21wcmVzc2lvbk1pblNpemU9
IjIwNDgiDQoNCiAgICAgICAgICAgICAgIG1heFBvc3RTaXplPSIxMDI0MCINCg0KICAgICAgICAg
ICAgICAgYWxsb3dUcmFjZT0iZmFsc2UiDQoNCiAgICAgICAgICAgICAgIHJlZGlyZWN0UG9ydD0i
MTM0NDMiDQoNCiAgICAgICAgICAgICAgIGVuYWJsZUxvb2t1cHM9ImZhbHNlIg0KDQogICAgICAg
ICAgICAgICB4cG93ZXJlZEJ5PSJmYWxzZSINCg0KICAgICAgICAgICAgICAgY29tcHJlc3NhYmxl
TWltZVR5cGU9InRleHQveG1sLGFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSxhcHBsaWNhdGlvbi9q
c29uIi8+DQoNCiANCg0KICAgIDwhLS0gQSAiQ29ubmVjdG9yIiB1c2luZyB0aGUgc2hhcmVkIHRo
cmVhZCBwb29sLS0+DQoNCiAgICA8IS0tIDxDb25uZWN0b3IgZXhlY3V0b3I9InRvbWNhdFRocmVh
ZFBvb2wiIHBvcnQ9IjE5OTk4IiBwcm90b2NvbD0iSFRUUC8xLjEiIGNvbm5lY3Rpb25UaW1lb3V0
PSIyMDAwMCIgcmVkaXJlY3RQb3J0PSI4NTQyIiAvPiAgLS0+DQoNCiAgICA8IS0tIERlZmluZSBh
IFNTTCBIVFRQLzEuMSBDb25uZWN0b3Igb24gcG9ydCA4NDQzDQoNCiAgICAgICAgVGhpcyBjb25u
ZWN0b3IgdXNlcyB0aGUgSlNTRSBjb25maWd1cmF0aW9uLCB3aGVuIHVzaW5nIEFQUiwgdGhlDQoN
CiAgICAgICAgIGNvbm5lY3RvciBzaG91bGQgYmUgdXNpbmcgdGhlIE9wZW5TU0wgc3R5bGUgY29u
ZmlndXJhdGlvbg0KDQogICAgICAgICBkZXNjcmliZWQgaW4gdGhlIEFQUiBkb2N1bWVudGF0aW9u
IC0tPg0KDQogICAgICAgIA0KDQogICAgPCEtLUNvbm5lY3RvciBmb3IgbWFuYWdlbWVudC0tPiAg
ICAgIA0KDQogICAgPENvbm5lY3RvciBzZXJ2ZXI9Ik1HTVQiDQoNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHBvcnQ9IjEzMDg5Ig0KDQogICAgICAgICAgICAgICAgICBwcm90b2NvbD0iSFRUUC8x
LjEiDQoNCiAgICAgICAgICAgICAgICAgIG1heFRocmVhZHM9IjEyMCINCg0KICAgICAgICAgICAg
ICAgICAgYWNjZXB0Q291bnQ9IjIwMCINCg0KICAgICAgICAgICAgICAgICAgZW5hYmxlTG9va3Vw
cz0iZmFsc2UiDQoNCiAgICAgICAgICAgICAgICAgIHhwb3dlcmVkQnk9ImZhbHNlIg0KDQogICAg
ICAgICAgICAgICAgICB0aHJlYWRQcmlvcml0eT0iamF2YS5sYW5nLlRocmVhZCNNQVhfUFJJT1JJ
VFkiDQoNCiAgICAgICAgICAgICAgIHJlZGlyZWN0UG9ydD0iMTM0NDMiIC8+DQoNCiANCg0KICAg
IDwhLS1Db25uZWN0b3IgZm9yIGh0dHBzLS0+ICAgICANCg0KICAgIDxDb25uZWN0b3Igc2VydmVy
PSJIVFRQUyINCg0KICAgICAgICAgICAgICAgcG9ydD0iMTM0NDMiDQoNCiAgICAgICAgICAgICAg
IHByb3RvY29sPSJvcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExTmlvUHJvdG9jb2wiDQoN
CiAgICAgICAgICAgICAgIFNTTEVuYWJsZWQgPSJ0cnVlIg0KDQogICAgICAgICAgICAgICBzc2xQ
cm90b2NvbCA9IlRMUyINCg0KICAgICAgICAgICAgICAgYWNjZXB0Q291bnQ9IjIwMDAiIA0KDQog
ICAgICAgICAgICAgICBtaW5TcGFyZVRocmVhZHM9IjEwIg0KDQogICAgICAgICAgICAgICBlbmFi
bGVMb29rdXBzPSJmYWxzZSINCg0KICAgICAgICAgICAgICAgc2NoZW1lPSJodHRwcyINCg0KICAg
ICAgICAgICAgICAgc2VjdXJlPSJ0cnVlIg0KDQogICAgICAgICAgICAgICBjbGllbnRBdXRoPSJm
YWxzZSINCg0KICAgICAgICAgICAgICAga2V5c3RvcmVGaWxlPSJjb25mL2tleS5zdG9yZSINCg0K
ICAgICAgICAgICAgICAga2V5c3RvcmVQYXNzPSJvYTVsNUF6b2I3SGhXT3NqSlp5ak9RPT0iDQoN
CiAgICAgICAgICAgICAgIGNpcGhlcnM9IlNTTF9SU0FfV0lUSF9SQzRfMTI4X1NIQSxUTFNfUlNB
X1dJVEhfQUVTXzEyOF9DQkNfU0hBLFRMU19ESEVfUlNBX1dJVEhfQUVTXzEyOF9DQkNfU0hBLFRM
U19ESEVfRFNTX1dJVEhfQUVTXzEyOF9DQkNfU0hBLFNTTF9SU0FfV0lUSF8zREVTX0VERV9DQkNf
U0hBLFNTTF9ESEVfUlNBX1dJVEhfM0RFU19FREVfQ0JDX1NIQSxTU0xfREhFX0RTU19XSVRIXzNE
RVNfRURFX0NCQ19TSEEiDQoNCiAgICAgICAgICAgICAgIG1heFBvc3RTaXplPSIxMDI0MCINCg0K
ICAgICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ9IjIwMDAwIg0KDQogICAgICAgICAgICAg
ICBhbGxvd1RyYWNlPSJmYWxzZSINCg0KICAgICAgICAgICAgICAgeHBvd2VyZWRCeT0iZmFsc2Ui
IC8+IA0KDQogDQoNCiAgICA8IS0tIERlZmluZSBhbiBBSlAgMS4zIENvbm5lY3RvciBvbiBwb3J0
IDgwMDkgLS0+DQoNCiAgICA8IS0tIDxDb25uZWN0b3IgcG9ydD0iMTgwMTAiIHByb3RvY29sPSJB
SlAvMS4zIiBjb25uZWN0aW9uVGltZW91dD0iMjAwMDAiICBtYXhQb3N0U2l6ZT0iMTAyNDAiIHJl
ZGlyZWN0UG9ydD0iODU0MiIgYWxsb3dUcmFjZT0iZmFsc2UiIHhwb3dlcmVkQnk9ImZhbHNlIiAv
PiAgLS0+DQoNCiANCg0KICAgIDwhLS0gQW4gRW5naW5lIHJlcHJlc2VudHMgdGhlIGVudHJ5IHBv
aW50ICh3aXRoaW4gQ2F0YWxpbmEpIHRoYXQgcHJvY2Vzc2VzDQoNCiAgICAgICAgIGV2ZXJ5IHJl
cXVlc3QuICBUaGUgRW5naW5lIGltcGxlbWVudGF0aW9uIGZvciBUb21jYXQgc3RhbmQgYWxvbmUN
Cg0KICAgICAgICAgYW5hbHl6ZXMgdGhlIEhUVFAgaGVhZGVycyBpbmNsdWRlZCB3aXRoIHRoZSBy
ZXF1ZXN0LCBhbmQgcGFzc2VzIHRoZW0NCg0KICAgICAgICAgb24gdG8gdGhlIGFwcHJvcHJpYXRl
IEhvc3QgKHZpcnR1YWwgaG9zdCkuDQoNCiAgICAgICAgIERvY3VtZW50YXRpb24gYXQgL2RvY3Mv
Y29uZmlnL2VuZ2luZS5odG1sIC0tPg0KDQogDQoNCiAgICA8IS0tIFlvdSBzaG91bGQgc2V0IGp2
bVJvdXRlIHRvIHN1cHBvcnQgbG9hZC1iYWxhbmNpbmcgdmlhIEFKUCBpZSA6DQoNCiAgICA8RW5n
aW5lIG5hbWU9IkNhdGFsaW5hIiBkZWZhdWx0SG9zdD0ibG9jYWxob3N0IiBqdm1Sb3V0ZT0ianZt
MSI+DQoNCiAgICAtLT4NCg0KICAgIDxFbmdpbmUgbmFtZT0iQ2F0YWxpbmEiIGRlZmF1bHRIb3N0
PSJsb2NhbGhvc3QiPg0KDQogDQoNCiAgICAgIDwhLS1Gb3IgY2x1c3RlcmluZywgcGxlYXNlIHRh
a2UgYSBsb29rIGF0IGRvY3VtZW50YXRpb24gYXQ6DQoNCiAgICAgICAgICAvZG9jcy9jbHVzdGVy
LWhvd3RvLmh0bWwgIChzaW1wbGUgaG93IHRvKQ0KDQogICAgICAgICAgL2RvY3MvY29uZmlnL2Ns
dXN0ZXIuaHRtbCAocmVmZXJlbmNlIGRvY3VtZW50YXRpb24pIC0tPg0KDQogICAgICA8IS0tDQoN
CiAgICAgIDxDbHVzdGVyIGNsYXNzTmFtZT0ib3JnLmFwYWNoZS5jYXRhbGluYS5oYS50Y3AuU2lt
cGxlVGNwQ2x1c3RlciIvPg0KDQogICAgICAtLT4NCg0KIA0KDQogICAgICA8IS0tIFVzZSB0aGUg
TG9ja091dFJlYWxtIHRvIHByZXZlbnQgYXR0ZW1wdHMgdG8gZ3Vlc3MgdXNlciBwYXNzd29yZHMN
Cg0KICAgICAgICAgICB2aWEgYSBicnV0ZS1mb3JjZSBhdHRhY2sgLS0+DQoNCiAgICAgIDxSZWFs
bSBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxpbmEucmVhbG0uTG9ja091dFJlYWxtIiBmYWls
dXJlQ291bnQ9IjMiIGxvY2tPdXRUaW1lPSI2MDAiDQoNCiAgICAgICBjYWNoZVNpemU9IjEwMDAi
IGNhY2hlUmVtb3ZhbFdhcm5pbmdUaW1lPSIzNjAwIj4NCg0KICAgICAgICA8IS0tIFRoaXMgUmVh
bG0gdXNlcyB0aGUgVXNlckRhdGFiYXNlIGNvbmZpZ3VyZWQgaW4gdGhlIGdsb2JhbCBKTkRJDQoN
CiAgICAgICAgICAgICByZXNvdXJjZXMgdW5kZXIgdGhlIGtleSAiVXNlckRhdGFiYXNlIi4gIEFu
eSBlZGl0cw0KDQogICAgICAgICAgICAgdGhhdCBhcmUgcGVyZm9ybWVkIGFnYWluc3QgdGhpcyBV
c2VyRGF0YWJhc2UgYXJlIGltbWVkaWF0ZWx5DQoNCiAgICAgICAgICAgICBhdmFpbGFibGUgZm9y
IHVzZSBieSB0aGUgUmVhbG0uICAtLT4NCg0KICAgICAgICA8UmVhbG0gY2xhc3NOYW1lPSJvcmcu
YXBhY2hlLmNhdGFsaW5hLnJlYWxtLlVzZXJEYXRhYmFzZVJlYWxtIiBkaWdlc3Q9InNoYSINCg0K
ICAgICAgICAgICAgICAgcmVzb3VyY2VOYW1lPSJVc2VyRGF0YWJhc2UiLz4NCg0KICAgICAgPC9S
ZWFsbT4NCg0KIA0KDQogICAgICA8SG9zdCBuYW1lPSJsb2NhbGhvc3QiICBhcHBCYXNlPSJ3ZWJh
cHBzIg0KDQogICAgICAgICAgICB1bnBhY2tXQVJzPSJ0cnVlIiBhdXRvRGVwbG95PSJmYWxzZSIg
ZGVwbG95T25TdGFydHVwPSJmYWxzZSIgPiAgICAgIA0KDQogICAgICAgPENvbnRleHQgcGF0aD0i
L21nbXRXZWIiIGRvY0Jhc2U9Im1nbXRXZWIiIHJlbG9hZGFibGU9ImZhbHNlIiAvPg0KDQogICAg
ICAgPCEtLSBMaW5rIHRvIHRoZSB1c2VyIGRhdGFiYXNlIHdlIHdpbGwgZ2V0IHJvbGVzIGZyb20g
LS0+DQoNCiAgICAgICA8IS0tVmFsdmUgY2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLnZh
bHZlcy5SZW1vdGVBZGRyVmFsdmUiIGFsbG93PSIxMC4xMzguMjUuMTA4IiAvPi0tPg0KDQogICAg
ICANCg0KICAgICAgICA8IS0tIExpbmsgdG8gdGhlIHVzZXIgZGF0YWJhc2Ugd2Ugd2lsbCBnZXQg
cm9sZXMgZnJvbSAtLT4NCg0KIA0KDQogDQoNCiAgICAgICA8IS0tIDxDb250ZXh0IHBhdGg9Ii90
ZXN0IiByZWxvYWRhYmxlLSJ0cnVlIiBkb2NCYXNlPSJ0ZXN0IiAvPiAtLT4NCg0KIA0KDQogICAg
ICAgIDwhLS0gU2luZ2xlU2lnbk9uIHZhbHZlLCBzaGFyZSBhdXRoZW50aWNhdGlvbiBiZXR3ZWVu
IHdlYiBhcHBsaWNhdGlvbnMNCg0KICAgICAgICAgICAgIERvY3VtZW50YXRpb24gYXQ6IC9kb2Nz
L2NvbmZpZy92YWx2ZS5odG1sIC0tPg0KDQogICAgICAgIDwhLS0NCg0KICAgICAgICA8VmFsdmUg
Y2xhc3NOYW1lPSJvcmcuYXBhY2hlLmNhdGFsaW5hLmF1dGhlbnRpY2F0b3IuU2luZ2xlU2lnbk9u
IiAvPg0KDQogICAgICAgIC0tPg0KDQogDQoNCiAgICAgICAgPCEtLSBBY2Nlc3MgbG9nIHByb2Nl
c3NlcyBhbGwgZXhhbXBsZS4NCg0KICAgICAgICAgICAgIERvY3VtZW50YXRpb24gYXQ6IC9kb2Nz
L2NvbmZpZy92YWx2ZS5odG1sDQoNCiAgICAgICAgICAgIE5vdGU6IFRoZSBwYXR0ZXJuIHVzZWQg
aXMgZXF1aXZhbGVudCB0byB1c2luZyBwYXR0ZXJuPSJjb21tb24iIC0tPg0KDQogICAgICAgIDxW
YWx2ZSBjbGFzc05hbWU9Im9yZy5hcGFjaGUuY2F0YWxpbmEudmFsdmVzLkFjY2Vzc0xvZ1ZhbHZl
IiBkaXJlY3Rvcnk9ImxvZ3MiDQoNCiAgICAgICAgICAgICAgIHByZWZpeD0ibG9jYWxob3N0X2Fj
Y2Vzc19sb2cuIiBzdWZmaXg9Ii50eHQiDQoNCiAgICAgICAgICAgICAgIHBhdHRlcm49IiVoICVs
ICV1ICV0ICZxdW90OyVyJnF1b3Q7ICVzICViIiAvPg0KDQogICAgICANCg0KICAgICAgPC9Ib3N0
Pg0KDQogDQoNCiAgICA8L0VuZ2luZT4NCg0KICA8L1NlcnZpY2U+DQoNCjwvU2VydmVyPg0KDQog
DQoNCiANCg0KIA0KDQrOus/oDQq7qs6qvLzK9dPQz965q8u+IEh1YXdlaSBUZWNobm9sb2dpZXMg
Q28uLCBMdGQuDQoNCg0KUGhvbmU6IDAyNS01NjYyMDM5MA0KRmF4Og0KTW9iaWxlOiAxNTg1MDUw
MzAzNw0KRW1haWw6IGt1cnQud2VpeGlhbmdAaHVhd2VpLmNvbQ0KtdjWt6O6xM++qcrQ0+q7qMf4
yO28/rTztcAxMDG6xbuqzqrEz76p0dC+v8v5INPKseCjujIxMDAwMA0KSHVhd2VpIFRlY2hub2xv
Z2llcyBDby4sIEx0ZC4NClJ1YW5KaWFuRGFEYW8sIFl1SHVhIERpc3RyaWN0LE5hbkppbmcgMjEw
MDAwIFAuUi5DaGluYQ0KaHR0cDovL3d3dy5odWF3ZWkuY29tDQoNCrG+08q8/rywxuS4vbz+uqzT
0Luqzqq5q8u+tcSxo8Pc0MXPoqOsvfbP3tPat6LLzbj4yc/D5rXY1rfW0MHQs/a1xLj2yMu78si6
1+mho737DQrWucjOus7G5Mv7yMvS1MjOus7Qzsq9yrnTw6OosPzAqLWrsrvP3tPayKuyv7vysr+3
1rXY0LnCtqGiuLTWxqGiu/LJoreio6mxvtPKvP7W0A0KtcTQxc+ioaPI57n7xPq07crVwcuxvtPK
vP6jrMfrxPrBory0tee7sLvy08q8/s2o1qq3orz+yMuyosm+s/2xvtPKvP6joQ0KVGhpcyBlLW1h
aWwgYW5kIGl0cyBhdHRhY2htZW50cyBjb250YWluIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbiBm
cm9tIEhVQVdFSSwgd2hpY2gNCmlzIGludGVuZGVkIG9ubHkgZm9yIHRoZSBwZXJzb24gb3IgZW50
aXR5IHdob3NlIGFkZHJlc3MgaXMgbGlzdGVkIGFib3ZlLiBBbnkgdXNlIG9mIHRoZQ0KaW5mb3Jt
YXRpb24gY29udGFpbmVkIGhlcmVpbiBpbiBhbnkgd2F5IChpbmNsdWRpbmcsIGJ1dCBub3QgbGlt
aXRlZCB0bywgdG90YWwgb3IgcGFydGlhbA0KZGlzY2xvc3VyZSwgcmVwcm9kdWN0aW9uLCBvciBk
aXNzZW1pbmF0aW9uKSBieSBwZXJzb25zIG90aGVyIHRoYW4gdGhlIGludGVuZGVkDQpyZWNpcGll
bnQocykgaXMgcHJvaGliaXRlZC4gSWYgeW91IHJlY2VpdmUgdGhpcyBlLW1haWwgaW4gZXJyb3Is
IHBsZWFzZSBub3RpZnkgdGhlIHNlbmRlciBieQ0KcGhvbmUgb3IgZW1haWwgaW1tZWRpYXRlbHkg
YW5kIGRlbGV0ZSBpdCENCg==
DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 05:51:34 2012
Return-Path: <users-return-238319-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A6E9E56B
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 05:51:34 +0000 (UTC)
Received: (qmail 40945 invoked by uid 500); 3 Dec 2012 05:51:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40883 invoked by uid 500); 3 Dec 2012 05:51:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40857 invoked by uid 99); 3 Dec 2012 05:51:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:51:29 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:51:22 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-9.tower-200.messagelabs.com!1354513860!11866020!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 12770 invoked from network); 3 Dec 2012 05:51:00 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-9.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 3 Dec 2012 05:51:00 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 2 Dec 2012 23:50:58 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Sun, 2 Dec
 2012 23:50:58 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 2 Dec 2012 23:51:18 -0600
Subject: RE: Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Topic: Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Index: Ac3REhZYf1AzmeQeRDSvyBHfbZfjfQABiiGg
Message-ID: <99C8B2929B39C24493377AC7A121E21FC4948CE073@USEA-EXCH8.na.uis.unisys.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
In-Reply-To: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Weixiang [mailto:kurt.weixiang@huawei.com]=20
> Subject: Tomcat7.0-Setting property 'threadPriority' did not find a match=
ing property

> I config in my server.xml for a HTTP Connector named "MGMT":
   =20
> threadPriority=3D"java.lang.Thread#Thread.MAX_PRIORITY"

The documentation may give the impression that you can set the value of the=
 threadPriority attribute to a string referring to some static field, but t=
hat is not actually the case.  You must supply a numeric value here, which =
will normally be 10 for the maximum.  You can write a simple Java program t=
o display the values of Thread.MIN_PRIORITY and Thread.MAX_PRIORITY, and ch=
oose a number within that range.

class ThreadPriority {
  static public void main(String args[]) throws Exception {
    System.out.format("thread priorities: MIN %d, NORM %d, MAX %d%n",
                      Thread.MIN_PRIORITY, Thread.MIN_PRIORITY, Thread.MAX_=
PRIORITY);
  }
}

The JDK 7 Javadoc includes a description for the priority values, but it do=
esn't appear to be completely accurate:
http://docs.oracle.com/javase/7/docs/api/constant-values.html#java.lang.Thr=
ead.MAX_PRIORITY

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 05:55:58 2012
Return-Path: <users-return-238320-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E3A4BE5F7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 05:55:57 +0000 (UTC)
Received: (qmail 58773 invoked by uid 500); 3 Dec 2012 05:55:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58449 invoked by uid 500); 3 Dec 2012 05:55:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58426 invoked by uid 99); 3 Dec 2012 05:55:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:55:53 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.131 as permitted sender)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 05:55:42 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-12.tower-28.messagelabs.com!1354514119!24163522!2
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17405 invoked from network); 3 Dec 2012 05:55:20 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-12.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 3 Dec 2012 05:55:20 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 2 Dec 2012 23:54:27 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Sun, 2 Dec
 2012 23:54:27 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 2 Dec 2012 23:54:47 -0600
Subject: RE: Re:Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Topic: Re:Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
Thread-Index: Ac3RGCGRqmM4qHltQEWP7yp90WFdTAAAioVA
Message-ID: <99C8B2929B39C24493377AC7A121E21FC4948CE074@USEA-EXCH8.na.uis.unisys.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
 <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com>
In-Reply-To: <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: xueshengzj [mailto:xueshengzj@163.com]=20
> Subject: Re:Tomcat7.0-Setting property 'threadPriority' did not find a ma=
tching property

> The thread priority for threads in the executor

The threadPriority attribute is also available for the <Connector> element,=
 not just <Executor>.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 06:54:09 2012
Return-Path: <users-return-238321-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07732D688
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 06:54:09 +0000 (UTC)
Received: (qmail 91540 invoked by uid 500); 3 Dec 2012 06:54:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91293 invoked by uid 500); 3 Dec 2012 06:54:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91262 invoked by uid 99); 3 Dec 2012 06:54:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 06:54:04 +0000
X-ASF-Spam-Status: No, hits=-1.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_SOFTFAIL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of shaakunthala@millenniumit.com does not designate 195.245.230.34 as permitted sender)
Received: from [195.245.230.34] (HELO mail1.bemta3.messagelabs.com) (195.245.230.34)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 06:53:57 +0000
Received: from [85.158.137.67:63534] by server-4.bemta-3.messagelabs.com id DA/2B-30023-75C4CB05; Mon, 03 Dec 2012 06:53:11 +0000
X-Env-Sender: shaakunthala@millenniumit.com
X-Msg-Ref: server-16.tower-139.messagelabs.com!1354517590!32042642!1
X-Originating-IP: [194.169.1.51]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 1149 invoked from network); 3 Dec 2012 06:53:11 -0000
Received: from unknown (HELO ex-spes-msw01.isp-ops.stockex.com) (194.169.1.51)
  by server-16.tower-139.messagelabs.com with DHE-RSA-AES256-SHA encrypted SMTP; 3 Dec 2012 06:53:11 -0000
Received: from LG-SPES-HUB01.lseg.stockex.local ([10.124.125.30]) by 
    ex-spes-msw01.isp-ops.stockex.com (8.14.1/8.14.1) with ESMTP id 
    qB36r76T017098 
    (version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=FAIL); Mon, 3 
    Dec 2012 06:53:07 GMT
Received: from LG-SPMB-HUB01.lseg.stockex.local (172.25.123.62) by 
    LG-SPES-HUB01.lseg.stockex.local (10.124.125.30) with Microsoft SMTP 
    Server (TLS) id 14.2.318.1; Mon, 3 Dec 2012 06:53:07 +0000
Received: from LG-SPMB-MBX02.lseg.stockex.local ([fe80::4ce7:4e17:6305:96fe]) 
    by LG-SPMB-HUB01.lseg.stockex.local ([::1]) with mapi id 
    14.02.0318.001; Mon, 3 Dec 2012 12:23:05 +0530
From: "Sameera, Shaakunthala" <shaakunthala@millenniumit.com>
To: Pid <pid@pidster.com>, Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Veritas Clustering for Tomcat
Thread-Topic: Veritas Clustering for Tomcat
Thread-Index: Ac3OxRJ9l8NqqRtuTiqPI9FoA4CCXJgGnr+w
Date: Mon, 3 Dec 2012 06:53:04 +0000
Message-ID: <63D733C39C910C41B841DA8753C0725A2A0A10A7@LG-SPMB-MBX02.lseg.stockex.local>
References:     <63D733C39C910C41B841DA8753C0725A2A0A0C29@LG-SPMB-MBX02.lseg.stockex.local> 
    <50B89CA4.3000200@pidster.com>
In-Reply-To: <50B89CA4.3000200@pidster.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [172.25.94.211]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Pid,

Please see my responses in-line below.

Thanks!
-- Shaakunthala

-----Original Message-----
From: Pid [mailto:pid@pidster.com]=20
Sent: Friday, November 30, 2012 5:17 PM
To: Tomcat Users List
Subject: Re: Veritas Clustering for Tomcat

On 30/11/2012 06:36, Sameera, Shaakunthala wrote:
> Hi,
>=20
> Is there a Veritas clustering agent available for Tomcat?

A what?  What does it do?

[Shaakunthala: ] Veritas is a high availability clustering software by Syma=
ntec. My  actual requirement is to integrate JIRA with Veritas and run in h=
igh availability mode. And, JIRA is only supported on Tomcat.

An agent is a component which monitors the application and perform the fail=
over whenever a problem occurs.


> As per the following page, currently there's no agent available.
> https://sort.symantec.com/agents

Symantec want me to accept some kind of license agreement before looking at=
 their website, which as I'm disinclined to use my time doing, I can't see =
what you're referring to.

[Shaakunthala: ] Sorry about that. I found it on Wikipedia [ http://en.wiki=
pedia.org/wiki/Veritas_Cluster_Server ].
Veritas clustering agents are available for Apache, JBoss and few other ope=
n source software as well. Wondering why there's no agent for Tomcat. Perha=
ps it's Symantec's job to develop the agent?


> Are there any alternatives?

Perhaps you could explain what it is, what you're trying to achieve, give u=
s a bit of context and then we can help.


p




--=20

[key:62590808]



This e-mail transmission (inclusive of any attachments) is strictly confide=
ntial and intended solely for the ordinary user of the e-mail address to wh=
ich it was addressed. It may contain legally privileged and/or CONFIDENTIAL=
 information. The unauthorized use, disclosure, distribution printing and/o=
r copying of this e-mail or any information it contains is prohibited and c=
ould, in certain circumstances, constitute an offence. If you have received=
 this e-mail in error or are not an intended recipient please inform the se=
nder of the email and MillenniumIT immediately by return e-mail or telephon=
e (+94-11) 2416000. We advise that in keeping with good computing practice,=
 the recipient of this e-mail should ensure that it is virus free. We do no=
t accept responsibility for any virus that may be transferred by way of thi=
s e-mail. E-mail may be susceptible to data corruption, interception and un=
authorized amendment, and we do not accept liability for any such corruptio=
n, interception or amendment or any consequences thereof.  www.millenniumit=
.com=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 06:59:50 2012
Return-Path: <users-return-238322-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C7BCAD6A0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 06:59:50 +0000 (UTC)
Received: (qmail 6528 invoked by uid 500); 3 Dec 2012 06:59:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6290 invoked by uid 500); 3 Dec 2012 06:59:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6265 invoked by uid 99); 3 Dec 2012 06:59:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 06:59:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 06:59:41 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so1947724vcb.18
        for <users@tomcat.apache.org>; Sun, 02 Dec 2012 22:59:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=xeqyD229JdVk+lseV1ZvGwjCllBkRUVe+C8olmuWQuI=;
        b=kuDlhM3dU9+lNrM/ueRiPkP/YzoXSlCYoW/sMKTn5C+Hu/26D9XpnyX6tRIeTx94bc
         QgYKmoe0JeL3lKW4g/9nY8znX+0/yE2PxSApafgoNQ3xOZJYYXKKZTpddCOB403GZmqS
         LNbOm1jg14gen4fpxVUwtjUcc/46W4KT/NwmQAm3qP7TT7r75MBMTY5CKymMldqZzsUA
         55QIenaMjnP4NYOBdiJE1AzrcLb+M4jHKuFOYTatr8yUFwUi3w86t9O197pwiJCMcZh9
         5XFfgsX5MgFXJlfHJYwgWJ8Eue3qM7HsveBD9J7Z2quE+WxOXOiwvGyJxfSsrsG49m54
         hV0Q==
MIME-Version: 1.0
Received: by 10.52.88.33 with SMTP id bd1mr6729397vdb.70.1354517960814; Sun,
 02 Dec 2012 22:59:20 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Sun, 2 Dec 2012 22:59:20 -0800 (PST)
In-Reply-To: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
Date: Mon, 3 Dec 2012 10:59:20 +0400
Message-ID: <CABzHfVnyaXDrV+eyOnn-QDO-ZkNH4QotWxqytcMWzCLm5uU+tQ@mail.gmail.com>
Subject: Re: Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/3 Weixiang <kurt.weixiang@huawei.com>
>
> Tomcat version=EF=BC=9A7.0.29
>
> Question=EF=BC=9A
>
> I config in my server.xml for a HTTP Connector named =E2=80=9CMGMT=E2=80=
=9D:
>
> threadPriority=3D"java.lang.Thread#Thread.MAX_PRIORITY"
>
> When application is starting up=EF=BC=8Cthe catalina.out gives some warni=
ng information:
>
> WARNING: [SetAllPropertiesRule]{Server/Service/Connector} Setting propert=
y 'threadPriority' to 'java.lang.Thread#MAX_PRIORITY' did not find a matchi=
ng property.
>
> I search on google and did not get any useful help;
>
> I also search documentation on the apache.org and make sure that 'threadP=
riority' is a legal attribute for HTTP Connector=EF=BC=8Cso I wonder why wo=
uld this warning information will come up.
>
> Please tell me what=E2=80=99s wrong, Thank you!
>

When citing your server.xml it would be a good idea to
a. remove all comments
b. replace all passwords and other sensitive information


The "did not find a matching property" is a generic message that is
displayed when IntrospectionUtils.setProperty(..) returns false.

There may be several reasons why setProperty(..) call can fail.
Enabling debug logging for "org.apache.tomcat.util.IntrospectionUtils"
will provide more information.

In this case, yes, this property expects an integer value.

http://svn.apache.org/viewvc/tomcat/tc7.0.x/trunk/java/org/apache/coyote/Ab=
stractProtocol.java?view=3Dmarkup#l184

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 08:23:00 2012
Return-Path: <users-return-238323-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6FD3FE4EE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 08:23:00 +0000 (UTC)
Received: (qmail 9409 invoked by uid 500); 3 Dec 2012 08:22:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9193 invoked by uid 500); 3 Dec 2012 08:22:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9162 invoked by uid 99); 3 Dec 2012 08:22:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 08:22:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 08:22:49 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so2844678obc.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 00:22:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :cc:content-type:content-transfer-encoding;
        bh=pv6jh063us+cc2bTuUjkeixcV0kNsuTycLn7a/3wEaw=;
        b=HWo6jML+RtyPJFTPYKot789vFvZZejnEbClHkIypAMUVC2bc+SGMBA3NDrXvLuKxYC
         4o41gltbwcJx9HzMUeGcyZWOe3foNOHUdE9yy7XfeliocHIK8rlf6jveDeJjuXKblCKm
         bME3FrKJUG1Cf4LRY9Qu/ea5AW146EU9HVqUs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :cc:content-type:content-transfer-encoding:x-gm-message-state;
        bh=pv6jh063us+cc2bTuUjkeixcV0kNsuTycLn7a/3wEaw=;
        b=ntm0n4HkmcROS2kgU6GXAZPalbJZvUwPBQCTFTPcM5/cOY5kOnf/lx/Mi4SDPWs5xK
         vFCpqugNfT4yBhCOUW1Ry4DjLq5EeuH2UANOxPLzT+fHasGEtVyNxcj7/Irb/okTU7At
         XplrUKW4IytDj9wI2qlMLqtYHjccjQNyAghSEe8h51AGBXPhZy3EZn9TLntcOE4s1igT
         iKc4URBieoBUXUyCS+kl4I+q5PyOdenXbu6loP+etZyuxP69dxKxYnCwc1jRP5E3syFO
         mx/zx05uyZyWaSLLSd2u4pZDrsYarlFuJ/ssPEt/m0uuUpQzy2DAjs67Jc6f44tWKJnc
         Ihaw==
Received: by 10.60.31.49 with SMTP id x17mr7748177oeh.33.1354522948356; Mon,
 03 Dec 2012 00:22:28 -0800 (PST)
References: <63D733C39C910C41B841DA8753C0725A2A0A0C29@LG-SPMB-MBX02.lseg.stockex.local>
 <50B89CA4.3000200@pidster.com> <63D733C39C910C41B841DA8753C0725A2A0A10A7@LG-SPMB-MBX02.lseg.stockex.local>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <63D733C39C910C41B841DA8753C0725A2A0A10A7@LG-SPMB-MBX02.lseg.stockex.local>
Mime-Version: 1.0 (1.0)
Date: Mon, 3 Dec 2012 08:23:55 +0000
Message-ID: <2278081948202584177@unknownmsgid>
Subject: Re: Veritas Clustering for Tomcat
To: "Sameera, Shaakunthala" <shaakunthala@millenniumit.com>
Cc: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQnEL1a8lXm2BHv24xfx4FAAS0kx1V0MmjXVTF+IwFZmHkQdJykg9bHmewG1fvnvRBFcxJwG
X-Virus-Checked: Checked by ClamAV on apache.org

On 3 Dec 2012, at 06:53, "Sameera, Shaakunthala"
<shaakunthala@millenniumit.com> wrote:

> Hi Pid,
>
> Please see my responses in-line below.
>
> Thanks!
> -- Shaakunthala
>
> -----Original Message-----
> From: Pid [mailto:pid@pidster.com]
> Sent: Friday, November 30, 2012 5:17 PM
> To: Tomcat Users List
> Subject: Re: Veritas Clustering for Tomcat
>
> On 30/11/2012 06:36, Sameera, Shaakunthala wrote:
>> Hi,
>>
>> Is there a Veritas clustering agent available for Tomcat?
>
> A what?  What does it do?
>
> [Shaakunthala: ] Veritas is a high availability clustering software by Sy=
mantec. My  actual requirement is to integrate JIRA with Veritas and run in=
 high availability mode. And, JIRA is only supported on Tomcat.
>
> An agent is a component which monitors the application and perform the fa=
ilover whenever a problem occurs.
>
>
>> As per the following page, currently there's no agent available.
>> https://sort.symantec.com/agents
>
> Symantec want me to accept some kind of license agreement before looking =
at their website, which as I'm disinclined to use my time doing, I can't se=
e what you're referring to.
>
> [Shaakunthala: ] Sorry about that. I found it on Wikipedia [ http://en.wi=
kipedia.org/wiki/Veritas_Cluster_Server ].
> Veritas clustering agents are available for Apache, JBoss and few other o=
pen source software as well. Wondering why there's no agent for Tomcat. Per=
haps it's Symantec's job to develop the agent?

Yup.
I have not heard of their solution before.


p


>> Are there any alternatives?
>
> Perhaps you could explain what it is, what you're trying to achieve, give=
 us a bit of context and then we can help.
>
>
> p
>
>
>
>
> --
>
> [key:62590808]
>
>
>
> This e-mail transmission (inclusive of any attachments) is strictly confi=
dential and intended solely for the ordinary user of the e-mail address to =
which it was addressed. It may contain legally privileged and/or CONFIDENTI=
AL information. The unauthorized use, disclosure, distribution printing and=
/or copying of this e-mail or any information it contains is prohibited and=
 could, in certain circumstances, constitute an offence. If you have receiv=
ed this e-mail in error or are not an intended recipient please inform the =
sender of the email and MillenniumIT immediately by return e-mail or teleph=
one (+94-11) 2416000. We advise that in keeping with good computing practic=
e, the recipient of this e-mail should ensure that it is virus free. We do =
not accept responsibility for any virus that may be transferred by way of t=
his e-mail. E-mail may be susceptible to data corruption, interception and =
unauthorized amendment, and we do not accept liability for any such corrupt=
ion, interception or amendment or any consequences thereof.  www.millennium=
it.com
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 08:34:13 2012
Return-Path: <users-return-238324-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4372ED461
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 08:34:13 +0000 (UTC)
Received: (qmail 38551 invoked by uid 500); 3 Dec 2012 08:34:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38369 invoked by uid 500); 3 Dec 2012 08:34:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38311 invoked by uid 99); 3 Dec 2012 08:34:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 08:34:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 08:33:59 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so2855286obc.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 00:33:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=BiFwlh31lGn2O8McG5GZ/7Ozn8TzMfEyvde39E/hNvc=;
        b=DFVQ2UctHZgpMMgVeC7Q2c8MBKq67BBpUX0cdIQh66RtpmEMMLmaQ6LcJXJpg4Fy+I
         a+iD5ZrpqkG2TRAp3K9hRfjCDW7AmRSWHgVEFp3ciYnMGzHEbY1J+GYCJCkjXnW3w8eK
         Rf0n/4XpFNvTDOeb6eOl/X7cY7SdoBcjoLBfs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=BiFwlh31lGn2O8McG5GZ/7Ozn8TzMfEyvde39E/hNvc=;
        b=V6Yi4bqEJZGUgKo+Re/s+gzlujfRTLm6bVsfnrd+oEimBHiI2kz/UKS8wlyK92c/Mf
         0ggV9oG6WLuLCumIIBKlVc3Clz0t87CBOP423b+DK4Zd/b0tskvoYdjWKvJXf1DjaWbK
         xE5M+woRFdwQfkLI9Roz8wmkXTNMjGJKdNP24O4CHAkYmg/QWYdoZo9fZ32PfrsxCK1w
         pQpRT9RddoI0/LnBeA/WUe8Of6JCE/l1+fOZN0xiX+PfY9o0TdRrXIHG8ohTEdrMpMoc
         JAv7m4edAePr8kt7oExTt1fHrUIZzi6O4vpVMaGD12gT/1K6q/0xI1mvzgLP+3ZU1eu3
         Su9g==
Received: by 10.182.38.101 with SMTP id f5mr3810548obk.80.1354523618266; Mon,
 03 Dec 2012 00:33:38 -0800 (PST)
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
 <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com> <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com>
Mime-Version: 1.0 (1.0)
Date: Mon, 3 Dec 2012 08:35:02 +0000
Message-ID: <5231107583537493828@unknownmsgid>
Subject: =?UTF-8?Q?Re=3A_=E7=AD=94=E5=A4=8D=3A_Re=3ATomcat7=2E0=2DSetting_property_=27threadPri?=
	=?UTF-8?Q?ority=27_did_not_find_a_matching_property?=
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQlCaKQ4JrmRUqC2jm7fqNvcNKvxNut/sgOl5FmPEkndg3yBFqrUYQlxrIf8k8YDoWNx6P6E
X-Virus-Checked: Checked by ClamAV on apache.org

On 3 Dec 2012, at 05:43, Weixiang <kurt.weixiang@huawei.com> wrote:

> Thank you, after I changed 'java.lang.Thread#MAX_PRIORITY' to integer '10=
', the warning disappeared in tomcat 7.
>
> But I user 'java.lang.Thread#MAX_PRIORITY' in tomcat 6.0.35 and there's n=
o any warning.
>
> So I was wondering whether the tomcat 6 block this warning or not?

I'd be interested to hear about the load profile and application
behaviour you are attempting to modify (improve?).


p


>
> -----=E9=82=AE=E4=BB=B6=E5=8E=9F=E4=BB=B6-----
> =E5=8F=91=E4=BB=B6=E4=BA=BA: xueshengzj [mailto:xueshengzj@163.com]
> =E5=8F=91=E9=80=81=E6=97=B6=E9=97=B4: 2012=E5=B9=B412=E6=9C=883=E6=97=A5 =
13:36
> =E6=94=B6=E4=BB=B6=E4=BA=BA: Tomcat Users List
> =E4=B8=BB=E9=A2=98: Re:Tomcat7.0-Setting property 'threadPriority' did no=
t find a matching property
>
> Hi, have you seen the error that show it. It tell us that the property is=
 not matched.  The thread priority for threads in the executor, the default=
 is Thread.NORM_PRIORITY. It should return integer.
>
>
>
>
>
>
> =E5=9C=A8 2012-12-03 12:53:08=EF=BC=8CWeixiang <kurt.weixiang@huawei.com>=
 =E5=86=99=E9=81=93=EF=BC=9A
>
>
> Tomcat version=EF=BC=9A7.0.29
>
>
>
> Question=EF=BC=9A
>
> I config in my server.xml for a HTTP Connector named =E2=80=9CMGMT=E2=80=
=9D:
>
>
>
> threadPriority=3D"java.lang.Thread#Thread.MAX_PRIORITY"
>
>
>
> When application is starting up=EF=BC=8Cthe catalina.out gives some warni=
ng information:
>
>
>
> WARNING: [SetAllPropertiesRule]{Server/Service/Connector} Setting propert=
y 'threadPriority' to 'java.lang.Thread#MAX_PRIORITY' did not find a matchi=
ng property.
>
>
>
> I search on google and did not get any useful help;
>
>
>
> I also search documentation on the apache.org and make sure that 'threadP=
riority' is a legal attribute for HTTP Connector=EF=BC=8Cso I wonder why wo=
uld this warning information will come up.
>
>
>
> Please tell me what=E2=80=99s wrong, Thank you!
>
>
>
>              Patch my server.xml for more information:
>
>
>
> <?xml version=3D'1.0' encoding=3D'utf-8'?>
>
> <!--
>
>  Licensed to the Apache Software Foundation (ASF) under one or more
>
>  contributor license agreements.  See the NOTICE file distributed with
>
>  this work for additional information regarding copyright ownership.
>
>  The ASF licenses this file to You under the Apache License, Version 2.0
>
>  (the "License"); you may not use this file except in compliance with
>
>  the License.  You may obtain a copy of the License at
>
>
>
>      http://www.apache.org/licenses/LICENSE-2.0
>
>
>
>  Unless required by applicable law or agreed to in writing, software
>
>  distributed under the License is distributed on an "AS IS" BASIS,
>
>  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
>
>  See the License for the specific language governing permissions and
>
>  limitations under the License.
>
> -->
>
> <!-- Note:  A "Server" is not itself a "Container", so you may not
>
>     define subcomponents such as "Valves" at this level.
>
>    Documentation at /docs/config/server.html
>
> -->
>
> <Server port=3D"-1" shutdown=3D"SHUTDOWN">
>
>  <!-- Security listener. Documentation at /docs/config/listeners.html
>
>  <Listener className=3D"org.apache.catalina.security.SecurityListener" />
>
>  -->
>
>  <!--APR library loader. Documentation at /docs/apr.html -->
>
>  <Listener className=3D"org.apache.catalina.core.AprLifecycleListener" SS=
LEngine=3D"on" />
>
>  <!--Initialize Jasper prior to webapps are loaded. Documentation at /doc=
s/jasper-howto.html -->
>
>  <Listener className=3D"org.apache.catalina.core.JasperListener" />
>
>  <!-- Prevent memory leaks due to use of particular java/javax APIs-->
>
>  <Listener className=3D"org.apache.catalina.core.JreMemoryLeakPreventionL=
istener" />
>
>  <Listener className=3D"org.apache.catalina.mbeans.GlobalResourcesLifecyc=
leListener" />
>
>  <Listener className=3D"org.apache.catalina.core.ThreadLocalLeakPreventio=
nListener" />
>
>  <!-- Global JNDI resources
>
>       Documentation at /docs/jndi-resources-howto.html
>
>  -->
>
>  <GlobalNamingResources>
>
>    <!-- Editable user database that can also be used by
>
>         UserDatabaseRealm to authenticate users
>
>    -->
>
>    <Resource name=3D"UserDatabase" auth=3D"Container"
>
>              type=3D"org.apache.catalina.UserDatabase"
>
>              description=3D"User database that can be updated and saved"
>
>              factory=3D"org.apache.catalina.users.MemoryUserDatabaseFacto=
ry"
>
>              pathname=3D"conf/tomcat-users.xml" />
>
>  </GlobalNamingResources>
>
>
>
>  <!-- A "Service" is a collection of one or more "Connectors" that share
>
>       a single "Container" Note:  A "Service" is not itself a "Container"=
,
>
>       so you may not define subcomponents such as "Valves" at this level.
>
>       Documentation at /docs/config/service.html
>
>   -->
>
>  <Service name=3D"Catalina">
>
>
>
>    <!--The connectors can use a shared executor, you can define one or mo=
re named thread pools-->
>
>    <!--
>
>    <Executor name=3D"tomcatThreadPool" namePrefix=3D"catalina-exec-"
>
>        maxThreads=3D"150" minSpareThreads=3D"4"/>
>
>    -->
>
>
>
>    <!-- A "Connector" represents an endpoint by which requests are receiv=
ed
>
>         and responses are returned. Documentation at :
>
>         Java HTTP Connector: /docs/config/http.html (blocking & non-block=
ing)
>
>         Java AJP  Connector: /docs/config/ajp.html
>
>         APR (HTTP/AJP) Connector: /docs/apr.html
>
>         Define a non-SSL HTTP/1.1 Connector on port 8080
>
>    -->
>
>
>
>    <!--Connector for application-->
>
>    <Connector server=3D"APP"
>
>               port=3D"13080"
>
>               protocol=3D"org.apache.coyote.http11.Http11NioProtocol"
>
>               connectionTimeout=3D"20000"
>
>               acceptCount=3D"2000"
>
>               maxThreads=3D"1200"
>
>               minSpareThreads=3D"10"
>
>               compression=3D"on"
>
>               compressionMinSize=3D"2048"
>
>               maxPostSize=3D"10240"
>
>               allowTrace=3D"false"
>
>               redirectPort=3D"13443"
>
>               enableLookups=3D"false"
>
>               xpoweredBy=3D"false"
>
>               compressableMimeType=3D"text/xml,application/octet-stream,a=
pplication/json"/>
>
>
>
>    <!-- A "Connector" using the shared thread pool-->
>
>    <!-- <Connector executor=3D"tomcatThreadPool" port=3D"19998" protocol=
=3D"HTTP/1.1" connectionTimeout=3D"20000" redirectPort=3D"8542" />  -->
>
>    <!-- Define a SSL HTTP/1.1 Connector on port 8443
>
>        This connector uses the JSSE configuration, when using APR, the
>
>         connector should be using the OpenSSL style configuration
>
>         described in the APR documentation -->
>
>
>
>    <!--Connector for management-->
>
>    <Connector server=3D"MGMT"
>
>                        port=3D"13089"
>
>                  protocol=3D"HTTP/1.1"
>
>                  maxThreads=3D"120"
>
>                  acceptCount=3D"200"
>
>                  enableLookups=3D"false"
>
>                  xpoweredBy=3D"false"
>
>                  threadPriority=3D"java.lang.Thread#MAX_PRIORITY"
>
>               redirectPort=3D"13443" />
>
>
>
>    <!--Connector for https-->
>
>    <Connector server=3D"HTTPS"
>
>               port=3D"13443"
>
>               protocol=3D"org.apache.coyote.http11.Http11NioProtocol"
>
>               SSLEnabled =3D"true"
>
>               sslProtocol =3D"TLS"
>
>               acceptCount=3D"2000"
>
>               minSpareThreads=3D"10"
>
>               enableLookups=3D"false"
>
>               scheme=3D"https"
>
>               secure=3D"true"
>
>               clientAuth=3D"false"
>
>               keystoreFile=3D"conf/key.store"
>
>               keystorePass=3D"oa5l5Azob7HhWOsjJZyjOQ=3D=3D"
>
>               ciphers=3D"SSL_RSA_WITH_RC4_128_SHA,TLS_RSA_WITH_AES_128_CB=
C_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_DSS_WITH_AES_128_CBC_SHA,SSL=
_RSA_WITH_3DES_EDE_CBC_SHA,SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA,SSL_DHE_DSS_WI=
TH_3DES_EDE_CBC_SHA"
>
>               maxPostSize=3D"10240"
>
>               connectionTimeout=3D"20000"
>
>               allowTrace=3D"false"
>
>               xpoweredBy=3D"false" />
>
>
>
>    <!-- Define an AJP 1.3 Connector on port 8009 -->
>
>    <!-- <Connector port=3D"18010" protocol=3D"AJP/1.3" connectionTimeout=
=3D"20000"  maxPostSize=3D"10240" redirectPort=3D"8542" allowTrace=3D"false=
" xpoweredBy=3D"false" />  -->
>
>
>
>    <!-- An Engine represents the entry point (within Catalina) that proce=
sses
>
>         every request.  The Engine implementation for Tomcat stand alone
>
>         analyzes the HTTP headers included with the request, and passes t=
hem
>
>         on to the appropriate Host (virtual host).
>
>         Documentation at /docs/config/engine.html -->
>
>
>
>    <!-- You should set jvmRoute to support load-balancing via AJP ie :
>
>    <Engine name=3D"Catalina" defaultHost=3D"localhost" jvmRoute=3D"jvm1">
>
>    -->
>
>    <Engine name=3D"Catalina" defaultHost=3D"localhost">
>
>
>
>      <!--For clustering, please take a look at documentation at:
>
>          /docs/cluster-howto.html  (simple how to)
>
>          /docs/config/cluster.html (reference documentation) -->
>
>      <!--
>
>      <Cluster className=3D"org.apache.catalina.ha.tcp.SimpleTcpCluster"/>
>
>      -->
>
>
>
>      <!-- Use the LockOutRealm to prevent attempts to guess user password=
s
>
>           via a brute-force attack -->
>
>      <Realm className=3D"org.apache.catalina.realm.LockOutRealm" failureC=
ount=3D"3" lockOutTime=3D"600"
>
>       cacheSize=3D"1000" cacheRemovalWarningTime=3D"3600">
>
>        <!-- This Realm uses the UserDatabase configured in the global JND=
I
>
>             resources under the key "UserDatabase".  Any edits
>
>             that are performed against this UserDatabase are immediately
>
>             available for use by the Realm.  -->
>
>        <Realm className=3D"org.apache.catalina.realm.UserDatabaseRealm" d=
igest=3D"sha"
>
>               resourceName=3D"UserDatabase"/>
>
>      </Realm>
>
>
>
>      <Host name=3D"localhost"  appBase=3D"webapps"
>
>            unpackWARs=3D"true" autoDeploy=3D"false" deployOnStartup=3D"fa=
lse" >
>
>       <Context path=3D"/mgmtWeb" docBase=3D"mgmtWeb" reloadable=3D"false"=
 />
>
>       <!-- Link to the user database we will get roles from -->
>
>       <!--Valve className=3D"org.apache.catalina.valves.RemoteAddrValve" =
allow=3D"10.138.25.108" />-->
>
>
>
>        <!-- Link to the user database we will get roles from -->
>
>
>
>
>
>       <!-- <Context path=3D"/test" reloadable-"true" docBase=3D"test" /> =
-->
>
>
>
>        <!-- SingleSignOn valve, share authentication between web applicat=
ions
>
>             Documentation at: /docs/config/valve.html -->
>
>        <!--
>
>        <Valve className=3D"org.apache.catalina.authenticator.SingleSignOn=
" />
>
>        -->
>
>
>
>        <!-- Access log processes all example.
>
>             Documentation at: /docs/config/valve.html
>
>            Note: The pattern used is equivalent to using pattern=3D"commo=
n" -->
>
>        <Valve className=3D"org.apache.catalina.valves.AccessLogValve" dir=
ectory=3D"logs"
>
>               prefix=3D"localhost_access_log." suffix=3D".txt"
>
>               pattern=3D"%h %l %u %t &quot;%r&quot; %s %b" />
>
>
>
>      </Host>
>
>
>
>    </Engine>
>
>  </Service>
>
> </Server>
>
>
>
>
>
>
>
> =E9=AD=8F=E7=BF=94
> =E5=8D=8E=E4=B8=BA=E6=8A=80=E6=9C=AF=E6=9C=89=E9=99=90=E5=85=AC=E5=8F=B8 =
Huawei Technologies Co., Ltd.
>
>
> Phone: 025-56620390
> Fax:
> Mobile: 15850503037
> Email: kurt.weixiang@huawei.com
> =E5=9C=B0=E5=9D=80=EF=BC=9A=E5=8D=97=E4=BA=AC=E5=B8=82=E9=9B=A8=E8=8A=B1=
=E5=8C=BA=E8=BD=AF=E4=BB=B6=E5=A4=A7=E9=81=93101=E5=8F=B7=E5=8D=8E=E4=B8=BA=
=E5=8D=97=E4=BA=AC=E7=A0=94=E7=A9=B6=E6=89=80 =E9=82=AE=E7=BC=96=EF=BC=9A21=
0000
> Huawei Technologies Co., Ltd.
> RuanJianDaDao, YuHua District,NanJing 210000 P.R.China
> http://www.huawei.com
>
> =E6=9C=AC=E9=82=AE=E4=BB=B6=E5=8F=8A=E5=85=B6=E9=99=84=E4=BB=B6=E5=90=AB=
=E6=9C=89=E5=8D=8E=E4=B8=BA=E5=85=AC=E5=8F=B8=E7=9A=84=E4=BF=9D=E5=AF=86=E4=
=BF=A1=E6=81=AF=EF=BC=8C=E4=BB=85=E9=99=90=E4=BA=8E=E5=8F=91=E9=80=81=E7=BB=
=99=E4=B8=8A=E9=9D=A2=E5=9C=B0=E5=9D=80=E4=B8=AD=E5=88=97=E5=87=BA=E7=9A=84=
=E4=B8=AA=E4=BA=BA=E6=88=96=E7=BE=A4=E7=BB=84=E3=80=82=E7=A6=81
> =E6=AD=A2=E4=BB=BB=E4=BD=95=E5=85=B6=E4=BB=96=E4=BA=BA=E4=BB=A5=E4=BB=BB=
=E4=BD=95=E5=BD=A2=E5=BC=8F=E4=BD=BF=E7=94=A8=EF=BC=88=E5=8C=85=E6=8B=AC=E4=
=BD=86=E4=B8=8D=E9=99=90=E4=BA=8E=E5=85=A8=E9=83=A8=E6=88=96=E9=83=A8=E5=88=
=86=E5=9C=B0=E6=B3=84=E9=9C=B2=E3=80=81=E5=A4=8D=E5=88=B6=E3=80=81=E6=88=96=
=E6=95=A3=E5=8F=91=EF=BC=89=E6=9C=AC=E9=82=AE=E4=BB=B6=E4=B8=AD
> =E7=9A=84=E4=BF=A1=E6=81=AF=E3=80=82=E5=A6=82=E6=9E=9C=E6=82=A8=E9=94=99=
=E6=94=B6=E4=BA=86=E6=9C=AC=E9=82=AE=E4=BB=B6=EF=BC=8C=E8=AF=B7=E6=82=A8=E7=
=AB=8B=E5=8D=B3=E7=94=B5=E8=AF=9D=E6=88=96=E9=82=AE=E4=BB=B6=E9=80=9A=E7=9F=
=A5=E5=8F=91=E4=BB=B6=E4=BA=BA=E5=B9=B6=E5=88=A0=E9=99=A4=E6=9C=AC=E9=82=AE=
=E4=BB=B6=EF=BC=81
> This e-mail and its attachments contain confidential information from HUA=
WEI, which
> is intended only for the person or entity whose address is listed above. =
Any use of the
> information contained herein in any way (including, but not limited to, t=
otal or partial
> disclosure, reproduction, or dissemination) by persons other than the int=
ended
> recipient(s) is prohibited. If you receive this e-mail in error, please n=
otify the sender by
> phone or email immediately and delete it!
> =E5=AD=9D=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=
=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=
=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=
=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=E4=B9=99=
=E4=B9=99=E4=B9=99=E8=A1=8C=EE=99=8C=EF=BF=BD=07V=EF=BF=BD7V'67&=EF=BF=BD&R=
=EF=BF=BD=06R=E7=A7=8D=16=E6=9F=AE=EF=BF=BD=07W6W'2=E8=AD=9C=EF=BF=BD7V'67&=
=EF=BF=BD&T=07F=E9=B2=8B6=17B=EF=BF=BD=17=06=166=E5=93=9B=E9=AA=A5&p=E8=82=
=96f=EF=BF=BD"=06=16FF=E6=A1=AD=E6=A1=8D=EF=BF=BD=16=EF=BF=BD=066=E9=B2=8B=
=EF=BF=BD=16=E9=8D=B32=EF=BF=BD=06R=E7=A7=8D=16=E6=9F=AE=EF=BF=BD=07W6W'2=
=E8=AC=ABV=EF=BF=BD=04=07F=E9=B2=8B6=17B=EF=BF=BD=17=06=166=E5=93=9B=E9=AA=
=A5&p=E8=A2=AA

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:16:51 2012
Return-Path: <users-return-238325-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BC1DD57E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:16:13 +0000 (UTC)
Received: (qmail 39544 invoked by uid 500); 3 Dec 2012 09:16:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39196 invoked by uid 500); 3 Dec 2012 09:16:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39177 invoked by uid 99); 3 Dec 2012 09:16:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:16:08 +0000
X-ASF-Spam-Status: No, hits=3.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_IMAGE_ONLY_12,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_REMOTE_IMAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jugalthakkar1988@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:16:02 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so2088405vcb.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 01:15:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WUb6YKhhxw6Grrkr2JQejtLzPuREO6BAARodnz+ZWkc=;
        b=FV3yPWhiLMQF9805eumRSvTeK3YGdqXy2i/Z/wLA3OX5jDPygs9yl3rb6cXW3zWr4c
         48NG893MfsmKGeP+OAH2dPm4L5N4wH8CHdO53koxatbSyX3yASjDODi3s1BOh9zN9jK2
         uEeG/Uh9OLHB2XFv7eC7Y0+ij0nnKZSj65AaTrNZNpYhuiHvbEByMvsKxKEY7jA1Id+P
         Dl5Yf8WE8FsiE8Vv/YwN5CPGYBCBFaVFw0cdWt0iKrBFE1G+dZjUCxRH2dL2bmdZ7FWJ
         pqDk7masjAWxoj1kstmu5xUDo31EHq2u5yYEqzXRI43pmu2il/VukZKG6vr9tVktZZFy
         C0dw==
MIME-Version: 1.0
Received: by 10.58.73.137 with SMTP id l9mr8296125vev.44.1354526141610; Mon,
 03 Dec 2012 01:15:41 -0800 (PST)
Received: by 10.221.5.1 with HTTP; Mon, 3 Dec 2012 01:15:41 -0800 (PST)
In-Reply-To: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com>
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com>
Date: Mon, 3 Dec 2012 14:45:41 +0530
Message-ID: <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
Subject: Re: Tomcat 7 is not working on windows 7....
From: Jugal Thakkar <jugalthakkar1988@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7bacc170827ca504cfef311c
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bacc170827ca504cfef311c
Content-Type: text/plain; charset=ISO-8859-1

Hello Sir,
            I am Java Developer. i develop web application using servlet
and JSP.

My problem is that i am not able to get server started in eclipse
Juno.....using Tomcat 7 with windows 7.....

Please Guide me for the same....
Installation Process of tomcat 7 on windows 7....
I was previously using Windows XP and everything was fine....
But with Windows 7 i am Having the problem....

Please guide me regarding this....

Thanks...

Jugal Thakkar
jugalthakkar1988@gmail.com

--047d7bacc170827ca504cfef311c--

From users-return-238326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:25:56 2012
Return-Path: <users-return-238326-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 189C1E0D5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:25:56 +0000 (UTC)
Received: (qmail 63067 invoked by uid 500); 3 Dec 2012 09:25:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62993 invoked by uid 500); 3 Dec 2012 09:25:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62963 invoked by uid 99); 3 Dec 2012 09:25:50 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:25:50 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:25:50 +0000
Message-ID: <50BC7016.30109@apache.org>
Date: Mon, 03 Dec 2012 09:25:42 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 is not working on windows 7....
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com> <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
In-Reply-To: <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 03/12/2012 09:15, Jugal Thakkar wrote:
> Hello Sir,
>             I am Java Developer. i develop web application using servlet
> and JSP.
> 
> My problem is that i am not able to get server started in eclipse
> Juno.....using Tomcat 7 with windows 7.....
> 
> Please Guide me for the same....
> Installation Process of tomcat 7 on windows 7....
> I was previously using Windows XP and everything was fine....
> But with Windows 7 i am Having the problem....
> 
> Please guide me regarding this....

Two options:

1. Read this:
http://www.catb.org/esr/faqs/smart-questions.html
and follow the excellent advice it offers.


2. Apply the following logic:
- It worked on Windows XP
- It doesn't work on Windows 7
- Therefore a bug in Windows 7 is the root cause
- Either:
  a) Report the problem to Microsoft and get them to fix it
  b) Uninstall Windows 7 and re-install Windows XP

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:34:31 2012
Return-Path: <users-return-238327-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6E5CE2C2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:34:31 +0000 (UTC)
Received: (qmail 89984 invoked by uid 500); 3 Dec 2012 09:34:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89890 invoked by uid 500); 3 Dec 2012 09:34:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89847 invoked by uid 99); 3 Dec 2012 09:34:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:34:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:34:17 +0000
Received: from [192.168.245.129] (p549E9069.dip0.t-ipconnect.de [84.158.144.105])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id D7DF23C035B
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 10:34:43 +0100 (CET)
Message-ID: <50BC7203.4060003@ice-sa.com>
Date: Mon, 03 Dec 2012 10:33:55 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 is not working on windows 7....
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com> <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
In-Reply-To: <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Jugal Thakkar wrote:
> Hello Sir,
>             I am Java Developer. i develop web application using servlet
> and JSP.
> 
> My problem is that i am not able to get server started in eclipse
> Juno.....using Tomcat 7 with windows 7.....
> 
> Please Guide me for the same....
> Installation Process of tomcat 7 on windows 7....
> I was previously using Windows XP and everything was fine....
> But with Windows 7 i am Having the problem....
> 
What problem ?

Can you describe, step by step, starting from the download of the Tomcat that you are 
trying to install, what instructions you are following, what you are doing, and where 
exactly you have a problem ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:44:53 2012
Return-Path: <users-return-238328-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 001CDE2ED
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:44:52 +0000 (UTC)
Received: (qmail 18723 invoked by uid 500); 3 Dec 2012 09:44:49 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18511 invoked by uid 500); 3 Dec 2012 09:44:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18473 invoked by uid 99); 3 Dec 2012 09:44:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:44:48 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:44:40 +0000
Received: by mail-pb0-f45.google.com with SMTP id mc8so1903305pbc.18
        for <multiple recipients>; Mon, 03 Dec 2012 01:44:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=76JvktuGc5YVVFWAT1ff3pZXeps6uB11L4HSrwt+eO8=;
        b=nsrGdRJqtj0Ov/m9iiZFQjV2TyoxjEeVyAAYUwsCShnFiCimGQE7UdgcmiKtmxWEUc
         q6Hqprj0zi1Lfnt7a3uVcUHK/tatvgDbfKd8vF3gBt0yIHQNUayGwBYOE7klmgrK3Fgz
         Om4JCaBjZQcSO38PUSeu3efy4nifABhWJajnHihAQZqNNH2OCjGSi1G8De0ADslXw9vy
         vPxO5hILdpgPajWdnSbd6gUQ97/xyVKp92WxY3MOKMwtmW+6wQw9YK/JyJeJKkCo6Svr
         7XwLhjuTMcRchJ4h4HwBMMT2xsLj9K4yBV8e2MxWOdri9oTuomC1PeboiXsQ6HJN7H5G
         h8uQ==
MIME-Version: 1.0
Received: by 10.66.84.132 with SMTP id z4mr24414125pay.63.1354527859310; Mon,
 03 Dec 2012 01:44:19 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 01:44:19 -0800 (PST)
Date: Mon, 3 Dec 2012 11:44:19 +0200
Message-ID: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
Subject: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: users@tomcat.apache.org, dev@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d042ef76be4801204cfef97f8
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042ef76be4801204cfef97f8
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
I want to use only one loadbalancer. Can I set specific url after balancing
?

For example, firstly every request will go to loadbalancer.
Then if request is  /WebApp/A*.com, it will go to node1. If request
/WebApp/B*.com, it will go to node2

worker.loadbalancer.balance_workers=node1,node2.

Regards,

--f46d042ef76be4801204cfef97f8--

From users-return-238329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:47:41 2012
Return-Path: <users-return-238329-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ADD9AE2F6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:47:41 +0000 (UTC)
Received: (qmail 27310 invoked by uid 500); 3 Dec 2012 09:47:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27011 invoked by uid 500); 3 Dec 2012 09:47:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26938 invoked by uid 99); 3 Dec 2012 09:47:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:47:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of orhankarasakal@gmail.com designates 209.85.160.45 as permitted sender)
Received: from [209.85.160.45] (HELO mail-pb0-f45.google.com) (209.85.160.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:47:29 +0000
Received: by mail-pb0-f45.google.com with SMTP id mc8so1905161pbc.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 01:47:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=2Sc61CNE/v1kKikbLLX3xcFSM+nSxka4M+2et20H6rQ=;
        b=Io8aJd+/uct1c4uNl8QqcUM1L9VbXNWA6rthM00JOpSHhuEYv2v8gtp42JkPxtVeTV
         F9yYGE1iWouH8x6DXSU8YYFgVs/dL2ecX/F89gaa0zj8PFzhIXIvraefpyc48hxXAvJc
         eLF3gQbbtQZ9ZXQJYOlv6qZXVMV3sO5g47FcuBEvagvahDXTwgugajXu9RPkWuadsIP7
         wmGM+7+Dyz+8xTfs7w8o6I6yDYuJYVNqvWhHYilhtU/GOGC2VudtZbmdLHw3710yduhk
         IASK/CfUWbXyFMFupAMLxcvHGb6M8FDQ3jBCP5fmMxzAVTyWiaIDaOIP8vkys3d4jXyU
         cTPg==
MIME-Version: 1.0
Received: by 10.66.84.163 with SMTP id a3mr9247805paz.13.1354528029473; Mon,
 03 Dec 2012 01:47:09 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 01:47:09 -0800 (PST)
In-Reply-To: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
Date: Mon, 3 Dec 2012 11:47:09 +0200
Message-ID: <CANNgL10a21juFvJw+5ND5dgjLYNvg=TN-X2kyiK4L6um+Xf5bw@mail.gmail.com>
Subject: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d042dffed08fc3004cfefa285
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042dffed08fc3004cfefa285
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
I want to use only one loadbalancer. Can I set specific url after balancing
?

For example, firstly every request will go to loadbalancer.
Then if request is  /WebApp/A*.com, it will go to node1. If request
/WebApp/B*.com, it will go to node2

worker.loadbalancer.balance_workers=node1,node2.

Regards,

--f46d042dffed08fc3004cfefa285--

From users-return-238330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 09:58:23 2012
Return-Path: <users-return-238330-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04EC9E36E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 09:58:23 +0000 (UTC)
Received: (qmail 64347 invoked by uid 500); 3 Dec 2012 09:58:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64240 invoked by uid 500); 3 Dec 2012 09:58:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64184 invoked by uid 99); 3 Dec 2012 09:58:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:58:17 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cjderham@gmail.com designates 209.85.223.180 as permitted sender)
Received: from [209.85.223.180] (HELO mail-ie0-f180.google.com) (209.85.223.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 09:58:09 +0000
Received: by mail-ie0-f180.google.com with SMTP id c10so4903520ieb.39
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 01:57:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:reply-to:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        bh=zKgMCd6GTwGRRqI2gjQQe6EENSDNOTnCYvLJBqB8BYo=;
        b=PmxHNp4bBlXCsfatDT7x+SfJhP/MLRfwZG5bGzSAyg2pX3CeOtixQxXAy0VpxnUgnP
         wvUaf9LbDfexMCmhfgZTY59REQnlprgKMaaY1K14m81lUUMY60iivV42479nfSRSPs5K
         38gnY1DORTusT0LUnJSzJJ/kI/27CPazg0YGEign50PQrLlAe3nzXREOP5ARzsjSVRXs
         0Gcgy5mW6AGqXZPkq1pxuxWWiF+UbMvb4eMm/kE4cuLpMxyb6IL3PPq+5R1yHoL4DTHq
         ZVME67FveWF6sEEw+/7qehCDmCQUdBRSjT6ELPYRk2AEQ34uKQAFHkj7u9d3cozL7r3W
         +fDA==
Received: by 10.50.0.129 with SMTP id 1mr5443128ige.21.1354528668702; Mon, 03
 Dec 2012 01:57:48 -0800 (PST)
MIME-Version: 1.0
Reply-To: chris@derham.me.uk
Sender: cjderham@gmail.com
Received: by 10.64.70.2 with HTTP; Mon, 3 Dec 2012 01:57:28 -0800 (PST)
In-Reply-To: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
From: chris derham <chris@derham.me.uk>
Date: Mon, 3 Dec 2012 07:57:28 -0200
X-Google-Sender-Auth: EsOKiWlFE4BeWKazNOClRLWeZl0
Message-ID: <CAG6aRdX5mNkAstSBgsQTpXAJ9A3x_r7a84kEu2bRCFduNPrySg@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f5032cc22d64b04cfefc834
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f5032cc22d64b04cfefc834
Content-Type: text/plain; charset=ISO-8859-1

> I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
> I want to use only one loadbalancer.


Why are you using load balancing? Why do you want to use only one
loadbalancer?


> Can I set specific url after balancing
> ?
>
> For example, firstly every request will go to loadbalancer.
> Then if request is  /WebApp/A*.com, it will go to node1. If request
> /WebApp/B*.com, it will go to node2
>

Why do you not just proxy these requests and skip the load balancing?

Confused

Chris

--e89a8f5032cc22d64b04cfefc834--

From users-return-238331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:03:06 2012
Return-Path: <users-return-238331-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CB56E3AA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:03:06 +0000 (UTC)
Received: (qmail 78122 invoked by uid 500); 3 Dec 2012 10:03:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78002 invoked by uid 500); 3 Dec 2012 10:03:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77976 invoked by uid 99); 3 Dec 2012 10:03:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:03:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:02:53 +0000
Received: from [192.168.245.129] (p549E9069.dip0.t-ipconnect.de [84.158.144.105])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 0F77B3C0879
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 11:03:18 +0100 (CET)
Message-ID: <50BC78B6.4090007@ice-sa.com>
Date: Mon, 03 Dec 2012 11:02:30 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
In-Reply-To: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Orhan Karasakal wrote:
> Hi,
> 
> I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
> I want to use only one loadbalancer. Can I set specific url after balancing
> ?
> 
> For example, firstly every request will go to loadbalancer.
> Then if request is  /WebApp/A*.com, it will go to node1. If request
> /WebApp/B*.com, it will go to node2
> 
> worker.loadbalancer.balance_workers=node1,node2.
> 
I may not understand correctly what you really want, but from your explanation above, it 
does not look like "load balancing".  What you seem to want is to forward some requests to 
one Tomcat back-end (worker1), and some others to another Tomcat back-end (worker2).

If that is the case, you should do this :

JkMount /Webapp/URL-1/* worker1
JkMount /Webapp/URL-2/* worker2


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:07:45 2012
Return-Path: <users-return-238332-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BC9D6E3C3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:07:45 +0000 (UTC)
Received: (qmail 96236 invoked by uid 500); 3 Dec 2012 10:07:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95996 invoked by uid 500); 3 Dec 2012 10:07:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95963 invoked by uid 99); 3 Dec 2012 10:07:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:07:41 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.220.45 as permitted sender)
Received: from [209.85.220.45] (HELO mail-pa0-f45.google.com) (209.85.220.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:07:34 +0000
Received: by mail-pa0-f45.google.com with SMTP id bg2so1839953pad.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 02:07:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=qR+yJDE4KYyp5TlsRaBlftqPLuPYnUZ7PmKMSS74D74=;
        b=iSPY708qfgRZmWfN2e/g7a3PiPe7sv730a/Krg3G3WrqL69JYWf6usSxblGFRR2uBB
         hjPKb+Iv4iy/cj4eEH0RHtsOH650gNDcAnJ16819PXCybfR/pCvCb8maYkPbQleygs1c
         yxD5W5J7Wc8g2oaoiiiFeijv2KGvbTcegDHIqzL1qpr3ONw7qWQ65JzoYvhB0eekMLEE
         jco/ZzpkiIfPxOmHWOBkaR8YvaRfvo0sFGx20Sr5HfwvywJrQuKLwTxNqKn7W3k0gyNX
         t3ijgDo6C0cwvCuqr+u2FUC4iNojxuvPw4P/RP9mVaJpThoADix6U9LG8vvAR4n3qsuT
         7wVA==
MIME-Version: 1.0
Received: by 10.68.143.106 with SMTP id sd10mr27652576pbb.62.1354529233372;
 Mon, 03 Dec 2012 02:07:13 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 02:07:13 -0800 (PST)
In-Reply-To: <CAG6aRdX5mNkAstSBgsQTpXAJ9A3x_r7a84kEu2bRCFduNPrySg@mail.gmail.com>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
	<CAG6aRdX5mNkAstSBgsQTpXAJ9A3x_r7a84kEu2bRCFduNPrySg@mail.gmail.com>
Date: Mon, 3 Dec 2012 12:07:13 +0200
Message-ID: <CANNgL13S+eaLVx++3Hh7jyvZSpGLup-2fjkzrSGiSVD41cgCKw@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, chris@derham.me.uk
Content-Type: multipart/alternative; boundary=047d7b2e4c6ccb061d04cfefe948
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b2e4c6ccb061d04cfefe948
Content-Type: text/plain; charset=ISO-8859-1

I can solve the problem when I use more than loadbalancer.
A lot of requests come our system so we use loadbalancer. But I want to
send requests to specific nodes.

Is not there any way while using one loadbalancer ?


On Mon, Dec 3, 2012 at 11:57 AM, chris derham <chris@derham.me.uk> wrote:

> > I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
> > I want to use only one loadbalancer.
>
>
> Why are you using load balancing? Why do you want to use only one
> loadbalancer?
>
>
> > Can I set specific url after balancing
> > ?
> >
> > For example, firstly every request will go to loadbalancer.
> > Then if request is  /WebApp/A*.com, it will go to node1. If request
> > /WebApp/B*.com, it will go to node2
> >
>
> Why do you not just proxy these requests and skip the load balancing?
>
> Confused
>
> Chris
>

--047d7b2e4c6ccb061d04cfefe948--

From users-return-238333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:18:49 2012
Return-Path: <users-return-238333-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6729E3EF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:18:48 +0000 (UTC)
Received: (qmail 25880 invoked by uid 500); 3 Dec 2012 10:18:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25653 invoked by uid 500); 3 Dec 2012 10:18:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25616 invoked by uid 99); 3 Dec 2012 10:18:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:18:44 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-da0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:18:37 +0000
Received: by mail-da0-f45.google.com with SMTP id w4so1262092dam.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 02:18:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=QoQlX+0NBZDWHA1uduwpKwa5+O8wgQxhke27FO0hrmc=;
        b=ir0Gh/Hy2XK+SudUhjQErBwqySxfHzfnKIDGmw0XOhy09DHO1iyMCVfd5YnuqdKZLQ
         Z856OKdfgSOkw7YCLv7eZTDUK0UMJsQCMnmb6bddREdINV7qKbxrPUXQxfWGxCSRzi1W
         w65ZIaYudo881fXGJ2MsBzlhV/lNb8Dm5rwNxqeXI94w3x4KSCT9dGt5qBLQx3sQWsYB
         w8mybmkiLIQs6NN5LSrsTiZce9pWL6T/BYmRzAF116h8dng8Zav2DouqJxyw+vxOAHSh
         LOLgraWWQj1aT9H1EFchrhCS3vSTtCEZ7PzZno8BIaN+i+PjEt3qBIs/XivVFVmTV5em
         Jlqg==
MIME-Version: 1.0
Received: by 10.66.81.97 with SMTP id z1mr24702375pax.19.1354529895872; Mon,
 03 Dec 2012 02:18:15 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 02:18:15 -0800 (PST)
In-Reply-To: <50BC78B6.4090007@ice-sa.com>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
	<50BC78B6.4090007@ice-sa.com>
Date: Mon, 3 Dec 2012 12:18:15 +0200
Message-ID: <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d042de81347f7b104cff01110
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042de81347f7b104cff01110
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

But firstly I want to send requests to loadbalancer and then according to
url, sending the other nodes.
I have a lot of nodes and I have to use loadbalancer for every request

On Mon, Dec 3, 2012 at 12:02 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Orhan Karasakal wrote:
>
>> Hi,
>>
>> I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
>> I want to use only one loadbalancer. Can I set specific url after
>> balancing
>> ?
>>
>> For example, firstly every request will go to loadbalancer.
>> Then if request is  /WebApp/A*.com, it will go to node1. If request
>> /WebApp/B*.com, it will go to node2
>>
>> worker.loadbalancer.balance_**workers=3Dnode1,node2.
>>
>>  I may not understand correctly what you really want, but from your
> explanation above, it does not look like "load balancing".  What you seem
> to want is to forward some requests to one Tomcat back-end (worker1), and
> some others to another Tomcat back-end (worker2).
>
> If that is the case, you should do this :
>
> JkMount /Webapp/URL-1/* worker1
> JkMount /Webapp/URL-2/* worker2
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d042de81347f7b104cff01110--

From users-return-238334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:29:23 2012
Return-Path: <users-return-238334-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA2AFEF1A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:29:22 +0000 (UTC)
Received: (qmail 51353 invoked by uid 500); 3 Dec 2012 10:29:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51240 invoked by uid 500); 3 Dec 2012 10:29:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51203 invoked by uid 99); 3 Dec 2012 10:29:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:29:17 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:29:11 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so2178961vcb.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 02:28:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DfySd9Ejoa4mKm2As7aPmIgTY+U2O2T9Vf46XE6Ezdc=;
        b=vqdJNZKw44ODYmOiXSc9ZF30qv4oooq1mx7yNCRGxrGGKgv+HFS6bpi1xOENG1Vsn2
         p3y1dluPIrLrMZXbsjvAjT2jztqtpYMpH1vfcmOhaZ+oMNtKIqobdUM+W4EpUFNMlYPT
         geAURQLWpou7cOIosjGQWttBVTAg+J4WpClyNfFXqxYtqswqydpT131sBKgPRfy/7D+U
         a8mwxU+uxubJ1+yhZUytPaGFLYozm9As2TwYCuk4X1UMeC1bW/OfPf3aQkT8nLN6AvBt
         g6hxFlA955C40wGFH8b6jcugVqLRIP8iLFO9ztafWNnSnHz3YurMEK8II+dKcMT71K0o
         zwBg==
MIME-Version: 1.0
Received: by 10.52.71.200 with SMTP id x8mr3066308vdu.90.1354530530288; Mon,
 03 Dec 2012 02:28:50 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Mon, 3 Dec 2012 02:28:50 -0800 (PST)
In-Reply-To: <50BC7016.30109@apache.org>
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com>
	<CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
	<50BC7016.30109@apache.org>
Date: Mon, 3 Dec 2012 14:28:50 +0400
Message-ID: <CABzHfVnHsSDDuVPYpt1OstOvZNO4vEKxcbBy+i7m8c1nmsn_9A@mail.gmail.com>
Subject: Re: Tomcat 7 is not working on windows 7....
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/3 Mark Thomas <markt@apache.org>:
> On 03/12/2012 09:15, Jugal Thakkar wrote:
>> Hello Sir,
>>             I am Java Developer. i develop web application using servlet
>> and JSP.
>>
>> My problem is that i am not able to get server started in eclipse
>> Juno.....using Tomcat 7 with windows 7.....
>>
>> Please Guide me for the same....
>> Installation Process of tomcat 7 on windows 7....
>> I was previously using Windows XP and everything was fine....
>> But with Windows 7 i am Having the problem....
>>
>> Please guide me regarding this....
>
> Two options:
>
> 1. Read this:
> http://www.catb.org/esr/faqs/smart-questions.html
> and follow the excellent advice it offers.
>

+1

> 2. Apply the following logic:
> - It worked on Windows XP
> - It doesn't work on Windows 7
> - Therefore a bug in Windows 7 is the root cause
> - Either:
>   a) Report the problem to Microsoft and get them to fix it
>   b) Uninstall Windows 7 and re-install Windows XP
>

There is also FAQ available, such as
http://wiki.apache.org/tomcat/FAQ/Windows#Q8

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:42:15 2012
Return-Path: <users-return-238335-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 07F79EF97
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:42:15 +0000 (UTC)
Received: (qmail 85954 invoked by uid 500); 3 Dec 2012 10:42:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85890 invoked by uid 500); 3 Dec 2012 10:42:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85865 invoked by uid 99); 3 Dec 2012 10:42:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:42:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:42:02 +0000
Received: from [192.168.245.129] (p549E9069.dip0.t-ipconnect.de [84.158.144.105])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 7058E3C0B08
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 11:42:28 +0100 (CET)
Message-ID: <50BC81E4.2020704@ice-sa.com>
Date: Mon, 03 Dec 2012 11:41:40 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>	<50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
In-Reply-To: <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Orhan,

1) do not "top-post". It is difficult to follow the logical flow of the conversation when 
you do that.

Orhan Karasakal wrote:
> 
> On Mon, Dec 3, 2012 at 12:02 PM, André Warnier <aw@ice-sa.com> wrote:
> 
>> Orhan Karasakal wrote:
>>
>>> Hi,
>>>
>>> I use mod_jk loadbalancing. (JkMount /WebApp/* loadbalancer )
>>> I want to use only one loadbalancer. Can I set specific url after
>>> balancing
>>> ?
>>>
>>> For example, firstly every request will go to loadbalancer.
>>> Then if request is  /WebApp/A*.com, it will go to node1. If request
>>> /WebApp/B*.com, it will go to node2
>>>
>>> worker.loadbalancer.balance_**workers=node1,node2.
>>>
>>>  I may not understand correctly what you really want, but from your
>> explanation above, it does not look like "load balancing".  What you seem
>> to want is to forward some requests to one Tomcat back-end (worker1), and
>> some others to another Tomcat back-end (worker2).
>>
>> If that is the case, you should do this :
>>
>> JkMount /Webapp/URL-1/* worker1
>> JkMount /Webapp/URL-2/* worker2
>>
>>

 > But firstly I want to send requests to loadbalancer and then according to
 > url, sending the other nodes.
 > I have a lot of nodes and I have to use loadbalancer for every request

Then I believe that the answer to your question is : no, you cannot do that. Mod_jk does 
not foresee such a case, as far as I know.
But mod_jk, like Tomcat, is open-source.  So you could take the code and modify it as per 
your wishes.

Or you could post an enhancement request.

Or you could change your architecture, and introduce an intermediate level of load-balancing :
1st level : Apache httpd with mod_proxy_http and load-balancing, balances to
2d level : Apache httpd with mod_jk, balances to
3d level : Tomcat workers



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 10:53:42 2012
Return-Path: <users-return-238336-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2A5F5EFD0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 10:53:42 +0000 (UTC)
Received: (qmail 9137 invoked by uid 500); 3 Dec 2012 10:53:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9078 invoked by uid 500); 3 Dec 2012 10:53:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9046 invoked by uid 99); 3 Dec 2012 10:53:37 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:53:37 +0000
Received: from localhost (HELO [192.168.0.116]) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 10:53:36 +0000
Message-ID: <50BC84AE.4090008@apache.org>
Date: Mon, 03 Dec 2012 11:53:34 +0100
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
In-Reply-To: <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 12/3/2012 11:18, Orhan Karasakal wrote:
> But firstly I want to send requests to loadbalancer and then according to
> url, sending the other nodes.

Session affinity should handle that.
But if you wish something else use some other loadbalancer,
eg. mod_rewrite round-robin and multiple mod_jk workers.


Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 11:00:29 2012
Return-Path: <users-return-238337-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14BD3D01A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 11:00:29 +0000 (UTC)
Received: (qmail 30101 invoked by uid 500); 3 Dec 2012 11:00:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30059 invoked by uid 500); 3 Dec 2012 11:00:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30039 invoked by uid 99); 3 Dec 2012 11:00:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 11:00:25 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 11:00:16 +0000
Received: from [192.168.245.129] (p549E9069.dip0.t-ipconnect.de [84.158.144.105])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 7C0033C0459
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 12:00:42 +0100 (CET)
Message-ID: <50BC8629.5010706@ice-sa.com>
Date: Mon, 03 Dec 2012 11:59:53 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com> <50BC84AE.4090008@apache.org>
In-Reply-To: <50BC84AE.4090008@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mladen Turk wrote:
> On 12/3/2012 11:18, Orhan Karasakal wrote:
>> But firstly I want to send requests to loadbalancer and then according to
>> url, sending the other nodes.
> 
> Session affinity should handle that.

Session affinity should ensure that once a session is started with one application on a 
particular worker, follow-up requests by the same browser to the same application should 
continue to go to the same tomcat worker.

But it does not allow one to control to which worker the *first* request to a particular 
application will go, or does it ?

> But if you wish something else use some other loadbalancer,
> eg. mod_rewrite round-robin and multiple mod_jk workers.
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 11:33:22 2012
Return-Path: <users-return-238338-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D7C59D301
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 11:33:22 +0000 (UTC)
Received: (qmail 13243 invoked by uid 500); 3 Dec 2012 11:33:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 12957 invoked by uid 500); 3 Dec 2012 11:33:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 12931 invoked by uid 99); 3 Dec 2012 11:33:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 11:33:18 +0000
X-ASF-Spam-Status: No, hits=4.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,HTML_NONELEMENT_30_40,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_DNSWL_NONE,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of 22687582@qq.com designates 64.71.138.44 as permitted sender)
Received: from [64.71.138.44] (HELO smtpbg55.qq.com) (64.71.138.44)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 03 Dec 2012 11:33:12 +0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=qq.com; s=s0907;
	t=1354534370; bh=bHaPfg2DAJjmJheeCcOWAT1QXwbb0A8ZEy0btbg5LQg=;
	h=X-QQ-SSF:X-HAS-ATTACH:X-QQ-BUSINESS-ORIGIN:X-Originating-IP:
	 X-QQ-STYLE:X-QQ-mid:From:To:Subject:Mime-Version:Content-Type:
	 Content-Transfer-Encoding:Date:X-Priority:Message-ID:X-QQ-MIME:
	 X-Mailer:X-QQ-Mailer:X-QQ-ReplyHash;
	b=hSo3xHJGBrSf2sVtLJg9TUT5eGrsNcxoGhEljagaZR6xl2+BNiisowt2jIl9Lwq4m
	 GGpNInRrehmLEsi2gg6Er4keGGy7YOyDvr6WMMM3HRwGc1NYaATSSFCuTFgMyCI
X-QQ-SSF: 000000000000009000000000000000Z
X-HAS-ATTACH: no
X-QQ-BUSINESS-ORIGIN: 2
X-Originating-IP: 123.125.11.100
X-QQ-STYLE: 
X-QQ-mid: webmail80t1354534368t7029106
From: "=?gb18030?B?1Ma3ydHu?=" <22687582@qq.com>
To: "=?gb18030?B?VG9tY2F0IFVzZXJzIExpc3Q=?=" <users@tomcat.apache.org>
Subject: =?gb18030?B?u9i4tKO6IHRvbWNhdCBqZGJjIHBvb2wgc3RhY2tv?=
 =?gb18030?B?dmVyZmxvdyBlcnJvciB1c2VkIHdpdGggc3ByaW5n?=
Mime-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_50BC8DE0_099235D8_76D7B91D"
Content-Transfer-Encoding: 8Bit
Date: Mon, 3 Dec 2012 19:32:48 +0800
X-Priority: 3
Message-ID: <tencent_754626800904D96F2307ED7D@qq.com>
X-QQ-MIME: TCMime 1.0 by Tencent
X-Mailer: QQMail 2.x
X-QQ-Mailer: QQMail 2.x
X-QQ-ReplyHash: 1811252783
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_50BC8DE0_099235D8_76D7B91D
Content-Type: text/plain;
	charset="gb18030"
Content-Transfer-Encoding: base64

VGhhbmtzIGZvciBoZWxwLiBJIHN1Ym1pdCBhIGJ1ZyBoZXJlOiBodHRwczovL2lzc3Vlcy5h
cGFjaGUub3JnL2J1Z3ppbGxhL3Nob3dfYnVnLmNnaT9pZD01NDIzNQ0KDQpZYW5reQ0KDQot
LS0tLS0tLS0tLS0tLS0tLS0g1K3KvNPKvP4gLS0tLS0tLS0tLS0tLS0tLS0tDQq3orz+yMs6
ICJLb25zdGFudGluIEtvbGlua28iPGtuc3Qua29saW5rb0BnbWFpbC5jb20+Ow0Kt6LLzcqx
vOQ6IDIwMTLE6jEy1MIyyNUo0MfG2szsKSDN7cnPNjoyNA0KytW8/sjLOiAiVG9tY2F0IFVz
ZXJzIExpc3QiPHVzZXJzQHRvbWNhdC5hcGFjaGUub3JnPjsgDQoNCtb3zOI6IFJlOiB0b21j
YXQgamRiYyBwb29sIHN0YWNrb3ZlcmZsb3cgZXJyb3IgdXNlZCB3aXRoIHNwcmluZw0KDQoN
Cg0KMjAxMi8xMi8yINTGt8nR7iA8MjI2ODc1ODJAcXEuY29tPjoNCj4gSGk6DQo+DQo+IEkn
bSBldmFsdWF0aW5nIGpkYmMgcG9vbCBhZnRlciByZWFkaW5nIHNvbWUgYmxvZ3Mgb24gIHRv
bWNhdGV4cGVydC5jb20uIEJ1dCB3aGVuIEkgdHJ5IHRvIHN3aXRjaCB0byBqZGJjIHBvb2wg
ZnJvbSBkYmNwLCBJJ20gIGdldHRpbmcgc3RhY2tvdmVyZmxvdyBlcnJvciBsaWtlIHRoaXM6
DQo+DQo+IENhdXNlZCBieTogamF2YS5sYW5nLlN0YWNrT3ZlcmZsb3dFcnJvcg0KPiAgICAg
YXQgamF2YS51dGlsLmNvbmN1cnJlbnQuQWJzdHJhY3RFeGVjdXRvclNlcnZpY2UuPGluaXQ+
KEFic3RyYWN0RXhlY3V0b3JTZXJ2aWNlLmphdmE6NzEpDQo+ICAgICBhdCBqYXZhLnV0aWwu
Y29uY3VycmVudC5UaHJlYWRQb29sRXhlY3V0b3IuPGluaXQ+KFRocmVhZFBvb2xFeGVjdXRv
ci5qYXZhOjEyNzApDQo+ICAgICBhdCBqYXZhLnV0aWwuY29uY3VycmVudC5UaHJlYWRQb29s
RXhlY3V0b3IuPGluaXQ+KFRocmVhZFBvb2xFeGVjdXRvci5qYXZhOjExNjMpDQo+ICAgICBh
dCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuQ29ubmVjdGlvblBvb2wuPGluaXQ+KENv
bm5lY3Rpb25Qb29sLmphdmE6MTE3KQ0KPiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRi
Yy5wb29sLkRhdGFTb3VyY2VQcm94eS5wQ3JlYXRlUG9vbChEYXRhU291cmNlUHJveHkuamF2
YToxMTYpDQo+ICAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJj
ZVByb3h5LmNyZWF0ZVBvb2woRGF0YVNvdXJjZVByb3h5LmphdmE6MTAzKQ0KPiAgICAgYXQg
b3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkRhdGFTb3VyY2VQcm94eS5nZXRDb25uZWN0
aW9uKERhdGFTb3VyY2VQcm94eS5qYXZhOjEyNykNCj4gICAgIGF0IG9yZy5hcGFjaGUudG9t
Y2F0LmpkYmMucG9vbC5EYXRhU291cmNlUHJveHkuZ2V0Q29ubmVjdGlvbihEYXRhU291cmNl
UHJveHkuamF2YTo4NikNCj4gICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Q
b29sZWRDb25uZWN0aW9uLmNvbm5lY3RVc2luZ0RhdGFTb3VyY2UoUG9vbGVkQ29ubmVjdGlv
bi5qYXZhOjIyNCkNCj4gICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Qb29s
ZWRDb25uZWN0aW9uLmNvbm5lY3QoUG9vbGVkQ29ubmVjdGlvbi5qYXZhOjE4MCkNCj4gICAg
IGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Db25uZWN0aW9uUG9vbC5jcmVhdGVD
b25uZWN0aW9uKENvbm5lY3Rpb25Qb29sLmphdmE6Njk5KQ0KPiAgICAgYXQgb3JnLmFwYWNo
ZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLmJvcnJvd0Nvbm5lY3Rpb24oQ29u
bmVjdGlvblBvb2wuamF2YTo2MzEpDQo+ICAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJj
LnBvb2wuQ29ubmVjdGlvblBvb2wuaW5pdChDb25uZWN0aW9uUG9vbC5qYXZhOjQ4NSkNCj4g
ICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5Db25uZWN0aW9uUG9vbC48aW5p
dD4oQ29ubmVjdGlvblBvb2wuamF2YToxNDMpDQo+ICAgICBhdCBvcmcuYXBhY2hlLnRvbWNh
dC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LnBDcmVhdGVQb29sKERhdGFTb3VyY2VQcm94
eS5qYXZhOjExNikNCj4gICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5EYXRh
U291cmNlUHJveHkuY3JlYXRlUG9vbChEYXRhU291cmNlUHJveHkuamF2YToxMDMpDQo+ICAg
ICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LmdldENv
bm5lY3Rpb24oRGF0YVNvdXJjZVByb3h5LmphdmE6MTI3KQ0KPiAgICAgYXQgb3JnLmFwYWNo
ZS50b21jYXQuamRiYy5wb29sLkRhdGFTb3VyY2VQcm94eS5nZXRDb25uZWN0aW9uKERhdGFT
b3VyY2VQcm94eS5qYXZhOjg2KQ0KPiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5w
b29sLlBvb2xlZENvbm5lY3Rpb24uY29ubmVjdFVzaW5nRGF0YVNvdXJjZShQb29sZWRDb25u
ZWN0aW9uLmphdmE6MjI0KQ0KPiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29s
LlBvb2xlZENvbm5lY3Rpb24uY29ubmVjdChQb29sZWRDb25uZWN0aW9uLmphdmE6MTgwKQ0K
PiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29sLmNy
ZWF0ZUNvbm5lY3Rpb24oQ29ubmVjdGlvblBvb2wuamF2YTo2OTkpDQo+ICAgICBhdCBvcmcu
YXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuQ29ubmVjdGlvblBvb2wuYm9ycm93Q29ubmVjdGlv
bihDb25uZWN0aW9uUG9vbC5qYXZhOjYzMSkNCj4gICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0
LmpkYmMucG9vbC5Db25uZWN0aW9uUG9vbC5pbml0KENvbm5lY3Rpb25Qb29sLmphdmE6NDg1
KQ0KPiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29sLkNvbm5lY3Rpb25Qb29s
Ljxpbml0PihDb25uZWN0aW9uUG9vbC5qYXZhOjE0MykNCj4gICAgIGF0IG9yZy5hcGFjaGUu
dG9tY2F0LmpkYmMucG9vbC5EYXRhU291cmNlUHJveHkucENyZWF0ZVBvb2woRGF0YVNvdXJj
ZVByb3h5LmphdmE6MTE2KQ0KPiAgICAgYXQgb3JnLmFwYWNoZS50b21jYXQuamRiYy5wb29s
LkRhdGFTb3VyY2VQcm94eS5jcmVhdGVQb29sKERhdGFTb3VyY2VQcm94eS5qYXZhOjEwMykN
Cj4gICAgIGF0IG9yZy5hcGFjaGUudG9tY2F0LmpkYmMucG9vbC5EYXRhU291cmNlUHJveHku
Z2V0Q29ubmVjdGlvbihEYXRhU291cmNlUHJveHkuamF2YToxMjcpDQo+ICAgICBhdCBvcmcu
YXBhY2hlLnRvbWNhdC5qZGJjLnBvb2wuRGF0YVNvdXJjZVByb3h5LmdldENvbm5lY3Rpb24o
RGF0YVNvdXJjZVByb3h5LmphdmE6ODYpDQo+ICAgICBhdCBvcmcuYXBhY2hlLnRvbWNhdC5q
ZGJjLnBvb2wuUG9vbGVkQ29ubmVjdGlvbi5jb25uZWN0VXNpbmdEYXRhU291cmNlKFBvb2xl
ZENvbm5lY3Rpb24uamF2YToyMjQpDQo+DQo+IGFuZCBJIG5vdGljZWQgdGhhdCBzb21lb25l
IGhhZCB0aGUgc2FtZSBpc3N1ZSBiZWZvcmUgYnV0IG5vdCBhbnN3ZXJlZDoNCj4gaHR0cDov
L21haWwtYXJjaGl2ZXMuYXBhY2hlLm9yZy9tb2RfbWJveC90b21jYXQtdXNlcnMvMjAxMTA3
Lm1ib3gvJTNDMzIwNDYzMTEucG9zdEB0YWxrLm5hYmJsZS5jb20lM0UNCj4NCj4gbXkgd2Vi
IGFwcCBpcyBhIHR5cGljYWwgc3ByaW5nbXZjK2hpYmVybmF0ZSBhcHBsaWNhdGlvbiwgYW5k
IGhlcmUgaXMgbXkgYXBwbGljYXRpb25jb250ZXh0IGRhdGFzb3VyY2UgcGFydDoNCj4NCj4g
PGJlYW4gaWQ9ImRhdGFTb3VyY2UiIGNsYXNzPSJvcmcuYXBhY2hlLnRvbWNhdC5qZGJjLnBv
b2wuRGF0YVNvdXJjZSIgZGVzdHJveS1tZXRob2Q9ImNsb3NlIj4NCj4gPHByb3BlcnR5IG5h
bWU9ImRyaXZlckNsYXNzTmFtZSIgdmFsdWU9IiR7dGVscmVnaXN0cnkuamRiYy5kcml2ZXJD
bGFzc05hbWV9IiAvPg0KPiA8cHJvcGVydHkgbmFtZT0idXJsIiB2YWx1ZT0iJHt0ZWxyZWdp
c3RyeS5qZGJjLnVybH0iLz4NCj4gPHByb3BlcnR5IG5hbWU9InVzZXJuYW1lIiB2YWx1ZT0i
JHt0ZWxyZWdpc3RyeS5qZGJjLnVzZXJuYW1lfSIvPg0KPiA8cHJvcGVydHkgbmFtZT0icGFz
c3dvcmQiIHZhbHVlPSIke3RlbHJlZ2lzdHJ5LmpkYmMucGFzc3dvcmR9Ii8+DQo+IDxwcm9w
ZXJ0eSBuYW1lPSJpbml0aWFsU2l6ZSIgdmFsdWU9IjUiLz4NCj4gPHByb3BlcnR5IG5hbWU9
ImluaXRTUUwiIHZhbHVlPSJTRUxFQ1QgMSIvPg0KPiA8cHJvcGVydHkgbmFtZT0ibWluSWRs
ZSIgdmFsdWU9IjUiLz4NCj4gPHByb3BlcnR5IG5hbWU9Im1heElkbGUiIHZhbHVlPSI1MCIv
Pg0KPiA8cHJvcGVydHkgbmFtZT0ibWF4QWN0aXZlIiB2YWx1ZT0iMTAwIi8+DQo+IDxwcm9w
ZXJ0eSBuYW1lPSJtYXhXYWl0IiB2YWx1ZT0iNjAwMCIvPg0KPiA8cHJvcGVydHkgbmFtZT0i
dmFsaWRhdGlvbkludGVydmFsIiB2YWx1ZT0iMTgwMDAwMCIvPg0KPiA8cHJvcGVydHkgbmFt
ZT0idmFsaWRhdGlvblF1ZXJ5IiB2YWx1ZT0iU0VMRUNUIDEiLz4NCj4gPC9iZWFuPg0KPg0K
PiBteSBzeXN0ZW06DQo+IHdpbjcgMzJiaXQNCj4gamRrMS43LjBfOShhbHNvIHRlc3Qgb24g
amRrMS42LjBfMjUpDQo+IG15c3FsIDUuNShhbHNvIHRlc3Qgb3JhY2xlMTFnKQ0KPiBzcHJp
bmcgMy4xLjANCj4gamRiYyBwb29sKHRvbWNhdC1qZGJjLTcuMC4zMC5qYXIgZnJvbSBvZmZp
Y2lhbCBtYXZlbiByZXBvKQ0KPg0KPiBBbHNvIEkgdGVzdCBqZGJjIHBvb2wgdW5kZXIgdG9t
Y2F0NyBhcyBhIGNvbnRhaW5lciByZXNvdXJjZS4gSXQgd29ya3MuIEl0IHNlZW1zIHRoYXQg
amRiYyBwb29sIGNhbm5vdCBjb21lIGFsb25nIHdpdGggc3ByaW5nLg0KDQoNCjEuIFBsZWFz
ZSBmaWxlIGFuIGlzc3VlIGluIEJ1Z3ppbGxhLg0KVGhlcmUgd2VyZSBubyBmaXhlcyBpbiBq
ZGJjLXBvb2wgbW9kdWxlIGJldHdlZW4gNy4wLjMwIGFuZCB0aGUgY3VycmVudA0KdmVyc2lv
biA3LjAuMzMsIHNvIHRoZSBidWcgc2hvdWxkIHN0aWxsIGJlIHRoZXJlLg0KDQoyLiBUaGlz
IGlzIGNhdXNlZCBieSAiPHByb3BlcnR5IG5hbWU9ImluaXRpYWxTaXplIiB2YWx1ZT0iNSIv
PiIgaW4NCnlvdXIgY29uZmlndXJhdGlvbi4NClRoZSBDb25uZWN0aW9uUG9vbC5pbml0KC4u
KSBtZXRob2QgdHJpZXMgdG8gb3BlbiB0aG9zZSA1IGNvbm5lY3Rpb25zDQphbmQgZmFpbHMg
d2l0aCBhIHJlY3Vyc2lvbi4NCg0KQmVzdCByZWdhcmRzLA0KS29uc3RhbnRpbiBLb2xpbmtv
DQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQ0KVG8gdW5zdWJzY3JpYmUsIGUtbWFpbDogdXNlcnMtdW5z
dWJzY3JpYmVAdG9tY2F0LmFwYWNoZS5vcmcNCkZvciBhZGRpdGlvbmFsIGNvbW1hbmRzLCBl
LW1haWw6IHVzZXJzLWhlbHBAdG9tY2F0LmFwYWNoZS5vcmc=

------=_NextPart_50BC8DE0_099235D8_76D7B91D--


From users-return-238339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 11:50:02 2012
Return-Path: <users-return-238339-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CF773D3CC
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 11:50:02 +0000 (UTC)
Received: (qmail 73772 invoked by uid 500); 3 Dec 2012 11:49:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73730 invoked by uid 500); 3 Dec 2012 11:49:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73618 invoked by uid 99); 3 Dec 2012 11:49:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 11:49:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [81.169.162.220] (HELO h1611079.stratoserver.net) (81.169.162.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 11:49:52 +0000
Received: by h1611079.stratoserver.net (Postfix, from userid 5001)
	id 7873E4948067; Mon,  3 Dec 2012 12:49:30 +0100 (CET)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	h1611079.stratoserver.net
X-Spam-Level: 
Received: from www.internetallee.de (localhost.localdomain [127.0.0.1])
	by h1611079.stratoserver.net (Postfix) with ESMTPA id 00A94494802A
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 12:49:29 +0100 (CET)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 8bit
Date: Mon, 03 Dec 2012 12:49:28 +0100
From: Felix Schumacher <felix.schumacher@internetallee.de>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: =?UTF-8?Q?Mod=5Fjk=20-=20loadbalancer?=
In-Reply-To: <50BC8629.5010706@ice-sa.com>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
 <50BC78B6.4090007@ice-sa.com>
 <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
 <50BC84AE.4090008@apache.org> <50BC8629.5010706@ice-sa.com>
Message-ID: <888a5571867be0562b5c8d659f852c24@www.internetallee.de>
X-Sender: felix.schumacher@internetallee.de
User-Agent: RoundCube Webmail/0.5-beta
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.9 required=5.0 tests=ALL_TRUSTED,BAYES_00
	autolearn=ham version=3.3.1

Am 03.12.2012 11:59, schrieb AndrÃ© Warnier:
> Mladen Turk wrote:
>> On 12/3/2012 11:18, Orhan Karasakal wrote:
>>> But firstly I want to send requests to loadbalancer and then 
>>> according to
>>> url, sending the other nodes.
>> Session affinity should handle that.
>
> Session affinity should ensure that once a session is started with
> one application on a particular worker, follow-up requests by the 
> same
> browser to the same application should continue to go to the same
> tomcat worker.
>
> But it does not allow one to control to which worker the *first*
> request to a particular application will go, or does it ?
You may want to add jsessionid=.[JVMRoute] to your url. That way mod_jk 
will send your request to the right worker.

So given two workers workerA and workerB with JVMRoute same as the 
worker names and an URL http://server/webapp1 , you could simply try 
http://server/webapp1?jsessionid=.workerA to reach workerA directly.


Regards
  Felix

>
>> But if you wish something else use some other loadbalancer,
>> eg. mod_rewrite round-robin and multiple mod_jk workers.
>>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 12:28:19 2012
Return-Path: <users-return-238340-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3DB8EB1C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 12:28:18 +0000 (UTC)
Received: (qmail 68245 invoked by uid 500); 3 Dec 2012 12:28:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68056 invoked by uid 500); 3 Dec 2012 12:28:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68027 invoked by uid 99); 3 Dec 2012 12:28:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 12:28:12 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.220.45 as permitted sender)
Received: from [209.85.220.45] (HELO mail-pa0-f45.google.com) (209.85.220.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 12:28:06 +0000
Received: by mail-pa0-f45.google.com with SMTP id bg2so1931764pad.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 04:27:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=ymNEsytBCipYxH+Py/kNuQFM9ddRc8nGln4S+RH4sv8=;
        b=NCLx7iEXp3f+lpYkvfdT92PTaUhN5IkWGkR4rdYA6vcoXAQhAF+CeqbGngZiXXksJi
         G7QarorJqrPPUoBTinJAyGd3qzGZTY2zkcj5NaBzkNZ2wqfQLFFSQX1aQuGKWHbuQ2td
         7re1RNRW2haP9fajej7wOGd0VDRA2VkKhIxgm9yOtx1YTwLXXD0LrG/xd6HDNR00YXG8
         6SGHDCfKjcK+a9wTi5tNM+7VmCu8HHFA63i97ppoNuH0WEsjkAIdOf9P2xokklV5W0io
         x4q2r28sgti+JJrh6dgEoOf9iBlOKKHKM/bJhZeEkLqXpRTqoDD1W1a5CnXVaMfmaiEB
         1SVw==
MIME-Version: 1.0
Received: by 10.66.83.165 with SMTP id r5mr25732527pay.3.1354537664760; Mon,
 03 Dec 2012 04:27:44 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 04:27:44 -0800 (PST)
In-Reply-To: <888a5571867be0562b5c8d659f852c24@www.internetallee.de>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
	<50BC78B6.4090007@ice-sa.com>
	<CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
	<50BC84AE.4090008@apache.org>
	<50BC8629.5010706@ice-sa.com>
	<888a5571867be0562b5c8d659f852c24@www.internetallee.de>
Date: Mon, 3 Dec 2012 14:27:44 +0200
Message-ID: <CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d042f959057cb1304cff1e015
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042f959057cb1304cff1e015
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Many thanks for your replys

But I have no one worker for specific urls.
For example, I have 5 nodes(worker1, worker2,...,worker5)

requests from /wepapp1/* -> worker2,worker3
requests from /webapp2/* - > worker1, worker4, worker5

Is it possible ?

Regards,

On Mon, Dec 3, 2012 at 1:49 PM, Felix Schumacher <
felix.schumacher@internetallee.de> wrote:

> Am 03.12.2012 11:59, schrieb Andr=E9 Warnier:
>
>  Mladen Turk wrote:
>>
>>> On 12/3/2012 11:18, Orhan Karasakal wrote:
>>>
>>>> But firstly I want to send requests to loadbalancer and then according
>>>> to
>>>> url, sending the other nodes.
>>>>
>>> Session affinity should handle that.
>>>
>>
>> Session affinity should ensure that once a session is started with
>> one application on a particular worker, follow-up requests by the same
>> browser to the same application should continue to go to the same
>> tomcat worker.
>>
>> But it does not allow one to control to which worker the *first*
>> request to a particular application will go, or does it ?
>>
> You may want to add jsessionid=3D.[JVMRoute] to your url. That way mod_jk
> will send your request to the right worker.
>
> So given two workers workerA and workerB with JVMRoute same as the worker
> names and an URL http://server/webapp1 , you could simply try
> http://server/webapp1?**jsessionid=3D.workerA<http://server/webapp1?jsess=
ionid=3D.workerA>to reach workerA directly.
>
>
> Regards
>  Felix
>
>
>
>>  But if you wish something else use some other loadbalancer,
>>> eg. mod_rewrite round-robin and multiple mod_jk workers.
>>>
>>>
>>
>> ------------------------------**------------------------------**--------=
-
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsu=
bscribe@tomcat.apache.org>
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d042f959057cb1304cff1e015--

From users-return-238341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 12:31:08 2012
Return-Path: <users-return-238341-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61E9CE23E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 12:31:08 +0000 (UTC)
Received: (qmail 75194 invoked by uid 500); 3 Dec 2012 12:31:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74882 invoked by uid 500); 3 Dec 2012 12:31:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74848 invoked by uid 99); 3 Dec 2012 12:31:03 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 12:31:03 +0000
Received: from localhost (HELO [192.168.0.116]) (127.0.0.1)
  (smtp-auth username mturk, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 12:31:03 +0000
Message-ID: <50BC9B85.5090400@apache.org>
Date: Mon, 03 Dec 2012 13:31:01 +0100
From: Mladen Turk <mturk@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com> <50BC84AE.4090008@apache.org> <50BC8629.5010706@ice-sa.com> <888a5571867be0562b5c8d659f852c24@www.internetallee.de> <CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com>
In-Reply-To: <CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

On 12/3/2012 13:27, Orhan Karasakal wrote:
> Many thanks for your replys
>
> But I have no one worker for specific urls.
> For example, I have 5 nodes(worker1, worker2,...,worker5)
>
> requests from /wepapp1/* -> worker2,worker3
> requests from /webapp2/* - > worker1, worker4, worker5
>
> Is it possible ?

With two loadbalancers yes.
Although IMHO you have some serious design problems ;)

Regards
-- 
^TM

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 13:03:55 2012
Return-Path: <users-return-238342-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6DDFAE300
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 13:03:55 +0000 (UTC)
Received: (qmail 63161 invoked by uid 500); 3 Dec 2012 13:03:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62977 invoked by uid 500); 3 Dec 2012 13:03:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62946 invoked by uid 99); 3 Dec 2012 13:03:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 13:03:50 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of weisshaupt@gmail.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 13:03:44 +0000
Received: by mail-bk0-f45.google.com with SMTP id jk13so1260399bkc.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 05:03:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=rupZvcz6z38CTsSPxtfGGPbVPG3XDAWCkoo/2hjezs4=;
        b=Osa73iSlCGviHZzvG8uE7aYDOcBHnVqPeORIav8aQGSExPDWpgOZgcJrLo96qGTen5
         vTdIzll8UH8yGet0sBrYw7Ur8MBdwOOOiBm00h+77GOfGuvNyVyK+Xu5uoD5GCDmd4g4
         3Q/6fTfB7AJbK6Nyx+vMtfkGSUSMDvyXWcBIPATEBaqd0lOTNWNz2CYL0ccdqAX/SeJB
         4PGKPsm8fOQf/XCF2m9Lu80i/hitc/ycx4ohkdn1SPx7eWKXztIU0Aaj+9FDoO9VION2
         ISNVX63aIF/FrZdXKqEHiMj8AZ148R6rbRz4pSxMazN6hyQxuY/wKBNp9VnKjGkqK41J
         AxZQ==
MIME-Version: 1.0
Received: by 10.204.150.199 with SMTP id z7mr2743563bkv.139.1354539802668;
 Mon, 03 Dec 2012 05:03:22 -0800 (PST)
Received: by 10.204.231.193 with HTTP; Mon, 3 Dec 2012 05:03:22 -0800 (PST)
Date: Mon, 3 Dec 2012 14:03:22 +0100
Message-ID: <CAJmgiyJZrLW4dubNTxAG2qyaJRfK5TsV_aunrXwURwgzE_G0Bw@mail.gmail.com>
Subject: Reuse JNDI Properties
From: Martin Gamper <weisshaupt@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=0015175cf966c5b06104cff25fae
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cf966c5b06104cff25fae
Content-Type: text/plain; charset=ISO-8859-1

Hey everybody!

I am looking for a solution to reuse a JNDI Property which is set in the
context.xml :
in my "${catalina.home}/conf/context.xml" following
    <Environment name="nodeName" type="java.lang.String"
value="superFantasticNode" override="false" />
I use this value for several different purposes.

Now I want to define (for my J2EE application) another value for special
Log- Files. And therefore I use another JNDI property ... and in this
Property I'd like to "reuse" the previously set "nodeName"-variable.

In my Fantasy it would work like this:
    <Environment name="loggingPath"
        value="${catalina.home}/logs/${nodeName}.log"
type="java.lang.String"
        override="false" />

But it does not.

Do you know any solution (despite from changing my code) to achieve this?

Sincerly
Martin

--0015175cf966c5b06104cff25fae--

From users-return-238343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 13:11:32 2012
Return-Path: <users-return-238343-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51142E345
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 13:11:32 +0000 (UTC)
Received: (qmail 89329 invoked by uid 500); 3 Dec 2012 13:11:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88890 invoked by uid 500); 3 Dec 2012 13:11:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88859 invoked by uid 99); 3 Dec 2012 13:11:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 13:11:28 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.220.45 as permitted sender)
Received: from [209.85.220.45] (HELO mail-pa0-f45.google.com) (209.85.220.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 13:11:20 +0000
Received: by mail-pa0-f45.google.com with SMTP id bg2so1959637pad.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 05:10:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lB7HmoUvSJjQL/F/YhqjZPZDdmOE2+KWaWOWkTS86Yk=;
        b=DlyB4oe1dcgbi41bz94vYFPL8Neaj8qD5VS+Clby91WqdBCWiem9+T0RRJDMWv776w
         WDnhdRctu0S6bszKYQ8/mxJ4b/5xgiXzr4Yv2FcHuG3DwSBtmU4QNSxMNptl36F2bDPl
         1PcZ7/YYhAiOCmAS8lZ4Zuel1Hxns3Ns40uuEW9Ai4yTYwYL2M2YKZqfn8JXX/WRUcOU
         U6X59nSijgyUCjooLz1Nlb+iL3tTQgqc9js9Jk1w0clPrgQqau3jKlYFevsl8Efv/UEW
         7afRGF9YBEpWF6eqi0RKmULlPf/RfpXLsTYySLivCEiFZr1uUHUQ73fwlTc44m/pE7tF
         497A==
MIME-Version: 1.0
Received: by 10.68.209.230 with SMTP id mp6mr28937387pbc.8.1354540259650; Mon,
 03 Dec 2012 05:10:59 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 05:10:59 -0800 (PST)
In-Reply-To: <50BC9B85.5090400@apache.org>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
	<50BC78B6.4090007@ice-sa.com>
	<CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
	<50BC84AE.4090008@apache.org>
	<50BC8629.5010706@ice-sa.com>
	<888a5571867be0562b5c8d659f852c24@www.internetallee.de>
	<CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com>
	<50BC9B85.5090400@apache.org>
Date: Mon, 3 Dec 2012 15:10:59 +0200
Message-ID: <CANNgL10M8QoDavVaQo1+k+xvbYLgLeKc0+4=qb_-1Z=rYEZD+w@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b10ce6102aad604cff27ba4
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b10ce6102aad604cff27ba4
Content-Type: text/plain; charset=ISO-8859-1

If it is possible, then we set. Now  we are not using this design :)
I think, it is not possible.

many thanks all for your help

On Mon, Dec 3, 2012 at 2:31 PM, Mladen Turk <mturk@apache.org> wrote:

> On 12/3/2012 13:27, Orhan Karasakal wrote:
>
>> Many thanks for your replys
>>
>> But I have no one worker for specific urls.
>> For example, I have 5 nodes(worker1, worker2,...,worker5)
>>
>> requests from /wepapp1/* -> worker2,worker3
>> requests from /webapp2/* - > worker1, worker4, worker5
>>
>> Is it possible ?
>>
>
> With two loadbalancers yes.
> Although IMHO you have some serious design problems ;)
>
> Regards
> --
> ^TM
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsubscribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b10ce6102aad604cff27ba4--

From users-return-238344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 14:12:55 2012
Return-Path: <users-return-238344-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 98F24D4F7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 14:12:55 +0000 (UTC)
Received: (qmail 807 invoked by uid 500); 3 Dec 2012 14:12:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 662 invoked by uid 500); 3 Dec 2012 14:12:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 635 invoked by uid 99); 3 Dec 2012 14:12:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:12:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.227] (HELO qmta12.westchester.pa.mail.comcast.net) (76.96.59.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:12:43 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta12.westchester.pa.mail.comcast.net with comcast
	id X0oS1k0011vXlb85C2CMjM; Mon, 03 Dec 2012 14:12:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id X2CK1k00q38FjT13d2CLUo; Mon, 03 Dec 2012 14:12:21 +0000
Message-ID: <50BCB343.4010209@christopherschultz.net>
Date: Mon, 03 Dec 2012 09:12:19 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re:[OT] tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com> <50BA6D8D.5030005@pidster.com> <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com> <50BA907A.7010403@yahoo.com> <CAKC=6XedEDSAxhN++VaApR9etgFXE7YUniMQ-6ZDBFsCURydHg@mail.gmail.com>
In-Reply-To: <CAKC=6XedEDSAxhN++VaApR9etgFXE7YUniMQ-6ZDBFsCURydHg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354543941;
	bh=+5rAVaMqK52Im8Mxd8GjnMQniNS5RCjP6Y+NhyLDTCk=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=ZZcd1RNDlCs5Y1AWkwUye33pS9L3vdN469zsbNFDLRsnUv8W/+rkSobho/OemANem
	 bo0E82hyaw6MswctgzWmaBvkErjfUdslj1E1yCeQA9l0HVBj1pgml7cUCff4WcemKC
	 uIdC+nQOVDSWXwSTjGFOTfuPD1BpZjSIHeLoXpDJIzk87zyEjBvZazgNEWRl6Vw8iX
	 fItX5tqIZn+7zj2z7ynQzPEo4JS7D1b2M6OFj/BIPSJsoDARsQv9aRwSZ/u4ZoMs47
	 h6C2gdAfgdsNp5sQ8C08Nomj/xAeKqyjQeRGub3z4cPZs8+63+XnzOw7UpEaHkHmM8
	 9FzSswWpR8/JQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 12/2/12 1:04 AM, Jost Boekemeier wrote:
> I'm using gmail from android, which includes quoted text at the
> bottom.  So I don't have much control over the layout.

Sure you do. Scroll to the bottom of the message and tap after the
final text. Don't blame your tools.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8s0MACgkQ9CaO5/Lv0PCrYgCghOq6R6Lzg0US6D9oGKsCx7PB
hlIAni/VgzTbCucnljghdzVhpXWaZ5N3
=STJm
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 14:17:27 2012
Return-Path: <users-return-238345-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 605F5D519
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 14:17:27 +0000 (UTC)
Received: (qmail 16904 invoked by uid 500); 3 Dec 2012 14:17:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16348 invoked by uid 500); 3 Dec 2012 14:17:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16324 invoked by uid 99); 3 Dec 2012 14:17:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:17:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:17:15 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id X0dj1k0040vyq2s542GupC; Mon, 03 Dec 2012 14:16:54 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id X2Gt1k00338FjT13R2Gt2A; Mon, 03 Dec 2012 14:16:54 +0000
Message-ID: <50BCB454.6010005@christopherschultz.net>
Date: Mon, 03 Dec 2012 09:16:52 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com> <50BA6D8D.5030005@pidster.com> <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com> <50BA907A.7010403@yahoo.com> <CAKC=6XedEDSAxhN++VaApR9etgFXE7YUniMQ-6ZDBFsCURydHg@mail.gmail.com>
In-Reply-To: <CAKC=6XedEDSAxhN++VaApR9etgFXE7YUniMQ-6ZDBFsCURydHg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354544214;
	bh=L1zeR1qRBpzchUfmetweFtCqWkd3nEb2Z85WnvCtKvs=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Jy/bwaa01fG4q8aenroVPcy7Bdg0xvmMlL1w9zZziOMTH0/Y6JkMgpkEIY0ntLY36
	 x6jC23wxdki4bmoEkwXJOxvErFyNZPY5ZkexdiXRvtNpjyVYooLAybsTCee0v+9qre
	 gT40o4EeCmoxneqTi5hidbrKbEOHhaJKr/LgbbFyEIPg84eRPuyyGv/tLl+LiMczko
	 KFqvc/VgVppYvailXyot8twSPlbov3jBM+sDKhLGl16B85BMczgoddWy5CX2bTYP0l
	 ptz2Pr/fHQmSJCAi8MDwfD/18Un5eLjs9EHXabhP/d8dvMXap9PY8wwCPehgzkZtyH
	 5w0brF9tdpZWg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Jost,

On 12/2/12 1:04 AM, Jost Boekemeier wrote:
> I won't explain php Java bridge. It's just a library which requires
> a jee (tomcat) environment.
> 
> We currently have code, written in php, which comnunicates whith
> trackboxes (mostly systech "a1") via udp/tcp and Java clients via
> http;  in other words: we have a http server, written in php, which
> also accepts udp and tcp requests.
> 
> We want to replace our proprietary code with standard components.
> 
> Wer know that tomcat can handle http and tcp. But what's the best
> way to implement a udp listener? I guess I have to add a new
> connector.

There is no getting around that: you *will* need to implement your own
connector. Unfortunately, the existing connectors are all TCP-oriented
so you are very unlikely to be able to re-use the connector (and
protocol handler) base code that is used by the existing (BIO/NIO/APR)
connectors which all require a reliable channel.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8tFQACgkQ9CaO5/Lv0PDNVQCeIJ7eKwkmE4sZc7/wgL/g5k9Z
MfYAn1gie2DzObm8QobfH0XRDA9l6NSt
=QVoY
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 14:37:27 2012
Return-Path: <users-return-238346-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1222BE2A8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 14:37:26 +0000 (UTC)
Received: (qmail 84685 invoked by uid 500); 3 Dec 2012 14:37:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84523 invoked by uid 500); 3 Dec 2012 14:37:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84501 invoked by uid 99); 3 Dec 2012 14:37:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:37:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 14:37:15 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id X0gz1k0011ap0As552cvzp; Mon, 03 Dec 2012 14:36:55 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id X2cu1k00738FjT13i2cu5Q; Mon, 03 Dec 2012 14:36:55 +0000
Message-ID: <50BCB904.2070204@christopherschultz.net>
Date: Mon, 03 Dec 2012 09:36:52 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: tomcat 7 udp connector
References: <CAKC=6Xdg1koqZpVbfgrtvbYFLKRCpjif4BB3KAL72PhZnR3byA@mail.gmail.com> <50BA3CC8.9010902@yahoo.com> <50BA6D8D.5030005@pidster.com> <CAKC=6XfnE46rAoE0cpoS63C==vAqpDpCN7Uw8W7zz8qxMdowBQ@mail.gmail.com> <50BAAB4F.10700@pidster.com>
In-Reply-To: <50BAAB4F.10700@pidster.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354545415;
	bh=+cFE0U8wUGnd2i8kqCK/pZxbSXvfawvaL5pzlafcstk=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=kN5mUgfGVkUXsGoxevJ3ehhXGfiJ2SCDDPVnrydC2DEu09aR7W0J62SbsJ/SClYjq
	 IM+hhR2JFumcQQVrG4RqIEEyv9k945oWV8b3+kV8vs4rONxg9I4xHJoh0uL5DigY8m
	 5B/Ewr/wJW7QI8K9BuVy+96jyhxNJvcs76917a0vYtQJgX0Pf0HNaXhXt907SgHUoN
	 Cv1VI3d75Yh6C4Jm31JJPrIi4Jt+5uPK8w6YEk37iWlvOEB33cwLwO57GQBSbig3gn
	 N86zf8QnNOs9D2+i15laKdvRz7GVLZ2IsEGCgtG1Tywtb+SnGmx6gOfibmcoQrOcUH
	 rqVbZbSlL1xPg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Pid,

On 12/1/12 8:13 PM, Pid wrote:
> On 01/12/2012 21:15, Jost Boekemeier wrote:
>> Hi,
>> 
>> I don't think tomcat is hard-wired the way you suggest.
> 
> [sigh] Suggest?
> 
> Tomcat, as does the Servlet Spec, focuses on web applications, ie
> ones served over HTTP.
> 
> The Connector implementations are configurable, but there is no
> UDP implementation shipped with Tomcat.  Nor is there a raw
> Servlet, TCP implementation.
> 
> 
>> And the servlet spec doesn't require http.
> 
> What a strange statement.
> 
> The javax.servlet.http package, (being part of the spec), does
> rather seem to focus on it and the 3.0 spec mentions HTTP on a
> fairly large number of it's pages.

To be fair, javax.servlet.Servlet does not require HTTP. Of course,
99% of the uses of a Java Servlet container are to serve HTTP requests.

On the other hand, ServletRequest and ServletResponse (even in their
non-HTTP flavors) are quite obviously set up to handle streaming,
bidirectional connections. Sure, one could use DatagramSocket under
the covers to implement something that looked like a streaming (and
reliable) connection to the client, but since the servlet spec does
not include any APIs for detecting/handling dropped packets, etc. it
really is an odd choice to implement a UDP-based servlet (at least
when using the spec definition of a servlet).

>> In the past I've written a servlet container which uses raw tcp
>> instead of http.

I'd be interested in the architecture of such a beast: using an
unreliable connection for binary and character streams via the servlet
APIs seems untenable. The only way I would think it could work is if
you simply ignored the unreliable nature of UDP and assumed that all
messages would be successfully received and no problems would arise.
In those cases where that's a good bet (for example, all communication
is on localhost or even a local network), the cost of using TCP seems
so small as to be not worth the development effort to support UDP.

>> Probably the tomcat dev ml is more appropriate.

The Tomcat devs are all active on this list. There is no need to post
over there quite yet.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8uQQACgkQ9CaO5/Lv0PC0rQCgqV7e2gptSn1Yo0gt9P9HSksr
bWUAnjqchRd1nQfb4CTTe01ON1xemaR4
=Maly
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:17:27 2012
Return-Path: <users-return-238347-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A15FE3B0
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:17:27 +0000 (UTC)
Received: (qmail 4688 invoked by uid 500); 3 Dec 2012 15:17:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4135 invoked by uid 500); 3 Dec 2012 15:17:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4104 invoked by uid 99); 3 Dec 2012 15:17:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:17:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:17:16 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id X05b1k02j17dt5G533GvPa; Mon, 03 Dec 2012 15:16:55 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id X3Gu1k00138FjT13Z3Gu5e; Mon, 03 Dec 2012 15:16:55 +0000
Message-ID: <50BCC264.8000409@christopherschultz.net>
Date: Mon, 03 Dec 2012 10:16:52 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com> <50BC84AE.4090008@apache.org> <50BC8629.5010706@ice-sa.com> <888a5571867be0562b5c8d659f852c24@www.internetallee.de>
In-Reply-To: <888a5571867be0562b5c8d659f852c24@www.internetallee.de>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354547815;
	bh=4oU+TUyq6wpkszmeps6rPpbQK8Ytppwyb6N+OBEp36c=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=N2LU0vWkOctUNhbpqqdsNqs5jkOyL9N8vkfogE7XAVp+OB57XE7B3iDwfp90pHJo1
	 WpZnoUwXS+sIDkojP/gjtXX5qhI3qXTMcVSzcmNjp+jRInqMiNvCtcwkFDJH7FW6fu
	 zZh7WdfyoeWf4KetPc0Cx6sDho+Vr5m8gts5Vv5UvOzRMr1/tvxJ2hqP5UdxqWsnp5
	 U+GWofHMD5Rn4wTvIl99CxVh76/plP1/xotsR/ET7oaCziM3m8Bx4a+SpFAezZd3Mz
	 CtDLGq5Eak3BCyeK63Ls8yVn8v8tLaoiVs+Z4p3lrB375HIuwc2A77d0iy3XyfXNw3
	 YHiyC6dGF2YJQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Felix,

On 12/3/12 6:49 AM, Felix Schumacher wrote:
> Am 03.12.2012 11:59, schrieb AndrÃ© Warnier:
>> Mladen Turk wrote:
>>> On 12/3/2012 11:18, Orhan Karasakal wrote:
>>>> But firstly I want to send requests to loadbalancer and then 
>>>> according to url, sending the other nodes.
>>> Session affinity should handle that.
>> 
>> Session affinity should ensure that once a session is started
>> with one application on a particular worker, follow-up requests
>> by the same browser to the same application should continue to go
>> to the same tomcat worker.
>> 
>> But it does not allow one to control to which worker the *first* 
>> request to a particular application will go, or does it ?
> You may want to add jsessionid=.[JVMRoute] to your url. That way
> mod_jk will send your request to the right worker.

+1

This is how you can, for instance, send a request to a specific
backend but still use your load balancer.

Note that it's the JVMroute, not the worker, that gets selected. So,
if you have more than one worker with the same jvmroute, I'm not sure
what will happen. That's probably not a valid configuration, anwyay.

The other obvious solution is to just contact the back-end server
directly. Since OP is using AJP, that's not entirely straightforward.
If I were doing it, I would set up a separate URL space that went to
specific back-end workers.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8wmQACgkQ9CaO5/Lv0PDadgCgrVdtOPb2JhZapUpV1+yWh8wO
RdUAnjXCFJ1xrBVw+vqoBVdR3TcbfU0m
=HPX2
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:21:04 2012
Return-Path: <users-return-238348-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7A0FFE3CF
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:21:04 +0000 (UTC)
Received: (qmail 25039 invoked by uid 500); 3 Dec 2012 15:21:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24944 invoked by uid 500); 3 Dec 2012 15:21:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24929 invoked by uid 99); 3 Dec 2012 15:21:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:21:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:20:53 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id WzXE1k0030vyq2s513LXoi; Mon, 03 Dec 2012 15:20:31 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id X3LU1k00H38FjT13R3LVy9; Mon, 03 Dec 2012 15:20:31 +0000
Message-ID: <50BCC33B.4000807@christopherschultz.net>
Date: Mon, 03 Dec 2012 10:20:27 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com> <50BC84AE.4090008@apache.org> <50BC8629.5010706@ice-sa.com> <888a5571867be0562b5c8d659f852c24@www.internetallee.de> <CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com> <50BC9B85.5090400@apache.org> <CANNgL10M8QoDavVaQo1+k+xvbYLgLeKc0+4=qb_-1Z=rYEZD+w@mail.gmail.com>
In-Reply-To: <CANNgL10M8QoDavVaQo1+k+xvbYLgLeKc0+4=qb_-1Z=rYEZD+w@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354548031;
	bh=6HW+vv+xUZcn38NKK4kb1PwSfh9Jtcl2Yoel7cSvl/0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=UEVZ1uxQzFHQk2+GdTF/M/0vYfR7hCxGAoDxVuKbQYgOtP2aFRaFBjZe1y6ootS3/
	 9CIUoiFQyT57+xmYkA7edjiZjyRIRkI8MPTIIRmu8WHfS/7xNunEI1inK2fO8zFSKY
	 rexp7ANnX0s26bkgDS28S6uHjJgKJyMl334I+p93ROt9PwLYpv7oYcyEdnQNWJaX7i
	 xor3JjteRshngbAsC9KEPsT1q3xB1eSRL0WHJnw8If6i6inqo1Xg9UtWuy0vbs9QgT
	 7yUaX14JKa7rjYhiyESTHoChyOmgc1LG7vXTqH77DE3otGpdmLmlSlqkjhCbiwCtGS
	 7u+HpXZ/8N9tQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Orhan,

On 12/3/12 8:10 AM, Orhan Karasakal wrote:
> If it is possible, then we set. Now  we are not using this design
> :) I think, it is not possible.

I disagree: the sane parts of your request are definitely possible.


requests from /wepapp1/* -> worker2,worker3
requests from /webapp2/* - > worker1, worker4, worker5

httpd.conf
JkMount /webapp1/* lb1
JkMount /webapp2/* lb2

workers.properties (seriously abridged)
worker.lb1.balance_workers=worker2,worker3
worker.lb2.balance_workers=worker1,worker4,worker5
worker.worker1.jvmroute=tomcat1
worker.worker2.jvmroute=tomcat2
worker.worker3.jvmroute=tomcat3
worker.worker4.jvmroute=tomcat4
worker.worker5.jvmroute=tomcat5

If you want to make a request that will definitely go to worker5, then
do this:

curl http://hostname/webapp2/server-status;jsessionid=.tomcat5

But you obviously cannot do this:

curl http://hostname/webapp1/server-status;jsessionid=.tomcat5

...because tomcat5/worker5 isn't in the lb pool for /webapp1.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8wzsACgkQ9CaO5/Lv0PCfLgCcCEkR68W5SuLLb5wdT+JrbW+l
aFcAnicJMYY0t7j77H20QIrZhdSIOoXg
=P5gU
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:27:45 2012
Return-Path: <users-return-238349-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 035ECD6C8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:27:45 +0000 (UTC)
Received: (qmail 53481 invoked by uid 500); 3 Dec 2012 15:27:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53157 invoked by uid 500); 3 Dec 2012 15:27:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53133 invoked by uid 99); 3 Dec 2012 15:27:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:27:40 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:27:34 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id X1L01k0080bG4ec513TC50; Mon, 03 Dec 2012 15:27:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id X3TA1k00S38FjT13P3TBRG; Mon, 03 Dec 2012 15:27:12 +0000
Message-ID: <50BCC4CC.30700@christopherschultz.net>
Date: Mon, 03 Dec 2012 10:27:08 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Reuse JNDI Properties
References: <CAJmgiyJZrLW4dubNTxAG2qyaJRfK5TsV_aunrXwURwgzE_G0Bw@mail.gmail.com>
In-Reply-To: <CAJmgiyJZrLW4dubNTxAG2qyaJRfK5TsV_aunrXwURwgzE_G0Bw@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354548432;
	bh=FvL+J0n7hNpU+cLR5UtXm/QCcg7CI9Pu4VS+UKQ+s6E=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=GPnqWwhjthRnAAX9js8qaL6f82MN49Ut1wnU1gD4VQAkyFFS832Q3rTsxE+bhm5gu
	 SxeWXTv2ks5hLH7hEr7YKQqX+FV9hNwlf4ledcmc3IE8RoQ7gk+z8iOSmUtwjH0yNd
	 T8MSzTsJ98TPCG5QqVHGWoNFRtAR7lfK0RCVq03sW6Oucgxcjjh+GTeqN4wcv0pth/
	 vKvie9vqIaNCj8B94EiupUUBSuFH4OOzzyT8OtPNO8lrLZvWQPSW/drhuPW4KlUzaB
	 QAuVa2N2IA8+HOvFgo5Fjq+h806GOCKnX+C2xif2YjgapRvDjkdJGHaxE1k7O3Nvwt
	 +pElf9dLtxDaQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Martin,

On 12/3/12 8:03 AM, Martin Gamper wrote:
> Hey everybody!
> 
> I am looking for a solution to reuse a JNDI Property which is set
> in the context.xml : in my "${catalina.home}/conf/context.xml"
> following <Environment name="nodeName" type="java.lang.String" 
> value="superFantasticNode" override="false" /> I use this value for
> several different purposes.
> 
> Now I want to define (for my J2EE application) another value for
> special Log- Files. And therefore I use another JNDI property ...
> and in this Property I'd like to "reuse" the previously set
> "nodeName"-variable.
> 
> In my Fantasy it would work like this: <Environment
> name="loggingPath" value="${catalina.home}/logs/${nodeName}.log" 
> type="java.lang.String" override="false" />
> 
> But it does not.

Tomcat has a very limited set of cases where ${...} will do
replacements for system properties. I think it's definitely worth
filing an enhancement request for this kind of thing: it's a *very*
useful feature to have.

> Do you know any solution (despite from changing my code) to achieve
> this?

I would do a search-and-replace as part of the deployment process. Is
this something that does into META-INF/context.xml (at the webapp
level) or into conf/context.xml (at the server level)?

If at the webapp level, you'd have to re-roll a WAR file for each
server you want to target. That's not necessarily a big deal: you can
script it with ant or even bash if you want (unzip, replace, update-zip).

I guess the same thing could be done at the server level, though it
would only have to be done once each time you install (or upgrade) Tomcat.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8xMwACgkQ9CaO5/Lv0PD/yACcDehCXdQwQv0DepMXvoKjNrIs
YSEAoKuitDvT3ziCeV3tYh/nkSVMLRzn
=5me9
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:31:38 2012
Return-Path: <users-return-238350-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2950CD2F2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:31:38 +0000 (UTC)
Received: (qmail 77059 invoked by uid 500); 3 Dec 2012 15:31:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76945 invoked by uid 500); 3 Dec 2012 15:31:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76928 invoked by uid 99); 3 Dec 2012 15:31:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:31:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:31:26 +0000
Received: from omta04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id WydE1k0080ldTLk533X53W; Mon, 03 Dec 2012 15:31:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta04.westchester.pa.mail.comcast.net with comcast
	id X3X41k00j38FjT13Q3X5A8; Mon, 03 Dec 2012 15:31:05 +0000
Message-ID: <50BCC5B6.6070101@christopherschultz.net>
Date: Mon, 03 Dec 2012 10:31:02 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: =?UTF-8?B?562U5aSNOiBSZTpUb21jYXQ3LjAtU2V0dGluZyBwcm9wZXJ0eSA=?=
 =?UTF-8?B?J3RocmVhZFByaW9yaXR5JyBkaWQgbm90IGZpbmQgYSBtYXRjaGluZyBwcm9wZXI=?=
 =?UTF-8?B?dHk=?=
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com> <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com> <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com> <5231107583537493828@unknownmsgid>
In-Reply-To: <5231107583537493828@unknownmsgid>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354548665;
	bh=fZS4wNZVGF+nixKr/xYNZJwkzoMXNtFVRuRDvqA7k1I=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=It8SXfeB/iffQto5stY2PD17+YPv3ugSzkjbHT0fxQJzMT/8hHTspwEpJzKladQYa
	 +hJq3e4GMsMgmxWAnhDLxJOyJN9IdAj8ELyhDs4Z3LYzv7IxLdBgRtjUs3iIavOnrI
	 xMBF9BZ6CbEKfsEaRCvDEg5Jxw2E7UaSZSKd8ZfmUMJwFDHwZx+tT86SMgAoVOGA5r
	 lb6aw917gEYQ4G4d7NrcqLH3GT57bodB4ZbwYXOphj3r+Nnun9LXi6mQGY6zfa+pKx
	 pwXQ1b7yCBMA1+CaSKsW2RbHJIz0Vmq2kGuxf3++lDcZAQ8dG7tmCL8mywMIWhGWXt
	 I9HtbhyxhBd0Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Pid,

On 12/3/12 3:35 AM, Pid * wrote:
> On 3 Dec 2012, at 05:43, Weixiang <kurt.weixiang@huawei.com>
> wrote:
> 
>> Thank you, after I changed 'java.lang.Thread#MAX_PRIORITY' to
>> integer '10', the warning disappeared in tomcat 7.
>> 
>> But I user 'java.lang.Thread#MAX_PRIORITY' in tomcat 6.0.35 and
>> there's no any warning.
>> 
>> So I was wondering whether the tomcat 6 block this warning or
>> not?
> 
> I'd be interested to hear about the load profile and application 
> behaviour you are attempting to modify (improve?).

If you increase the thread priority, the threads will run faster. Duh.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8xbYACgkQ9CaO5/Lv0PDZQACgnyQANWU+7/VY/JRob4sQePsw
8fsAoKMywENSuQA2GMEJ6kjkYULNIfO0
=pKNh
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:32:45 2012
Return-Path: <users-return-238351-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9AAD4D306
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:32:45 +0000 (UTC)
Received: (qmail 84349 invoked by uid 500); 3 Dec 2012 15:32:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84192 invoked by uid 500); 3 Dec 2012 15:32:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84183 invoked by uid 99); 3 Dec 2012 15:32:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:32:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:32:35 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id X2dK1k00K17dt5G533YE9m; Mon, 03 Dec 2012 15:32:14 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id X3YE1k00838FjT13Z3YEcG; Mon, 03 Dec 2012 15:32:14 +0000
Message-ID: <50BCC5FC.4010500@christopherschultz.net>
Date: Mon, 03 Dec 2012 10:32:12 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: =?UTF-8?B?562U5aSNOiBSZTpUb21jYXQ3LjAtU2V0dGluZyBwcm9wZXJ0eSA=?=
 =?UTF-8?B?J3RocmVhZFByaW9yaXR5JyBkaWQgbm90IGZpbmQgYSBtYXRjaGluZyBwcm9wZXI=?=
 =?UTF-8?B?dHk=?=
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com> <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com> <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com>
In-Reply-To: <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354548734;
	bh=HIr60Gmr8q3ht0gNX0XJDdOrTnInOP59LWlb643M/Hc=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=p6D4idF1XAbXtMqcKNdHCoGyN2lHTGr2WlMHiqHe/vEXHbp9RVySQfMG31TZkHzvi
	 c4x4KrZQ1QdE6g7/xWpNORZqSpbn7zjyDiomCivvCX15iHCL4TRoQmwBNLKeONThbu
	 7kT9xQdZAwiGfwJKwdxSMtORkvZfHJ8N8jZp0E2/FCh6EQL5ovcgWCVuDF4WB1P4Kn
	 C5yifEiielr4ckmye5DCa2Ie41yG0khvR/Eus8yS3P2Ta/WfVqMN99XPubAA63CEjQ
	 0M59m5aoBRVQjA0FDyzb1jSG4yEyK1F0Sa3BrqvsdPuCdjvBTm5WRDmHMY8JlK1GPp
	 Ks2i8A4yIWoLQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Weixiang,

On 12/3/12 12:42 AM, Weixiang wrote:
> Thank you, after I changed 'java.lang.Thread#MAX_PRIORITY' to
> integer '10', the warning disappeared in tomcat 7.
> 
> But I user 'java.lang.Thread#MAX_PRIORITY' in tomcat 6.0.35 and 
> there's no any warning.
> 
> So I was wondering whether the tomcat 6 block this warning or not?

Tomcat 6 silently ignores values it cannot set properly. In Tomcat 6,
you are also *not* setting your thread priority to MAX_PRIORITY -- you
just don't know it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC8xfwACgkQ9CaO5/Lv0PAC/QCglovQAm1bbQSHyhjSgi0VmWo7
1UsAoJAKNqCzxbmQxZhWqKkvxIf16yYx
=q0Jc
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:51:57 2012
Return-Path: <users-return-238352-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1B701D401
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:51:57 +0000 (UTC)
Received: (qmail 60707 invoked by uid 500); 3 Dec 2012 15:51:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60652 invoked by uid 500); 3 Dec 2012 15:51:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60634 invoked by uid 99); 3 Dec 2012 15:51:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:51:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.213.74] (HELO nm26-vm0.bullet.mail.bf1.yahoo.com) (98.139.213.74)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:51:46 +0000
Received: from [98.139.212.146] by nm26.bullet.mail.bf1.yahoo.com with NNFMP; 03 Dec 2012 15:51:25 -0000
Received: from [98.139.213.9] by tm3.bullet.mail.bf1.yahoo.com with NNFMP; 03 Dec 2012 15:51:24 -0000
Received: from [127.0.0.1] by smtp109.mail.bf1.yahoo.com with NNFMP; 03 Dec 2012 15:51:24 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354549884; bh=K0eJnWGmeNxDy0NxpQso2NzXEmYb82QKRI0FaXRF/xk=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=MycoJyBpSZ8u3PdpdFb68GmtJaYT14OoAr8cxBYWLHIO25B5xmnzc+OPaidbuhiU+JqYq+8zK69CJDMyHgkDhAstdbOk5sRng9xmQaflozncd0FZ4GSKlZsWnpZnqVhFTqU7BLKEe6+Iy9/mF9O2fOoL9299ZHLbhnEMDuGhb+Q=
X-Yahoo-Newman-Id: 922006.66296.bm@smtp109.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: Ph1fLAgVM1nfK5wRnftFkY5CIY66IQvUMa_P1Rq0n7qRCYd
 AxyORa7z49oV0wRZtdouyp7woSdEYcNL053dSKRWDJ6r8qNoIQqZV54O_AO9
 18YIxEwzlK65pKNrebWDS0YdStNMMT3c3nU5o_0IFJZCiQdGT9V5Xngwdv66
 OgJUhgdOfULktNf5IxpaLcDb1dub3bXvkQhmiJsMexaWxdXHMni_fpvoO_tJ
 W46Fu55dcl9m_i2u1FRYZ3bvnzeMrDbJz7vhSVuO92SnaGQ37Y5Pcbjvc_pc
 Gr5WBJPh0AdDBS7bnAb5qd02JIruBbJge1Xn6LWlzmPTwIU7xfblw.Rb10Ql
 x7GJJX9cVekrNl7EPAjYxNbRXzbo_IYeXkQRf1EAuXqLYhRZF0ALpVYVC.Hd
 _ux88FFkmOk95eAaBgdKlwyBPWvufOBh12LPrNKRkzxHO.isojkl9iwh6yRM
 Eici8WX2K4lTWLgrnHojel6rxOV8_GXiAWvELhWveppzVtSqk4mQLUgJDTI4
 UFrHhBXJkxUgHTu7KqWP3FV70GeSA._DygE4Mi58SIxtF8w--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@71.133.217.153 with plain)
        by smtp109.mail.bf1.yahoo.com with SMTP; 03 Dec 2012 07:51:24 -0800 PST
Message-ID: <50BCCA67.5000008@yahoo.com>
Date: Mon, 03 Dec 2012 07:51:03 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 is not working on windows 7....
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com> <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com> <50BC7016.30109@apache.org> <CABzHfVnHsSDDuVPYpt1OstOvZNO4vEKxcbBy+i7m8c1nmsn_9A@mail.gmail.com>
In-Reply-To: <CABzHfVnHsSDDuVPYpt1OstOvZNO4vEKxcbBy+i7m8c1nmsn_9A@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/3/2012 2:28 AM, Konstantin Kolinko wrote:
> 2012/12/3 Mark Thomas <markt@apache.org>:
>> On 03/12/2012 09:15, Jugal Thakkar wrote:
>>> Hello Sir,
>>>              I am Java Developer. i develop web application using servlet
>>> and JSP.
>>>
>>> My problem is that i am not able to get server started in eclipse
>>> Juno.....using Tomcat 7 with windows 7.....
>>>
>>> Please Guide me for the same....
>>> Installation Process of tomcat 7 on windows 7....
>>> I was previously using Windows XP and everything was fine....
>>> But with Windows 7 i am Having the problem....
>>>
>>> Please guide me regarding this....
>>
>> Two options:
>>
>> 1. Read this:
>> http://www.catb.org/esr/faqs/smart-questions.html
>> and follow the excellent advice it offers.
>>
>
> +1

+1

>
>> 2. Apply the following logic:
>> - It worked on Windows XP
>> - It doesn't work on Windows 7
>> - Therefore a bug in Windows 7 is the root cause
>> - Either:
>>    a) Report the problem to Microsoft and get them to fix it
>>    b) Uninstall Windows 7 and re-install Windows XP
>>
>
> There is also FAQ available, such as
> http://wiki.apache.org/tomcat/FAQ/Windows#Q8

First of all, it works for me (although I mostly use NetBeans and mostly 
use Linux).

1. Install the appropriate JRE
    a. 1.6.0_37 32 bit or 64 bit depending on your system
    b. 1.7.0_09 32 bit or 64 bit depending on your system
2. Download and install the J2EE version of Eclipse Juno
    a. It's a zip file
    b. Unpack it in C:\Users\[username]
       [username] is your user name - don't use the square brackets
       it will make it's own directory
    c. Make shortcuts on the desktop and the start menu
3. Make a directory in C:\Users\[username]
    a. [username] is your user name - don't use the square brackets
    b. Call that directory Apache
4. Download Tomcat
    a. get the latest version (7.0.33 as I write this)
    b. get the zip file
    c. get the 32 bit or 64 bit depending on your system
5. Unpack the zip file in C:\Users\[username]\Apache
    a. this is the directory you made in step 3
    b. it will create its own directory (apache-tomcat-7.0.33)
6. Edit
    C:\Users\[username]\Apache\apache-tomcat-7.0.33\conf\tomcat-users.xml
    a. Actually not necessary since Eclipse doesn't use the manager app
    b. However, you may want to use the manager app outside of Eclipse
    c. Make the contents of tomcat-users.xml like this:

<tomcat-users>
     <!-- roles -->
     <role rolename="manager-gui"/>
     <role rolename="manager-script"/>
     <role rolename="manager-jmx"/>
     <role rolename="manager-status"/>
	
     <!-- users -->
     <user name="manager"
         password="password"
         roles="manager-gui" />
     <user name="mgr-script"
         password="password"
         roles="manager-script"/>
     <user name="mgr-jmx"
         password="password"
         roles="manager-jmx"/>
     <user name="mgr-status"
         password="password"
         roles="manager-status"/>
</tomcat-users>

    d. Note, I wrapped my lines so it would fit in email.
    e. Choose better passwords
7. Verify that Tomcat runs
    a. double-click on
    C:\Users\[username]\Apache\apache-tomcat-7.0.33\bin\startup.bat
    b. Browse to http://localhost:8080
    c. See the Tomcat start page
    d. double-click on
    C:\Users\[username]\Apache\apache-tomcat-7.0.33\bin\shutdown.bat
8. Add server to Eclipse Juno
    a. Start Eclipse
    b. Open the Servers window (Windows->Show View->Others->Servers)
    c. Right-mouse click in the Servers window
    d. Choose New->Server
    e. Follow the Wizard

You now have Tomcat 7.0.33 running from within Eclipse Juno. The keys are:

1. Do not install as a service
2. Install in your own directory, otherwise you'll be fighting UAC

. . . . just my two cents.
/mde/

(Beats packing and moving in the rain)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 15:57:25 2012
Return-Path: <users-return-238353-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E7DD8D428
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 15:57:25 +0000 (UTC)
Received: (qmail 85049 invoked by uid 500); 3 Dec 2012 15:57:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84995 invoked by uid 500); 3 Dec 2012 15:57:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84963 invoked by uid 99); 3 Dec 2012 15:57:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:57:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 15:57:15 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so1436863wgb.0
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 07:56:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=oCui1lWQMhLEJn1CPrsG3miO/TOUrMKWVnN054pTVvw=;
        b=RLGoOZFJhGRpmuaaH7InWliHB82phOfM0dCO68K8zhndHLwhKiXs/df/x64Z8ETROF
         hgc3b50A5AfN5WpnXcQeAjqp/bsiH5b8kyfckJqVEcCXrZjooWrdhMqShfqWzc8awRCi
         eA/9m09IKpWje5XeKrIRrRs7nu0XTcWL+1Cmc=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=oCui1lWQMhLEJn1CPrsG3miO/TOUrMKWVnN054pTVvw=;
        b=U2FhXpv4cPXvMXH6L4tNbQJcnvyZ/CpYfRKhRXIMFKE9pXhmRijsD3BMK71D3A7EzJ
         xYLb1SHhw1hnGqpRv+/Ao6hawOvln3VwTzc9rn4CvBI0Wl0RbUbPHSAnZKC0VRwK2LjK
         umlgCcP42s7gC2ufDAtdwFNMLDDr4NaHsCQPEJxJs/wVUW8pBoKGTepkCRVaAuCZ7y4h
         /tejxyO/EUDZmkC7hplS6Fw8Z7QnIDN3cAiSYCkAHapnWwzm/scHm6kT06BFogmP9jsQ
         NMZgUi45No1Is9Id4uucQ5fToCCozEkBi3aeq+rMH/PaeMhpdCkqWUXKT+lcnwYLDYbp
         nF3w==
Received: by 10.180.76.203 with SMTP id m11mr10396379wiw.6.1354550212525;
        Mon, 03 Dec 2012 07:56:52 -0800 (PST)
Received: from bclon501.frontier.sbjbc.co.uk ([82.109.183.226])
        by mx.google.com with ESMTPS id t17sm13097133wiv.6.2012.12.03.07.56.50
        (version=SSLv3 cipher=OTHER);
        Mon, 03 Dec 2012 07:56:51 -0800 (PST)
Message-ID: <50BCCBC6.6070809@pidster.com>
Date: Mon, 03 Dec 2012 15:56:54 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: =?UTF-8?B?562U5aSNOiBSZTpUb21jYXQ3LjAtU2V0dGluZyBwcm9wZXJ0eSA=?=
 =?UTF-8?B?J3RocmVhZFByaW9yaXR5JyBkaWQgbm90IGZpbmQgYSBtYXRjaGluZyBwcm9wZXI=?=
 =?UTF-8?B?dHk=?=
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com> <97926c6.a66f.13b5f4344ec.Coremail.xueshengzj@163.com> <87A2EF9B84859D4CB9EEE8A929888B4529CB7FAD@szxeml502-mbx.china.huawei.com> <5231107583537493828@unknownmsgid> <50BCC5B6.6070101@christopherschultz.net>
In-Reply-To: <50BCC5B6.6070101@christopherschultz.net>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigA11365849439103FDA1B2FA9"
X-Gm-Message-State: ALoCoQkmUgMLi4Pb8xx0vKJW6odar4egp1dCa5H2zN1HeHB6faDBvx66464iGa2Gt4HDW7ijvsxa
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigA11365849439103FDA1B2FA9
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

On 03/12/2012 15:31, Christopher Schultz wrote:
> Pid,
>=20
> On 12/3/12 3:35 AM, Pid * wrote:
>> On 3 Dec 2012, at 05:43, Weixiang <kurt.weixiang@huawei.com>
>> wrote:
>=20
>>> Thank you, after I changed 'java.lang.Thread#MAX_PRIORITY' to
>>> integer '10', the warning disappeared in tomcat 7.
>>>
>>> But I user 'java.lang.Thread#MAX_PRIORITY' in tomcat 6.0.35 and
>>> there's no any warning.
>>>
>>> So I was wondering whether the tomcat 6 block this warning or
>>> not?
>=20
>> I'd be interested to hear about the load profile and application=20
>> behaviour you are attempting to modify (improve?).
>=20
> If you increase the thread priority, the threads will run faster. Duh.

Quite.  Alternatively, it might be the case that setting the thread
priority will have no measurable effect at all.  If any effect.


The OP is trying to set the thread priority on what appears to be an
HTTP connector (marked in a comment for 'management').

Of the 3 connectors configured, the config is as follows:

 port   protocol   threads  accept
 13089  BIO+HTTP   120      200
 13080  NIO+HTTP   1200     2000
 13443  NIO+HTTPS  200      2000

The value of the acceptCount attributes are bonkers, IMHO.  This should
never be larger than the number of threads in the pool - if the apps
really need to support >1200 inbounds, either increase the number of
threads or add another Tomcat instance.

The HTTPS thread count value (being the default) *may* be
accurate/appropriate or it might not, but it seems low given the other
numbers.


p


--=20

[key:62590808]


--------------enigA11365849439103FDA1B2FA9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQvMvGAAoJEGoM2OGpOvr9H58QAJL8kA0hT5rmWzKqoXSDE9uW
ZUzElo+glPJjzE9je+03xYVypZgCBlEfzKOe/nhrz0MVT+Z+Ds3z88NF5U+kdyyK
nm7UbJTawI7Q/R//ZQe84p16VwT/MiJaNuMcABFK1ncVDSm/z07ZLnAcGno/2JLb
Cf0rfV51BDOIghJ28Wc/50DiYNiSdzJpCwajpH54R0eZ+o23mOeJ8UM5Y7qpDFMQ
N3cWa+RfZu1WroigROoPUUWRHk6dwi/CHBVOqtMnkMr3gWi0ng7VH218QhykPHY/
zTp3M77y9xy+B/YgaZ/Em+O0qEk9xEMq2GkObwsNmoxh5HvM9WrVOABOsBtaE61+
U2bPH2lRkv4yQVbuPWvMjxToJT/9XTKov3k/X3GyfYcaRfix70D5tzoVnppzLieg
F/Hm44k1sHn5OFu0kcTFhp6kbJAYa1zrMhS7ej5ausS4mYEY4BcwnBM4fL+m1l7b
lEe8JoWB50KgUHFq11DL8dGbuc9INzBR8BuTaQCHVNV8ov6qmwdJSeGMoSc0sq9k
neacfL4dzGPPH/7HrKHZP2qs8puPyREY3tMjaf9x29ThJXs04hQvwpdE6V5vxQF9
JoGBJHWa5awOhk4m7yWPFfkHGB86ceHm7cm2PcqFhKoI83hJ6Ljhjpm/u/yx2JmA
TR1YF9mAeK+DyqJBQ8A8
=sXH9
-----END PGP SIGNATURE-----

--------------enigA11365849439103FDA1B2FA9--

From users-return-238354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 16:38:46 2012
Return-Path: <users-return-238354-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A82BE311
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 16:38:46 +0000 (UTC)
Received: (qmail 40918 invoked by uid 500); 3 Dec 2012 16:38:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40775 invoked by uid 500); 3 Dec 2012 16:38:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40747 invoked by uid 99); 3 Dec 2012 16:38:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 16:38:42 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [66.219.55.137] (HELO mail.polydyne.com) (66.219.55.137)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 16:38:36 +0000
Received: from Unknown [10.1.1.19] by mail.polydyne.com - Websense Email Security (7.2.0); Mon, 03 Dec 2012 10:44:04 -0600
Received: from POSTOFFICE02.polydyne.com ([::1]) by POSTOFFICE02.polydyne.com
 ([::1]) with mapi id 14.01.0355.002; Mon, 3 Dec 2012 10:38:09 -0600
From: Jeffrey Janner <Jeffrey.Janner@PolyDyne.com>
To: 'Tomcat Users List' <users@tomcat.apache.org>, 'Tomcat Users List'
	<users@tomcat.apache.org>
Subject: RE: Tomcat with multiple domains
Thread-Topic: Tomcat with multiple domains
Thread-Index: AQHNzNujxtpKvk93lEKgMswu/NTkMpf+IbeQgAIpfACAAjJHUIAAZ0QAgARqQqA=
Date: Mon, 3 Dec 2012 16:38:09 +0000
Message-ID: <7215BA462D00D343B2837F9113F0131F01277F7BE4@POSTOFFICE02.polydyne.com>
References: <CANqzD4MWWvAtRE6LZ+7hobXXnQL+Lrhz=oeRpEPd7tEa8nAZ_g@mail.gmail.com>
	<99C8B2929B39C24493377AC7A121E21FC48F48FF6D@USEA-EXCH8.na.uis.unisys.com>
	<CANqzD4P=e+3oQ=rY4WFS=3GFu80yCxuohuK+T3fQE2mzZj1GSg@mail.gmail.com>
	<7215BA462D00D343B2837F9113F0131F01277F6FC1@POSTOFFICE02.polydyne.com>
 <CANqzD4Pi=5_dipq64sK1Pb09oLjNZmV9bTGOXpYTq8wvAqe_+A@mail.gmail.com>
 <7215BA462D00D343B2837F9113F0131F01277F7501@POSTOFFICE02.polydyne.com>
 <50B8CC92.5080008@ice-sa.com>
In-Reply-To: <50B8CC92.5080008@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.1.1.27]
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-SEF-7853D99-ADF1-478E-8894-213D316B8FFA: 1
X-SEF-Processed: 7_2_0_00504__2012_12_03_10_44_05
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]
> Sent: Friday, November 30, 2012 9:11 AM
> To: Tomcat Users List
> Subject: Re: Tomcat with multiple domains
>=20
> Jeffrey Janner wrote:
> >> -----Original Message-----
> >> From: Paul van Hoven [mailto:paul.van.hoven@googlemail.com]
> >> Sent: Wednesday, November 28, 2012 5:29 PM
> >> To: Tomcat Users List
> >> Subject: Re: Tomcat with multiple domains
> >>
> >> Hi!
> >>
> >> Thanks for your quick and detailed answers. Actually I think I did
> >> all the things you mentioned but it still does not work. So here are
> >> the changes I made:
> >>
> >> 1. I checked that the following entries are in the engine tag:
> >> <Server port=3D"8005" shutdown=3D"SHUTDOWN"> ...
> >> <Service name=3D"Catalina">
> >> ...
> >> <Engine name=3D"Catalina" defaultHost=3D"localhost"> <Host
> name=3D"localhost"
> >> appBase=3D"webapps"
> >>             unpackWARs=3D"true" autoDeploy=3D"true">
> >
> >  [Jeff Janner] You need a "</Host>" here.  All elements must have a
> begin tag and an end tag!
> >                If there are no sub-elements, you can combine the
> begin and end tags as <tagname ... />.
> >                Please find a good introductory reference on XML
> markup language before continuing.
> >
> >> <Host
> >> name=3D"www.my2nddomain.com"
> >> appBase=3D"/opt/apache-tomcat-7.0.32/my2nddomain" unpackWARs=3D"true"
> >> autoDeploy=3D"true" xmlValidation=3D"false" xmlNamespaceAware=3D"false=
">
> >> 	</Host>
>=20
> Haaa. Good catch, Jeffrey. Everyone else missed that.
> So it probably "swallowed" the second Host's tags in the first, with
> who knows which results.
> Surprising that Tomcat still starts.

You wouldn't believe how any times I've had to correct something like this =
for customer self-installs, even with what I think is proper documentation =
to guide them.
It really does come down to understanding the structure of XML.
Jeff


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 18:57:51 2012
Return-Path: <users-return-238355-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 382F6E43D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 18:57:51 +0000 (UTC)
Received: (qmail 20825 invoked by uid 500); 3 Dec 2012 18:57:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20696 invoked by uid 500); 3 Dec 2012 18:57:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20686 invoked by uid 99); 3 Dec 2012 18:57:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 18:57:47 +0000
X-ASF-Spam-Status: No, hits=3.3 required=5.0
	tests=FAKE_REPLY_B,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of djohle@industrialinfo.com designates 65.89.208.41 as permitted sender)
Received: from [65.89.208.41] (HELO pig.industrialinfo.com) (65.89.208.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 18:57:41 +0000
Received: from djohle-PC.industrialinfo.com (djohle.industrialinfo.com [10.243.0.42])
	(authenticated bits=0)
	by pig.industrialinfo.com (42/42) with ESMTP id qB3IvJl4001373
	for <users@tomcat.apache.org>; Mon, 3 Dec 2012 12:57:19 -0600
Message-Id: <201212031857.qB3IvJl4001373@pig.industrialinfo.com>
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
Date: Mon, 03 Dec 2012 12:57:08 -0600
To: users@tomcat.apache.org
From: David Johle <djohle@industrialinfo.com>
Subject: Re: Issues Logging wtith log4j at common and webapp levels
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Antivirus: AVG for E-mail 2013.0.2793 [2634/5934]
X-Virus-Scanned: clamav-milter 0.97.6 at pig.industrialinfo.com
X-Virus-Status: Clean
X-Virus-Checked: Checked by ClamAV on apache.org

Well I managed to accomplish my goal 100% with the help of some new 
features in Log4j 2.x (currently beta-3).

My eventual setup was to use the BasicContextSelector to ensure only 
a single logging heirarchy was created for the whole VM regardless of 
webapps.  Then I tag events per-webapp using a ServletFilter to 
manipulate the ThreadContext, and send them all through a central 
RoutingAppender which in turn directs the entries (based on the tag) 
to the appropriate FileAppender.

Since the tagging is done at the request level, both webapp specific 
classes, central libraries, and even VM-wide singletons used by a 
request all carry that tag (it uses ThreadLocal internally) and thus 
get routed properly.

As for the remaining System.out calls in JSP files, separate Loggers 
are defined for those to capture the events created by swallowOutput 
(which don't carry the tag) and manually route them the appropriate 
FileAppender.  Eventually that extra fluff can go away though.

Another nice part about this is I only have a single instance of the 
logj4 libraries & a single centralized configuration file, which is A 
Good Thing(tm) for this setup.

Lots of other features in log4j2 that I was able to benefit from as 
well like dynamic reconfiguration and such, so I also set up my 
internal Tomcat logging (read: anything without a tag) to route into 
Tomcat's log.  Sorry JULI, you just weren't good enough for me ;)



On 02/10/2012 20:29, Mark Thomas wrote:
>Thanks for the clear question. While it was quite long, it was very
>readable, relevant and on point. That meant I got to the end rather than
>giving up after a few lines which is what usually happens with me and
>long questions.
>
>
> > So in summary, I'm just trying to get shared libraries to have their
> > log4j-based logging written to the webapp-specific log files of the
> > calling webapp.  Is this possible?  If so, what's the trick?
>
>It can be done - with some caveats. Tomcat does this with Jasper.
>
>The short version is:
>- The loggers can not be static
>- There must be an instance of the class per web-app.
>
>If you have singletons and an instance per webapp doesn't make sense
>then the only option that comes to mind (after not much thinking) is
>that you need to pass the logger to the singleton rather than it using
>its own.
>
>HTH,
>Mark





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 20:11:54 2012
Return-Path: <users-return-238356-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D784E1B2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 20:11:54 +0000 (UTC)
Received: (qmail 30387 invoked by uid 500); 3 Dec 2012 20:11:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30331 invoked by uid 500); 3 Dec 2012 20:11:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30322 invoked by uid 99); 3 Dec 2012 20:11:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:11:50 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:11:44 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id X2Y91k0010Fqzac5D8BPY6; Mon, 03 Dec 2012 20:11:23 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id X8BN1k00o38FjT13U8BPda; Mon, 03 Dec 2012 20:11:23 +0000
Message-ID: <50BD0768.5010109@christopherschultz.net>
Date: Mon, 03 Dec 2012 15:11:20 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Nagios plugin script for use with JMXProxy
References: <50B5409E.40909@christopherschultz.net> <20121128161907.GC7539@IUPUI.Edu> <50B63A7E.5020405@neofonie.de>
In-Reply-To: <50B63A7E.5020405@neofonie.de>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354565483;
	bh=farJOysL4/yyMfQIZoKF1MScsBMN26GE+ewoVgekq3Y=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=qgrLgiyv7lk8IlhSjGktiBWnUREsy7z6CUC022Wj0kMBxuLc7qncoVsb8f4sRUDrq
	 DA/Lzds69NqcX/FccQS0qNTHPU581HLF4PqG+a9rRVZ0IpW8v92obEJEND5+/lYDJJ
	 Jukp5rRkb9SSUIGjPAvfinGqpk9dkUWyVDSOLMs7pkboyb95tvYc4xL7unAp094j5/
	 xfHeQvp4Mx+ublEYAF4B161lrGCyIcE1aGbJfL6Ks2JlCA4a20wgC6YG+cnBPykFK0
	 kFp40g8E+kizIPAR8ELTIsVMDLNq13ILlUlbYbjG7HKV1tgJpJYmzZFOrQvvdQCZwt
	 EcnFncnUafJ5Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Athanasios,

On 11/28/12 11:23 AM, Athanasios Kostopoulos wrote:
> On 28/11/12 17:19, Mark H. Wood wrote:
>> On Tue, Nov 27, 2012 at 05:37:18PM -0500, Christopher Schultz
>> wrote:
>>> I have developed a Perl script that can be used with Nagios to
>>> check on a Tomcat instance via the manager's JMXProxyServlet.
>>> Someone asked me to publish it, which I'm happy to do. I'm just
>>> wondering what the best thing to do is.
>> Allow me to add my thanks!
>> 
>>> I see several options:
>>> 
>>> 1. Submit a patch to the Tomcat source 2. Drop the file into
>>> the Tomcat wiki 3. Stick the file on Apache's related-projects
>>> stash -- I have forgotten the address at this point :( 4. Host
>>> it on my own website
>> Maybe Nagios has a third-party plugins corral?
>> 
> Many thanks from me as well. Indeed Nagios has a third-party
> plugins corral, you can reach it at
> 
> http://exchange.nagios.org/directory/Plugins
> 
> There you can also find instruction there on how to submit your own
> project

AFAICT, they do not provide hosting... only listings. So, I still need
a place to actually put the code.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC9B2gACgkQ9CaO5/Lv0PAKbwCgrO4t6vVjmVoisHCdA90RMPkE
SswAn0D60IFK2Q2RqYycvnkLGO3qwrRJ
=xC8p
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 20:20:16 2012
Return-Path: <users-return-238357-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 006D9E1E9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 20:20:16 +0000 (UTC)
Received: (qmail 62093 invoked by uid 500); 3 Dec 2012 20:20:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62030 invoked by uid 500); 3 Dec 2012 20:20:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62021 invoked by uid 99); 3 Dec 2012 20:20:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:20:12 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:20:05 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id X6iL1k0091YDfWL518KjZ5; Mon, 03 Dec 2012 20:19:43 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id X8Kh1k00j38FjT13g8KiL8; Mon, 03 Dec 2012 20:19:43 +0000
Message-ID: <50BD095A.3030207@christopherschultz.net>
Date: Mon, 03 Dec 2012 15:19:38 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Issues Logging wtith log4j at common and webapp levels
References: <201212031857.qB3IvJl4001373@pig.industrialinfo.com>
In-Reply-To: <201212031857.qB3IvJl4001373@pig.industrialinfo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354565983;
	bh=nKwvcy6ejc7LU0ql/MX3vO4TNF+n03gaMeAG+PUiyQI=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=J3C/kUvZkwCQ9W4GkGXg1QvcFziPXGPjM5rLig78NXNCZ4jaZzFWqP8BpFIfzKxFD
	 P9BNJ40AY7YJ64ibyriUMwp0c4DSfidsbT+ASn0Zoc1kxMyuimApZiCurJQX4E7xuj
	 +oEWD/us5BrK80zuDO/SsYRvYoLjKt7R1fIWKq9QYFjfnS2pmFVe/aij1m0XGYDZ/U
	 H3lI5kLH5ncMTGeunLbtT2uegxPizAhArWZj9ScJODQCz5TjNySmXrp28p6y2B4qJ2
	 MC0gsTvPVZTtsnwBBARl43Q5FvewPpPGjNgLcgzoAZDm8I801jQQSP4PaPpDN0NKBB
	 1LPVEnTsqSpsA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

David,

On 12/3/12 1:57 PM, David Johle wrote:
> Well I managed to accomplish my goal 100% with the help of some
> new features in Log4j 2.x (currently beta-3).

Holy crap, the log4j folks are finally going to release an update.
After the abortive attempt some years ago, I'm glad they are once
again pushing for a 2.0-release.

...and of course, I now have to change everything about the way I use
log4j. :(

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC9CVoACgkQ9CaO5/Lv0PDl9gCfU9o0jGC13Z2NyhaOKWBzXIr/
3cUAoJz0tVZmVZulYQ/mT4TygxKkWJPe
=cFYt
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 20:21:51 2012
Return-Path: <users-return-238358-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 953A8E1F1
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 20:21:51 +0000 (UTC)
Received: (qmail 67326 invoked by uid 500); 3 Dec 2012 20:21:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67280 invoked by uid 500); 3 Dec 2012 20:21:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67270 invoked by uid 99); 3 Dec 2012 20:21:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:21:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:21:39 +0000
Received: from [192.168.245.129] (p549E0936.dip0.t-ipconnect.de [84.158.9.54])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 9D0A73C063B
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 21:22:05 +0100 (CET)
Message-ID: <50BD09BC.9070308@ice-sa.com>
Date: Mon, 03 Dec 2012 21:21:16 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Issues Logging wtith log4j at common and webapp levels
References: <201212031857.qB3IvJl4001373@pig.industrialinfo.com>
In-Reply-To: <201212031857.qB3IvJl4001373@pig.industrialinfo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

David Johle wrote:
> Well I managed to accomplish my goal 100% with the help of some new 
> features in Log4j 2.x (currently beta-3).
> 
> My eventual setup was to use the BasicContextSelector to ensure only a 
> single logging heirarchy was created for the whole VM regardless of 
> webapps.  Then I tag events per-webapp using a ServletFilter to 
> manipulate the ThreadContext, and send them all through a central 
> RoutingAppender which in turn directs the entries (based on the tag) to 
> the appropriate FileAppender.
> 
> Since the tagging is done at the request level, both webapp specific 
> classes, central libraries, and even VM-wide singletons used by a 
> request all carry that tag (it uses ThreadLocal internally) and thus get 
> routed properly.
> 
> As for the remaining System.out calls in JSP files, separate Loggers are 
> defined for those to capture the events created by swallowOutput (which 
> don't carry the tag) and manually route them the appropriate 
> FileAppender.  Eventually that extra fluff can go away though.
> 
> Another nice part about this is I only have a single instance of the 
> logj4 libraries & a single centralized configuration file, which is A 
> Good Thing(tm) for this setup.
> 
> Lots of other features in log4j2 that I was able to benefit from as well 
> like dynamic reconfiguration and such, so I also set up my internal 
> Tomcat logging (read: anything without a tag) to route into Tomcat's 
> log.  Sorry JULI, you just weren't good enough for me ;)
> 

I am not sure that I understand everything here (Tomcat logging has long been quite a 
puzzle for me), but I seem to perceive the hope of seeing a long-time dream come true, as 
a sysadmin with limited Tomcat/Java/Juli/log4j knowledge : setting up *one* logging 
configuration that will just swallow everything from Tomcat and webapps - no matter how 
sneaky - into preferably one logfile to start with, with a sensible rotation. And /then/ 
start refining, as needed.

If so, many thanks.

Would you care to enter the setup instructions in a WiKi article ? I'm willing to be the 
test pigeon with a couple of running Tomcats, own webapps, foreign webapps etc.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 20:42:10 2012
Return-Path: <users-return-238359-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1A2DCD111
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 20:42:10 +0000 (UTC)
Received: (qmail 40496 invoked by uid 500); 3 Dec 2012 20:42:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40431 invoked by uid 500); 3 Dec 2012 20:42:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40420 invoked by uid 99); 3 Dec 2012 20:42:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:42:06 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (athena.apache.org: transitioning domain of terence@tmbsw.com does not designate 208.82.204.51 as permitted sender)
Received: from [208.82.204.51] (HELO secure.builders-agent.com) (208.82.204.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 20:41:59 +0000
Received: from [127.0.0.1] (208-191-157-48.lightspeed.austtx.sbcglobal.net [208.191.157.48])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tmbsw.com (Postfix) with ESMTP id 482982016B
	for <users@tomcat.apache.org>; Mon,  3 Dec 2012 14:41:39 -0600 (CST)
Message-ID: <50BD0EA9.805@tmbsw.com>
Date: Mon, 03 Dec 2012 14:42:17 -0600
From: "Terence M. Bandoian" <terence@tmbsw.com>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20120713 Thunderbird/14.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <CABzHfVng3dfOYAPAyCB0CGMPd=FFB5wq9-SRLZy44NsPOeGG5g@mail.gmail.com>
In-Reply-To: <CABzHfVng3dfOYAPAyCB0CGMPd=FFB5wq9-SRLZy44NsPOeGG5g@mail.gmail.com>
Content-Type: text/plain; charset=GB2312
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/2/2012 4:54 AM, Konstantin Kolinko wrote:
> 2012/11/30 Terence M. Bandoian <terence@tmbsw.com>:
>> Hi, Chuck-
>>
>> I don't mean to be argumentative but, with Tomcat 6.0.29, I found that
>> static files from an images subdirectory of a web application were not
>> cached by Internet Explorer 7.  As a workaround, I created a context for the
>> images subdirectory and left it nested in the web application.  The files
>> from that directory were then cached by IE7.  The difference was that the
>> following response headers were included when there was no separate context
>> defined for the subdirectory:
>>
>> Pragma: No-cache
>> Cache-Control: no-cache
>> Expires: Wed, 31 Dec 1969 18:00:00 CST
>>
>> Something else I found unusual was that ETag and Last-Modified headers were
>> provided in both configurations.  Apparently, some browsers (e.g. Firefox)
>> utilize that information even when the no-cache and Expires headers are
>> provided.
>>
>> I realize this is a non-standard configuration but it worked with 6.0.29 and
>> 6.0.35.
>>
>
> The "no-cache" headers are added to resources that are protected by a
> security constraint.   That is for an obvious reason: if a resource is
> cached locally, you cannot protect it.
>
> It is usually a good idea to do not protect such static files.
>
>
> Regarding "a.war/foo/bar" vs "a#foo.war/bar",  Tomcat always selects a
> webapp first - one that matches the longest path. Then it selects a
> resource in the selected webapp.
>
> It is mentioned in the Introduction section of the
> "config/context.html" page of the Configuration Reference Guide.
>
> One example of using this rule is ROOT/admin/index.html page in Tomcat 5.5.
>
> When a user requests "http://localhost:8080/admin/" and the admin
> webapp is not installed, the ROOT/admin/index.html page is called and
> says that "no such application is here".  If the admin webapp is
> installed, then its welcome page (admin/index.jsp) is displayed.
>
> Best regards,
> Konstantin Kolinko


Hi, Konstantin-

That makes sense. A security constraint was indeed defined for the main
application using the URL pattern "/*". However, no security constraints
were defined for the subdirectory contexts and so the "no-cache" headers
were eliminated.

Thank you for the explanation.

-Terence Bandoian


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 22:54:40 2012
Return-Path: <users-return-238360-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ECC7DEE5E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 22:54:39 +0000 (UTC)
Received: (qmail 67753 invoked by uid 500); 3 Dec 2012 22:54:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67701 invoked by uid 500); 3 Dec 2012 22:54:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67691 invoked by uid 99); 3 Dec 2012 22:54:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 22:54:36 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [156.42.184.98] (HELO extmail1.maricopa.gov) (156.42.184.98)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 22:54:31 +0000
X-IronPort-AV: E=Sophos;i="4.84,209,1355122800"; 
   d="scan'208";a="54098267"
Received: from dacrspxcnghub1.enterprise.maricopa.gov ([10.4.95.15])
  by intmail1.maricopa.gov with ESMTP; 03 Dec 2012 15:54:11 -0700
Received: from cms1.enterprise.maricopa.gov ([10.4.94.11]) by
 DACRSPXCNGHUB1.enterprise.maricopa.gov ([fe80::7507:7bce:2156:8ecc%18]) with
 mapi; Mon, 3 Dec 2012 15:54:10 -0700
From: Leo Donahue - RDSA IT <LeoDonahue@mail.maricopa.gov>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 3 Dec 2012 15:54:10 -0700
Subject: RE: Context Path for a subdirectory
Thread-Topic: Context Path for a subdirectory
Thread-Index: Ac3PcduHpp+7tOsWT1OeMximfNju5ACNZias
Message-ID: <D72C174D3CAC0A4E812FAD012D646E9F24FE8B4812@CMS1.enterprise.maricopa.gov>
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com>
 <50B90E20.2000907@tmbsw.com>
 <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com>
 <50B92DB1.3000201@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com>
 <50B9359C.8060209@christopherschultz.net>
 <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>,<50B975C1.4060805@christopherschultz.net>
In-Reply-To: <50B975C1.4060805@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

_______________________________________
From: Christopher Schultz [chris@christopherschultz.net]
Sent: Friday, November 30, 2012 8:13 PM
To: Tomcat Users List
Subject: Re: Context Path for a subdirectory

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Leo,

On 11/30/12 5:52 PM, Leo Donahue - RDSA IT wrote:
> Ok, so before I upgraded to Tomcat 7.0.33 to use the container
> supplied remote address filter, what were my options to restrict
> access to just a subdirectory of a web app in Tomcat 6.0.35?

Please remember that you aren't protecting a directory. Ever. You are
protecting a url-pattern and nothing more.=20
- -chris

1st, sorry for the format, I'm on vacation and webmail doesn't format repli=
es the way I'd like.
(sorry chuck, not taking your advice from before on getting out more.  mayb=
e tomorrow...)

I have heard this before, and now I'm beginning to understand why I keep he=
aring this same comment.  I now realize my choice of words in describing wh=
at I was trying to do leads to this comment.

As many times as I've heard, "you're not protecting a directory, and some o=
ther people use the phrase 'resource'..." I always thought that there was s=
ome trick to getting by the url-pattern that no one wanted to mention.

As far as the URL vs directory, the server is pretty locked down - so I'm t=
old, and the IP I use is the IP of the host. =20

Ultimately I wanted to restrict access to the URL /rest/admin to requests m=
ade by the local host only to that URL.

webapps
  rest
    www
      admin

Leo=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec  3 23:50:49 2012
Return-Path: <users-return-238361-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE15AD1D2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon,  3 Dec 2012 23:50:49 +0000 (UTC)
Received: (qmail 22359 invoked by uid 500); 3 Dec 2012 23:50:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 22317 invoked by uid 500); 3 Dec 2012 23:50:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22307 invoked by uid 99); 3 Dec 2012 23:50:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 23:50:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 03 Dec 2012 23:50:41 +0000
Received: from [192.168.245.129] (p549E0936.dip0.t-ipconnect.de [84.158.9.54])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 2CA0D3C055C
	for <users@tomcat.apache.org>; Tue,  4 Dec 2012 00:51:07 +0100 (CET)
Message-ID: <50BD3ABA.1040605@ice-sa.com>
Date: Tue, 04 Dec 2012 00:50:18 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>,<50B975C1.4060805@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FE8B4812@CMS1.enterprise.maricopa.gov>
In-Reply-To: <D72C174D3CAC0A4E812FAD012D646E9F24FE8B4812@CMS1.enterprise.maricopa.gov>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Leo Donahue - RDSA IT wrote:
> _______________________________________
> From: Christopher Schultz [chris@christopherschultz.net]
> Sent: Friday, November 30, 2012 8:13 PM
> To: Tomcat Users List
> Subject: Re: Context Path for a subdirectory
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Leo,
> 
> On 11/30/12 5:52 PM, Leo Donahue - RDSA IT wrote:
>> Ok, so before I upgraded to Tomcat 7.0.33 to use the container
>> supplied remote address filter, what were my options to restrict
>> access to just a subdirectory of a web app in Tomcat 6.0.35?
> 
> Please remember that you aren't protecting a directory. Ever. You are
> protecting a url-pattern and nothing more. 
> - -chris
> 
> 1st, sorry for the format, I'm on vacation and webmail doesn't format replies the way I'd like.
> (sorry chuck, not taking your advice from before on getting out more.  maybe tomorrow...)
> 
> I have heard this before, and now I'm beginning to understand why I keep hearing this same comment.  I now realize my choice of words in describing what I was trying to do leads to this comment.
> 
> As many times as I've heard, "you're not protecting a directory, and some other people use the phrase 'resource'..." I always thought that there was some trick to getting by the url-pattern that no one wanted to mention.
> 
> As far as the URL vs directory, the server is pretty locked down - so I'm told, and the IP I use is the IP of the host.  
> 
> Ultimately I wanted to restrict access to the URL /rest/admin to requests made by the local host only to that URL.
> 
> webapps
>   rest
>     www
>       admin
> 

Ok, so the way I would go about it, taking into acount my limited knowledge about webapp' 
"security constraints" and the like, but having written at least one servlet filter before :

1) your webapp is the "rest" webapp
2) inside that webapp, the url category which you want to protect against accesses by 
other client IP's than "localhost" is : "/www/admin" and "/www/admin/*".
(The "/rest" part falls off, because you are already inside of it).
3) you can for that write your own servlet filter, or use an existing one : see 
http://www.tuckey.org/urlrewrite/
4) the basic plan is to insert a servlet filter into your "webapp stack", which filter 
will only be active (inserted in the request processing chain) when a URL of the type in 
item (2) above is involved; and it will not be activated and play no role in other cases 
(e.g. for URL paths outside of /rest/www/admin) (*)
5) you configure this in the web.xml of your webapp (../webapps/rest/WEB-INF/web.xml) 
exactly as shown on the webpage indicated above, except for
<filter-mapping>
...
   <url-pattern>/www/admin<url-pattern>
   <url-pattern>/www/admin/*<url-pattern>
...
</filter-mapping>
(*)

The UrlRewriteFilter is probably a bit "heavy-duty" for the simple filtering which you 
want. But at the same time, it is well-written, well-tested, optimised, and you will 
probably benefit from knowing it, as it can do *much* more than what you need here.

Writing your own filter is not very difficult, but if you have not done it before there 
are some particular aspects that need a bit of getting used to (such as for instance that 
the request object is immutable, and thus to modify the request - which you do not need 
here - you need to "wrap" it into your own version of it, and modify that one).
This being said, it's fun.


(*) I mean that it is the container that does the inserting or not of the filter, 
depending on these <url-pattern> lines, you do not have to take care of that.
Inside of your filter code, you just filter every request you get our hands on,since you 
know that your code is only called when the request URL matches.

And sorry if you knew all that already. It just did not sound that you were too sure.

P.S. If you decide to use UrlRewriteFilter, you should be looking at the documentation 
(http://urlrewritefilter.googlecode.com/svn/trunk/src/doc/manual/4.0/index.html), and at
a rule using this in the <from> part :

remote-addr :
	The IP address of the host making the request, e.g. 123.123.123.12
i.e. request.getRemoteAddr()
(you probably want to negate this, and check for "not (127.0.0.1 or ::1)")

and probably this in the <to> part :
forward (default) :
	Requests matching the "conditions" for this "rule", and the URL in the "from" element 
will be internally forwarded to the URL specified in the "to" element. Note: In this case 
the "to" URL must be in the same context as UrlRewriteFilter. This is the same as doing:
RequestDispatcher rq = request.getRequestDispatcher([to value]);
rq.forward(request, response);
(to forward the miscreants to a no-no page of your choice.)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 05:14:22 2012
Return-Path: <users-return-238362-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9EE8FEBDF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 05:14:22 +0000 (UTC)
Received: (qmail 50864 invoked by uid 500); 4 Dec 2012 05:14:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50624 invoked by uid 500); 4 Dec 2012 05:14:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50608 invoked by uid 99); 4 Dec 2012 05:14:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 05:14:18 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of daxiezhi@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 05:14:10 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so4110032lbg.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 21:13:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Sxf44LOtvMxZVeQetmqRjVuuRo5thL7jmAGLAex9D/o=;
        b=hSKNBvV/83HnSq9MBqehyoBNwKciMdjM+vKYzxZa4NKbp/elY4LnfotiYcojT2/uvX
         vCa8gghUTptqI6WtLCSyA7rZx6cGwJqgQsIKVsnbuALtP+f3+zbN/SFY7o14fSeC1eEx
         32jKMzCXd88NZVdkXBLxmUUFoh9VgymruGmbJQ8Rt1/mAvdLKwMNMW9meXjBG6al7a5v
         wg1ba8rM+ZhrI1A4YSkQiejba9mufyxypzj2XQpWsr6z7khPVqCwVr5WfoAaAtL1hLex
         lSpwqNnNZ7A+8Dc59mjaXzLGF8nDlHEIDjU7de34H7za3qZS/y/dcGWDHPkON2ooVKR1
         TjUw==
MIME-Version: 1.0
Received: by 10.152.105.236 with SMTP id gp12mr11858989lab.35.1354598030403;
 Mon, 03 Dec 2012 21:13:50 -0800 (PST)
Received: by 10.114.71.233 with HTTP; Mon, 3 Dec 2012 21:13:50 -0800 (PST)
Date: Tue, 4 Dec 2012 13:13:50 +0800
Message-ID: <CABS8Zpo-mKo3D_Fi9S3P2uQNbvW1xL9PZOMWT2eFosPOyD38UQ@mail.gmail.com>
Subject: How to use the usehttponly feature in application level
From: Zhi Xie <daxiezhi@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d0407144b6a699604cfffee8d
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0407144b6a699604cfffee8d
Content-Type: text/plain; charset=ISO-8859-1

Sorry, I don't find any doc to introduce this. There are a lot of docs to
show how to implement the feature in conf/context.xml.

<Context useHttpOnly="true">
...
</Context>

Who can tell me how to implement the feature in application level?
For example, I have 2 applications in the Tomcat server. One is named
HelloWorld, the other is named HiWorld. I hope the HelloWorld should use
the usehttponly feature, the other is not.

Any advice is appreciated.

-- 
Best Regards
Gary

--f46d0407144b6a699604cfffee8d--

From users-return-238363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 06:20:16 2012
Return-Path: <users-return-238363-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8EFCEEB81
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 06:20:16 +0000 (UTC)
Received: (qmail 92190 invoked by uid 500); 4 Dec 2012 06:20:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92134 invoked by uid 500); 4 Dec 2012 06:20:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92101 invoked by uid 99); 4 Dec 2012 06:20:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 06:20:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of techienote.com@gmail.com designates 74.125.83.45 as permitted sender)
Received: from [74.125.83.45] (HELO mail-ee0-f45.google.com) (74.125.83.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 06:20:01 +0000
Received: by mail-ee0-f45.google.com with SMTP id d49so2529915eek.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 22:19:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-rim-org-msg-ref-id:message-id:content-transfer-encoding:reply-to
         :x-priority:sensitivity:importance:subject:to:from:date:content-type
         :mime-version;
        bh=zDZxxXvefmYHOh6SqzqG/UovmxQBTlOCPuuD8mSU2As=;
        b=pbGnc4HiY4Uz4l55xO+5jcfH4Uu1qXA646xR4X/sQ7MlGOHZQC9JYErqPYKRpjC7OR
         YSWB0BLu227+4SicnI6TJr3TP+11yaytF5SQ/5QgKSMh0X5L/LVN7Vs+JzBm/WniXkF2
         Dkq275/QFWetKZVukyUK3ATxVjV1nRYvKpK1v+CX0Tgg35br++SMNVhNO3Yk4N/5CQnc
         n8vQQ//RbqRCoFtiwIDGRQNkNDy81NrcfwP7SS3Cd4UrC9syfLIWrcy0JoEvqoYJ11yM
         oFqJk7IKoa3eaSbKJTrPYRNcggSv+gf8Q558rmX7d6dTSCmgVrVxbNdg7NjkDAVbil+3
         Yrcw==
Received: by 10.14.208.137 with SMTP id q9mr44844095eeo.28.1354601980889;
        Mon, 03 Dec 2012 22:19:40 -0800 (PST)
Received: from 172.18.200.176 (bda-178-239-84-220.bis7.eu.blackberry.com. [178.239.84.220])
        by mx.google.com with ESMTPS id z8sm622864eeo.11.2012.12.03.22.19.39
        (version=SSLv3 cipher=OTHER);
        Mon, 03 Dec 2012 22:19:39 -0800 (PST)
X-rim-org-msg-ref-id:945526067
Message-ID:<945526067-1354601978-cardhu_decombobulator_blackberry.rim.net-1510896768-@b16.c7.bise7.blackberry>
Content-Transfer-Encoding: base64
Reply-To: techienote.com@gmail.com
X-Priority: Normal
Sensitivity: Normal
Importance: Normal
Subject: Re: How to use the usehttponly feature in application level
To: "Tomcat Users List" <users@tomcat.apache.org>
From: techienote.com@gmail.com
Date: Tue, 4 Dec 2012 06:19:36 +0000
Content-Type: text/plain; charset="Windows-1252"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

SGkgWmhpLA0KDQpZb3UgY2FuIHNldCBmb2xsb3dpbmcgcGFyYW1ldGVycyBpbiB3ZWIueG1sIG9m
IGFwcGxpY2F0aW9uLg0KDQo8c2Vzc2lvbi1jb25maWc+DQo8Y29va2llLWNvbmZpZz4NCjxodHRw
LW9ubHk+dHJ1ZTwvaHR0cC1vbmx5Pg0KPHNlY3VyZT50cnVlPC9zZWN1cmU+DQo8L2Nvb2tpZS1j
b25maWc+DQo8L3Nlc3Npb24tY29uZmlnPg0KDQpSZWdhcmRzLA0KVmlkeWFkaGFyDQotLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0tDQpGcm9tOiBaaGkgWGllDQpUbzogdXNlcnNAdG9tY2F0LmFw
YWNoZS5vcmcNClJlcGx5VG86IFRvbWNhdCBVc2VycyBMaXN0DQpTdWJqZWN0OiBIb3cgdG8gdXNl
IHRoZSB1c2VodHRwb25seSBmZWF0dXJlIGluIGFwcGxpY2F0aW9uIGxldmVsDQpTZW50OiBEZWMg
NCwgMjAxMiAxMDo0Mw0KDQpTb3JyeSwgSSBkb24ndCBmaW5kIGFueSBkb2MgdG8gaW50cm9kdWNl
IHRoaXMuIFRoZXJlIGFyZSBhIGxvdCBvZiBkb2NzIHRvDQpzaG93IGhvdyB0byBpbXBsZW1lbnQg
dGhlIGZlYXR1cmUgaW4gY29uZi9jb250ZXh0LnhtbC4NCg0KPENvbnRleHQgdXNlSHR0cE9ubHk9
InRydWUiPg0KLi4uDQo8L0NvbnRleHQ+DQoNCldobyBjYW4gdGVsbCBtZSBob3cgdG8gaW1wbGVt
ZW50IHRoZSBmZWF0dXJlIGluIGFwcGxpY2F0aW9uIGxldmVsPw0KRm9yIGV4YW1wbGUsIEkgaGF2
ZSAyIGFwcGxpY2F0aW9ucyBpbiB0aGUgVG9tY2F0IHNlcnZlci4gT25lIGlzIG5hbWVkDQpIZWxs
b1dvcmxkLCB0aGUgb3RoZXIgaXMgbmFtZWQgSGlXb3JsZC4gSSBob3BlIHRoZSBIZWxsb1dvcmxk
IHNob3VsZCB1c2UNCnRoZSB1c2VodHRwb25seSBmZWF0dXJlLCB0aGUgb3RoZXIgaXMgbm90Lg0K
DQpBbnkgYWR2aWNlIGlzIGFwcHJlY2lhdGVkLg0KDQotLSANCkJlc3QgUmVnYXJkcw0KR2FyeQ0K
DQoNCg0KU2VudCBvbiBteSBCbGFja0JlcnJ5riBmcm9tIFZvZGFmb25l

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 07:12:39 2012
Return-Path: <users-return-238364-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3B368DECA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 07:12:39 +0000 (UTC)
Received: (qmail 16556 invoked by uid 500); 4 Dec 2012 07:12:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16342 invoked by uid 500); 4 Dec 2012 07:12:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16295 invoked by uid 99); 4 Dec 2012 07:12:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 07:12:33 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of orhankarasakal@gmail.com designates 209.85.220.45 as permitted sender)
Received: from [209.85.220.45] (HELO mail-pa0-f45.google.com) (209.85.220.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 07:12:28 +0000
Received: by mail-pa0-f45.google.com with SMTP id bg2so2620559pad.18
        for <users@tomcat.apache.org>; Mon, 03 Dec 2012 23:12:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=WOKif8cLofKkU6oZ0aR2v0FXnxBzt/3VyW/QHEshywk=;
        b=hWx6w0gEtEwob9j5BnP5clbM69WflX+qcjOEMFTEselfA7c2iCIxL9yyjjY6Kv0rx9
         4pSCtovoaGYsgWb1UPv1Wd+GFhgVi12k/ksFaNdNmAjH26TZRh+KHPW+YBwBXBgBkiLG
         eS+gtv/AYYz5QR6oA0+4XeVUOfkhpaHGQ7wuoKmII6cS6JjWVIDxPvZWiwFiyHPtHJ4V
         gY8H6o8StgQ8mSIy77YJGoUFAVUmVN/L0mRbPJzgoMwGOansWy+9fSOc6vc0vc7I3jrw
         RbSm5aVYvQgv7LzPsc5rtM4eM8+gygJnqN9vIaQTJ9ub6bFV+NYnPYcnPqRsdWxbKDC5
         UMZQ==
MIME-Version: 1.0
Received: by 10.68.253.4 with SMTP id zw4mr36198721pbc.143.1354605126804; Mon,
 03 Dec 2012 23:12:06 -0800 (PST)
Received: by 10.66.14.106 with HTTP; Mon, 3 Dec 2012 23:12:06 -0800 (PST)
In-Reply-To: <50BCC33B.4000807@christopherschultz.net>
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com>
	<50BC78B6.4090007@ice-sa.com>
	<CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com>
	<50BC84AE.4090008@apache.org>
	<50BC8629.5010706@ice-sa.com>
	<888a5571867be0562b5c8d659f852c24@www.internetallee.de>
	<CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com>
	<50BC9B85.5090400@apache.org>
	<CANNgL10M8QoDavVaQo1+k+xvbYLgLeKc0+4=qb_-1Z=rYEZD+w@mail.gmail.com>
	<50BCC33B.4000807@christopherschultz.net>
Date: Tue, 4 Dec 2012 09:12:06 +0200
Message-ID: <CANNgL11iBHUs9qB5j2_myd9LsYf2st3qwdOzj_ikJBxSLwd45w@mail.gmail.com>
Subject: Re: Mod_jk - loadbalancer
From: Orhan Karasakal <orhankarasakal@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b16042b64e5c104d00195a3
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b16042b64e5c104d00195a3
Content-Type: text/plain; charset=ISO-8859-1

lb1 and lb2 are two loadbalancer, are not they ? But I want to have only
one loadbalancer.
This design cannot be possible, only I want to know

On Mon, Dec 3, 2012 at 5:20 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Orhan,
>
> On 12/3/12 8:10 AM, Orhan Karasakal wrote:
> > If it is possible, then we set. Now  we are not using this design
> > :) I think, it is not possible.
>
> I disagree: the sane parts of your request are definitely possible.
>
>
> requests from /wepapp1/* -> worker2,worker3
> requests from /webapp2/* - > worker1, worker4, worker5
>
> httpd.conf
> JkMount /webapp1/* lb1
> JkMount /webapp2/* lb2
>
> workers.properties (seriously abridged)
> worker.lb1.balance_workers=worker2,worker3
> worker.lb2.balance_workers=worker1,worker4,worker5
> worker.worker1.jvmroute=tomcat1
> worker.worker2.jvmroute=tomcat2
> worker.worker3.jvmroute=tomcat3
> worker.worker4.jvmroute=tomcat4
> worker.worker5.jvmroute=tomcat5
>
> If you want to make a request that will definitely go to worker5, then
> do this:
>
> curl http://hostname/webapp2/server-status;jsessionid=.tomcat5
>
> But you obviously cannot do this:
>
> curl http://hostname/webapp1/server-status;jsessionid=.tomcat5
>
> ...because tomcat5/worker5 isn't in the lb pool for /webapp1.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC8wzsACgkQ9CaO5/Lv0PCfLgCcCEkR68W5SuLLb5wdT+JrbW+l
> aFcAnicJMYY0t7j77H20QIrZhdSIOoXg
> =P5gU
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b16042b64e5c104d00195a3--

From users-return-238365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 09:48:58 2012
Return-Path: <users-return-238365-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20DE1E4F5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 09:48:58 +0000 (UTC)
Received: (qmail 70757 invoked by uid 500); 4 Dec 2012 09:48:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70687 invoked by uid 500); 4 Dec 2012 09:48:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70658 invoked by uid 99); 4 Dec 2012 09:48:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 09:48:53 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lyallex@gmail.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 09:48:46 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so1853843wgb.0
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 01:48:25 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=0iX/SGElNRYFJ4Lz7/hpQIOE1/qit6BD93PgC8ntz+g=;
        b=RTFwXmOgBxCaUp6DY2DEP/KhA6LT+8BVLWYwnqmGIJT2wH12AujiryJ9BPNISSyOqR
         i2DB7rYZ6jT4EbB8SwCWhD3+mxJjZ80Awr4Dxq0SNOwSQdZU/XJeyWtb/tEjHSOg3jPt
         rhmdCaoPmEvaaDrorTyZVs9+bxD8vbTjQb9FDvPIDA2eXm2hVh6721DLZASTnt378djK
         jHwYxE0LyX2MCEOwm2ah3flAvXNPn0DPCfYmAhqKEFJUyHujglnRpnkmEnpjkaANobFN
         iXWXVBh6fAJltTzNl2+4xtBErUu47P3LUMupDKJ4MeBMD5cDY8sIcBjP/fHUrkunrGLB
         fhHA==
MIME-Version: 1.0
Received: by 10.216.228.168 with SMTP id f40mr4380741weq.25.1354614504997;
 Tue, 04 Dec 2012 01:48:24 -0800 (PST)
Received: by 10.227.29.18 with HTTP; Tue, 4 Dec 2012 01:48:24 -0800 (PST)
Date: Tue, 4 Dec 2012 09:48:24 +0000
Message-ID: <CAMqzz4QdXSBQdY41o4kNc+E3_C+-y0T2z8DZp1odf75TkuJyNQ@mail.gmail.com>
Subject: Running tomcat6 under jsvc
From: Lyallex <lyallex@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00504502d97260c51204d003c46f
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502d97260c51204d003c46f
Content-Type: text/plain; charset=ISO-8859-1

Hi

I was wondering if this was the right place
to ask a question about running Tomcat 6.0.36 under jsvc on Debian Linux

Thank you

--00504502d97260c51204d003c46f--

From users-return-238366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 13:10:17 2012
Return-Path: <users-return-238366-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8B4FFE72F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 13:10:17 +0000 (UTC)
Received: (qmail 40215 invoked by uid 500); 4 Dec 2012 13:10:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39859 invoked by uid 500); 4 Dec 2012 13:10:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39818 invoked by uid 99); 4 Dec 2012 13:10:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:10:06 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:09:58 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so2898899vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 05:09:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=av35f7i5mXCt4HWHOjDgYly5UNUYaHOriKY/ymuffmQ=;
        b=ywfPZMmIqZyFKywhj8cdMANh4tnCac8fOlTEfqz/uf+6hFlLZxwwjPtnoMRo56FNxb
         HkgnhC2Dtlr8YHe+x68wSQPKsr2PG21ORlV4e4Gdba7QxZ5L2O5ZFV3bNGEHKcuoAypC
         vMA25W0aM6SaGJ3EClIIImV6ZMn5NVKVlpZMzx74bf84bebQPHCQiAqybEskLwlM4+VN
         e30LEqRN39VY6tuD/GcSYcIAwvjp2+npcxN2seQ/Lw2OqljzAs5pa+qdXrEOsRSbEQlD
         fAJW5gJWrju9U7mDLAmvYI1SQwl+AA03Z/KvkZeVbJBe+I+Hr7cdiGvRwOKgtT/OzC/a
         0NsA==
MIME-Version: 1.0
Received: by 10.52.88.33 with SMTP id bd1mr9963334vdb.70.1354626577939; Tue,
 04 Dec 2012 05:09:37 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 05:09:37 -0800 (PST)
In-Reply-To: <CAMqzz4QdXSBQdY41o4kNc+E3_C+-y0T2z8DZp1odf75TkuJyNQ@mail.gmail.com>
References: <CAMqzz4QdXSBQdY41o4kNc+E3_C+-y0T2z8DZp1odf75TkuJyNQ@mail.gmail.com>
Date: Tue, 4 Dec 2012 17:09:37 +0400
Message-ID: <CABzHfVk9_Px6do6GVYDnMM5dyFFBOe-u2AdfvRvhENJ6MmX2HA@mail.gmail.com>
Subject: Re: Running tomcat6 under jsvc
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/4 Lyallex <lyallex@gmail.com>:
> Hi
>
> I was wondering if this was the right place
> to ask a question about running Tomcat 6.0.36 under jsvc on Debian Linux
>

Yes, this can be asked here

Generic jsvc questions will be more appropriate for the users@ list of
commons.apache.org, but you may get a faster answer here, especially
for a Tomcat-specific one.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 13:14:24 2012
Return-Path: <users-return-238367-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49E16E743
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 13:14:24 +0000 (UTC)
Received: (qmail 53415 invoked by uid 500); 4 Dec 2012 13:14:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53113 invoked by uid 500); 4 Dec 2012 13:14:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52975 invoked by uid 99); 4 Dec 2012 13:14:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:14:19 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:14:11 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so2904538vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 05:13:50 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=MGZKoVwmAW/6qBdUb7gV2R0GIvMCIrLqe2ElfH/n918=;
        b=dXNR1NoZtajzGUF3Tdj+NjMGGXpUG9V7lKiJN7eJc0LTdmBsfkFM7clShkFicPMUsk
         WecC+wPbPvY2C0zN8ckIwRpSnPu2boFHQ03RYauyiQJv6VcDt2a7kZ1vgVdohnYe/ZwT
         ArYpMp3mwMP4Giqf4Y0ZOzm5Qav3YqRLDab1KiUDaBUr2SSUbujYlw1aNeUG6qI04alY
         JiQIbidott/eeURVxj4eg76RzqevtgWJLcpf4Vbs1fAcASzguvHLHMwLrVME+c98PSuu
         Eanvpj2cBHZ/mr/GBFpaooOpIbNMbz49/NSnUH2MIC2KuqfywPrCN4V1i7kmaYpkkyHo
         rEcw==
MIME-Version: 1.0
Received: by 10.52.180.5 with SMTP id dk5mr10053743vdc.45.1354626830614; Tue,
 04 Dec 2012 05:13:50 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 05:13:50 -0800 (PST)
In-Reply-To: <CABS8Zpo-mKo3D_Fi9S3P2uQNbvW1xL9PZOMWT2eFosPOyD38UQ@mail.gmail.com>
References: <CABS8Zpo-mKo3D_Fi9S3P2uQNbvW1xL9PZOMWT2eFosPOyD38UQ@mail.gmail.com>
Date: Tue, 4 Dec 2012 17:13:50 +0400
Message-ID: <CABzHfVktSqjEKpUo+Fgq8et42b=ch8uuyV7LZDRBri95ko36zQ@mail.gmail.com>
Subject: Re: How to use the usehttponly feature in application level
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/4 Zhi Xie <daxiezhi@gmail.com>:
> Sorry, I don't find any doc to introduce this. There are a lot of docs to
> show how to implement the feature in conf/context.xml.
>
> <Context useHttpOnly="true">
> ...
> </Context>
>
> Who can tell me how to implement the feature in application level?

The application-level file is named META-INF/context.xml
http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Defining_a_context

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 13:16:44 2012
Return-Path: <users-return-238368-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9645CE745
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 13:16:44 +0000 (UTC)
Received: (qmail 59185 invoked by uid 500); 4 Dec 2012 13:16:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59117 invoked by uid 500); 4 Dec 2012 13:16:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59104 invoked by uid 99); 4 Dec 2012 13:16:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:16:41 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:16:34 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so2907258vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 05:16:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DUnAHK8coaemu+62h8I4hNhHFBiRU7xVV5xf/o3Q1NU=;
        b=WsMqPLMHHI5qvwNIflZcg4pdZ0gNWU0WFDYq+R+ZBaUurg2Owbk+ymZTIE/LK5owdu
         QEyjpgGwab5i5gDhD2EuRxwOgkuIs6UKOGdBIjXHHDQQ4xZFZ9jOPcrOvSsw5l+M4g70
         uuqBzBLe++lb3tVkAiqAPK3pkcxIK7l52cfiEfzWLcLNrsova+oF3o2YVtA/mt0ZGjn7
         TIlPNFtY4dnlF4leeyazHZ17S9O4uBg9hQOqDHwaR745UOlxN6stvq531EOpqgn6tYaW
         OIN/bkZ+zw5hZO6zB3G/5gKz77rlBp6hu+LN9i1M3zo9fps22CsyithpxDTSB3tCp/xD
         TnJw==
MIME-Version: 1.0
Received: by 10.220.156.143 with SMTP id x15mr11562303vcw.50.1354626973733;
 Tue, 04 Dec 2012 05:16:13 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 05:16:13 -0800 (PST)
In-Reply-To: <945526067-1354601978-cardhu_decombobulator_blackberry.rim.net-1510896768-@b16.c7.bise7.blackberry>
References: <945526067-1354601978-cardhu_decombobulator_blackberry.rim.net-1510896768-@b16.c7.bise7.blackberry>
Date: Tue, 4 Dec 2012 17:16:13 +0400
Message-ID: <CABzHfVnider33hF9VVV-FT1piWiGoa+LuDoUmRnU5fzGgW2gXQ@mail.gmail.com>
Subject: Re: How to use the usehttponly feature in application level
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, techienote.com@gmail.com
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/4  <techienote.com@gmail.com>:
> Hi Zhi,
>
> You can set following parameters in web.xml of application.
>
> <session-config>
> <cookie-config>
> <http-only>true</http-only>
> <secure>true</secure>
> </cookie-config>
> </session-config>

+1. This is the best way.

Note, that your web application should be using Servlet 3.0
specification (as declared at the top of your web.xml file) to use
this feature.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 13:33:48 2012
Return-Path: <users-return-238369-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A0964D7CC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 13:33:48 +0000 (UTC)
Received: (qmail 16856 invoked by uid 500); 4 Dec 2012 13:33:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16753 invoked by uid 500); 4 Dec 2012 13:33:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16722 invoked by uid 99); 4 Dec 2012 13:33:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:33:43 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 13:33:38 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so2926779vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 05:33:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=n7uYmiMVsArzutjGv7hFQHDM0v8HxSLPU6kw9GWAe14=;
        b=G8VoEq3jORUoWBhYnOJdkmagAc+yf3VZr6nEb/wJLlBLw0W/LmyJFazuoFjSKMeIjb
         eK2jd6PP9dhf8WhDePM/FoMeFvVXVJ91rj2zHu8h9LJOUwa9ukB+/FXM3bB9yn2z0OeK
         u0zXljI4vUsDzrLUYaGGg0MgR9IGKfSZsZ3ntKnm8YEuEPCqlT8aBkEwT9fO6Vlcr5QI
         KxtDvniP28D8yE38soGwo67F3MsQ983c4w2AZGE0i8/TU6yCJVZTiDas7pkQgXV0puSU
         mtDkl4vczYDUi8a1dGezprTbYjX+bbgSBDTbiBji1/RNMnq1vBYO0p7he9pQ8lBGC7Wq
         /srg==
MIME-Version: 1.0
Received: by 10.220.247.204 with SMTP id md12mr11636776vcb.27.1354627997627;
 Tue, 04 Dec 2012 05:33:17 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 05:33:17 -0800 (PST)
In-Reply-To: <50BCC4CC.30700@christopherschultz.net>
References: <CAJmgiyJZrLW4dubNTxAG2qyaJRfK5TsV_aunrXwURwgzE_G0Bw@mail.gmail.com>
	<50BCC4CC.30700@christopherschultz.net>
Date: Tue, 4 Dec 2012 17:33:17 +0400
Message-ID: <CABzHfVkeksAQJnad9UWBp1FE5xqFEcP0-T1136MhjRvhByoAhA@mail.gmail.com>
Subject: Re: Reuse JNDI Properties
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/3 Christopher Schultz <chris@christopherschultz.net>:
> On 12/3/12 8:03 AM, Martin Gamper wrote:
>> Hey everybody!
>>
>> I am looking for a solution to reuse a JNDI Property which is set
>> in the context.xml : in my "${catalina.home}/conf/context.xml"
>> following <Environment name="nodeName" type="java.lang.String"
>> value="superFantasticNode" override="false" /> I use this value for
>> several different purposes.
>>
>> Now I want to define (for my J2EE application) another value for
>> special Log- Files. And therefore I use another JNDI property ...
>> and in this Property I'd like to "reuse" the previously set
>> "nodeName"-variable.
>>
>> In my Fantasy it would work like this: <Environment
>> name="loggingPath" value="${catalina.home}/logs/${nodeName}.log"
>> type="java.lang.String" override="false" />
>>
>> But it does not.
>
> Tomcat has a very limited set of cases where ${...} will do
> replacements for system properties. I think it's definitely worth
> filing an enhancement request for this kind of thing: it's a *very*
> useful feature to have.

The ${...} handling can be extended by defining a class that
implements PropertySource interface,
http://tomcat.apache.org/tomcat-7.0-doc/config/systemprops.html

BTW, in your case where you are specifying a global setting,
you can define nodeName property in conf/catalina.properties file.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 14:15:42 2012
Return-Path: <users-return-238370-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 23417D990
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 14:15:42 +0000 (UTC)
Received: (qmail 30700 invoked by uid 500); 4 Dec 2012 14:15:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30547 invoked by uid 500); 4 Dec 2012 14:15:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30512 invoked by uid 99); 4 Dec 2012 14:15:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 14:15:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of goelenv@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 14:15:31 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4144275vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 06:15:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Tr3fUD7XHwkOmc4f+gyyAxin52cEPbMULf4B51rdKn0=;
        b=RyC7BDokUPlHH6LYTszzZX1SZkyJFaeKoQa/34/0A0l6rXcA9s+hiwh+0VmBUQmL7v
         KgIyFAOnSU8lCrko0geYxM3XNiwqSwJqJz/ON1X1QgDZ8VWIU9ItNmO3tUwd5sFAuqlp
         GIUGk4Az37UKaYogWMRR4P/kUozdnTX42pOXXuined6xN+QcymF0c0FWAf6BQi1ZM29t
         46JYJx4FQZIrbbRhvevUcUAWOcjQ1U26NshKCPIdHMv1bqT17/2rBJjJLyt2/cf2u8hW
         Wl/ecA6HLKBa8s1tAgjkdRkwlAXLtDHfixzBC1a5pAhhaas41fltAnP5//Klm0JZzEeg
         uRwQ==
MIME-Version: 1.0
Received: by 10.52.100.229 with SMTP id fb5mr10155407vdb.103.1354630509759;
 Tue, 04 Dec 2012 06:15:09 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Tue, 4 Dec 2012 06:15:09 -0800 (PST)
In-Reply-To: <50B7C3A6.4010300@christopherschultz.net>
References: <CAGVpwCykKZth0G_oR7kVxdiE9X56pfZv9k=E+8tbvem9JPp79w@mail.gmail.com>
	<50B7C3A6.4010300@christopherschultz.net>
Date: Tue, 4 Dec 2012 15:15:09 +0100
Message-ID: <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/mixed; boundary=20cf307f343e560ca004d0077ef9
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf307f343e560ca004d0077ef9
Content-Type: multipart/alternative; boundary=20cf307f343e560c9404d0077ef7

--20cf307f343e560c9404d0077ef7
Content-Type: text/plain; charset=ISO-8859-1

Hey,

thanks for the help!

To be clear, I do not want a 0ms timeout... I'm doing research about how
"usable" the SSL session tracking option is for session management...
With the standard settings it seems very unstable to me, when sending alot
of parallel requests I get a broken socket error invalidating the ssl
session and making the session with this id disappear. In this case it
would seem to me that it's easy to create Denial of Service attacks by just
sending alot of requests so the user loses his session.

By playing with the timeouts I found out this problem doesn't occur when I
set the timeout to 0, just by playing with the settings. Perhaps because
this disables the possibility of too many parallel connections? I can't
find the reason of this in the Tomcat or SSL specs...

I've added a screenshot of a capture where things go wrong without setting
a keepAlive.. So I send alot of requests to the server, the first
clientHello (pck 38943) and the following packets everything goes ok, when
the application data is being send I get a tcp rst from port 54195 (this is
the connection that was used for the transactions before the current one)
... At this moment my session gets invalidates making the next SSL
handshake a full one with new ID (pckt 40361, ...)




2012/11/29 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Vincent,
>
> On 11/28/12 3:14 AM, Vincent Goelen wrote:
> > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > debug logs the SSL session get's invalidated after some requests
> > with a Broken Pipe exception. Is this because there are too many
> > open connections during the keepAliveTimeout?
>
> It's probably because of your pathological keepAliveTimeout. 0ms
> seems, er, low. Why did you choose 0ms?
>
> I haven't looked at the code, so I'm not sure if the elapsed timer
> starts when the last request is completed (which seems reasonable) or
> when the last request started. I suspect the latter. 0ms is awfully
> short. Are you sure that your client is capable of accepting the
> response to the previous request and turn-around and make another
> request across the same channel before 0ms passes?
>
> > It also only happens when processing the requests takes some time
> > (fe. storing items in database) or when I put the threat to sleep
> > for testing purpose.
>
> So if you have a trivial request (say, HEAD for a static resource),
> you can never get a failure?
>
> > When inspecting the traffic I see some tcp-rst packages (problem is
> > here?) from previous connections while the current one is being
> > processed.
>
> When you say "current one" what do you mean? If you are using a single
> connection with HTTP keepalive, then there is only one connection to
> talk about: you can't get RSTs from "previous connections". You may be
> getting TCP RST as the server closes the connection while the client
> is trying to write. Is that what you are experiencing?
>
> > My question is why these SSL Sessions get invalidated after alot of
> > quick requests to the server since this gives a problem with my SSL
> > Session tracking since the id changes then.
>
> Maybe if you can explain why you want a 0ms keepalive timeout it would
> be helpful. If you want to disable keep alives, set
> maxKeepAliveRequests="1". If you want to allow an infinite timeout,
> try using keepAliveTimeout="-1" as the documentation states.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> =J7dz
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf307f343e560c9404d0077ef7
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hey,<br><br>thanks for the help!<div><br></div><div>To be clear, I do not w=
ant a 0ms timeout... I&#39;m doing research about how &quot;usable&quot; th=
e SSL session tracking option is for session management...<br>With the stan=
dard settings it seems very unstable to me, when sending alot of parallel r=
equests I get a broken socket error invalidating the ssl session and making=
 the session with this id disappear. In this case it would seem to me that =
it&#39;s easy to create Denial of Service attacks by just sending alot of r=
equests so the user loses his session.</div>

<div><br></div><div>By playing with the timeouts I found out this problem d=
oesn&#39;t occur when I set the timeout to 0, just by playing with the sett=
ings. Perhaps because this disables the=A0possibility=A0of too many paralle=
l connections? I can&#39;t find the reason of this in the Tomcat or SSL spe=
cs...=A0</div>

<div><br></div><div>I&#39;ve added a screenshot of a capture where things g=
o wrong without setting a keepAlive.. So I send alot of requests to the ser=
ver, the first clientHello (pck 38943) and the following packets everything=
 goes ok, when the application data is being send I get a tcp rst from port=
 54195 (this is the connection that was used for the transactions before th=
e current one) ... At this moment my session gets invalidates making the ne=
xt SSL handshake a full one with new ID (pckt 40361, ...)</div>
<div><br></div><div><br></div>
<div><br><br><div class=3D"gmail_quote">2012/11/29 Christopher Schultz <spa=
n dir=3D"ltr">&lt;<a href=3D"mailto:chris@christopherschultz.net" target=3D=
"_blank">chris@christopherschultz.net</a>&gt;</span><br><blockquote class=
=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padd=
ing-left:1ex">

-----BEGIN PGP SIGNED MESSAGE-----<br>
Hash: SHA1<br>
<br>
Vincent,<br>
<div><br>
On 11/28/12 3:14 AM, Vincent Goelen wrote:<br>
&gt; When the keepAliveTimeout is not set to &quot;0&quot; I can see in the=
 SSL<br>
&gt; debug logs the SSL session get&#39;s invalidated after some requests<b=
r>
&gt; with a Broken Pipe exception. Is this because there are too many<br>
&gt; open connections during the keepAliveTimeout?<br>
<br>
</div>It&#39;s probably because of your pathological keepAliveTimeout. 0ms<=
br>
seems, er, low. Why did you choose 0ms?<br>
<br>
I haven&#39;t looked at the code, so I&#39;m not sure if the elapsed timer<=
br>
starts when the last request is completed (which seems reasonable) or<br>
when the last request started. I suspect the latter. 0ms is awfully<br>
short. Are you sure that your client is capable of accepting the<br>
response to the previous request and turn-around and make another<br>
request across the same channel before 0ms passes?<br>
<div><br>
&gt; It also only happens when processing the requests takes some time<br>
&gt; (fe. storing items in database) or when I put the threat to sleep<br>
&gt; for testing purpose.<br>
<br>
</div>So if you have a trivial request (say, HEAD for a static resource),<b=
r>
you can never get a failure?<br>
<div><br>
&gt; When inspecting the traffic I see some tcp-rst packages (problem is<br=
>
&gt; here?) from previous connections while the current one is being<br>
&gt; processed.<br>
<br>
</div>When you say &quot;current one&quot; what do you mean? If you are usi=
ng a single<br>
connection with HTTP keepalive, then there is only one connection to<br>
talk about: you can&#39;t get RSTs from &quot;previous connections&quot;. Y=
ou may be<br>
getting TCP RST as the server closes the connection while the client<br>
is trying to write. Is that what you are experiencing?<br>
<div><br>
&gt; My question is why these SSL Sessions get invalidated after alot of<br=
>
&gt; quick requests to the server since this gives a problem with my SSL<br=
>
&gt; Session tracking since the id changes then.<br>
<br>
</div>Maybe if you can explain why you want a 0ms keepalive timeout it woul=
d<br>
be helpful. If you want to disable keep alives, set<br>
maxKeepAliveRequests=3D&quot;1&quot;. If you want to allow an infinite time=
out,<br>
try using keepAliveTimeout=3D&quot;-1&quot; as the documentation states.<br=
>
<br>
- -chris<br>
-----BEGIN PGP SIGNATURE-----<br>
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)<br>
Comment: GPGTools - <a href=3D"http://gpgtools.org" target=3D"_blank">http:=
//gpgtools.org</a><br>
Comment: Using GnuPG with undefined - <a href=3D"http://www.enigmail.net/" =
target=3D"_blank">http://www.enigmail.net/</a><br>
<br>
iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI<br>
tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF<br>
=3DJ7dz<br>
-----END PGP SIGNATURE-----<br>
<br>
---------------------------------------------------------------------<br>
To unsubscribe, e-mail: <a href=3D"mailto:users-unsubscribe@tomcat.apache.o=
rg" target=3D"_blank">users-unsubscribe@tomcat.apache.org</a><br>
For additional commands, e-mail: <a href=3D"mailto:users-help@tomcat.apache=
.org" target=3D"_blank">users-help@tomcat.apache.org</a><br>
<br>
</blockquote></div><br></div>

--20cf307f343e560c9404d0077ef7--

--20cf307f343e560ca004d0077ef9
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--20cf307f343e560ca004d0077ef9--

From users-return-238371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 16:07:38 2012
Return-Path: <users-return-238371-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AF202E3D2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 16:07:38 +0000 (UTC)
Received: (qmail 83364 invoked by uid 500); 4 Dec 2012 16:07:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83125 invoked by uid 500); 4 Dec 2012 16:07:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83109 invoked by uid 99); 4 Dec 2012 16:07:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:07:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:07:28 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id XNor1k0080EZKEL53U76nF; Tue, 04 Dec 2012 16:07:06 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id XU741k00438FjT13MU74ZR; Tue, 04 Dec 2012 16:07:06 +0000
Message-ID: <50BE1FA6.9040105@christopherschultz.net>
Date: Tue, 04 Dec 2012 11:07:02 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Mod_jk - loadbalancer
References: <CANNgL11Spk5Pgmfvpb3rwEjc0X1DCXA_=qp9n1kLDrcjbKrf2w@mail.gmail.com> <50BC78B6.4090007@ice-sa.com> <CANNgL12pr2S5c_SgjCjdVvg4S+QJy=BTXxQWYgB+RDooQ51xhw@mail.gmail.com> <50BC84AE.4090008@apache.org> <50BC8629.5010706@ice-sa.com> <888a5571867be0562b5c8d659f852c24@www.internetallee.de> <CANNgL12uB-7szQd02uH+ojWyZDK5ddASY0sz4JHM62b2KP9+mg@mail.gmail.com> <50BC9B85.5090400@apache.org> <CANNgL10M8QoDavVaQo1+k+xvbYLgLeKc0+4=qb_-1Z=rYEZD+w@mail.gmail.com> <50BCC33B.4000807@christopherschultz.net> <CANNgL11iBHUs9qB5j2_myd9LsYf2st3qwdOzj_ikJBxSLwd45w@mail.gmail.com>
In-Reply-To: <CANNgL11iBHUs9qB5j2_myd9LsYf2st3qwdOzj_ikJBxSLwd45w@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354637226;
	bh=NfNpGgJSGWzpwwSmhwAibkxHs4qLGbXpVWV+WiAxsHQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=R/GifPDqENkqZMZ0WBG1SbMCZd9ARZjmqLPXeDCmTH8RQYRdrrhxQsKmdCx7IoTgf
	 XNR/S059TDP2a8H3S9pHVFeyydZYFTXHzxEbTfUjSQe37uBhzlI6VbRgZU9XwC036+
	 32uxMrLMmISuqixwIAFHsIIQGTvJ2Ker0ZxorpwWuPvsf9gy23P18qQ8j5nChFsmSP
	 79NpbfhlxRsqmubtw+OPdp6uP9nrEazgcSAEYCtMh3x/wghqA0xsGdmxh+yeZEAGeU
	 HNryl1YWuDYYR6Imn9FQkLq/4PnNHeMGc+tybA4P95NzrVBMHuMZcjLxcwR5otX7yq
	 pNmTGYS79ntLQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Orhan,

On 12/4/12 2:12 AM, Orhan Karasakal wrote:
> lb1 and lb2 are two loadbalancer, are not they ? But I want to have
> only one loadbalancer.

That depends on your definition of "load balancer". If you mean a
single IP that routes requests to back-end servers, then this is a
*single* load-balancer. You just have rules that make it act different
based upon what URL you are accessing.

> This design cannot be possible, only I want to know

You're right, you can't set up a *single* logical load-balancing
mod_jk worker that has different rules for different URLs.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEUEARECAAYFAlC+H6YACgkQ9CaO5/Lv0PAt5gCgv/gJBi4zUuG6ejbC2LTC8H+J
vQUAmMMix5C58VBW6+PHnV47Gr593qo=
=AkGF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 16:13:26 2012
Return-Path: <users-return-238372-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CDC0AE3FD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 16:13:26 +0000 (UTC)
Received: (qmail 3752 invoked by uid 500); 4 Dec 2012 16:13:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3681 invoked by uid 500); 4 Dec 2012 16:13:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3665 invoked by uid 99); 4 Dec 2012 16:13:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:13:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:13:15 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id XQVK1k0021ei1Bg59UCtzF; Tue, 04 Dec 2012 16:12:53 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id XUCq1k01G38FjT13kUCscd; Tue, 04 Dec 2012 16:12:53 +0000
Message-ID: <50BE2101.1030203@christopherschultz.net>
Date: Tue, 04 Dec 2012 11:12:49 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 SSL Session ID
References: <CAGVpwCykKZth0G_oR7kVxdiE9X56pfZv9k=E+8tbvem9JPp79w@mail.gmail.com> <50B7C3A6.4010300@christopherschultz.net> <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
In-Reply-To: <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354637573;
	bh=uYKrEEsldgkjr78v08YJ3L3IaF5wFdlP4bbaQTD6scU=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=kWVt7bu7VgDlo+571vsRZfxU2v6tDB9vVYgfMkCkCsgJO8dswgA5/KxujqqzlkSZ6
	 386kyRK/JpASCxSo/cgftMRoxf4E34Uv2aEUMK1cDveJ/CFQqQ0QZXPRtPU0r7lChI
	 MG9+tCU6n/sqlLJW87kSDgIhOrMIMOjS6gbauK5ckAohIZ3PL9DAQnnfTYutO/97KK
	 5cD8Ky+tJJORTsDvLB0To5H8M00AeCN6qc9xd9o6ycAWLIO5kCwkONs0qm8v4yybdr
	 oVO9NA/w7j5/lPCEk0qTpok1aghYEK6mAt1abD5iia3/aJ4eYQF0nSa6Rut9zYUzEs
	 5O7Eh3ChajNlw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vincent,

On 12/4/12 9:15 AM, Vincent Goelen wrote:
> To be clear, I do not want a 0ms timeout... I'm doing research
> about how "usable" the SSL session tracking option is for session
> management... With the standard settings it seems very unstable to
> me, when sending alot of parallel requests I get a broken socket
> error invalidating the ssl session and making the session with this
> id disappear. In this case it would seem to me that it's easy to
> create Denial of Service attacks by just sending alot of requests
> so the user loses his session.

Forgive me, but it sounded like you set timeout=0 and then started
getting weird behavior. I would have totally expected weird behavior
with timeout=0 so that's why I was asking.

You are going to need to provide a lot more detail about the
session-invalidation (you're talking about *SSL session* invalidation,
not HttpSession invalidation, right?) you are observing if you want to
get any help. Lots of technical details, logs, explicit configuration
(even if it is the default), specific version numbers ("Tomcat 7"
isn't good enough), etc.

You should also try it on a couple of different platforms. What
happens on Linux? Windows? Solaris? Whatever you've got laying around.

> I've added a screenshot of a capture where things go wrong without 
> setting a keepAlive.

Attachments get stripped from this list: please post the file
somewhere else and provide a link.

> So I send alot of requests to the server,

How many is a lot? Serial or parallel? How many parallel threads? Be
specific.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+IQEACgkQ9CaO5/Lv0PBqwACgrkEoqbtzM/jlPiy2SFKhqlIB
PzkAoIMGBHJickA7JynoX81B0GarvYzd
=SAlr
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 16:51:36 2012
Return-Path: <users-return-238373-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C8FAD4D9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 16:51:36 +0000 (UTC)
Received: (qmail 26081 invoked by uid 500); 4 Dec 2012 16:51:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26034 invoked by uid 500); 4 Dec 2012 16:51:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26007 invoked by uid 99); 4 Dec 2012 16:51:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:51:31 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goelenv@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 16:51:25 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3185427vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 08:51:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1eegvoM98iNVnEBlDh0FlEx5DBDheBED9XczB9WgZ3I=;
        b=b08x7gfuQ9n4cJjSe8G1hQ8tU6w6YEbudN3W0epCslUr7HIO+sgLvLM/jFv33ENCPG
         V5JfWgSewinHoABIEiQzhk/eQTt2/IMxsY1CrZj19Y3Lld7yfzstujqjByzIdcx3Qj3q
         YjovTo42Nv4/bInRVT21ZH4v9MWrQJlApcmL8KURNZIkRd5GvlxS0BEUqc9DiY4xYR9Q
         KlkU/BtKN/hpBbP4ggucWZyWk/ca3JgiJkKtwQeRoxxny5k3o/CcIk6VwV52WZi5zU3T
         ccQe+td7gZivABlPb02JmeeZRf85kHI63vTvwAb+9Mbq63Fe0SmgJdaGelQxLReHwuPr
         9SGw==
MIME-Version: 1.0
Received: by 10.220.241.141 with SMTP id le13mr11885718vcb.26.1354639864916;
 Tue, 04 Dec 2012 08:51:04 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Tue, 4 Dec 2012 08:51:04 -0800 (PST)
In-Reply-To: <50BE2101.1030203@christopherschultz.net>
References: <CAGVpwCykKZth0G_oR7kVxdiE9X56pfZv9k=E+8tbvem9JPp79w@mail.gmail.com>
	<50B7C3A6.4010300@christopherschultz.net>
	<CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
	<50BE2101.1030203@christopherschultz.net>
Date: Tue, 4 Dec 2012 17:51:04 +0100
Message-ID: <CAGVpwCzON8ewdnV+j69gw8pW1WacwwC2OE2ByFnQn6DLuqbceg@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9cdc32bf26c4e04d009abde
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9cdc32bf26c4e04d009abde
Content-Type: text/plain; charset=ISO-8859-1

Thanks again for the fast response, sorry for being unclear about some
parts.. First time using the mailing list

I'm using Apache Tomcat Version 7.0.32 on a mac os x 10.7.5, I've tested it
on linux Virtual machine too, got same problems. I'm using JDK 1.6 (don't
think it has any importance here)

Alot is kind of variable, depends on how long the processing of the request
takes, for example when I put a sleep of 1 sec in my jsp code the problem
occurs after about 6 requests, in another test example where I just write
some things to a database it takes more requests, sometimes about 100,
sometimes less it's not really a fixed number I can put on it.

To be clear, it's indeed the SSL session that gets invalidated, not the
httpsession... But by the invalidation, the httpsession's identifier (which
is the SSL session id) is gone so the httpsession becomes useless as well..

http://users.telenet.be/goelenv/Archief.zip

In this zip file you can find 3 files:
- a log which is the ssl debug log from tomcat, there you can find an
example of the invalidation at line 2592 (log mislopen.log)
- a wireshark capture file where things go wrong are captured
(Capture_TomcatSSLFout) => here things go wrong at packet 40361 you can
best filter on "tcp.port == 8443" to filter traffic between server and
client
- a screenshot of where things go wrong in case you can't open the
wireshark capture (Schermafbeelding 2012-12-04 om 15.09.56)

Again many thanks!
Vincent


2012/12/4 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Vincent,
>
> On 12/4/12 9:15 AM, Vincent Goelen wrote:
> > To be clear, I do not want a 0ms timeout... I'm doing research
> > about how "usable" the SSL session tracking option is for session
> > management... With the standard settings it seems very unstable to
> > me, when sending alot of parallel requests I get a broken socket
> > error invalidating the ssl session and making the session with this
> > id disappear. In this case it would seem to me that it's easy to
> > create Denial of Service attacks by just sending alot of requests
> > so the user loses his session.
>
> Forgive me, but it sounded like you set timeout=0 and then started
> getting weird behavior. I would have totally expected weird behavior
> with timeout=0 so that's why I was asking.
>
> You are going to need to provide a lot more detail about the
> session-invalidation (you're talking about *SSL session* invalidation,
> not HttpSession invalidation, right?) you are observing if you want to
> get any help. Lots of technical details, logs, explicit configuration
> (even if it is the default), specific version numbers ("Tomcat 7"
> isn't good enough), etc.
>
> You should also try it on a couple of different platforms. What
> happens on Linux? Windows? Solaris? Whatever you've got laying around.
>
> > I've added a screenshot of a capture where things go wrong without
> > setting a keepAlive.
>
> Attachments get stripped from this list: please post the file
> somewhere else and provide a link.
>
> > So I send alot of requests to the server,
>
> How many is a lot? Serial or parallel? How many parallel threads? Be
> specific.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC+IQEACgkQ9CaO5/Lv0PBqwACgrkEoqbtzM/jlPiy2SFKhqlIB
> PzkAoIMGBHJickA7JynoX81B0GarvYzd
> =SAlr
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9cdc32bf26c4e04d009abde--

From users-return-238374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 17:08:37 2012
Return-Path: <users-return-238374-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9B351D5EB
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 17:08:37 +0000 (UTC)
Received: (qmail 92557 invoked by uid 500); 4 Dec 2012 17:08:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92136 invoked by uid 500); 4 Dec 2012 17:08:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92106 invoked by uid 99); 4 Dec 2012 17:08:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:08:32 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of quark122@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:08:25 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so8027270iej.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 09:08:04 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=SX1ZXvcVJIqN5EGO/hGeexusHAv6e81Ofod4xUi+cw4=;
        b=bPJokaWIXDcPTF/DxzRYRrHLhqJ80Hn4aqT86jmH0r0sNqlzFjv1HUrRdLMzgjS5lE
         OjKrDxlWV6q8tp0FWzph5tEsdBIn6smkFoazQYYoOhO5O0Vr9EHwWlNOZrbgOPEVX9QG
         nIPG4eVoZhuUzNdADpzMjvWNnPinoAov0IAyGWgGkXUIh2wfzXuMriy3GPkDxM90Ibtp
         dHhICqujFUtpWOKNmeKm4rSM2EetgP1xKm046Qpip88TSfSah0XzIuUNaVcR7mXyLXQY
         1g6sKmjT4lPnO7bSOv+VdLTOPKdx4zENHQvBB+qH5P3fx4ahTAxmuTdx+dLLHhH0dLBj
         /Zlw==
MIME-Version: 1.0
Received: by 10.43.47.138 with SMTP id us10mr11768310icb.29.1354640884175;
 Tue, 04 Dec 2012 09:08:04 -0800 (PST)
Received: by 10.64.17.133 with HTTP; Tue, 4 Dec 2012 09:08:04 -0800 (PST)
Date: Tue, 4 Dec 2012 12:08:04 -0500
Message-ID: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
Subject: Recognizing certificate removal (SmartCard)
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

First off, thanks to all for the assistance getting my other tomcat
CRL issues working.  Converted to APR and tcnative and things seem to
be loading, running well now.

Now, the question has come up - what happens when a user authenticates
with their Smart Card, but then pulls their card and walks away.  Is
there a way for Tomcat to detect such an event on the client and
terminate/timeout the session?

In the googling I've done, I've seen suggestions about writing a
little java app that runs within our application and periodically
pulls something from the SmartCard - when the app fails to get that
piece of info, it terminates the app.

Is that the way to go?  (and if so, is there sample code - I know this
isn't a java forum, but if someone's invented this wheel before, that
would be great).

--Will

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 17:25:46 2012
Return-Path: <users-return-238375-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51570E090
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 17:25:46 +0000 (UTC)
Received: (qmail 45068 invoked by uid 500); 4 Dec 2012 17:25:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45007 invoked by uid 500); 4 Dec 2012 17:25:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44993 invoked by uid 99); 4 Dec 2012 17:25:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:25:42 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.80] (HELO qmta08.westchester.pa.mail.comcast.net) (76.96.62.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:25:35 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta08.westchester.pa.mail.comcast.net with comcast
	id XTFh1k0040bG4ec58VRDhp; Tue, 04 Dec 2012 17:25:13 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id XVRC1k00U38FjT13PVRD6o; Tue, 04 Dec 2012 17:25:13 +0000
Message-ID: <50BE31F7.7030809@christopherschultz.net>
Date: Tue, 04 Dec 2012 12:25:11 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Context Path for a subdirectory
References: <99C8B2929B39C24493377AC7A121E21FC4947E68A3@USEA-EXCH8.na.uis.unisys.com> <50B90E20.2000907@tmbsw.com> <99C8B2929B39C24493377AC7A121E21FC4948CD8EC@USEA-EXCH8.na.uis.unisys.com> <50B92DB1.3000201@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4948CDC2E@USEA-EXCH8.na.uis.unisys.com> <50B9359C.8060209@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FD615B1E@CMS1.enterprise.maricopa.gov>,<50B975C1.4060805@christopherschultz.net> <D72C174D3CAC0A4E812FAD012D646E9F24FE8B4812@CMS1.enterprise.maricopa.gov> <50BD3ABA.1040605@ice-sa.com>
In-Reply-To: <50BD3ABA.1040605@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354641913;
	bh=f+JMTLGtmCdYMqtBai8QYuFxc6Ref0jeRpaKqjkBdkg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=P0GfcLzY6UZl4DRf9oTqIwQG4woEjq3ICzlsVjJLhXT2V9c55wtUwiIHvvaZguCxc
	 ZT1fHPVDwoa5EG0XZpIe7F2762iIxAwVXfTm3DR4Ve8jXNAaS2m7Yp50PcjT2PWTlG
	 VADvQFMTXlANR6QI9qtZYjFpjlXJN3XN/fOXx23X3CptvMoYWMWMk1HGd91nYIL47z
	 z5PMRJaJywVj3yfD6049msEaCnSjd25w9Oznl5gc2yuas+CYpRiJwnJLBYRJvyx1+w
	 Ybav91u9wY9em1YfJx5p3NjYm85YE5IXCJdh+3B1rgaRZTf6qlg6smYSvxoK5Pv52/
	 MgdntcmegLzGw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

AndrÃ©,

On 12/3/12 6:50 PM, AndrÃ© Warnier wrote:
> P.S. If you decide to use UrlRewriteFilter, you should be looking
> at the documentation 
> (http://urlrewritefilter.googlecode.com/svn/trunk/src/doc/manual/4.0/index.html),

Cool,
> 
there's a 4.0 version. And it supports mod_rewrite syntax? Very
cool.

> and at a rule using this in the <from> part :
> 
> remote-addr : The IP address of the host making the request, e.g.
> 123.123.123.12 i.e. request.getRemoteAddr() (you probably want to
> negate this, and check for "not (127.0.0.1 or ::1)")
> 
> and probably this in the <to> part : forward (default) :
> 
> Requests matching the "conditions" for this "rule", and the URL in 
> the "from" element will be internally forwarded to the URL
> specified in the "to" element. Note: In this case the "to" URL must
> be in the same context as UrlRewriteFilter. This is the same as
> doing: RequestDispatcher rq = request.getRequestDispatcher([to
> value]); rq.forward(request, response); (to forward the miscreants
> to a no-no page of your choice.)


If you haven't used url-rewrite before, it may seem a bit daunting.
Here's an example to get you started:

<rule>
  <condition type="remote-addr" operator="notequal">127.0.0.1</condition>
  <set type="status">403</set>
  <to last="true">/forbidden.html</to>
</rule>

Hope that helps,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+MfcACgkQ9CaO5/Lv0PAMpQCcDD7oMUAzuTe1xKeuMpm665SR
FjIAn0jE67iGpGMDH9HqjqXFBoa4JFdp
=FdT5
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 17:28:03 2012
Return-Path: <users-return-238376-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E16B9ECF6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 17:28:03 +0000 (UTC)
Received: (qmail 62487 invoked by uid 500); 4 Dec 2012 17:28:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62187 invoked by uid 500); 4 Dec 2012 17:27:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62154 invoked by uid 99); 4 Dec 2012 17:27:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:27:59 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:27:52 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id XPnn1k0020SCNGk51VTX41; Tue, 04 Dec 2012 17:27:31 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id XVTW1k00338FjT13VVTWjH; Tue, 04 Dec 2012 17:27:31 +0000
Message-ID: <50BE3281.5060607@christopherschultz.net>
Date: Tue, 04 Dec 2012 12:27:29 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Issue with missing files while migrating to Tomcat 7.0.32
References: <772CDA49C515244FA14E34443F62E56413B940F5@EX-INDIA1.internal.rmplc.net> <50AA9914.6080007@christopherschultz.net> <772CDA49C515244FA14E34443F62E56413B9411D@EX-INDIA1.internal.rmplc.net>
In-Reply-To: <772CDA49C515244FA14E34443F62E56413B9411D@EX-INDIA1.internal.rmplc.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354642051;
	bh=KiWKNpTA9cNVdotxncVWfW6xT95/9E63hzwG5lpSqM0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=LKjoWNUnMslKsTGcJp9XHVTNMHNVvOUWihGBga5X4Gwo5Dfo38ihKeXXMc/5ns2sj
	 GYuAnsGUY+O0dnnhI1CkMuWH6kHCNW9kwmMz8tG9TMPOdtzepGeHRAVLCV9JDk3xCU
	 X2TxDydxmGqIriZMULyuEWECPYpJQQa3dNUe16BExKlgMxndZ7HmGwWS1zON2SAJcY
	 00iTlJehLJOUNH8VR3q7Ao+HjoZXjheDhTnTvDCwbFjZU8btb/6UkaVQAYX48ReCN6
	 ksYGK5k1qK+c/7XR+aSZCuGb11cO9d2ABqHlk9q6mrC425E2vDIqTphwlbUCHb+qKN
	 te++vR7KhiTHQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

George,

On 11/22/12 12:26 AM, George Chacko Manchimala wrote:
> Sorry, I could not locate any tweakings at our end (as you had
> mentioned) which.
> 
> Could you / anyone provide your views?

I don't believe any version of Tomcat simply "tolerates" missing JSP
files. If you try to include something and it's not there, you should
get an error.

Perhaps you should read the JSP spec to see if there have been any
changes between JSP 2.0 and JSP 2.1 that may be affecting you.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+MoEACgkQ9CaO5/Lv0PB9RQCdHFJdfPRzkTgfanvU6IlLmr/z
ofUAn0UG0ZfjoHNDNVPOBlXzGjQtq4jY
=EpBo
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 17:46:50 2012
Return-Path: <users-return-238377-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 422BBE46F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 17:46:50 +0000 (UTC)
Received: (qmail 26863 invoked by uid 500); 4 Dec 2012 17:46:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26811 invoked by uid 500); 4 Dec 2012 17:46:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26800 invoked by uid 99); 4 Dec 2012 17:46:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:46:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:46:39 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id XNhb1k0061c6gX853VmH79; Tue, 04 Dec 2012 17:46:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id XVmG1k00v38FjT13jVmH8L; Tue, 04 Dec 2012 17:46:17 +0000
Message-ID: <50BE36E8.7000500@christopherschultz.net>
Date: Tue, 04 Dec 2012 12:46:16 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
In-Reply-To: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354643177;
	bh=8RcGc8xZw6UlvuAHpDt2P40FJ9CobVUdpbjuqvHXTyc=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=ehWkAL6KfAv739RdOKbPI59oKDnh8mOuApAj1gW9i2E2s019MyW07wjIv+6f4oitY
	 1TBx46D+DCOUJyoEym+euBtyojmv1Km9Woy2ysz+OvyGfC1m50gVp1ycfbpneAdF0q
	 E68oA0cJKj7FOfgPyaRAbi/2YT+Aac2ym107SdXJGXHAfn89l9mg61zExcNHkQkM0b
	 qwVGeKuTXMO6NfpzIE/K026IlDofK4Tnf7h/gjawJSnNhfvCbWNhKhcI8xBO23bvl4
	 fK4+Gm0AztOtZ4TI/r1j0tggP+kfWRF5BacQJasi2F1s+e5qo8Cxk3rpUl2kGOz77A
	 BA3M2RKO3BXZQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Will,

On 12/4/12 12:08 PM, Will Nordmeyer wrote:
> First off, thanks to all for the assistance getting my other
> tomcat CRL issues working.  Converted to APR and tcnative and
> things seem to be loading, running well now.
> 
> Now, the question has come up - what happens when a user
> authenticates with their Smart Card, but then pulls their card and
> walks away.  Is there a way for Tomcat to detect such an event on
> the client and terminate/timeout the session?
> 
> In the googling I've done, I've seen suggestions about writing a 
> little java app that runs within our application and periodically 
> pulls something from the SmartCard - when the app fails to get
> that piece of info, it terminates the app.
> 
> Is that the way to go?  (and if so, is there sample code - I know
> this isn't a java forum, but if someone's invented this wheel
> before, that would be great).

I'm certainly no SSL expert (especially with SmartCards involved), but
if the SmartCard is required in order to set up an SSL session, you
could set the SSL session timeout to some small-ish value (say, 10
minutes -- the default is 24 hours) and then require a new SSL session
to be established every 10 minutes. That would require the SmartCard
to be present for that renegotiation (this is my assumption).

That way, you don't have to write any new software and maintain it on
the client.

Check out the "sessionTimeout" attribute on the HTTP/SSL connector.

Hmm... I just re-checked and that option is currently only available
for the pure-Java connectors -- and you just switched to APR to get
your huge CRLs working. :(

OpenSSL does have an SSL_CTX_set_timeout method, but it doesn't have
any support through tcnative. If this is something that would help
you, please let me know and I'll take a stab at implementing a
tcnative method for this and then expose it through the <Connector>
configuration.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+NugACgkQ9CaO5/Lv0PCoawCeLe2nvXK5kbzYx5c+eKt4ruhm
e20AoLWE+CFWc9oDcwlmmWcjv+JuhF76
=u0KH
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 17:49:08 2012
Return-Path: <users-return-238378-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4E2DAE487
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 17:49:08 +0000 (UTC)
Received: (qmail 45449 invoked by uid 500); 4 Dec 2012 17:49:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45271 invoked by uid 500); 4 Dec 2012 17:49:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45262 invoked by uid 99); 4 Dec 2012 17:49:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:49:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 17:48:58 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id XPMe1k0070bG4ec51VodPY; Tue, 04 Dec 2012 17:48:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id XVod1k00838FjT13PVodV0; Tue, 04 Dec 2012 17:48:37 +0000
Message-ID: <50BE3774.6090904@christopherschultz.net>
Date: Tue, 04 Dec 2012 12:48:36 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net>
In-Reply-To: <50BE36E8.7000500@christopherschultz.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354643317;
	bh=uulWhCPmTXHtkoYzh3H56ZF1WtI1Jes5uL0XWd02N5c=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=dWN8j6QWOwf8YT8cmP14orS8/+wyBpdRhhsaqETCPWY2l6nLPvNsHXnOQjWjv3xVj
	 VQcjXciHqz2QKmDL7Nq5I7j3IZ5LJk3yrTOCiJXStTKg2+OVEmFrpDMjMpCm7nXIFb
	 9VjlvH/6Enau4Ea3tUY7BKBlW0s+EKwRWkJMC63GQQXIO6F8+eC2OByiL6jr3izEK9
	 iEOSHahIomw0AoTBSxCDZ8PMngXdvOmoy8JlzmFc+8srhRNWVUryCbdjkv0bxcZhpF
	 gv8jpMq3cObuKZe2/r+WyKf3M+C0J3F7PGtJWVkn6+s7ADHBY2Gi6it6gRsDVmEwbU
	 6uCC6iC2MET6g==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Will,

On 12/4/12 12:46 PM, Christopher Schultz wrote:
> On 12/4/12 12:08 PM, Will Nordmeyer wrote:
>> First off, thanks to all for the assistance getting my other 
>> tomcat CRL issues working.  Converted to APR and tcnative and 
>> things seem to be loading, running well now.
> 
>> Now, the question has come up - what happens when a user 
>> authenticates with their Smart Card, but then pulls their card
>> and walks away.  Is there a way for Tomcat to detect such an
>> event on the client and terminate/timeout the session?
> 
>> In the googling I've done, I've seen suggestions about writing a
>>  little java app that runs within our application and
>> periodically pulls something from the SmartCard - when the app
>> fails to get that piece of info, it terminates the app.
> 
>> Is that the way to go?  (and if so, is there sample code - I
>> know this isn't a java forum, but if someone's invented this
>> wheel before, that would be great).
> 
> I'm certainly no SSL expert (especially with SmartCards involved),
> but if the SmartCard is required in order to set up an SSL session,
> you could set the SSL session timeout to some small-ish value (say,
> 10 minutes -- the default is 24 hours) and then require a new SSL
> session to be established every 10 minutes. That would require the
> SmartCard to be present for that renegotiation (this is my
> assumption).
> 
> That way, you don't have to write any new software and maintain it
> on the client.
> 
> Check out the "sessionTimeout" attribute on the HTTP/SSL
> connector.
> 
> Hmm... I just re-checked and that option is currently only
> available for the pure-Java connectors -- and you just switched to
> APR to get your huge CRLs working. :(
> 
> OpenSSL does have an SSL_CTX_set_timeout method, but it doesn't
> have any support through tcnative. If this is something that would
> help you, please let me know and I'll take a stab at implementing
> a tcnative method for this and then expose it through the
> <Connector> configuration.

Answering my own question somewhat: the default SSL session timeout
for OpenSSL is actually 300 seconds (5 minutes) so that might work for
you.

Of course, I might be wrong about the session timeout requiring the
SmartCard to be present for renegotiation.

Let me know what you find out.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+N3QACgkQ9CaO5/Lv0PCOEQCgjv/OEhRGix5DMYJNsJam389C
NW4Ani2k+j+D3AfJ+q8i+UqssCCPAKLT
=Xz5U
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 18:36:17 2012
Return-Path: <users-return-238379-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3F8EE127
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 18:36:17 +0000 (UTC)
Received: (qmail 99470 invoked by uid 500); 4 Dec 2012 18:36:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99400 invoked by uid 500); 4 Dec 2012 18:36:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99388 invoked by uid 99); 4 Dec 2012 18:36:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 18:36:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lyallex@gmail.com designates 209.85.212.179 as permitted sender)
Received: from [209.85.212.179] (HELO mail-wi0-f179.google.com) (209.85.212.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 18:36:09 +0000
Received: by mail-wi0-f179.google.com with SMTP id o1so720353wic.0
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 10:35:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=IGAvefTiY2W3dZZ9vSqZd7r6GYZ6blHS+WlDYho6abk=;
        b=rzkPkh2GPy68ciX6DRB/vnnBbUJ0bSIa/9YsN/wj2DPk2Zt9c3PKYlC5BYauUdC8Bs
         pPLWM4xi2NzryJEMOtEn52cdGAXdkG8ctcTMuo3rp2XqpJinRnjn6qN436+2KWcUGagY
         eV+aaV5hILZeZ3IQ94C6RH44zxT8iJyCpfy1nGpkATwx2Dh1EDc3dthTqyMhZM4YIKml
         ywoxQwc2rCQY9Y0T+NBqj8wJ9eXdxdqfF/Q3FUDfFiLrOmRUeRUg6XHdCVR3/FGRL9o9
         vFiIZ8E+RqrHYJ+lQF8AiHQEiqg9TyD+rK8VY80NzmYfQZm8WKuK0jft4UYJ6qy9ZjS0
         frDA==
MIME-Version: 1.0
Received: by 10.216.228.168 with SMTP id f40mr5105353weq.25.1354646148748;
 Tue, 04 Dec 2012 10:35:48 -0800 (PST)
Received: by 10.227.29.18 with HTTP; Tue, 4 Dec 2012 10:35:48 -0800 (PST)
Date: Tue, 4 Dec 2012 18:35:48 +0000
Message-ID: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
Subject: Running Tomcat under jsvc - logging problems
From: Lyallex <lyallex@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=00504502d9727e156d04d00b2285
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502d9727e156d04d00b2285
Content-Type: text/plain; charset=ISO-8859-1

Hi

apache-tomcat-6.0.36
CentOS
uname -m = i686
uname -r = 2.6.18-028stab070.14-ent
uname -s = Linux :-)
jdk1.6.0_07

I have recently upgraded my production server from apache-tomcat-6.0.18 to
6.0.36 so that my live and dev
env's are as similar as possible

6.0.18 runs fine and logs as expected, this version was already installed
when I
started renting the server from the hosting company, it runs as user tomcat
under jsvc.

I compiled jsvc from the source included in the 6.0.36 distro
following the instructions in the tomcat docs and copied
/etc/init.d/tomcat6 (the old start/stop script) to
/etc/init.d/tomcat. I modified the file to point to the new version and
started the server
/etc/init.d/tomcat has been pasted at http://pastebin.com/ihGDJb1C for your
perusal should you wish.

Actually Tomcat runs fine, it serves my site and carries a good load (200+
sessions concurrently with no apparent degradation)
there is no Apache front end, Tomcat runs standalone. The problem is with
the logging

/etc/init.d/tomcat has the following two lines

-outfile $CATALINA_HOME/logs/catalina.out \
-errfile $CATALINA_HOME/logs/catalina.err \

And here's the problem. Most of the logging output ends up in catalina.err
even though there are no errors in the logs
occasionally a few lines from my application loggers end up in
catalina.out. I also have logging.properties
in WEB-INF/classes. This has been around ever since I deployed the first
version of my app a couple of years ago
and has always produced the expected output. Now I get nothing.

The hosting companies preferred solution is to recompile tomcat 'for a one
off fee' (I kid you not). I'm pretty sure that Tomcat doesn't need
rebuilding to run under jsvc
and if it does I'm quite capable of building it myself, so no help there
then ...

logging.properties reproduced below just FYI if you want it.

Any advice on how I can get the logging working will be much appreciated


Lyallex



handlers = org.apache.juli.FileHandler, java.util.logging.ConsoleHandler

############################################################
# Handler specific properties.
# Describes specific configuration info for Handlers.
############################################################

org.apache.juli.FileHandler.level = ALL
org.apache.juli.FileHandler.directory = ${catalina.base}/logs
org.apache.juli.FileHandler.prefix = MyApp.

java.util.logging.ConsoleHandler.level = ALL
java.util.logging.ConsoleHandler.formatter =
java.util.logging.SimpleFormatter

--00504502d9727e156d04d00b2285--

From users-return-238380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 18:51:28 2012
Return-Path: <users-return-238380-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9DEB6E1AA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 18:51:28 +0000 (UTC)
Received: (qmail 50648 invoked by uid 500); 4 Dec 2012 18:51:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50563 invoked by uid 500); 4 Dec 2012 18:51:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50554 invoked by uid 99); 4 Dec 2012 18:51:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 18:51:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 18:51:19 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3346220vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 10:50:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=iHqAbNItORQ+RLfCU9FI6cIsLsg+1aQ0cbzc8J/a9Jk=;
        b=kyLbijjJt6HcZzXteofLgiXG0QwxksB72HZE+wYbSPfF1rPrlQeC8pvV8Cy3EUEGlR
         A4J9CDf/mn9xDzxjomzzCB/aLpoCUjqN7oWkEP3jHEG4XdtJhoYVGgFgZ7j7FbOa9nJA
         oS0rwkfx6ek0ApXTNn4cEfeh7A66Rq/mukkp3tHt06JpEpXTKF3Cp8V9z0oDcjcpXKIg
         kcaQgB8DfxmIQGJ8ybunoi0wJ7bS80B+nCfG801RIGpEBLrkajvboPRbpLNEO9ax9QkY
         0gE5NpkSa9ClFYost7Z61co7BKiWjugKBjClXqBPBGLlL/uuJ3Y7zaSr6PLibrGbf4er
         Q3UQ==
MIME-Version: 1.0
Received: by 10.52.88.33 with SMTP id bd1mr10689495vdb.70.1354647058572; Tue,
 04 Dec 2012 10:50:58 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 10:50:58 -0800 (PST)
In-Reply-To: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
Date: Tue, 4 Dec 2012 22:50:58 +0400
Message-ID: <CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/4 Lyallex <lyallex@gmail.com>:
> Hi
>
> apache-tomcat-6.0.36
> CentOS
> uname -m = i686
> uname -r = 2.6.18-028stab070.14-ent
> uname -s = Linux :-)
> jdk1.6.0_07
>
> I have recently upgraded my production server from apache-tomcat-6.0.18 to
> 6.0.36 so that my live and dev
> env's are as similar as possible
>
> 6.0.18 runs fine and logs as expected, this version was already installed
> when I
> started renting the server from the hosting company, it runs as user tomcat
> under jsvc.
>
> I compiled jsvc from the source included in the 6.0.36 distro
> following the instructions in the tomcat docs and copied
> /etc/init.d/tomcat6 (the old start/stop script) to
> /etc/init.d/tomcat. I modified the file to point to the new version and
> started the server
> /etc/init.d/tomcat has been pasted at http://pastebin.com/ihGDJb1C for your
> perusal should you wish.
>
> Actually Tomcat runs fine, it serves my site and carries a good load (200+
> sessions concurrently with no apparent degradation)
> there is no Apache front end, Tomcat runs standalone. The problem is with
> the logging
>
> /etc/init.d/tomcat has the following two lines
>
> -outfile $CATALINA_HOME/logs/catalina.out \
> -errfile $CATALINA_HOME/logs/catalina.err \
>
> And here's the problem. Most of the logging output ends up in catalina.err
> even though there are no errors in the logs
> occasionally a few lines from my application loggers end up in
> catalina.out. I also have logging.properties
> in WEB-INF/classes. This has been around ever since I deployed the first
> version of my app a couple of years ago
> and has always produced the expected output. Now I get nothing.
>
> The hosting companies preferred solution is to recompile tomcat 'for a one
> off fee' (I kid you not). I'm pretty sure that Tomcat doesn't need
> rebuilding to run under jsvc
> and if it does I'm quite capable of building it myself, so no help there
> then ...
>
> logging.properties reproduced below just FYI if you want it.
>
> Any advice on how I can get the logging working will be much appreciated
>
>
> Lyallex
>
>
>
> handlers = org.apache.juli.FileHandler, java.util.logging.ConsoleHandler
>
> ############################################################
> # Handler specific properties.
> # Describes specific configuration info for Handlers.
> ############################################################
>
> org.apache.juli.FileHandler.level = ALL
> org.apache.juli.FileHandler.directory = ${catalina.base}/logs
> org.apache.juli.FileHandler.prefix = MyApp.
>
> java.util.logging.ConsoleHandler.level = ALL
> java.util.logging.ConsoleHandler.formatter =
> java.util.logging.SimpleFormatter


1. "java.util.logging.ConsoleHandler" prints to System.err.

Some other "console logging" implementations log to System.out.

Do you need a ConsoleHandler at all? (You are effectively printing the
same log messages into two places a) ConsoleHandler, b) FileHandler ).

2. To initialize logging properly you need to configure system
properties "java.util.logging.config.file" and
"java.util.logging.manager"
the same way as they are set by catalina.sh file.

Have you specified the "java.util.logging.manager" property in your
arguments to jsvc?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:19:03 2012
Return-Path: <users-return-238381-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AFE1E2AF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:19:03 +0000 (UTC)
Received: (qmail 35088 invoked by uid 500); 4 Dec 2012 19:18:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35042 invoked by uid 500); 4 Dec 2012 19:18:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35032 invoked by uid 99); 4 Dec 2012 19:18:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:18:59 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lyallex@gmail.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:18:54 +0000
Received: by mail-wg0-f41.google.com with SMTP id ds1so534539wgb.0
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 11:18:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Ei2nSjO0aXP1/9lCsDErQyxoiKwJgD/+VB8ZiM10Mtk=;
        b=H7/l5kzsHPNPDLOwXBmoHEZjAbtXd+JTsJVTS/Q1nm/JjfAmvE8dBHB+2mhWLXjigy
         oboD6Y31dSo72Yy0r/t7LpfdXtPme5bSCu68nnall9PGKwL/eCF59RKWwkw/st8qLnbs
         x0kh1ZWsMB292AGidoL7bOWrYsTi/btqeQCfkFewoGfhKk0zsDnAX+QvDQhGjjonAKdW
         oU8TURqo48LDdm8FIf/l8C21ga8jN43b9GM05bhxS6iGLc0LiOE9Qr6W3rp8YuCN5Hvx
         jtVCSArv/tnDoB6mTN4Yny2uPPwLwIGJ+k4p7iI4+kq3cjRbE3Z8bF/M0epwbVMGWcNa
         CBNw==
MIME-Version: 1.0
Received: by 10.180.99.71 with SMTP id eo7mr6357759wib.11.1354648712807; Tue,
 04 Dec 2012 11:18:32 -0800 (PST)
Received: by 10.227.29.18 with HTTP; Tue, 4 Dec 2012 11:18:32 -0800 (PST)
In-Reply-To: <CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
	<CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
Date: Tue, 4 Dec 2012 19:18:32 +0000
Message-ID: <CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Lyallex <lyallex@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044283a85285ea04d00bbbbc
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044283a85285ea04d00bbbbc
Content-Type: text/plain; charset=ISO-8859-1

On 4 December 2012 18:50, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:

> [snip]



> >
> > Any advice on how I can get the logging working will be much appreciated
> >
> >
> > Lyallex
> >
> >
> >
> > handlers = org.apache.juli.FileHandler, java.util.logging.ConsoleHandler
> >
> > ############################################################
> > # Handler specific properties.
> > # Describes specific configuration info for Handlers.
> > ############################################################
> >
> > org.apache.juli.FileHandler.level = ALL
> > org.apache.juli.FileHandler.directory = ${catalina.base}/logs
> > org.apache.juli.FileHandler.prefix = MyApp.
> >
> > java.util.logging.ConsoleHandler.level = ALL
> > java.util.logging.ConsoleHandler.formatter =
> > java.util.logging.SimpleFormatter
>
>
>
> 1. "java.util.logging.ConsoleHandler" prints to System.err.
>
> Some other "console logging" implementations log to System.out.
>
> Do you need a ConsoleHandler at all? (You are effectively printing the
> same log messages into two places a) ConsoleHandler, b) FileHandler ).
>

Well possibly not but it's irrelevant as logging.properties is being
ignored
so I don't get the output anyway, particularly I get no log file named
MyApp ...


>
> 2. To initialize logging properly you need to configure system
> properties "java.util.logging.config.file" and
> "java.util.logging.manager"
> the same way as they are set by catalina.sh file.
>
> Have you specified the "java.util.logging.manager" property in your
> arguments to jsvc?
>

Well no but then I never had it with 6.0.18 and that logged perfectly,
also catalina.sh is not executed when running under jsvc but I think you may
just be using that as an example ... I hope

sigh

I'll look into it

Thanks
Lyallex

>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044283a85285ea04d00bbbbc--

From users-return-238382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:42:22 2012
Return-Path: <users-return-238382-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69CC3D247
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:42:22 +0000 (UTC)
Received: (qmail 24737 invoked by uid 500); 4 Dec 2012 19:42:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24674 invoked by uid 500); 4 Dec 2012 19:42:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24663 invoked by uid 99); 4 Dec 2012 19:42:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:42:18 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:42:12 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3415091vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 11:41:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5vzHNgLEP6lJND2twFIzanK2Z7rCnJNGDp4KZktGWs8=;
        b=reTNQ+2VjTycghsMlC4nyC2UKulYIUTBU2ez8Oao+xd+aE2PRoA69XP+zN8PHkUkBM
         MHuRICHpPy1iCy8sD3s6q20xwAwBTkfnCDROETL8uNc5yT7SkKSlF/rymLLyRV9RAIdq
         vFkb0ayIIFAfscXOqohhYOjZUAXTD+LkdsPMaGGosRe7L3iZTXvupPxMN/osZWfcvvX0
         pLSq6nORrx1MnPY+LOATS19WrkNqrcG0j41Vo505m4W0IM8cyEwRAjrttTVfuyCOnYPV
         iZUHsMMSpJETVtSkA3h6NtrxbtjJ+DH7x69uBQ2fgCJhT8k21CUbi5G42PULgOAD8jUv
         WCcg==
MIME-Version: 1.0
Received: by 10.52.88.33 with SMTP id bd1mr10823696vdb.70.1354650111074; Tue,
 04 Dec 2012 11:41:51 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 11:41:51 -0800 (PST)
In-Reply-To: <CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
	<CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
	<CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
Date: Tue, 4 Dec 2012 23:41:51 +0400
Message-ID: <CABzHfVk7UWq8Ot02KVru=HBgxGmxCyPjGHXO_kCMQDBZ8VH7-A@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/4 Lyallex <lyallex@gmail.com>:
> On 4 December 2012 18:50, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:
>>
>> 1. "java.util.logging.ConsoleHandler" prints to System.err.
>>
>> Some other "console logging" implementations log to System.out.
>>
>> Do you need a ConsoleHandler at all? (You are effectively printing the
>> same log messages into two places a) ConsoleHandler, b) FileHandler ).
>>
>
> Well possibly not but it's irrelevant as logging.properties is being
> ignored
> so I don't get the output anyway, particularly I get no log file named
> MyApp ...
>
>
>>
>> 2. To initialize logging properly you need to configure system
>> properties "java.util.logging.config.file" and
>> "java.util.logging.manager"
>> the same way as they are set by catalina.sh file.
>>
>> Have you specified the "java.util.logging.manager" property in your
>> arguments to jsvc?
>>
>
> Well no but then I never had it with 6.0.18 and that logged perfectly,
> also catalina.sh is not executed when running under jsvc but I think you may
> just be using that as an example ... I hope

Yes, as an example.

I'd also recommend to use daemon.sh that is included with Tomcat 7.


I do not know why it worked in 6.0.18. Have you checked with what
arguments it runs (e.g. via /proc/) ?  You say that it wasn't you who
installed 6.0.18. There is usually a wrapper script, like that
daemon.sh.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:47:45 2012
Return-Path: <users-return-238383-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCB13D265
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:47:45 +0000 (UTC)
Received: (qmail 41823 invoked by uid 500); 4 Dec 2012 19:47:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41684 invoked by uid 500); 4 Dec 2012 19:47:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41490 invoked by uid 99); 4 Dec 2012 19:47:41 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:41 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:40 +0000
Message-ID: <50BE535A.9000600@apache.org>
Date: Tue, 04 Dec 2012 19:47:38 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Tomcat Announce List <announce@tomcat.apache.org>, 
 announce@apache.org, Tomcat Developers List <dev@tomcat.apache.org>, 
 bugtraq@securityfocus.com, full-disclosure@lists.grok.org.uk
Subject: CVE-2012-4534 Apache Tomcat denial of service
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

CVE-2012-4534 Apache Tomcat denial of service

Severity: Important

Vendor: The Apache Software Foundation

Versions Affected:
- Tomcat 7.0.0 to 7.0.27
- Tomcat 6.0.0 to 6.0.35

Description:
When using the NIO connector with sendfile and HTTPS enabled, if a
client breaks the connection while reading the response an infinite loop
is entered leading to a denial of service. This was originally reported
as https://issues.apache.org/bugzilla/show_bug.cgi?id=52858.

Mitigation:
Users of affected versions should apply one of the following mitigations:
- Tomcat 7.0.x users should upgrade to 7.0.28 or later
- Tomcat 6.0.x users should upgrade to 6.0.36 or later

Credit:
The security implications of this bug were identified by Arun Neelicattu
of the Red Hat Security Response Team.

References:
http://tomcat.apache.org/security.html
http://tomcat.apache.org/security-7.html
http://tomcat.apache.org/security-6.html

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:48:00 2012
Return-Path: <users-return-238384-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 316EBD26F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:48:00 +0000 (UTC)
Received: (qmail 46138 invoked by uid 500); 4 Dec 2012 19:47:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45850 invoked by uid 500); 4 Dec 2012 19:47:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45808 invoked by uid 99); 4 Dec 2012 19:47:55 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:55 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:54 +0000
Message-ID: <50BE5367.6090809@apache.org>
Date: Tue, 04 Dec 2012 19:47:51 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Tomcat Announce List <announce@tomcat.apache.org>, 
 announce@apache.org, Tomcat Developers List <dev@tomcat.apache.org>, 
 bugtraq@securityfocus.com, full-disclosure@lists.grok.org.uk
Subject: CVE-2012-3546 Apache Tomcat Bypass of security constraints
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

CVE-2012-3546 Apache Tomcat Bypass of security constraints

Severity: Important

Vendor: The Apache Software Foundation

Versions Affected:
- - Tomcat 7.0.0 to 7.0.29
- - Tomcat 6.0.0 to 6.0.35
Earlier unsupported versions may also be affected

Description:
When using FORM authentication it was possible to bypass the security
constraint checks in the FORM authenticator by appending
"/j_security_check" to the end of the URL if some other component (such
as the Single-Sign-On valve) had called request.setUserPrincipal()
before the call to FormAuthenticator#authenticate().

Mitigation:
Users of affected versions should apply one of the following mitigations:
- - Tomcat 7.0.x users should upgrade to 7.0.30 or later
- - Tomcat 6.0.x users should upgrade to 6.0.36 or later

Credit:
This issue was identified by The Tomcat security team

References:
http://tomcat.apache.org/security.html
http://tomcat.apache.org/security-7.html
http://tomcat.apache.org/security-6.html
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBAgAGBQJQvlNnAAoJEBDAHFovYFnnsJoP/i6/NEKy6+tAcMZ0vKV5CGci
2Epf7NbfWHZhyYZlI445kHoCGQAvMaD0pXlLBUTlzVd2N9Jugk1j2WNPzvOlsaZ0
jx3qeuvNhVZzAa2LIDVSj8ENVNYMiA/S4reZu2u9lHqw5tTP5fapJXDNphSnr0kR
A662JdkQlirQtFylkvqFdMoZ3N/vEPwzD8Cs80fafEhEqcoOtrO6yOyaR/kwEFeI
5cxbm/om4+T9cVkRduGqhzLRBWnDiCeBguXiUJXDQorOWmzHq438cNd4ylfFRa1W
RBsin8aVY6LMIUqdWWqUnG8SPI7qp7odMRzhI1yLw+y4ykrV5coKeTvalIsh+3ZE
FWP7kYmrOYS8NToq56Fxn8bYAuAsJiOsVZ4ox0ozR9HQCEqLEpXTa31hEowUBtig
LO0HRgQIeh4rdgxxR2V46JiRw8URNfGevKrhez5B8UAb8hj02SM/3hyg3S3pL2Jn
fl0vLnf1+DACd0mUuGmSQNLx5VznW6fkYHZWgmV3SigaroKL4+BbqCO7WvuNs9aA
Y8dYt08IgF0O/Kt1vQdks31KEDIqHJOtrZBCySdvVLGz1x+MxluWssZGQELCcj0v
ByfH80yh/uIU2Zk9QTaJlEkuODyWTYxmYRk34R3/zZ57za+NQLlpe0cfBRy33wjt
VCfhXK6n3npDlmhpeBDw
=pOlX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:48:01 2012
Return-Path: <users-return-238385-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A8D2D271
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:48:00 +0000 (UTC)
Received: (qmail 47134 invoked by uid 500); 4 Dec 2012 19:47:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47050 invoked by uid 500); 4 Dec 2012 19:47:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47011 invoked by uid 99); 4 Dec 2012 19:47:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:56 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of quark122@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:47:50 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so8347778iej.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 11:47:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=a4S67efMLkBaS0XBVTS/KmQuuyCfSAyxGMFDn6dUehQ=;
        b=Rqt86LgkhpxljfwicySK4e3yLcSqEZV1rcJkKE7yVjwLMT2wD3dZ+flznMk/Zp13PR
         73sPD8uZzSS7ZEIYS5Ao8FUj9Sd76Fe3dVIbLxRMzaNkIMhOq7BHsRblyqbyFAApUPBw
         JkNFqYzlAbX091WmWhaU488+Y1N47MKiioGGDCXuTsNj8hjNY/h/SFHa8uUODUEo0gJH
         1FeGyuyscLZG8fRiIDvtnDBjmTEuCPe6sNGunRhdq2LFOTN2A4pYaeQDKctlcGN+2azR
         7Cvc+wI5pM+OKPn/YV9zGC5v2lvCLkJW6fZaDBiod2bdyl8cY6pSv/1ZAtoY6cAlzFGh
         ayVA==
MIME-Version: 1.0
Received: by 10.50.0.179 with SMTP id 19mr3937986igf.59.1354650449089; Tue, 04
 Dec 2012 11:47:29 -0800 (PST)
Received: by 10.64.17.133 with HTTP; Tue, 4 Dec 2012 11:47:29 -0800 (PST)
In-Reply-To: <50BE3774.6090904@christopherschultz.net>
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
	<50BE36E8.7000500@christopherschultz.net>
	<50BE3774.6090904@christopherschultz.net>
Date: Tue, 4 Dec 2012 14:47:29 -0500
Message-ID: <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
Subject: Re: Recognizing certificate removal (SmartCard)
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Dec 4, 2012 at 12:48 PM, Christopher Schultz
<chris@christopherschultz.net> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Will,
>
> On 12/4/12 12:46 PM, Christopher Schultz wrote:
>> On 12/4/12 12:08 PM, Will Nordmeyer wrote:
>>> First off, thanks to all for the assistance getting my other
>>> tomcat CRL issues working.  Converted to APR and tcnative and
>>> things seem to be loading, running well now.
>>
>>> Now, the question has come up - what happens when a user
>>> authenticates with their Smart Card, but then pulls their card
>>> and walks away.  Is there a way for Tomcat to detect such an
>>> event on the client and terminate/timeout the session?
>>
>>> In the googling I've done, I've seen suggestions about writing a
>>>  little java app that runs within our application and
>>> periodically pulls something from the SmartCard - when the app
>>> fails to get that piece of info, it terminates the app.
>>
>>> Is that the way to go?  (and if so, is there sample code - I
>>> know this isn't a java forum, but if someone's invented this
>>> wheel before, that would be great).
>>
>> I'm certainly no SSL expert (especially with SmartCards involved),
>> but if the SmartCard is required in order to set up an SSL session,
>> you could set the SSL session timeout to some small-ish value (say,
>> 10 minutes -- the default is 24 hours) and then require a new SSL
>> session to be established every 10 minutes. That would require the
>> SmartCard to be present for that renegotiation (this is my
>> assumption).
>>
>> That way, you don't have to write any new software and maintain it
>> on the client.
>>
>> Check out the "sessionTimeout" attribute on the HTTP/SSL
>> connector.
>>
>> Hmm... I just re-checked and that option is currently only
>> available for the pure-Java connectors -- and you just switched to
>> APR to get your huge CRLs working. :(
>>
>> OpenSSL does have an SSL_CTX_set_timeout method, but it doesn't
>> have any support through tcnative. If this is something that would
>> help you, please let me know and I'll take a stab at implementing
>> a tcnative method for this and then expose it through the
>> <Connector> configuration.
>
> Answering my own question somewhat: the default SSL session timeout
> for OpenSSL is actually 300 seconds (5 minutes) so that might work for
> you.
>
> Of course, I might be wrong about the session timeout requiring the
> SmartCard to be present for renegotiation.
>
> Let me know what you find out.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC+N3QACgkQ9CaO5/Lv0PCOEQCgjv/OEhRGix5DMYJNsJam389C
> NW4Ani2k+j+D3AfJ+q8i+UqssCCPAKLT
> =Xz5U
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
Chris,

Thanks for the quick response and the thoughts.  a 5 minute timeout
wouldn't be acceptable in our environment - theory being, if user A
pulls his smart card out (but didn't log out of the app), and user B
goes up to the machine within 5 minutes, he may have access to someone
else's account in the application.  So I was really hoping there was
some way to trigger the session to expire.

I'll keep looking, or suggest to my dev team that they write a little
app that queries the card regularly and as soon as the card can't be
found, logs out.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 19:48:10 2012
Return-Path: <users-return-238386-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 135A5D27F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 19:48:10 +0000 (UTC)
Received: (qmail 52264 invoked by uid 500); 4 Dec 2012 19:48:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51999 invoked by uid 500); 4 Dec 2012 19:48:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51907 invoked by uid 99); 4 Dec 2012 19:48:02 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:48:02 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 19:48:02 +0000
Message-ID: <50BE536F.6000705@apache.org>
Date: Tue, 04 Dec 2012 19:47:59 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Tomcat Announce List <announce@tomcat.apache.org>, 
 announce@apache.org, Tomcat Developers List <dev@tomcat.apache.org>, 
 bugtraq@securityfocus.com, full-disclosure@lists.grok.org.uk
Subject: CVE-2012-4431 Apache Tomcat Bypass of CSRF prevention filter
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

CVE-2012-4431 Apache Tomcat Bypass of CSRF prevention filter

Severity: Important

Vendor: The Apache Software Foundation

Versions Affected:
- - Tomcat 7.0.0 to 7.0.31
- - Tomcat 6.0.0 to 6.0.35

Description:
The CSRF prevention filter could be bypassed if a request was made to a
protected resource without a session identifier present in the request.

Mitigation:
Users of affected versions should apply one of the following mitigations:
- - Tomcat 7.0.x users should upgrade to 7.0.32 or later
- - Tomcat 6.0.x users should upgrade to 6.0.36 or later

Credit:
This issue was identified by The Tomcat security team

References:
http://tomcat.apache.org/security.html
http://tomcat.apache.org/security-7.html
http://tomcat.apache.org/security-6.html
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (MingW32)
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBAgAGBQJQvlNvAAoJEBDAHFovYFnnY80QAMvP1gIpG00vfIdiFabpJX55
UEmkPuTSefxZ6NMvAL8GkuUe8CoC6KinCgOx+s8eGlEiHtWFoYvM/Ckg8E3a8SY6
MfD8GLo2av/LdULGSCBrbaL2wFbgixPTBpgR9YS4bdpTK5nVqBZyZOjOzptqRDnE
BQXDLLKa65/z7cF57l+XcLs1+JW3KJGRiGJzBNUrJK1x/AzfgRgk4jgvYdyDWdpI
zuXKgwBbunblPL4sZhZA2mhoswBIMIJIaHXOAD28Ddt9IIae0UFptY6LmExOkSsa
PtshA4EBlO8JTPPcfwtqA/bkHAWCzB1QshkYD57rLF3t1ouDQWI6j8l+q3AYIxzv
a0Ix4qzE2hekcjGSCUMZUqNgcaGSjsggaOEo5zauM01osPQxbfpH41eH5fIWlMKi
vrxRjYJwLyLdkj3bZFuP7Uq1GL4BLjeKDfqsL4aqcfdBPZea6C9rToEkB8EjD4vf
DVdrX4Ivg3ImMMnL+gkX4+5aLp+jpw23G9gZbX1DJn+648iv3yFoK5ysOWy1GAAO
x1Iq3pa49NigJ0ipjZvxc07THIoiK/t49/3fWzMR1Xm819oJC2/Qf512l/FpEltK
kQ0y8BC4+7ypUZyhtwE3jzLW1x2j4ZBK8l1nX0X92WepJ6piro/7o80qiyDMfqPC
hbmBu213eSXnV9kRHveI
=jich
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 20:08:25 2012
Return-Path: <users-return-238387-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45A13D398
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 20:08:25 +0000 (UTC)
Received: (qmail 65770 invoked by uid 500); 4 Dec 2012 20:08:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65713 invoked by uid 500); 4 Dec 2012 20:08:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65704 invoked by uid 99); 4 Dec 2012 20:08:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 20:08:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 20:08:14 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id XPnY1k0071swQuc55Y7sXD; Tue, 04 Dec 2012 20:07:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id XY7q1k00i38FjT13bY7sbd; Tue, 04 Dec 2012 20:07:52 +0000
Message-ID: <50BE5815.2050809@christopherschultz.net>
Date: Tue, 04 Dec 2012 15:07:49 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
In-Reply-To: <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354651672;
	bh=mT22PA7kCCTCh6/LFM77+b4XWl2H+AtOQ7ZKEML1F80=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=KLAzcGlUD3mOXEEwxUOkzFkgxi/WdSulrpvROb8tN20WEMnXZ9+T9yDz4S6WZqoa9
	 edj+G9aoH1fBzz6ekim2KdTV/cnEy/5UYbh6MVeLX/U9lJvHTVHp8c72BswVLSPZBk
	 SdRWQx6fgL7UPttN3slfxCsNGr+g9bR2Bno1BZYLoI8u6+zRANwg36AqRyDEVcdMf9
	 ok403MBiHmbz/TtLPX77QyTgoArPRk094bouw8iKm7XADHJZr0Ref02UK/y72qlUJO
	 gG7zbixYd6xqIlJB/Oj5vXogbxNQU5M/jQ7Uqg8iKjwgVdLbN6BJZbB4ZPGgoz65vU
	 otXRZpJ4hhz8w==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Will,

On 12/4/12 2:47 PM, Will Nordmeyer wrote:
> Thanks for the quick response and the thoughts.  a 5 minute
> timeout wouldn't be acceptable in our environment - theory being,
> if user A pulls his smart card out (but didn't log out of the app),
> and user B goes up to the machine within 5 minutes, he may have
> access to someone else's account in the application.  So I was
> really hoping there was some way to trigger the session to expire.

The only thing I can think of would be to have the web browser
complicit in the deal: if the browser can be configured to expire the
SSL session when the card is removed, then that is really the only
solution that will be truly secure.

> I'll keep looking, or suggest to my dev team that they write a
> little app that queries the card regularly and as soon as the card
> can't be found, logs out.

Is it a valid use case to have the computer itself logged-in when the
card is removed? For instance, if you configured the machine to
auto-lock when the card was removed, then you might be able to do
other things, too (like kill the browser, which should kill the SSL
session).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC+WBUACgkQ9CaO5/Lv0PBmeACeN5Y/m0G73Mplzufsys70uZPZ
EsoAn0Lh/cuM4vtC6Y5B8QekaDXff7eE
=mSK7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 21:01:59 2012
Return-Path: <users-return-238388-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 67155E26B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 21:01:59 +0000 (UTC)
Received: (qmail 25476 invoked by uid 500); 4 Dec 2012 21:01:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25415 invoked by uid 500); 4 Dec 2012 21:01:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25406 invoked by uid 99); 4 Dec 2012 21:01:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:01:55 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:01:47 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4727252vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 13:01:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=UnM7nCmPjD8rHzAb/iWpJIGNoXnBNQCSA9gYTIxAnu0=;
        b=vEOhUbaE/jcEeVmyQuhGdCHg9h8O6bKQVPckNeCpjxET2oBwXPrcwZRL3AUIgCtoUI
         6Kqw0jSHVmJeYryUxVRL5EPcx9EZ5ORlRJ82m986/WpsqjYYv8MdhBljPpCdBHM9ntYd
         FXnYf6vdeCoebnTnAq2EdBdbIw7SN+uXamKGCdJye1pfTGe5DDoayag7NkKYCShARQ1W
         A/6wzJ9jVtIfSLpMat33HV2LeIUo0a8uxGUMoUvtiR593j+E6uZdXT/t+wvvCf4Qlu+t
         bwSZ+qdHdh6gFF+7jLakRv+V6qIPgRiFqmlGwz/uwMiZ86HtXvvjtE4Z3QpggCIA6O2j
         fFVw==
MIME-Version: 1.0
Received: by 10.52.71.200 with SMTP id x8mr7151061vdu.90.1354654886820; Tue,
 04 Dec 2012 13:01:26 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 13:01:25 -0800 (PST)
In-Reply-To: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
Date: Wed, 5 Dec 2012 01:01:25 +0400
Message-ID: <CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
Subject: Re: Data sources definitions are lost in memory
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/11/28 Robert Anderson <ranomail@gmail.com>:
> Hi,
>
>
> We've some data sources defined in server.xml as following:
>
> ...
>  <GlobalNamingResources>
>   ...
>           <Resource name="jdbc/proddb1" auth="Container"
> type="javax.sql.DataSource" removeAbandoned="true"
> removeAbandonedTimeout="300"
>                                    maxActive="400" maxIdle="30"
> maxWait="10000"
>                                    validationQuery="select 1 from dual"
>                                    testOnBorrow="true"
>                                    username="xxxx" password="xxxx"
> driverClassName="com.intersys.jdbc.CacheDriver"
>                                    url="jdbc:Cache://server:1972/DB"/>
> ...
>
>  </GlobalNamingResources>
>  ...
>
> conf/context.xml
>
> <Context>
>     ...
>         <ResourceLink name="jdbc/proddb1" global="jdbc/proddb1"/>
>     ...
> </Context>
>
>
> Everything has worked normal during many months...until now.
>
> At least once a day, since 11/21, webapplications  throw
> NullPointerException because they cannot find jndi data sources. The Data
> sources tab in psi-probe (http://code.google.com/p/psi-probe/) says that
> there aren't jndi data sources in server.  We are thinking that some
> application may have added some jar or class in classpath that is causing
> the problem.
>
> After restart, without changes in conf files,  everything backs to normal.
>
> Any idea?
>
> Environment:
>
> java version "1.6.0_35"
> Java(TM) SE Runtime Environment (build 1.6.0_35-b10)
> Java HotSpot(TM) 64-Bit Server VM (build 20.10-b01, mixed mode)
>
> Server version: Apache Tomcat/6.0.32
> Server built:   February 2 2011 2003
> Server number:  6.0.32.0
> OS Name:        Linux
> OS Version:     2.6.18-194.17.1.el5
> Architecture:   amd64
> JVM Version:    1.6.0_35-b10
> JVM Vendor:     Sun Microsystems Inc.
>

1. This NullPointerException happens when an application starts up?

(Do the apps perform the lookup once and cache the result, or they
perform multiple lookups?)

2. What is seen in JNDI context depends on the current classloader
(Thread.getContextClassLoader()).

Does the issue happen in a request processing thread, or somewhere else?

3. Does it affect specific web applications, or it is more random?

4. Anything interesting in the logs and in catalina.out? E.g. OutOfMemoryError.

5. What connector implementations are you using? Bio, Nio, APR?

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 21:07:49 2012
Return-Path: <users-return-238389-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 15068E28F
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 21:07:49 +0000 (UTC)
Received: (qmail 43429 invoked by uid 500); 4 Dec 2012 21:07:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43379 invoked by uid 500); 4 Dec 2012 21:07:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43369 invoked by uid 99); 4 Dec 2012 21:07:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:07:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lyallex@gmail.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:07:37 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so2198482wgb.0
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 13:07:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=MYPdpFSq8nwpVJp1t5cSPsUyoynhmD8WbhlkUmrUZPs=;
        b=rTcI1P4VkenXNVNTxUl7oPKMklbvfMEXuoEtL7wbJuEqP9cTPeh4ozUDq+bvqoBSTQ
         a/g90uPjHsIxNC2/yMdt4fzeXwv6CM80Jua6WrtgJ5tmtvOH+PQ2jUHVzV3TCmOJEa3I
         QbjTTB/dEPN2CQKW4HNej6JmIZ462NH2r6TGgMI7Tz9/W6dXr5pP1z56GxGQId2d5KcO
         mzbemVLd8Vf7qJgonRK/A85YUyng/ex8uHeP0N65HOg+Pl+RL2ucxM86MlGCS1svAiwi
         +fBtT2EuxDLRoEv1NNgWcu2zDerFjUFUbZzkgIGx8dFgEvAHSn4VVFdjkAks+6SK36rP
         eEWg==
MIME-Version: 1.0
Received: by 10.216.205.17 with SMTP id i17mr5999587weo.130.1354655237531;
 Tue, 04 Dec 2012 13:07:17 -0800 (PST)
Received: by 10.227.29.18 with HTTP; Tue, 4 Dec 2012 13:07:17 -0800 (PST)
In-Reply-To: <CABzHfVk7UWq8Ot02KVru=HBgxGmxCyPjGHXO_kCMQDBZ8VH7-A@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
	<CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
	<CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
	<CABzHfVk7UWq8Ot02KVru=HBgxGmxCyPjGHXO_kCMQDBZ8VH7-A@mail.gmail.com>
Date: Tue, 4 Dec 2012 21:07:17 +0000
Message-ID: <CAMqzz4Q3dVxjpuDOZX-yxVRNggP7FK8OPn2Jsv75NHeoyxeBXw@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Lyallex <lyallex@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6de001d39e7f504d00d407f
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6de001d39e7f504d00d407f
Content-Type: text/plain; charset=ISO-8859-1

On 4 December 2012 19:41, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:

> 2012/12/4 Lyallex <lyallex@gmail.com>:
> > On 4 December 2012 18:50, Konstantin Kolinko <knst.kolinko@gmail.com>
> wrote:
> >>
> [snip]
>


>
>
> I do not know why it worked in 6.0.18.
>

No, nor do I but I've (apparently) reproduced the 0.18 config for the 0.36
instance and the logging works in the former
and not in the latter

I just need to get something straight, maybe you can help me.

I say that Tomcat 6.0.36 binary distribution should run under jsvc without
needing a recompile.
Is this correct (I hope it is because it's running fine right now out of
the box except for the logging)

Thanks for taking the time to reply
Lyallex


>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--0016e6de001d39e7f504d00d407f--

From users-return-238390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 21:19:25 2012
Return-Path: <users-return-238390-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C0AFE2E0
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 21:19:25 +0000 (UTC)
Received: (qmail 77586 invoked by uid 500); 4 Dec 2012 21:19:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77526 invoked by uid 500); 4 Dec 2012 21:19:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77517 invoked by uid 99); 4 Dec 2012 21:19:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:19:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 21:19:14 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4746045vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 13:18:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cXQ1KB9lGoP2axeRv9s/pLvw/9bHT/BQncFDjVqT8Nw=;
        b=xmqfRN3KiPeMnoxS4Uq/Zoh+9SERVx9Ptkymv3iW+MJawoXu06KyEDjp7yCpXldQAO
         AWIsZTDAtVd1Ocs5nyuXk17/Ip0KXq8gZi2q7166h/t8JUGBiHsEd6mRDFhLS4jCGi/B
         jrCnlQeBCBpWuuIOt6Epa9W62MtEg3EuSeDTvWtSZh2kvjucP1lXOpWCOODSnStdbzTG
         LLzJO+z1jyAIthtebw5jTHg8MezpFIRjOgzTG4XPprX990morE1ErddxubrcVeQ9EJkk
         acxo7lu+181JPvLaxi0l6khIy8JmayJY3NCPywFEGIZpOfVtf1gWiCwTIpPZAVuMiDdQ
         48iQ==
MIME-Version: 1.0
Received: by 10.52.18.147 with SMTP id w19mr11285251vdd.94.1354655933386; Tue,
 04 Dec 2012 13:18:53 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 13:18:53 -0800 (PST)
In-Reply-To: <CAMqzz4Q3dVxjpuDOZX-yxVRNggP7FK8OPn2Jsv75NHeoyxeBXw@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
	<CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
	<CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
	<CABzHfVk7UWq8Ot02KVru=HBgxGmxCyPjGHXO_kCMQDBZ8VH7-A@mail.gmail.com>
	<CAMqzz4Q3dVxjpuDOZX-yxVRNggP7FK8OPn2Jsv75NHeoyxeBXw@mail.gmail.com>
Date: Wed, 5 Dec 2012 01:18:53 +0400
Message-ID: <CABzHfVk-gU49yBofVA2XnxmhpKwPdYbG-eStTCROHTcYoekDjw@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/5 Lyallex <lyallex@gmail.com>:
> On 4 December 2012 19:41, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:
>
>> 2012/12/4 Lyallex <lyallex@gmail.com>:
>> > On 4 December 2012 18:50, Konstantin Kolinko <knst.kolinko@gmail.com>
>> wrote:
>> >>
>> [snip]
>>
>
>
>>
>>
>> I do not know why it worked in 6.0.18.
>>
>
> No, nor do I but I've (apparently) reproduced the 0.18 config for the 0.36
> instance and the logging works in the former
> and not in the latter
>
> I just need to get something straight, maybe you can help me.
>
> I say that Tomcat 6.0.36 binary distribution should run under jsvc without
> needing a recompile.

Yes. You do not need to recompile Tomcat itself to run it on Linux
(with or without jsvc). It is a java application and its binaries
(jars) are platform-independent.

Moreover, I think it should run just fine with an older jsvc.

> Is this correct (I hope it is because it's running fine right now out of
> the box except for the logging)
>

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:35:27 2012
Return-Path: <users-return-238391-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04D0AD220
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:35:27 +0000 (UTC)
Received: (qmail 93560 invoked by uid 500); 4 Dec 2012 22:35:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93489 invoked by uid 500); 4 Dec 2012 22:35:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93478 invoked by uid 99); 4 Dec 2012 22:35:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:35:23 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.216.221] (HELO nm36-vm6.bullet.mail.gq1.yahoo.com) (98.136.216.221)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:35:12 +0000
Received: from [98.137.12.175] by nm36.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:34:50 -0000
Received: from [98.137.12.220] by tm14.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:34:50 -0000
Received: from [127.0.0.1] by omp1028.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:34:50 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 821135.10213.bm@omp1028.mail.gq1.yahoo.com
Received: (qmail 4558 invoked by uid 60001); 4 Dec 2012 22:34:50 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354660490; bh=dq4V+hvxAiLFarkq7vrpxPdJpxu7xcv2R02cqLA6qwI=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=b8m9bhVVDDYiksIDnI/sDoVv8gy/G48V13ddoAbSlX6KcKeCMigf0MfAOTc5OCCsY1LVIrHuBptQcQZlXOtzw6bmJCUsbhcrVIFh7hWuqUqcwmofq9FFHr5C7SRFLor8inq2T8PC9JDaXRYeFoFt184jalkmb6F7Ot0oc/3lM8E=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=nd8ZlL54zZJiZ740wX86XXdY916dL8wMouokwPaa8DJxrMH/vBYe9mhprw4ae9ZoazJyUMbJTFf4Y69S/Yhk5VNxcczGVepN2x9aONlkwheawOwXmmqwciBQc2vRmqIrMSVAC7oBLgMld3tppi1Vyk54a3HT1YYHcU9jFs92hbY=;
X-YMail-OSG: zYP72zoVM1m.VthbmxI1eDAFoqsuL4vLx0zl4gMLkzMvboD
 ffAxFkSQ5UfFXjXjAaC2yiiglM_WP7N34cAjNELJTFf2NEVI49hW0RzyvKZR
 kbpmCfcmRpVSzlaYi1vN8hkP86n5h5e2DO5hRLTPfiRdBJAOpFwbnDeQ11RG
 ha.J6SRszi7J3GMbzsTHJ.MfniakHpFktBleaNgKlJUHki_f9XY8KHeutZ9e
 tuVVKLeunAatwy3vTLdJYDkvzC0G7JLQ3yoaBCkKol_bY3vUNiMYS26RWy6B
 MQFrN2OHC7uZn05KOaeq5fxZ70Qm2Gw.OQlkSoWdTJy1xKikmN4SvVehNpDP
 57nZZ6tSw2OfPJp.m22HmBmyCbkdTREL._7lgPFPxwHpk6kFbt5bXfQsWs4D
 eoKPftF75Zr4804tgrO.yZ5wVdapv2_UG34vtn13KsAR0NIDPfoXLHxMy9FI
 cKWyW2nYlHkyENgoB6NYEIQbW6iSa58XgKGLT5Svki44eaAdRw5vzE2gMQkb
 uCg--
Received: from [204.228.207.218] by web113618.mail.gq1.yahoo.com via HTTP; Tue, 04 Dec 2012 14:34:50 PST
X-Rocket-MIMEInfo: 001.001,SGkgVG9tY2F0IERldmVsb3BlcnMsDQrCoA0KSSBhbSB1c2luZyBUb21jYXQgNy4wLjMzIGFuZCBub3RpY2Ugb24gVG9tY2F0IHN0YXJ0dXAgbXkgd2ViIHNlcnZpY2VzIHN0YXJ0dXAgaW4gc2VyaWVzIHJhdGhlciB0aGFuwqBwYXJhbGxlbC7CoElmIHlvdSBkbyBub3QgaGF2ZSBpdCB5b3UgbWlnaHQgd2FudCB0byBoYXZlIGFuwqBvcHRpb24gdG8gc3RhcnR1cCBhcHBzIGluIHBhcmFsbGVsIG9yIGFzc2lnbiBudW1iZXIgb2YgdGhyZWFkcyB0aGF0IGNhbiBzdGFydHVwIGluIHBhcmFsbGVsLg0KwqANClRoYW4BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.128.478
Message-ID: <1354660490.1867.YahooMailClassic@web113618.mail.gq1.yahoo.com>
Date: Tue, 4 Dec 2012 14:34:50 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Suggestion for improving Tomcat startup performance...
To: Tomcat Users Group <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1886504177-970241708-1354660490=:1867"
X-Virus-Checked: Checked by ClamAV on apache.org

--1886504177-970241708-1354660490=:1867
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Tomcat Developers,
=A0
I am using Tomcat 7.0.33 and notice on Tomcat startup my web services start=
up in series rather than=A0parallel.=A0If you do not have it you might want=
 to have an=A0option to startup apps in parallel or assign number of thread=
s that can startup in parallel.
=A0
Thanks,
-Tony=A0
--1886504177-970241708-1354660490=:1867--

From users-return-238392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:42:27 2012
Return-Path: <users-return-238392-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E8E3D250
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:42:27 +0000 (UTC)
Received: (qmail 19218 invoked by uid 500); 4 Dec 2012 22:42:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 19160 invoked by uid 500); 4 Dec 2012 22:42:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 19151 invoked by uid 99); 4 Dec 2012 22:42:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:42:24 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:42:17 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4829899vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 14:41:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=HPhpyhUqBcK+jnBQkUeO4D4e6OgmKpDgkY2cbAS3yE4=;
        b=ancfbmibKMEGQRBcVMPM+TZQiUY3zlN/SBfloXcykO/IVNTSo4Tw1uucDCUPoTG9rX
         5q2ENELiKhpzoO6uilzmtFSNPaHh+aNjMTnIa80Uk9+KjjB9s4K/9Fba49ekkQPGaGsM
         YhNnL4hZNoKmBRopfD1SdWKrQGO906fFh2eNQNzDgKBGyd2gZs92EWsdYbW5pLKu2hA4
         Qa6HgVBxnesZkeqMLp1Kn3UXAj7nL6M9+fA5HE2ZEZJFLz3X8r3pYZ7DY1tOSd37sQ8b
         +1YRSHhA16AxYtL9AtYrqE+zL1rZohjYAbaD8jx8nZRoQEG6ctFhaz80QEZobDzkfgpa
         BoGw==
MIME-Version: 1.0
Received: by 10.58.161.113 with SMTP id xr17mr13553550veb.3.1354660916905;
 Tue, 04 Dec 2012 14:41:56 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 14:41:56 -0800 (PST)
In-Reply-To: <1354660490.1867.YahooMailClassic@web113618.mail.gq1.yahoo.com>
References: <1354660490.1867.YahooMailClassic@web113618.mail.gq1.yahoo.com>
Date: Wed, 5 Dec 2012 02:41:56 +0400
Message-ID: <CABzHfVkKhmo6W4iBC+mj24r++Ye4Zi-785h9R=T51e65DAaNRQ@mail.gmail.com>
Subject: Re: Suggestion for improving Tomcat startup performance...
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/5 Tony Anecito <adanecito@yahoo.com>:
> Hi Tomcat Developers,
>
> I am using Tomcat 7.0.33 and notice on Tomcat startup my web services startup in series rather than parallel. If you do not have it you might want to have an option to startup apps in parallel or assign number of threads that can startup in parallel.

;)

Jump to
http://tomcat.apache.org/oldnews.html
and look for 7.0.23

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:46:09 2012
Return-Path: <users-return-238393-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18B6ED262
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:46:09 +0000 (UTC)
Received: (qmail 33072 invoked by uid 500); 4 Dec 2012 22:46:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32991 invoked by uid 500); 4 Dec 2012 22:46:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32982 invoked by uid 99); 4 Dec 2012 22:46:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:46:05 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:45:54 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-13.tower-29.messagelabs.com!1354661129!22771008!9
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 350 invoked from network); 4 Dec 2012 22:45:32 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-13.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 4 Dec 2012 22:45:32 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 4 Dec 2012 16:44:53 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Tue, 4 Dec
 2012 16:44:53 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 4 Dec 2012 16:45:12 -0600
Subject: RE: Suggestion for improving Tomcat startup performance...
Thread-Topic: Suggestion for improving Tomcat startup performance...
Thread-Index: Ac3Sb63XCfR95lzvRUWEAn84HTbt7QAAQ3Eg
Message-ID: <99C8B2929B39C24493377AC7A121E21FC494D37FDA@USEA-EXCH8.na.uis.unisys.com>
References: <1354660490.1867.YahooMailClassic@web113618.mail.gq1.yahoo.com>
In-Reply-To: <1354660490.1867.YahooMailClassic@web113618.mail.gq1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: Suggestion for improving Tomcat startup performance...

> I am using Tomcat 7.0.33 and notice on Tomcat startup my web services=20
> startup in series rather than=A0parallel.=A0If you do not have it you mig=
ht
> want to have an=A0option to startup apps in parallel or assign number of=
=20
> threads that can startup in parallel.

Do you mean the startStopThreads attribute documented for <Engine> and <Hos=
t>?

http://tomcat.apache.org/tomcat-7.0-doc/config/engine.html
http://tomcat.apache.org/tomcat-7.0-doc/config/host.html

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:54:04 2012
Return-Path: <users-return-238394-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 73396D298
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:54:04 +0000 (UTC)
Received: (qmail 58527 invoked by uid 500); 4 Dec 2012 22:54:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58461 invoked by uid 500); 4 Dec 2012 22:54:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58451 invoked by uid 99); 4 Dec 2012 22:54:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:54:01 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.218.237] (HELO nm13-vm6.bullet.mail.gq1.yahoo.com) (98.136.218.237)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:53:51 +0000
Received: from [98.137.12.174] by nm13.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:53:30 -0000
Received: from [98.137.12.54] by tm13.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:53:30 -0000
Received: from [127.0.0.1] by omp1069.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:53:30 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 846371.86798.bm@omp1069.mail.gq1.yahoo.com
Received: (qmail 26959 invoked by uid 60001); 4 Dec 2012 22:53:30 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354661610; bh=WBq9aGhRSTmgeOTIWHDXKcGPKfNDPYJYJznpjyJm/qk=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=MfuutihRgMjgHWxQFmWJB85jiurO83av86RYxaqOh2H0yIAOCGSGHXphqfL9fucgnLUOSYV8yn3f7aKECCrVuIAE+yegMzCIrhaI3g29bdbcgEArcqoJtD03/ocA5jd1ZpdQuaYn80kqMj09vrG3QK3YAKWBfMuiCY3rMC/ISjs=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=sRnFM5Q6U9OZeCoaiCs38Ec4yF+Ygr1m28fLI4qSdUP7xQy99FbIIIhinmEZizzCPOFhR1D8Hr7vgRQaSnhyElPrtL7gMsmZy2EJ38kKeVaRfMOx8mqv80M7MvgW8rE8/59YsHs9FR6Xe5Wq8CntrARQ+Vkfi5uflvWTXChUof8=;
X-YMail-OSG: FX5Kx6oVM1n.l3cJTyEznGiH0ftDmmlfThWnk30Coe.fmbp
 0lypuugInEvLiv8LuE5wDOZcEc6UAUX397Ealrtn..ziudLdUhf5dvOkFU.s
 NzaWopW.Qecprs9XCul9u2bwEA8xpp23vqJ2EdGbMXcoib.AC1BQxTmI.7Zn
 6ILrz2qhVqINm7WrqC5Qau_wPCCU4DteevIDbAAxk9Cbzyt_PaR00y0ArmYw
 1vicT9xnH.qkNkiPO0h5sXOyEUyf21LBCulpMCTYANBvhdlj85wKzkiWi7FE
 TvH5HmMP9_PBFMuwdRIF9tZLxzd6CnOS52fWUdvgX5rHGJMXik.q8ObIzNqq
 qhJlBozuHBxgTyXDnh1mHdB6kE0_Fs16AIjZjZ975sFN63WQJRjGhYcexj7k
 flxaM1rxCPhpCfdaZKu1IOQnEFYGuN4TIp0.A4NzrtjWiJbKgBCHpkPaYJxZ
 5t3NAnEEcTG36.20uZdBPJK91B1tGGgVPe.eKeTCIsHZErdp82y3RCx_K7jw
 K6XBL1cYMGCfmMv3ceLnNW.I7yG0X7Q1UtkE1pvsdFvGynU83gTR1reVm7LW
 n48Y9_FFsrr4doT.N0D0M.whRnIL4DNG2po97CMbIStlt83V6RzEszRRIubc
 tb7mODHwLCb7Mo0V3YQ--
Received: from [204.228.207.218] by web113608.mail.gq1.yahoo.com via HTTP; Tue, 04 Dec 2012 14:53:30 PST
X-Rocket-MIMEInfo: 001.001,VGhhbmtzLiBJIGNhbiBub3QgZmluZCBhbnkgZXhhbXBsZXMgb3IgcmVmZXJlbmNlIHRvIHdoYXQgY29uZmlnIGZpbGUgdGhpcyBnb2VzIGludG8uIEkgbG9va2VkIGF0IHNlcnZlci54bWwgYW5kIHdlYi54bWwgYW5kIGRpZCBub3QgZmluZCBpdCBpbiB0aGVyZS4gSSBkaWQgZmluZCBzb21ldGhpbmcgY2FsbGVkIHRoZSBFbmdpbmUgQ29udGFpbmVyIGJ1dCBhZ2FpbiBubyBleGFtcGxlcyBvciB3aGVyZSBpdCBjYW4gYmUgZm91bmQgaWYgYWxyZWFkeSBleGlzdGluZy4NCsKgDQpJIHdpbGwga2VlcCBsb29raW4BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.128.478
Message-ID: <1354661610.15593.YahooMailClassic@web113608.mail.gq1.yahoo.com>
Date: Tue, 4 Dec 2012 14:53:30 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Suggestion for improving Tomcat startup performance...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABzHfVkKhmo6W4iBC+mj24r++Ye4Zi-785h9R=T51e65DAaNRQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1649124138-647385592-1354661610=:15593"
X-Virus-Checked: Checked by ClamAV on apache.org

--1649124138-647385592-1354661610=:15593
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks. I can not find any examples or reference to what config file this g=
oes into. I looked at server.xml and web.xml and did not find it in there. =
I did find something called the Engine Container but again no examples or w=
here it can be found if already existing.
=A0
I will keep looking.
=A0
-Tony

--- On Tue, 12/4/12, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:


From: Konstantin Kolinko <knst.kolinko@gmail.com>
Subject: Re: Suggestion for improving Tomcat startup performance...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 4 Dec 2012, 3:41 PM


2012/12/5 Tony Anecito <adanecito@yahoo.com>:
> Hi Tomcat Developers,
>
> I am using Tomcat 7.0.33 and notice on Tomcat startup my web services sta=
rtup in series rather than parallel. If you do not have it you might want t=
o have an option to startup apps in parallel or assign number of threads th=
at can startup in parallel.

;)

Jump to
http://tomcat.apache.org/oldnews.html
and look for 7.0.23

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--1649124138-647385592-1354661610=:15593--

From users-return-238395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:55:47 2012
Return-Path: <users-return-238395-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1476CD2BA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:55:47 +0000 (UTC)
Received: (qmail 69138 invoked by uid 500); 4 Dec 2012 22:55:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68930 invoked by uid 500); 4 Dec 2012 22:55:43 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68921 invoked by uid 99); 4 Dec 2012 22:55:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:55:43 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.217.110] (HELO nm39-vm7.bullet.mail.gq1.yahoo.com) (98.136.217.110)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:55:35 +0000
Received: from [98.137.12.190] by nm39.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:55:15 -0000
Received: from [98.137.12.242] by tm11.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:55:15 -0000
Received: from [127.0.0.1] by omp1050.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 22:55:15 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 590731.76762.bm@omp1050.mail.gq1.yahoo.com
Received: (qmail 18252 invoked by uid 60001); 4 Dec 2012 22:55:15 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354661715; bh=oVER0kVPA38P9vJM9ot0T8f8vo6fRPBpN2q9UeqMe1w=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=FG3rZ2hSTlprTMJHdBaj4jeNvzRmi7L2wpRA70+6mJrKmWQFum0tqMDTsWtFceGxD4iYk2cKjWWcdLVwha0we/A0D8MKiD571EvEWW5COPTyYWUGT7biHdozPcgKRr0lvDfxAVn/cvWpiIprop/eEh1Q01ZCQepLHDbll0vhlQA=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=5v+Kri/SlHyZVZDAyOtn2RUwB80VSCM3D8fDLEUD++Qx9H1kRFUBnaAdK40a1qqFkG9T0roUa/660yRu76FUYSwFpov0DjQAcPZRejaR5t42Okmt9cuzVmOsjmAXE+P0nTI/WbwzDKyHkh7euuC0zQ//QP9q89YRVh/SzjXUpKk=;
X-YMail-OSG: pfgYnA8VM1kTJTvidORLU6fSE.ef0PDj0czPSG88QqCrfZm
 jmDXHqo1bje.29sd2JeNNc0ISnloAhQ8K3c8w7lQu.K01L__x.BC3YbL7bc4
 DDhTQWaktuEJh_LIhvOFSYBeocHX6O6TtsmdKatVVMh3C_ITyUWICfBb317C
 UaL12y_L6q.tY.oIb5xxO3WaZ3.Wm9dA8PLxF2bq65jnrn8Cd5x8P85LD87i
 sNxTTE2V7OhscwwGipCxuO5Ds6x8ZvQ_rfjqaSySMc2SHLxHBd59el0M5eDR
 D3NrfgmtnSUWY0bnE.y42dT8KjM3zVMP69LbwWs7InbxQLxhU5daREyJkwsZ
 7ZOD1mTQBbJ1QSX4U6GCiGAPjkqv5ekpfudNMh52x335w9OpJtvBHA_xYjm.
 c2hJSGrtdbqO2GfPSxkLzUgBjMIdt2svEUQULF8sP6.juXitn1umPGjWZcL5
 SEZvT2.LNzHz8NeNv4KeCpassp__KKDvFa3I_icCrFBfpMGQ4Lqn2WAH1gCB
 mTOXdEJVDwqDAgOrRjylqCDQHm8z8.0gDTbqYRwAe4NUaZBnfkJrs16ZexZe
 DRZikQKci..PZtKBhTFpCnZrbu7wFgzLB5aXg97s1bvbj_3gEmukw4gXyxZB
 _Be.LtzXxHR2CQ41xLQ--
Received: from [204.228.207.218] by web113618.mail.gq1.yahoo.com via HTTP; Tue, 04 Dec 2012 14:55:15 PST
X-Rocket-MIMEInfo: 001.001,SGkgQ2h1Y2ssDQpBY2NvcmRpbmcgdG8gc29tZW9uZSBlbHNlIHRoYXQgaXMgdGhlIGF0dHJpYnV0ZSB0byB1c2UuIEJ1dCBhcyBpbiBteSBsYXN0IG1lc3NhZ2UgSSBjb3VsZCBub3QgZmluZCB3aGVyZSBpdCBpcyBvciBpZiBub3QgYnkgZGVmYXVsdCBpbiBzb21lIGNvbmZpZyBmaWxlIHdoaWNoIGNvbmZpZyBmaWxlIHRvIHVzZS4NCsKgDQpUaGFua3MsDQotVG9ueQ0KDQotLS0gT24gVHVlLCAxMi80LzEyLCBDYWxkYXJhbGUsIENoYXJsZXMgUiA8Q2h1Y2suQ2FsZGFyYWxlQHVuaXN5cy5jb20.IHdyb3RlOg0BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.128.478
Message-ID: <1354661715.15718.YahooMailClassic@web113618.mail.gq1.yahoo.com>
Date: Tue, 4 Dec 2012 14:55:15 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC494D37FDA@USEA-EXCH8.na.uis.unisys.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1886504177-118782541-1354661715=:15718"
X-Virus-Checked: Checked by ClamAV on apache.org

--1886504177-118782541-1354661715=:15718
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Chuck,
According to someone else that is the attribute to use. But as in my last m=
essage I could not find where it is or if not by default in some config fil=
e which config file to use.
=A0
Thanks,
-Tony

--- On Tue, 12/4/12, Caldarale, Charles R <Chuck.Caldarale@unisys.com> wrot=
e:


From: Caldarale, Charles R <Chuck.Caldarale@unisys.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 4 Dec 2012, 3:45 PM


> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: Suggestion for improving Tomcat startup performance...

> I am using Tomcat 7.0.33 and notice on Tomcat startup my web services=20
> startup in series rather than=A0parallel.=A0If you do not have it you mig=
ht
> want to have an=A0option to startup apps in parallel or assign number of=
=20
> threads that can startup in parallel.

Do you mean the startStopThreads attribute documented for <Engine> and <Hos=
t>?

http://tomcat.apache.org/tomcat-7.0-doc/config/engine.html
http://tomcat.apache.org/tomcat-7.0-doc/config/host.html

- Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--1886504177-118782541-1354661715=:15718--

From users-return-238396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 22:58:17 2012
Return-Path: <users-return-238396-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3E2DED2CD
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 22:58:17 +0000 (UTC)
Received: (qmail 80702 invoked by uid 500); 4 Dec 2012 22:58:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80656 invoked by uid 500); 4 Dec 2012 22:58:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80646 invoked by uid 99); 4 Dec 2012 22:58:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:58:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of esmond.pitt@bigpond.com designates 61.9.168.143 as permitted sender)
Received: from [61.9.168.143] (HELO nskntmtas03p.mx.bigpond.com) (61.9.168.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 22:58:08 +0000
Received: from nskntotgx03p.mx.bigpond.com ([120.151.14.51])
          by nskntmtas03p.mx.bigpond.com with ESMTP
          id <20121204225746.CPUT10464.nskntmtas03p.mx.bigpond.com@nskntotgx03p.mx.bigpond.com>;
          Tue, 4 Dec 2012 22:57:46 +0000
Received: from HP6910P ([120.151.14.51]) by nskntotgx03p.mx.bigpond.com
          with ESMTP
          id <20121204225746.BCHS27134.nskntotgx03p.mx.bigpond.com@HP6910P>;
          Tue, 4 Dec 2012 22:57:46 +0000
From: "Esmond Pitt" <esmond.pitt@bigpond.com>
To: "'Vincent Goelen'" <goelenv@gmail.com>,
	"'Tomcat Users List'" <users@tomcat.apache.org>
References: <50B7C3A6.4010300@christopherschultz.net> <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
In-Reply-To: <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>
Subject: RE: Tomcat 7 SSL Session ID
Date: Wed, 5 Dec 2012 09:57:38 +1100
Message-ID: <C45352600C954650B20BA82D82D1315D@HP6910P>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00D9_01CDD2CE.F5860770"
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ac3ScWYffnzTTdX3TaaDM+J7/TWjVQAAQDRA
X-MimeOLE: Produced By Microsoft MimeOLE V6.1.7601.17609
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_00D9_01CDD2CE.F5860770
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Broken pipes don't invalidate the SSL session. They just break the TCP
connection. The SSL session persists, across multiple TCP connections, until
it is specifically invalidated by someone: for example, timed out by the
SSLSessionContext.
 
EJP

  _____  

From: Vincent Goelen [mailto:goelenv@gmail.com] 
Sent: Wednesday, 5 December 2012 1:15 AM
To: Tomcat Users List
Subject: Re: Tomcat 7 SSL Session ID


Hey,

thanks for the help! 

To be clear, I do not want a 0ms timeout... I'm doing research about how
"usable" the SSL session tracking option is for session management...
With the standard settings it seems very unstable to me, when sending alot
of parallel requests I get a broken socket error invalidating the ssl
session and making the session with this id disappear. In this case it would
seem to me that it's easy to create Denial of Service attacks by just
sending alot of requests so the user loses his session.

By playing with the timeouts I found out this problem doesn't occur when I
set the timeout to 0, just by playing with the settings. Perhaps because
this disables the possibility of too many parallel connections? I can't find
the reason of this in the Tomcat or SSL specs... 

I've added a screenshot of a capture where things go wrong without setting a
keepAlive.. So I send alot of requests to the server, the first clientHello
(pck 38943) and the following packets everything goes ok, when the
application data is being send I get a tcp rst from port 54195 (this is the
connection that was used for the transactions before the current one) ... At
this moment my session gets invalidates making the next SSL handshake a full
one with new ID (pckt 40361, ...)




2012/11/29 Christopher Schultz <chris@christopherschultz.net>


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vincent,


On 11/28/12 3:14 AM, Vincent Goelen wrote:
> When the keepAliveTimeout is not set to "0" I can see in the SSL
> debug logs the SSL session get's invalidated after some requests
> with a Broken Pipe exception. Is this because there are too many
> open connections during the keepAliveTimeout?


It's probably because of your pathological keepAliveTimeout. 0ms
seems, er, low. Why did you choose 0ms?

I haven't looked at the code, so I'm not sure if the elapsed timer
starts when the last request is completed (which seems reasonable) or
when the last request started. I suspect the latter. 0ms is awfully
short. Are you sure that your client is capable of accepting the
response to the previous request and turn-around and make another
request across the same channel before 0ms passes?


> It also only happens when processing the requests takes some time
> (fe. storing items in database) or when I put the threat to sleep
> for testing purpose.


So if you have a trivial request (say, HEAD for a static resource),
you can never get a failure?


> When inspecting the traffic I see some tcp-rst packages (problem is
> here?) from previous connections while the current one is being
> processed.


When you say "current one" what do you mean? If you are using a single
connection with HTTP keepalive, then there is only one connection to
talk about: you can't get RSTs from "previous connections". You may be
getting TCP RST as the server closes the connection while the client
is trying to write. Is that what you are experiencing?


> My question is why these SSL Sessions get invalidated after alot of
> quick requests to the server since this gives a problem with my SSL
> Session tracking since the id changes then.


Maybe if you can explain why you want a 0ms keepalive timeout it would
be helpful. If you want to disable keep alives, set
maxKeepAliveRequests="1". If you want to allow an infinite timeout,
try using keepAliveTimeout="-1" as the documentation states.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
=J7dz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org





------=_NextPart_000_00D9_01CDD2CE.F5860770--


From users-return-238397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 23:02:26 2012
Return-Path: <users-return-238397-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38C09D31A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 23:02:26 +0000 (UTC)
Received: (qmail 94745 invoked by uid 500); 4 Dec 2012 23:02:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94566 invoked by uid 500); 4 Dec 2012 23:02:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94555 invoked by uid 99); 4 Dec 2012 23:02:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:02:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:02:16 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4846802vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 15:01:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=+WLtQDyC7FZ9hINnnnH/PElrJOpgtaSxNlxi0hbrBOI=;
        b=X43l+ExLsvNrW/ygQWcD/iKg+DkntSJHQxVjBDWpnRqDBJ9MLQ2ko7BMKzpC7IOMJA
         qor0n1ffzstqF97gLR/t/3IPgjySH8RJz0S3ZYMS/+kWhCubO+EWK0VREfAQz9B3q1g5
         xyXQuXFCCuuH+jh8aVW6KSZDdEdoQAwiof0M/EBldZb5n1CuBNCK3oDm/5R0W5+OX8JW
         Ydttrb8bm8eybXcgA5KccJRx/EmcP/0k7MfRlrEjIp3PVm925HuHSLMGfUNZVyfNgA+e
         ejSJ1LqC/zSvoZokjaxn3fGY1k/HIqw3ghvNzPFFCk4DzqCKLTu0kcCJpNOiuwMyjUIF
         aDyg==
MIME-Version: 1.0
Received: by 10.58.187.234 with SMTP id fv10mr13361968vec.8.1354662115702;
 Tue, 04 Dec 2012 15:01:55 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 15:01:55 -0800 (PST)
In-Reply-To: <1354661610.15593.YahooMailClassic@web113608.mail.gq1.yahoo.com>
References: <CABzHfVkKhmo6W4iBC+mj24r++Ye4Zi-785h9R=T51e65DAaNRQ@mail.gmail.com>
	<1354661610.15593.YahooMailClassic@web113608.mail.gq1.yahoo.com>
Date: Wed, 5 Dec 2012 03:01:55 +0400
Message-ID: <CABzHfVmQHsXBxyZ6tiXAn3G3XdFbKxsxnBfvw+FUZCQ-jwYO8g@mail.gmail.com>
Subject: Re: Suggestion for improving Tomcat startup performance...
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/5 Tony Anecito <adanecito@yahoo.com>:
> Thanks. I can not find any examples or reference to what config file this goes into.
I looked at server.xml and web.xml and did not find it in there. I did
find something called the Engine Container but again no examples or
where it can be found if already existing.

http://tomcat.apache.org/tomcat-7.0-doc/config/index.html
The first sentence.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 23:05:32 2012
Return-Path: <users-return-238398-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 201E4D375
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 23:05:32 +0000 (UTC)
Received: (qmail 5268 invoked by uid 500); 4 Dec 2012 23:05:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5068 invoked by uid 500); 4 Dec 2012 23:05:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5059 invoked by uid 99); 4 Dec 2012 23:05:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:05:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.218.134] (HELO nm2-vm7.bullet.mail.gq1.yahoo.com) (98.136.218.134)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:05:18 +0000
Received: from [98.137.12.58] by nm2.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 23:04:57 -0000
Received: from [98.137.12.54] by tm3.bullet.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 23:04:57 -0000
Received: from [127.0.0.1] by omp1069.mail.gq1.yahoo.com with NNFMP; 04 Dec 2012 23:04:57 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 409083.79035.bm@omp1069.mail.gq1.yahoo.com
Received: (qmail 16666 invoked by uid 60001); 4 Dec 2012 23:04:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354662297; bh=QNkMH5wgZsFdALy6BC472WJXxR4Xslry9gEPQozpgkU=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=Sg5mfUGcNzcZiroZJv5WwAYNd6VTtItHgl2KHeuV8Z6bXlaMycBKynR5kkpNhR1xxs0FBe18mCqyRAuG0gVoG+6OpFfSYS+mR6bM9ysVkGOT4+qmWzhvMQskNbi5BJHu5HRIXxHNMqqbBvkiXk0g7wm9zwUew+HojEE0ZgxRLvw=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=RruRTeSzCpz4KzlzNla7R7NZjOQmmVqH67dLpLvExtp41M7NFDb9T8KL6tcOkf8rJnPyZP9AnJoVEDh8x0Ud40Kcfv9h00xBBNgcYUT1r10zRNaVGSHhpKpcP6jTkQ2vkaLGKXCO9ZO20hRnCCwkRTk6QEXrGCUaS4qlJO4a7Ro=;
X-YMail-OSG: X4mZG0AVM1lVE_a9GJpeQE4LJBatDhsczS7e52jSFvdvhWT
 aQ6rXIYNP1RiLPaMhKcjyWpd5X5DBql4JLDCiflU28KEH2FhdB0McMz84EA_
 C1EuijD_Qi79uGSTRpoc3D01EQj4wjwMOB59pyVwGjvehutEHWYo6NoJtjfI
 Yw95cCuZOg4Fz91cmhzafODHCuQpShJjy2Nwuc3ilaw5Tt32xXSuWKgFCd4X
 a2kWszEEXWlB2YoHhnz0ruv23UJuBvu_gN0HHE7JltqwEFv7f4s8J26nrJm7
 9TDmDluUuDfyNOShDqw_pJ4jtx2RhLrSTjp06IFM97X0RG8j0NMmDFWDoK2j
 DToQ55MYrUKRlL1eRLYGRBx.K8_agctTMlaJoC8W8p8cxYc1ew9EutGlil_T
 hi6fJX2yM2hrEcxYXQdM48qNg6RTr94X6fBVUCgBxOTpy5awex7YJy6WBcyb
 z0p.J0T4Lu.d2uzYQZ17EHVG._LQlmu8f1x8qQR6IYyzP4TYiQSeYC8KjyXa
 VViKwc_YcD48.CqF4M6CXculXYIcUbIhH9VbVjtqMFmT0iKbJK1gw2OmRbC6
 d9P4.bZ6sRlWqD61PCfmTRRQg23cVRl0RgRUs6O1SFrRxFz0CWsUGZHXkvxz
 Q3480qAfBCHSfyRHQWQ--
Received: from [204.228.207.218] by web113607.mail.gq1.yahoo.com via HTTP; Tue, 04 Dec 2012 15:04:57 PST
X-Rocket-MIMEInfo: 001.001,T2sgSSBmb3VuZCBhICJFbmdpbmUiIHJlZmVyZW5jZSBpbiB0aGUgc2VydmVyLnhtbCBmb3IgdGhlIGNhdGFsaW5hIHNlcnZpY2UuIEkgYW0gZ3Vlc3NpbmcgdGhhdCB0aGUgYXR0cmlidXRlIHNob3VsZCBnbyBpbiB0aGVyZSBzb21ld2hlcmUuIEkgd2lsbCBsb29rIGF0IHRoZSBlbmdpbmUgZG9jdW1lbnRhdGlvbiB0byBzZWUgaG93IHRvIGFkZCBpdC4NCsKgDQpUaGFua3MsDQotVG9ueQ0KDQotLS0gT24gVHVlLCAxMi80LzEyLCBUb255IEFuZWNpdG8gPGFkYW5lY2l0b0B5YWhvby5jb20.IHdyb3RlOg0KDQoBMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.128.478
Message-ID: <1354662297.2392.YahooMailClassic@web113607.mail.gq1.yahoo.com>
Date: Tue, 4 Dec 2012 15:04:57 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <1354661715.15718.YahooMailClassic@web113618.mail.gq1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1437528690-1405946359-1354662297=:2392"
X-Virus-Checked: Checked by ClamAV on apache.org

---1437528690-1405946359-1354662297=:2392
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Ok I found a "Engine" reference in the server.xml for the catalina service.=
 I am guessing that the attribute should go in there somewhere. I will look=
 at the engine documentation to see how to add it.
=A0
Thanks,
-Tony

--- On Tue, 12/4/12, Tony Anecito <adanecito@yahoo.com> wrote:


From: Tony Anecito <adanecito@yahoo.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 4 Dec 2012, 3:55 PM


Hi Chuck,
According to someone else that is the attribute to use. But as in my last m=
essage I could not find where it is or if not by default in some config fil=
e which config file to use.
=A0
Thanks,
-Tony

--- On Tue, 12/4/12, Caldarale, Charles R <Chuck.Caldarale@unisys.com> wrot=
e:


From: Caldarale, Charles R <Chuck.Caldarale@unisys.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Tuesday, 4 Dec 2012, 3:45 PM


> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: Suggestion for improving Tomcat startup performance...

> I am using Tomcat 7.0.33 and notice on Tomcat startup my web services=20
> startup in series rather than=A0parallel.=A0If you do not have it you mig=
ht
> want to have an=A0option to startup apps in parallel or assign number of=
=20
> threads that can startup in parallel.

Do you mean the startStopThreads attribute documented for <Engine> and <Hos=
t>?

http://tomcat.apache.org/tomcat-7.0-doc/config/engine.html
http://tomcat.apache.org/tomcat-7.0-doc/config/host.html

- Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---1437528690-1405946359-1354662297=:2392--

From users-return-238399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 23:13:28 2012
Return-Path: <users-return-238399-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DFAE0D3EC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 23:13:27 +0000 (UTC)
Received: (qmail 32574 invoked by uid 500); 4 Dec 2012 23:13:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32523 invoked by uid 500); 4 Dec 2012 23:13:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32512 invoked by uid 99); 4 Dec 2012 23:13:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:13:24 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.211 as permitted sender)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:13:13 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-6.tower-201.messagelabs.com!1354662771!5973481!2
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 26590 invoked from network); 4 Dec 2012 23:12:52 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-6.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 4 Dec 2012 23:12:52 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 4 Dec 2012 17:12:03 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Tue, 4 Dec
 2012 17:12:03 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 4 Dec 2012 17:12:23 -0600
Subject: RE: Suggestion for improving Tomcat startup performance...
Thread-Topic: Suggestion for improving Tomcat startup performance...
Thread-Index: Ac3Sc+FynnOoTmIqQ7GpIhZ6TAkQ3AAAKYug
Message-ID: <99C8B2929B39C24493377AC7A121E21FC494D3801B@USEA-EXCH8.na.uis.unisys.com>
References: <1354661715.15718.YahooMailClassic@web113618.mail.gq1.yahoo.com>
 <1354662297.2392.YahooMailClassic@web113607.mail.gq1.yahoo.com>
In-Reply-To: <1354662297.2392.YahooMailClassic@web113607.mail.gq1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: RE: Suggestion for improving Tomcat startup performance...

Don't top-post.

> Ok I found a "Engine" reference in the server.xml for the catalina=20
> service. I am guessing that the attribute should go in there somewhere.
> I will look at the engine documentation to see how to add it.

I gave you the direct links to the documentation...=20

And it's unlikely you want the <Engine> one, unless you have multiple <Host=
> elements.  Even then, if you have multiple webapps for a <Host>, you want=
 to set it there.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec  4 23:33:58 2012
Return-Path: <users-return-238400-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EB72CE19E
	for <apmail-tomcat-users-archive@www.apache.org>; Tue,  4 Dec 2012 23:33:57 +0000 (UTC)
Received: (qmail 91894 invoked by uid 500); 4 Dec 2012 23:33:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91834 invoked by uid 500); 4 Dec 2012 23:33:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91825 invoked by uid 99); 4 Dec 2012 23:33:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:33:54 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 04 Dec 2012 23:33:46 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-7.tower-29.messagelabs.com!1354664002!24256872!5
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 28965 invoked from network); 4 Dec 2012 23:33:24 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-7.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 4 Dec 2012 23:33:24 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 4 Dec 2012 17:32:28 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Tue, 4 Dec
 2012 17:32:28 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: "Tomcat Users List (users@tomcat.apache.org)" <users@tomcat.apache.org>
Date: Tue, 4 Dec 2012 17:32:48 -0600
Subject: RE: Suggestion for improving Tomcat startup performance...
Thread-Topic: Suggestion for improving Tomcat startup performance...
Thread-Index: Ac3Sdm2haQlTVzmwStiyrNAd2EGNwQAACFFQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FC494D3803A@USEA-EXCH8.na.uis.unisys.com>
References: <99C8B2929B39C24493377AC7A121E21FC494D3801B@USEA-EXCH8.na.uis.unisys.com>
 <1354663424.54963.YahooMailClassic@web113604.mail.gq1.yahoo.com>
In-Reply-To: <1354663424.54963.YahooMailClassic@web113604.mail.gq1.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: RE: Suggestion for improving Tomcat startup performance...

Reply to the list, not to individuals.

> Not sure what you mean by Top Post.

http://ck.wikia.com/wiki/TopPosting
http://mailformat.dan.info/quoting/top-posting.html
=A0
> I only have one host. So someone pointed me to that sorry if I=20
> mentioned it.

You only mentioned <Engine>, not <Host>, previously.

 - Chuck
=A0

THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 00:05:35 2012
Return-Path: <users-return-238401-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C63BE2B4
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 00:05:35 +0000 (UTC)
Received: (qmail 86413 invoked by uid 500); 5 Dec 2012 00:05:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86337 invoked by uid 500); 5 Dec 2012 00:05:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86326 invoked by uid 99); 5 Dec 2012 00:05:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 00:05:32 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 00:05:27 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4897420vcb.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 16:05:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=mmrZ3Kocp3O39KjYSNlqBfaTVDdg2jOhbLOKtxRqNm4=;
        b=zlHDX8S1hmouF/e3f0EEOuTePBXN+IhRjA1je54tfAj5/bRKqXxqrHV283Y8Vweh2m
         CV/AkECK6Ma1ZJ0RJG0n812vFBWTuENBigaOSgKZDx57wL0y0C+Ybsvk/1YrlH1XnG/8
         R+AiGlNua5hawHOwuhY4XgK3krIQ1ShNRCVbkBd/bnavFNPqsUxlBw9PuH+mYbN77lTR
         AVap094x5hh8MWDNo4dh10o3Kj+G9JwpeiPqCObebHlMbgPmjpDrsuEgwygF/VTPfd3w
         2bGuj9+vAU+2bVKCJC9hXhaO7v+Rde3UKPSDvLsWiwY6Jje8EFdBQzV762CmW/PxwfHW
         Uopw==
MIME-Version: 1.0
Received: by 10.220.154.148 with SMTP id o20mr13237751vcw.54.1354665906562;
 Tue, 04 Dec 2012 16:05:06 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 16:05:06 -0800 (PST)
In-Reply-To: <50AFC14A.5060007@christopherschultz.net>
References: <CAK18DJV9-=mvbxK1WY1L+-oq_vuHXwPupfGAjNxACw_oTXMY0Q@mail.gmail.com>
	<50AFC14A.5060007@christopherschultz.net>
Date: Wed, 5 Dec 2012 04:05:06 +0400
Message-ID: <CABzHfVk7Js0D6O3PKum9UA28KO8dxJh_dBPp3YnYdKuyJx_hoA@mail.gmail.com>
Subject: Re: Page not redirected after waitFor() call on Process object.
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/11/23 Christopher Schultz <chris@christopherschultz.net>:
> On 11/21/12 4:42 AM, Andrei Petru Mura wrote:
>> TheProcessing.logoutSubscriberByMac(mac) has that code on it:
>>
>> public static void logoutSubscriberByMac(String mac) { try {
>>
>> Process proc = Runtime.getRuntime().exec("logout subscriber
>> command"); proc.waitFor(); //here is the problem
>
> You almost certainly have a problem with stream management: if you
> don't drain both the output stream and error stream of the process,
> then your code can hang. Likewise, if you don't close the standard
> input stream to the process, the child process may block waiting for
> input.
>
> It sounds silly, even if you use little or no standard input or output
> from your child process, but failure to manage these streams can and
> will hang up your Java code.
>
> You can either write multi-threaded code to handle all these streams,
> or you can use one of the several high-quality utility libraries out
> there that can wrap Runtime.exec for you and take care of this kind of
> stuff.
>

+1.

There was also such thread in June as
"Issue with keep-alive connections, when using APR Connector on
Windows and starting Processes from Servlets" where some JRE bugs were
mentioned.

http://markmail.org/thread/hsime5ayjdrg4fwm

I do not know much about your configuration to tell whether this is
affecting you or not.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 00:27:34 2012
Return-Path: <users-return-238402-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8A385D541
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 00:27:34 +0000 (UTC)
Received: (qmail 51431 invoked by uid 500); 5 Dec 2012 00:27:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51383 invoked by uid 500); 5 Dec 2012 00:27:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51372 invoked by uid 99); 5 Dec 2012 00:27:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 00:27:31 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.80 as permitted sender)
Received: from [65.55.111.80] (HELO blu0-omc2-s5.blu0.hotmail.com) (65.55.111.80)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 00:27:23 +0000
Received: from BLU172-W17 ([65.55.111.72]) by blu0-omc2-s5.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 4 Dec 2012 16:27:02 -0800
X-Originating-IP: [74.104.173.229]
X-EIP: [MUxzxhtl6JCdWddQKFXKQ+GSy3nijofX]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_5c8e021d-1e29-423c-b758-07b431dfb555_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, <goelenv@gmail.com>
Subject: RE: Tomcat 7 SSL Session ID
Date: Tue, 4 Dec 2012 19:27:02 -0500
Importance: Normal
In-Reply-To: <C45352600C954650B20BA82D82D1315D@HP6910P>
References: <50B7C3A6.4010300@christopherschultz.net>
 <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com>,<C45352600C954650B20BA82D82D1315D@HP6910P>
MIME-Version: 1.0
X-OriginalArrivalTime: 05 Dec 2012 00:27:02.0725 (UTC) FILETIME=[3F3CEF50:01CDD27F]
X-Virus-Checked: Checked by ClamAV on apache.org

--_5c8e021d-1e29-423c-b758-07b431dfb555_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


yes but he needs to achieve a reliable connection between himself and the S=
SLServer (at least until key negotiation has completed)
broken pipe(s) are a bear to debug but you have a few tools available to yo=
u:

netstat  SSLServerIP=20
-- if you see ANY intervening nodes hanging more than 4 sec drop from arp c=
ache generally by arp -d ServerIP
assuming your ServerIP is is 157.55.85.212 and the physical address of the =
network you want to connect to is 00-aa-00-62-c6-09  (check with net-admin =
for the physical-address or eth-addr to use) > arp -s 157.55.85.212   00-aa=
-00-62-c6-09  .... Adds a static entry.
 > arp -a                                    .... Displays the arp table. r=
oute print will display the routes between you and the SSLServer if you don=
t see a route referencing the server you may want to add in your own route =
with=20
route add DESTINATION MASK Mask  METRIC NoOfHops Interface InterfaceNumberc=
heck with net-admin DESTINATION is generally the dotted.quad.of.SSLServerch=
eck with net-admin generally Mask =3D255.255.255.0 will docheck with net ad=
min about which Interface to use..avoid 127.0.0.1 (unless testing locally)c=
heck with net admin on NoOfHops param ..generally the lower the better use =
curl (command line url) to check the validity of the certificate=2C keys an=
d passwordscurl -1 --cacert [file] --key PrivateKey.jks --pass PrivateKeyPa=
ss --key-type PEM --pubkey PublicKey.jks-1 says use TLSv1check the type of =
key most keys start out as PEM
PEM key ends with .PEM extension ...DER key with .DER... ENG key ends with =
.ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to achieve=
 a Key Exchange you will have a valid SSL Connection..remember binaries hav=
e lower CPU so test with a reliable binary first
then start debugging your code (i assume you added your CA cert into your l=
ocal truststore) enough pollution?
Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung=20
Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
=20

 > From: esmond.pitt@bigpond.com
> To: goelenv@gmail.com=3B users@tomcat.apache.org
> Subject: RE: Tomcat 7 SSL Session ID
> Date: Wed=2C 5 Dec 2012 09:57:38 +1100
>=20
> Broken pipes don't invalidate the SSL session. They just break the TCP
> connection. The SSL session persists=2C across multiple TCP connections=
=2C until
> it is specifically invalidated by someone: for example=2C timed out by th=
e
> SSLSessionContext.
> =20
> EJP
>=20
>   _____ =20
>=20
> From: Vincent Goelen [mailto:goelenv@gmail.com]=20
> Sent: Wednesday=2C 5 December 2012 1:15 AM
> To: Tomcat Users List
> Subject: Re: Tomcat 7 SSL Session ID
>=20
>=20
> Hey=2C
>=20
> thanks for the help!=20
>=20
> To be clear=2C I do not want a 0ms timeout... I'm doing research about ho=
w
> "usable" the SSL session tracking option is for session management...
> With the standard settings it seems very unstable to me=2C when sending a=
lot
> of parallel requests I get a broken socket error invalidating the ssl
> session and making the session with this id disappear. In this case it wo=
uld
> seem to me that it's easy to create Denial of Service attacks by just
> sending alot of requests so the user loses his session.
>=20
> By playing with the timeouts I found out this problem doesn't occur when =
I
> set the timeout to 0=2C just by playing with the settings. Perhaps becaus=
e
> this disables the possibility of too many parallel connections? I can't f=
ind
> the reason of this in the Tomcat or SSL specs...=20
>=20
> I've added a screenshot of a capture where things go wrong without settin=
g a
> keepAlive.. So I send alot of requests to the server=2C the first clientH=
ello
> (pck 38943) and the following packets everything goes ok=2C when the
> application data is being send I get a tcp rst from port 54195 (this is t=
he
> connection that was used for the transactions before the current one) ...=
 At
> this moment my session gets invalidates making the next SSL handshake a f=
ull
> one with new ID (pckt 40361=2C ...)
>=20
>=20
>=20
>=20
> 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
>=20
>=20
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>=20
> Vincent=2C
>=20
>=20
> On 11/28/12 3:14 AM=2C Vincent Goelen wrote:
> > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > debug logs the SSL session get's invalidated after some requests
> > with a Broken Pipe exception. Is this because there are too many
> > open connections during the keepAliveTimeout?
>=20
>=20
> It's probably because of your pathological keepAliveTimeout. 0ms
> seems=2C er=2C low. Why did you choose 0ms?
>=20
> I haven't looked at the code=2C so I'm not sure if the elapsed timer
> starts when the last request is completed (which seems reasonable) or
> when the last request started. I suspect the latter. 0ms is awfully
> short. Are you sure that your client is capable of accepting the
> response to the previous request and turn-around and make another
> request across the same channel before 0ms passes?
>=20
>=20
> > It also only happens when processing the requests takes some time
> > (fe. storing items in database) or when I put the threat to sleep
> > for testing purpose.
>=20
>=20
> So if you have a trivial request (say=2C HEAD for a static resource)=2C
> you can never get a failure?
>=20
>=20
> > When inspecting the traffic I see some tcp-rst packages (problem is
> > here?) from previous connections while the current one is being
> > processed.
>=20
>=20
> When you say "current one" what do you mean? If you are using a single
> connection with HTTP keepalive=2C then there is only one connection to
> talk about: you can't get RSTs from "previous connections". You may be
> getting TCP RST as the server closes the connection while the client
> is trying to write. Is that what you are experiencing?
>=20
>=20
> > My question is why these SSL Sessions get invalidated after alot of
> > quick requests to the server since this gives a problem with my SSL
> > Session tracking since the id changes then.
>=20
>=20
> Maybe if you can explain why you want a 0ms keepalive timeout it would
> be helpful. If you want to disable keep alives=2C set
> maxKeepAliveRequests=3D"1". If you want to allow an infinite timeout=2C
> try using keepAliveTimeout=3D"-1" as the documentation states.
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>=20
> iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> =3DJ7dz
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
>=20
>=20
>=20
 		 	   		  =

--_5c8e021d-1e29-423c-b758-07b431dfb555_--

From users-return-238403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 01:06:21 2012
Return-Path: <users-return-238403-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B58D7D316
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 01:06:21 +0000 (UTC)
Received: (qmail 49833 invoked by uid 500); 5 Dec 2012 01:06:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49759 invoked by uid 500); 5 Dec 2012 01:06:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49748 invoked by uid 99); 5 Dec 2012 01:06:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:06:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.216.206] (HELO nm36-vm3.bullet.mail.gq1.yahoo.com) (98.136.216.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:06:10 +0000
Received: from [98.137.12.188] by nm36.bullet.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 01:05:49 -0000
Received: from [98.137.12.192] by tm9.bullet.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 01:05:48 -0000
Received: from [127.0.0.1] by omp1000.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 01:05:48 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 899030.42091.bm@omp1000.mail.gq1.yahoo.com
Received: (qmail 89305 invoked by uid 60001); 5 Dec 2012 01:05:48 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354669548; bh=mv3Xm+H+OIHLWh+a5gXtIdfaskcAzZtRRVhL7cMDzXs=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=EXKJy51LPTlHeUNJuWfLVPc4ghNtYdl0ahDPPNEaG8LM6S+5u2xtak8n+7smDltAnkfDhAxphbFfYYCAV47uk1hT7TSl+4ZCv0lnUx/L6eycFAUt0bcv59GwoLnrMjnu7wLIZ2EZMFWJuxbAaQhk09gi+zMk77rsZIBSTr2pN1I=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=ALPe6GJ2qtPNjXlLy9CHv+q/ZsUZS+Rd+/NbzHhhJozaEhDPhiQlKJLXq28LdeAQzV+Wt/JRvkHMTWzKEE+354kWhFLxgUdc70K0kaHsug4A7dpgWW6G48ltPIN7BfCPr176zpCH4qdhVJc+n6ABY87gY9es9S8vD6wpsL9mD8E=;
X-YMail-OSG: Sb43gbgVM1nXSUI9sY5MwfYDxEB.nrw39fY4Blu7vJrtrLa
 COkdb4AamrK5jkjSFHbomO_blcbOx8DLYpYQY8UbSHVtFn6mqyKjbDl3j3BQ
 xzKlXCCNtCIQMt1LN4eIaQ3d5ExkLl1FMgeaDHGtwl.XBwhdM1e7xMNNI2Sj
 wcNHIUnCtUeRB54pI2OUJ1nzZrUGRZP1fofR6EgC4FY7iTbsxqk1A_ZC6Ahc
 SSsVz5FIvkugAcsHTjEt_qJRrujHmGBhckEjfAjsiBLEHcX50Ox1sotJPBaw
 y.DgSXu0HS8nJgT9r8fqhIOKlveDug8TZwzQKglEjYweWkiCccqfB1G6XCNu
 oLwuSuIGh3wm_tPhcdxjAr2T7oPEb1yfx7C4XvBtiMsWsAjUB8T1q7uF_4Ac
 SP0g7ZmqNDaDQZxV76fiZS5.3b0GRhLG4zZKMOeHUNF6QVp1bj5RtThgrZfJ
 l.QLkdI7gtxBEFy.OuHYmEtXrGFAUS2yLCSqH4OLsiQsr26Ab_Ion06S7jtu
 diel2_apL62voY.gYo47wbk6wMjFhwnTuBpM5a4MuIOkj82vcbgql9frOHoJ
 6yyQGAiNTRy5Plw1cZa9ZyMONNPbkzTY6Mx60YTG4CrUgeM9EhAfWhZ26Jts
 QZ.xeTv5Vc4p92mk9RkufskKUZMFolSDgmYP.jWK5oddLH_1jySc.KepWKX0
 u_coZr5Yn2ZukNm5fPZOcrDhwXOURUG3Q3f3yCAxwxmgOgCy2mfILtjGjuns
 W7Lu6phScqNf7uiIiPz4g9mxTBLyOKe._9K9mTvY5
Received: from [204.228.207.218] by web113609.mail.gq1.yahoo.com via HTTP; Tue, 04 Dec 2012 17:05:48 PST
X-Rocket-MIMEInfo: 001.001,T2sgaXQgaXMgd29ya2luZyBzdGFydHVwIHRpbWUgd2VudCBmcm9tIDE4IHNlY29uZHMgZG93biB0byBhIGxpdHRsZSBvdmVyIDggc2Vjb25kcy4NCsKgDQpBbHNvLCBpZiB0aGVyZSBpcyBzb21lIG90aGVyIGVtYWlsIGdyb3VwIEkgc2hvdWxkIGJlIHVzaW5nIGZvciB0ZWNobmljYWwgcXVlc3Rpb25zIGFib3V0IHVzZSBvZiBUb21jYXQgcGxlYXNlIGxldCBtZSBrbm93Lg0KwqANClJlZ2FyZHMsDQotVG9ueQ0KDQotLS0gT24gVHVlLCAxMi80LzEyLCBDYWxkYXJhbGUsIENoYXJsZXMgUiA8Q2h1Y2suQ2FsZGEBMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.128.478
Message-ID: <1354669548.74393.YahooMailClassic@web113609.mail.gq1.yahoo.com>
Date: Tue, 4 Dec 2012 17:05:48 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC494D3803A@USEA-EXCH8.na.uis.unisys.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-573127745-1244145595-1354669548=:74393"
X-Virus-Checked: Checked by ClamAV on apache.org

---573127745-1244145595-1354669548=:74393
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Ok it is working startup time went from 18 seconds down to a little over 8 =
seconds.
=A0
Also, if there is some other email group I should be using for technical qu=
estions about use of Tomcat please let me know.
=A0
Regards,
-Tony

--- On Tue, 12/4/12, Caldarale, Charles R <Chuck.Caldarale@unisys.com> wrot=
e:


From: Caldarale, Charles R <Chuck.Caldarale@unisys.com>
Subject: RE: Suggestion for improving Tomcat startup performance...
To: "Tomcat Users List (users@tomcat.apache.org)" <users@tomcat.apache.org>
Date: Tuesday, 4 Dec 2012, 4:32 PM


> From: Tony Anecito [mailto:adanecito@yahoo.com]=20
> Subject: RE: Suggestion for improving Tomcat startup performance...

Reply to the list, not to individuals.

> Not sure what you mean by Top Post.

http://ck.wikia.com/wiki/TopPosting
http://mailformat.dan.info/quoting/top-posting.html
=A0
> I only have one host. So someone pointed me to that sorry if I=20
> mentioned it.

You only mentioned <Engine>, not <Host>, previously.

- Chuck
=A0

THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---573127745-1244145595-1354669548=:74393--

From users-return-238404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 01:48:17 2012
Return-Path: <users-return-238404-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75594E12F
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 01:48:17 +0000 (UTC)
Received: (qmail 58222 invoked by uid 500); 5 Dec 2012 01:48:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58166 invoked by uid 500); 5 Dec 2012 01:48:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58153 invoked by uid 99); 5 Dec 2012 01:48:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:48:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [96.252.75.162] (HELO powersrvcs.com) (96.252.75.162)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:48:04 +0000
Received: from [10.0.1.12] (76.19.251.244) by powersrvcs.com with ESMTP
 (EIMS X 3.3.9) for <users@tomcat.apache.org>;
 Tue, 4 Dec 2012 20:47:46 -0500
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 6.2 \(1499\))
Subject: Re: CVE-2012-4534 Apache Tomcat denial of service
From: Stephen Caine <stephen@commongrnd.com>
In-Reply-To: <50BE535A.9000600@apache.org>
Date: Tue, 4 Dec 2012 20:48:02 -0500
Content-Transfer-Encoding: 7bit
Message-Id: <C8C1E4C7-B7B1-4261-9B8D-000910DD1169@commongrnd.com>
References: <50BE535A.9000600@apache.org>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1499)
X-Virus-Checked: Checked by ClamAV on apache.org

Jim,

Check your Tomcat version.

http://localhost:8080/

Stephen

On Dec 4, 2012, at 2:47 PM, Mark Thomas <markt@apache.org> wrote:

> CVE-2012-4534 Apache Tomcat denial of service
> 
> Severity: Important
> 
> Vendor: The Apache Software Foundation
> 
> Versions Affected:
> - Tomcat 7.0.0 to 7.0.27
> - Tomcat 6.0.0 to 6.0.35
> 
> Description:
> When using the NIO connector with sendfile and HTTPS enabled, if a
> client breaks the connection while reading the response an infinite loop
> is entered leading to a denial of service. This was originally reported
> as https://issues.apache.org/bugzilla/show_bug.cgi?id=52858.
> 
> Mitigation:
> Users of affected versions should apply one of the following mitigations:
> - Tomcat 7.0.x users should upgrade to 7.0.28 or later
> - Tomcat 6.0.x users should upgrade to 6.0.36 or later
> 
> Credit:
> The security implications of this bug were identified by Arun Neelicattu
> of the Red Hat Security Response Team.
> 
> References:
> http://tomcat.apache.org/security.html
> http://tomcat.apache.org/security-7.html
> http://tomcat.apache.org/security-6.html
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 01:54:43 2012
Return-Path: <users-return-238405-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5B2B5E13C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 01:54:43 +0000 (UTC)
Received: (qmail 74610 invoked by uid 500); 5 Dec 2012 01:54:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74542 invoked by uid 500); 5 Dec 2012 01:54:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74531 invoked by uid 99); 5 Dec 2012 01:54:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:54:39 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of daxiezhi@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 01:54:31 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so5282995lbg.18
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 17:54:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nQBkcPz5gL3odFvNX++LaVkRBrXUm3YWK5zxSXBBhlQ=;
        b=VXqZ6aMoSmSRb+zXZ6f1CbgUtboKHLAc92PgMAQQOb8q4nzWAVfkA9CHyT3DP+cpw8
         Bf5tTjj/DRUwHJWcIS0+/zB156qlkpgf9dakjmcRfTQ1DuTsXz8kjKHKRYF2FsW2xI8U
         4fq6AqGTE5I0Yq2vtC0NjcUFOuswQR8gwK3h4j8aifyLnHbxDSSaNJbIv3gcOIONXc78
         qCyg9tzSXqLLRqB2PIaE2NC+1uwU7ErturAH717tbWmSv4cvGEakolJd9712SPrXxLCZ
         +GqvozRXU8De56wTZMfJYuuySHtlld6/oyOEtFEGvudzC79LrA/IeThomH1BL6+yyDLD
         FVBA==
MIME-Version: 1.0
Received: by 10.152.133.140 with SMTP id pc12mr14878717lab.53.1354672451207;
 Tue, 04 Dec 2012 17:54:11 -0800 (PST)
Received: by 10.114.71.233 with HTTP; Tue, 4 Dec 2012 17:54:11 -0800 (PST)
In-Reply-To: <CABzHfVnider33hF9VVV-FT1piWiGoa+LuDoUmRnU5fzGgW2gXQ@mail.gmail.com>
References: <945526067-1354601978-cardhu_decombobulator_blackberry.rim.net-1510896768-@b16.c7.bise7.blackberry>
	<CABzHfVnider33hF9VVV-FT1piWiGoa+LuDoUmRnU5fzGgW2gXQ@mail.gmail.com>
Date: Wed, 5 Dec 2012 09:54:11 +0800
Message-ID: <CABS8Zpo2sUXaDk7Bk==HNWo5oH_PRv2G3L98X4OJL9nM0BM5vA@mail.gmail.com>
Subject: Re: How to use the usehttponly feature in application level
From: Zhi Xie <daxiezhi@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d042dfe993dc13104d01142c7
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d042dfe993dc13104d01142c7
Content-Type: text/plain; charset=ISO-8859-1

Got it. Thanks, guys.


2012/12/4 Konstantin Kolinko <knst.kolinko@gmail.com>

> 2012/12/4  <techienote.com@gmail.com>:
> > Hi Zhi,
> >
> > You can set following parameters in web.xml of application.
> >
> > <session-config>
> > <cookie-config>
> > <http-only>true</http-only>
> > <secure>true</secure>
> > </cookie-config>
> > </session-config>
>
> +1. This is the best way.
>
> Note, that your web application should be using Servlet 3.0
> specification (as declared at the top of your web.xml file) to use
> this feature.
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
Best Regards
Gary

--f46d042dfe993dc13104d01142c7--

From users-return-238406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 05:18:31 2012
Return-Path: <users-return-238406-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4E58D411
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 05:18:31 +0000 (UTC)
Received: (qmail 76743 invoked by uid 500); 5 Dec 2012 05:18:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75931 invoked by uid 500); 5 Dec 2012 05:18:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75899 invoked by uid 99); 5 Dec 2012 05:18:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 05:18:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 05:18:18 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3994200vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 21:17:57 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=//KZf4Vv14EtwnGpF022jmIC4EPqUTlfUfqkPZvjrA0=;
        b=D9k7gfxyhH+nrJd3Xk4YWAP1wAw60fqWkgdsBBBLe4ymSKxzOG1mgkUwGFxCBsVJhY
         BlvL4OEzrpXSTsCmeUx7wPiVTm/WlXFApcwBnHmnGAtBCsLdG4d2ZDyCBUO0YZxSRxhB
         Hx95IDfmnsvrIMeMgJZrJWu3D2Dgl39OdZiNcZbc20A4F3k8lJdSEJBjkP1w1cghUi0M
         t2xENDolPv962H28Lpqra+Z7I78rmV9JU6YM3YL1Ns9uEIkENz2zw7AHhibaPRoRz27B
         y3Z61SeDLlQq8XK9Lvy7J+AM+Ay8NnKPqPbNDR/RzeSY8vCjPq4pLXs7ZZdLw+EBanFE
         JBiQ==
MIME-Version: 1.0
Received: by 10.52.179.130 with SMTP id dg2mr12166084vdc.8.1354684677778; Tue,
 04 Dec 2012 21:17:57 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 4 Dec 2012 21:17:57 -0800 (PST)
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC4948CE073@USEA-EXCH8.na.uis.unisys.com>
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com>
	<99C8B2929B39C24493377AC7A121E21FC4948CE073@USEA-EXCH8.na.uis.unisys.com>
Date: Wed, 5 Dec 2012 09:17:57 +0400
Message-ID: <CABzHfVmFkLQpRpjbGWo1TNDGmyvS63EQa-v4ZEa_yii1-4g7wA@mail.gmail.com>
Subject: Re: Tomcat7.0-Setting property 'threadPriority' did not find a
 matching property
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/3 Caldarale, Charles R <Chuck.Caldarale@unisys.com>:
>> From: Weixiang [mailto:kurt.weixiang@huawei.com]
>> Subject: Tomcat7.0-Setting property 'threadPriority' did not find a matc=
hing property
>
>> I config in my server.xml for a HTTP Connector named "MGMT":
>
>> threadPriority=3D"java.lang.Thread#Thread.MAX_PRIORITY"
>
> The documentation may give the impression that you can set the value of t=
he threadPriority attribute to a string referring to some static field, but=
 that is not actually the case.  You must supply a numeric value here, whic=
h will normally be 10 for the maximum.  You can write a simple Java program=
 to display the values of Thread.MIN_PRIORITY and Thread.MAX_PRIORITY, and =
choose a number within that range.
>
> class ThreadPriority {
>   static public void main(String args[]) throws Exception {
>     System.out.format("thread priorities: MIN %d, NORM %d, MAX %d%n",
>                       Thread.MIN_PRIORITY, Thread.MIN_PRIORITY, Thread.MA=
X_PRIORITY);
>   }
> }
>
> The JDK 7 Javadoc includes a description for the priority values, but it =
doesn't appear to be completely accurate:
> http://docs.oracle.com/javase/7/docs/api/constant-values.html#java.lang.T=
hread.MAX_PRIORITY

The MIN/NORM/MAX_PRIORITY constants in the Thread class are "final
static" and thus they are evaluated and inlined at compile time and
cannot differ between systems.

I'll clarify the docs.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 06:18:10 2012
Return-Path: <users-return-238407-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FF54E216
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 06:18:09 +0000 (UTC)
Received: (qmail 3549 invoked by uid 500); 5 Dec 2012 06:18:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3343 invoked by uid 500); 5 Dec 2012 06:18:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3315 invoked by uid 99); 5 Dec 2012 06:18:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 06:18:03 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jugalthakkar1988@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 06:17:58 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so4040396vbi.4
        for <users@tomcat.apache.org>; Tue, 04 Dec 2012 22:17:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=m+PA7DUV3GM3vS3EwCT0bKu6iZ52IdrqS1Pl6M8ofqU=;
        b=lKSva72VyDm27WqvLE2iRiJ+Jl3xM1JyYa6570wp3JoIZzyMOf5RV8BWzdaD9ILAHM
         S0MsQU//cZNK6HqvSmF7A54MfFooUcYctByM3kHAvw5cMnSL/3CCIpucoDLqGBlhEW2T
         AdgumuR4g7ckl4p4jrV2ch8CYv+sfyoQyrkHgi4od32zhzkwkyo4qLSKErfk6am2rZ+i
         N0y9017pZt5x4AD803NlOdVjhFlWkSTZPuQ8w2SSK0MSpkfNbzqAI3ZMI7J30WBVBgmB
         jCw/+4ksP5jKWl1eHKGixGAkGhh7K+H7BB3rxIjw2kW3M3UZPqUIJqWD5oxjbZ4UTSgY
         fQ0A==
MIME-Version: 1.0
Received: by 10.58.23.169 with SMTP id n9mr14237073vef.58.1354688257485; Tue,
 04 Dec 2012 22:17:37 -0800 (PST)
Received: by 10.221.5.1 with HTTP; Tue, 4 Dec 2012 22:17:37 -0800 (PST)
In-Reply-To: <50BCCA67.5000008@yahoo.com>
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com>
	<CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com>
	<50BC7016.30109@apache.org>
	<CABzHfVnHsSDDuVPYpt1OstOvZNO4vEKxcbBy+i7m8c1nmsn_9A@mail.gmail.com>
	<50BCCA67.5000008@yahoo.com>
Date: Wed, 5 Dec 2012 11:47:37 +0530
Message-ID: <CAAEujFT_JP-DUtDQ_XVEA9WK2d=rvnkyoddE8+Zn_Vk+OTimbQ@mail.gmail.com>
Subject: Re: Tomcat 7 is not working on windows 7....
From: Jugal Thakkar <jugalthakkar1988@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b3398875e6c7b04d014f0ed
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b3398875e6c7b04d014f0ed
Content-Type: text/plain; charset=ISO-8859-1

I am Getting Errors while Starting Tomcat....
And I dont Know What to DO.....
I am Sending Error Logs which is as Follwos.....



Dec 05, 2012 11:09:42 AM org.apache.catalina.core.AprLifecycleListener init
INFO: The APR based Apache Tomcat Native library which allows optimal
performance in production environments was not found on the
java.library.path: C:\Program
Files\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program
Files/Java/jre7/bin/client;C:/Program Files/Java/jre7/bin;C:/Program
Files/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
Files\Calibre2\;C:\Program Files\Microsoft SQL
Server\90\Tools\binn\;D:\Eclipse\JEE;;.
Dec 05, 2012 11:09:43 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-bio-8012"]
Dec 05, 2012 11:09:43 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
Dec 05, 2012 11:09:43 AM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 1079 ms
Dec 05, 2012 11:09:43 AM org.apache.catalina.core.StandardService
startInternal
INFO: Starting service Catalina
Dec 05, 2012 11:09:43 AM org.apache.catalina.core.StandardEngine
startInternal
INFO: Starting Servlet Engine: Apache Tomcat/7.0.33
Dec 05, 2012 11:09:43 AM org.apache.catalina.valves.AccessLogValve open
SEVERE: Failed to open access log file [C:\Program Files\Apache Software
Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt]
java.io.FileNotFoundException: C:\Program Files\Apache Software
Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt (Access is
denied)
    at java.io.FileOutputStream.open(Native Method)
    at java.io.FileOutputStream.<init>(Unknown Source)
    at
org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1119)
    at
org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1223)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at
org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at
org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)
    at
org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at
org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
    at
org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
    at java.util.concurrent.FutureTask.run(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)

Dec 05, 2012 11:09:43 AM org.apache.catalina.startup.HostConfig
deployDirectory
INFO: Deploying web application directory C:\Program Files\Apache Software
Foundation\Tomcat 7.0\webapps\docs
Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.HostConfig
deployDirectory
INFO: Deploying web application directory C:\Program Files\Apache Software
Foundation\Tomcat 7.0\webapps\manager
Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.HostConfig
deployDirectory
INFO: Deploying web application directory C:\Program Files\Apache Software
Foundation\Tomcat 7.0\webapps\ROOT
Dec 05, 2012 11:09:44 AM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-bio-8012"]
Dec 05, 2012 11:09:44 AM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["ajp-bio-8009"]
Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.Catalina start
INFO: Server startup in 814 ms



Please Help Me Regarding This....

Thanks...
Jugal


On Mon, Dec 3, 2012 at 9:21 PM, Mark Eggers <its_toasted@yahoo.com> wrote:

> On 12/3/2012 2:28 AM, Konstantin Kolinko wrote:
>
>> 2012/12/3 Mark Thomas <markt@apache.org>:
>>
>>> On 03/12/2012 09:15, Jugal Thakkar wrote:
>>>
>>>> Hello Sir,
>>>>              I am Java Developer. i develop web application using
>>>> servlet
>>>> and JSP.
>>>>
>>>> My problem is that i am not able to get server started in eclipse
>>>> Juno.....using Tomcat 7 with windows 7.....
>>>>
>>>> Please Guide me for the same....
>>>> Installation Process of tomcat 7 on windows 7....
>>>> I was previously using Windows XP and everything was fine....
>>>> But with Windows 7 i am Having the problem....
>>>>
>>>> Please guide me regarding this....
>>>>
>>>
>>> Two options:
>>>
>>> 1. Read this:
>>> http://www.catb.org/esr/faqs/**smart-questions.html<http://www.catb.org/esr/faqs/smart-questions.html>
>>> and follow the excellent advice it offers.
>>>
>>>
>> +1
>>
>
> +1
>
>
>>  2. Apply the following logic:
>>> - It worked on Windows XP
>>> - It doesn't work on Windows 7
>>> - Therefore a bug in Windows 7 is the root cause
>>> - Either:
>>>    a) Report the problem to Microsoft and get them to fix it
>>>    b) Uninstall Windows 7 and re-install Windows XP
>>>
>>>
>> There is also FAQ available, such as
>> http://wiki.apache.org/tomcat/**FAQ/Windows#Q8<http://wiki.apache.org/tomcat/FAQ/Windows#Q8>
>>
>
> First of all, it works for me (although I mostly use NetBeans and mostly
> use Linux).
>
> 1. Install the appropriate JRE
>    a. 1.6.0_37 32 bit or 64 bit depending on your system
>    b. 1.7.0_09 32 bit or 64 bit depending on your system
> 2. Download and install the J2EE version of Eclipse Juno
>    a. It's a zip file
>    b. Unpack it in C:\Users\[username]
>       [username] is your user name - don't use the square brackets
>       it will make it's own directory
>    c. Make shortcuts on the desktop and the start menu
> 3. Make a directory in C:\Users\[username]
>    a. [username] is your user name - don't use the square brackets
>    b. Call that directory Apache
> 4. Download Tomcat
>    a. get the latest version (7.0.33 as I write this)
>    b. get the zip file
>    c. get the 32 bit or 64 bit depending on your system
> 5. Unpack the zip file in C:\Users\[username]\Apache
>    a. this is the directory you made in step 3
>    b. it will create its own directory (apache-tomcat-7.0.33)
> 6. Edit
>    C:\Users\[username]\Apache\**apache-tomcat-7.0.33\conf\**
> tomcat-users.xml
>    a. Actually not necessary since Eclipse doesn't use the manager app
>    b. However, you may want to use the manager app outside of Eclipse
>    c. Make the contents of tomcat-users.xml like this:
>
> <tomcat-users>
>     <!-- roles -->
>     <role rolename="manager-gui"/>
>     <role rolename="manager-script"/>
>     <role rolename="manager-jmx"/>
>     <role rolename="manager-status"/>
>
>     <!-- users -->
>     <user name="manager"
>         password="password"
>         roles="manager-gui" />
>     <user name="mgr-script"
>         password="password"
>         roles="manager-script"/>
>     <user name="mgr-jmx"
>         password="password"
>         roles="manager-jmx"/>
>     <user name="mgr-status"
>         password="password"
>         roles="manager-status"/>
> </tomcat-users>
>
>    d. Note, I wrapped my lines so it would fit in email.
>    e. Choose better passwords
> 7. Verify that Tomcat runs
>    a. double-click on
>    C:\Users\[username]\Apache\**apache-tomcat-7.0.33\bin\**startup.bat
>    b. Browse to http://localhost:8080
>    c. See the Tomcat start page
>    d. double-click on
>    C:\Users\[username]\Apache\**apache-tomcat-7.0.33\bin\**shutdown.bat
> 8. Add server to Eclipse Juno
>    a. Start Eclipse
>    b. Open the Servers window (Windows->Show View->Others->Servers)
>    c. Right-mouse click in the Servers window
>    d. Choose New->Server
>    e. Follow the Wizard
>
> You now have Tomcat 7.0.33 running from within Eclipse Juno. The keys are:
>
> 1. Do not install as a service
> 2. Install in your own directory, otherwise you'll be fighting UAC
>
> . . . . just my two cents.
> /mde/
>
> (Beats packing and moving in the rain)
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsubscribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b3398875e6c7b04d014f0ed--

From users-return-238408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 07:04:48 2012
Return-Path: <users-return-238408-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F189FEDF9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 07:04:48 +0000 (UTC)
Received: (qmail 99239 invoked by uid 500); 5 Dec 2012 07:04:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98679 invoked by uid 500); 5 Dec 2012 07:04:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98628 invoked by uid 99); 5 Dec 2012 07:04:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 07:04:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.217.218] (HELO nm18-vm3.bullet.mail.gq1.yahoo.com) (98.136.217.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 07:04:35 +0000
Received: from [98.137.12.57] by nm18.bullet.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 07:04:15 -0000
Received: from [208.71.42.196] by tm2.bullet.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 07:04:15 -0000
Received: from [127.0.0.1] by smtp207.mail.gq1.yahoo.com with NNFMP; 05 Dec 2012 07:04:15 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354691055; bh=me3zmvxEneIjzO3ZqMxr1Tud2MGOqS2fbnBnUuOhSc0=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=hvEvHsQDnMKv99uuimJsjB92pM9XLRKuoTkEflC5IaKhgYNHUfY42UHJ4KEFmPFeK9WD9lirqM8fSsWqxCzcQxph9kKWN94ZFjHg3NK4nESvucIrlueAqsrVBzdnUHZfBhkaximGKFjRg3EaD/3741rG8VGC8C1C00ap2NFG3ns=
X-Yahoo-Newman-Id: 444331.19970.bm@smtp207.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: HcgP66MVM1kynUYdUALFqDya0tQje4dhJe80VsHdL8rtM9U
 Ns3i2WVo3o6sXjXZ5W9Jjp9Ml3vCYe6tleYWWrB.TKsQHOe_t6Xo34uQz4TF
 9iiWiRJOllcFSeBxsOXXVnLq9ehwTO1sviEWJAY5cQekvAnvthodQ8Gy15m5
 oC4r55dumqXNqdfrHeEhF30Iq0b5PU886zrZ5XlDMD1ZoHquEhuzYcB3.FEq
 FonuQPZO6XTFs28A0udrL60KZQ00EEmykVbwJnw2KsfAHVm8Dy3LVMBZEpdw
 GKW1XJVJ1SW3nedTWag.eS8ABLJmkDvnbaOcpIXUlpLKE5LNwpUljW_wrhzJ
 gME4ACVY0EnBL7WHG4AjTcWzVa3gtXD47EA6WxM63p8tXjKYzR.D5EdMyblj
 rAMMhIF8NjzyQ5wHoSa9jauZFYK83ZLhVCfNuQzfUgnC4oQCbRPc071SGlB4
 vG6BWlo_ZctMFZDuMw8Ae4fhzq5Bg3oXqFHkDIKus7l39MAPYIIkhTbOjrO2
 dLIqWvLAIqlNE2GACJuMFZq43Kzh4fcJf7hi0nW96u3HN7Nt1l01hpVm466L
 iaA--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@71.129.46.12 with plain)
        by smtp207.mail.gq1.yahoo.com with SMTP; 04 Dec 2012 23:04:15 -0800 PST
Message-ID: <50BEF1E7.5090102@yahoo.com>
Date: Tue, 04 Dec 2012 23:04:07 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 is not working on windows 7....
References: <CAAEujFTHb79O+Wk7y9jNYGRN+rKXVEwubqv-eKrdRNtV7e=7yg@mail.gmail.com> <CAAEujFRmfE1Up=0evRuu8ypu_+9QDPhJKwO+0hwwvECPihey-Q@mail.gmail.com> <50BC7016.30109@apache.org> <CABzHfVnHsSDDuVPYpt1OstOvZNO4vEKxcbBy+i7m8c1nmsn_9A@mail.gmail.com> <50BCCA67.5000008@yahoo.com> <CAAEujFT_JP-DUtDQ_XVEA9WK2d=rvnkyoddE8+Zn_Vk+OTimbQ@mail.gmail.com>
In-Reply-To: <CAAEujFT_JP-DUtDQ_XVEA9WK2d=rvnkyoddE8+Zn_Vk+OTimbQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

See below, and please do not top post.

On 12/4/2012 10:17 PM, Jugal Thakkar wrote:
> I am Getting Errors while Starting Tomcat....
> And I dont Know What to DO.....
> I am Sending Error Logs which is as Follwos.....
>
>
>
> Dec 05, 2012 11:09:42 AM org.apache.catalina.core.AprLifecycleListener init
> INFO: The APR based Apache Tomcat Native library which allows optimal
> performance in production environments was not found on the
> java.library.path: C:\Program
> Files\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:\Windows;C:/Program
> Files/Java/jre7/bin/client;C:/Program Files/Java/jre7/bin;C:/Program
> Files/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
> Files\Calibre2\;C:\Program Files\Microsoft SQL
> Server\90\Tools\binn\;D:\Eclipse\JEE;;.
> Dec 05, 2012 11:09:43 AM org.apache.coyote.AbstractProtocol init
> INFO: Initializing ProtocolHandler ["http-bio-8012"]
> Dec 05, 2012 11:09:43 AM org.apache.coyote.AbstractProtocol init
> INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
> Dec 05, 2012 11:09:43 AM org.apache.catalina.startup.Catalina load
> INFO: Initialization processed in 1079 ms
> Dec 05, 2012 11:09:43 AM org.apache.catalina.core.StandardService
> startInternal
> INFO: Starting service Catalina
> Dec 05, 2012 11:09:43 AM org.apache.catalina.core.StandardEngine
> startInternal
> INFO: Starting Servlet Engine: Apache Tomcat/7.0.33
> Dec 05, 2012 11:09:43 AM org.apache.catalina.valves.AccessLogValve open
> SEVERE: Failed to open access log file [C:\Program Files\Apache Software
> Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt]
> java.io.FileNotFoundException: C:\Program Files\Apache Software
> Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt (Access is
> denied)
>      at java.io.FileOutputStream.open(Native Method)
>      at java.io.FileOutputStream.<init>(Unknown Source)
>      at
> org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1119)
>      at
> org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1223)
>      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
>      at
> org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)
>      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
>      at
> org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)
>      at
> org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
>      at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
>      at
> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
>      at
> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
>      at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
>      at java.util.concurrent.FutureTask.run(Unknown Source)
>      at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
>      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
>      at java.lang.Thread.run(Unknown Source)
>
> Dec 05, 2012 11:09:43 AM org.apache.catalina.startup.HostConfig
> deployDirectory
> INFO: Deploying web application directory C:\Program Files\Apache Software
> Foundation\Tomcat 7.0\webapps\docs
> Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.HostConfig
> deployDirectory
> INFO: Deploying web application directory C:\Program Files\Apache Software
> Foundation\Tomcat 7.0\webapps\manager
> Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.HostConfig
> deployDirectory
> INFO: Deploying web application directory C:\Program Files\Apache Software
> Foundation\Tomcat 7.0\webapps\ROOT
> Dec 05, 2012 11:09:44 AM org.apache.coyote.AbstractProtocol start
> INFO: Starting ProtocolHandler ["http-bio-8012"]
> Dec 05, 2012 11:09:44 AM org.apache.coyote.AbstractProtocol start
> INFO: Starting ProtocolHandler ["ajp-bio-8009"]
> Dec 05, 2012 11:09:44 AM org.apache.catalina.startup.Catalina start
> INFO: Server startup in 814 ms
>
>
>
> Please Help Me Regarding This....
>
> Thanks...
> Jugal
>
>
> On Mon, Dec 3, 2012 at 9:21 PM, Mark Eggers <its_toasted@yahoo.com> wrote:
>
>> On 12/3/2012 2:28 AM, Konstantin Kolinko wrote:
>>
>>> 2012/12/3 Mark Thomas <markt@apache.org>:
>>>
>>>> On 03/12/2012 09:15, Jugal Thakkar wrote:
>>>>
>>>>> Hello Sir,
>>>>>               I am Java Developer. i develop web application using
>>>>> servlet
>>>>> and JSP.
>>>>>
>>>>> My problem is that i am not able to get server started in eclipse
>>>>> Juno.....using Tomcat 7 with windows 7.....
>>>>>
>>>>> Please Guide me for the same....
>>>>> Installation Process of tomcat 7 on windows 7....
>>>>> I was previously using Windows XP and everything was fine....
>>>>> But with Windows 7 i am Having the problem....
>>>>>
>>>>> Please guide me regarding this....
>>>>>
>>>>
>>>> Two options:
>>>>
>>>> 1. Read this:
>>>> http://www.catb.org/esr/faqs/**smart-questions.html<http://www.catb.org/esr/faqs/smart-questions.html>
>>>> and follow the excellent advice it offers.
>>>>
>>>>
>>> +1
>>>
>>
>> +1
>>
>>
>>>   2. Apply the following logic:
>>>> - It worked on Windows XP
>>>> - It doesn't work on Windows 7
>>>> - Therefore a bug in Windows 7 is the root cause
>>>> - Either:
>>>>     a) Report the problem to Microsoft and get them to fix it
>>>>     b) Uninstall Windows 7 and re-install Windows XP
>>>>
>>>>
>>> There is also FAQ available, such as
>>> http://wiki.apache.org/tomcat/**FAQ/Windows#Q8<http://wiki.apache.org/tomcat/FAQ/Windows#Q8>
>>>
>>
>> First of all, it works for me (although I mostly use NetBeans and mostly
>> use Linux).
>>
>> 1. Install the appropriate JRE
>>     a. 1.6.0_37 32 bit or 64 bit depending on your system
>>     b. 1.7.0_09 32 bit or 64 bit depending on your system
>> 2. Download and install the J2EE version of Eclipse Juno
>>     a. It's a zip file
>>     b. Unpack it in C:\Users\[username]
>>        [username] is your user name - don't use the square brackets
>>        it will make it's own directory
>>     c. Make shortcuts on the desktop and the start menu
>> 3. Make a directory in C:\Users\[username]
>>     a. [username] is your user name - don't use the square brackets
>>     b. Call that directory Apache
>> 4. Download Tomcat
>>     a. get the latest version (7.0.33 as I write this)
>>     b. get the zip file
>>     c. get the 32 bit or 64 bit depending on your system
>> 5. Unpack the zip file in C:\Users\[username]\Apache
>>     a. this is the directory you made in step 3
>>     b. it will create its own directory (apache-tomcat-7.0.33)
>> 6. Edit
>>     C:\Users\[username]\Apache\**apache-tomcat-7.0.33\conf\**
>> tomcat-users.xml
>>     a. Actually not necessary since Eclipse doesn't use the manager app
>>     b. However, you may want to use the manager app outside of Eclipse
>>     c. Make the contents of tomcat-users.xml like this:
>>
>> <tomcat-users>
>>      <!-- roles -->
>>      <role rolename="manager-gui"/>
>>      <role rolename="manager-script"/>
>>      <role rolename="manager-jmx"/>
>>      <role rolename="manager-status"/>
>>
>>      <!-- users -->
>>      <user name="manager"
>>          password="password"
>>          roles="manager-gui" />
>>      <user name="mgr-script"
>>          password="password"
>>          roles="manager-script"/>
>>      <user name="mgr-jmx"
>>          password="password"
>>          roles="manager-jmx"/>
>>      <user name="mgr-status"
>>          password="password"
>>          roles="manager-status"/>
>> </tomcat-users>
>>
>>     d. Note, I wrapped my lines so it would fit in email.
>>     e. Choose better passwords
>> 7. Verify that Tomcat runs
>>     a. double-click on
>>     C:\Users\[username]\Apache\**apache-tomcat-7.0.33\bin\**startup.bat
>>     b. Browse to http://localhost:8080
>>     c. See the Tomcat start page
>>     d. double-click on
>>     C:\Users\[username]\Apache\**apache-tomcat-7.0.33\bin\**shutdown.bat
>> 8. Add server to Eclipse Juno
>>     a. Start Eclipse
>>     b. Open the Servers window (Windows->Show View->Others->Servers)
>>     c. Right-mouse click in the Servers window
>>     d. Choose New->Server
>>     e. Follow the Wizard
>>
>> You now have Tomcat 7.0.33 running from within Eclipse Juno. The keys are:
>>
>> 1. Do not install as a service
>> 2. Install in your own directory, otherwise you'll be fighting UAC
>>
>> . . . . just my two cents.
>> /mde/
>>
>> (Beats packing and moving in the rain)

It's really easier to follow the conversation if you do not top post. 
Then a new person can read starting from the top of the message to the 
end and have the entire sequence nice and in order.

That said, I'll copy and paste some of the information from your logs 
and make comments.

Hopefully I'll get the line wrapping reasonably correct.

 > INFO: The APR based Apache Tomcat Native library which allows optimal
 > performance in production environments was not found on the
 > java.library.path: C:\Program
 > Files\Java\jre7\bin;C:\Windows\Sun\Java\bin;C:\Windows\system32;C:>
 > \Windows;C:/Program
 > Files/Java/jre7/bin/client;C:/Program Files/Java/jre7/bin;C:/Program
 > Files/Java/jre7/lib/i386;C:\Windows\system32;C:\Windows;C:\Windows
 > \System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
 > Files\Calibre2\;C:\Program Files\Microsoft SQL
 > Server\90\Tools\binn\;D:\Eclipse\JEE;;.

The above is not a problem. This means that Tomcat cannot find the 
tcnative.dll in its path. The easiest solution is to copy the 
tcnative-1.dll into tbe %CATALINA_BASE%\bin directory.

 > SEVERE: Failed to open access log file [C:\Program Files\Apache
 > Software
 > Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt]
 > java.io.FileNotFoundException: C:\Program Files\Apache Software
 > Foundation\Tomcat 7.0\logs\localhost_access_log.2012-12-05.txt ?
 > (Access is denied)

This is the problem.

You've probably used the installer, and have installed it in
C:\Program Files. You may have installed this as a service as well.

1. You as a normal user do not have write access to C:\Program Files

You are running Tomcat as you, and Tomcat will not be able to write 
files to C:\Program Files or its subdirectories running under your username.

2. If you've installed this as a service, don't

You want to control this from Eclipse, so do not install as a service.

Above, I gave very specific instructions about how to install Tomcat so 
that you could run it from Eclipse.

I recommended that you install Tomcat under your home directory. I did 
this to avoid the permissions issues that you now have.

I specifically recommended to use the zip file (and not the installer). 
Eclipse does not start and stop Tomcat services, but starts this 
manually. I think it does this by running it directly, but I've never 
looked. NetBeans does what I think is proper and uses the .bat (or .sh 
files on Linux / UNIX).

Solution:

1. Install Tomcat in a directory you have full access to

This is why I recommended C:\Users\[username]\Apache

2. Do not install the service

This is why I recommended using the zip file. You want to be able to 
control Tomcat from within Eclipse. Eclipse does not control services.

In short, please follow the original recommendation:

 >> 1. Do not install as a service
 >> 2. Install in your own directory, otherwise you'll be fighting UAC

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 07:50:03 2012
Return-Path: <users-return-238409-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F1D6D083
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 07:50:03 +0000 (UTC)
Received: (qmail 21662 invoked by uid 500); 5 Dec 2012 07:50:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21463 invoked by uid 500); 5 Dec 2012 07:49:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21426 invoked by uid 99); 5 Dec 2012 07:49:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 07:49:58 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 07:49:48 +0000
Received: from [192.168.245.129] (p549E9086.dip0.t-ipconnect.de [84.158.144.134])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 9AF013C0548
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 08:50:16 +0100 (CET)
Message-ID: <50BEFC85.3040205@ice-sa.com>
Date: Wed, 05 Dec 2012 08:49:25 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Tomcat 7 SSL Session ID
References: <50B7C3A6.4010300@christopherschultz.net> <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com> <C45352600C954650B20BA82D82D1315D@HP6910P>
In-Reply-To: <C45352600C954650B20BA82D82D1315D@HP6910P>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Esmond Pitt wrote:
> Broken pipes don't invalidate the SSL session. They just break the TCP
> connection. The SSL session persists, across multiple TCP connections, until
> it is specifically invalidated by someone: for example, timed out by the
> SSLSessionContext.
>  
Ah.  That would explain some other (totally unrelated) phenomenon which I had noticed and 
which puzzled me.
I didn't know that. Thanks for the info.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 08:13:18 2012
Return-Path: <users-return-238410-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 265F4D233
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 08:13:18 +0000 (UTC)
Received: (qmail 84864 invoked by uid 500); 5 Dec 2012 08:13:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84758 invoked by uid 500); 5 Dec 2012 08:13:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84729 invoked by uid 99); 5 Dec 2012 08:13:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 08:13:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 08:13:04 +0000
Received: from [192.168.245.129] (p549E9086.dip0.t-ipconnect.de [84.158.144.134])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id B4C763C06FE
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 09:13:31 +0100 (CET)
Message-ID: <50BF01F8.8040009@ice-sa.com>
Date: Wed, 05 Dec 2012 09:12:40 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net>
In-Reply-To: <50BE5815.2050809@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Will,
> 
> On 12/4/12 2:47 PM, Will Nordmeyer wrote:
>> Thanks for the quick response and the thoughts.  a 5 minute
>> timeout wouldn't be acceptable in our environment - theory being,
>> if user A pulls his smart card out (but didn't log out of the app),
>> and user B goes up to the machine within 5 minutes, he may have
>> access to someone else's account in the application.  So I was
>> really hoping there was some way to trigger the session to expire.
> 
> The only thing I can think of would be to have the web browser
> complicit in the deal: if the browser can be configured to expire the
> SSL session when the card is removed, then that is really the only
> solution that will be truly secure.
> 
>> I'll keep looking, or suggest to my dev team that they write a
>> little app that queries the card regularly and as soon as the card
>> can't be found, logs out.
> 
> Is it a valid use case to have the computer itself logged-in when the
> card is removed? For instance, if you configured the machine to
> auto-lock when the card was removed, then you might be able to do
> other things, too (like kill the browser, which should kill the SSL
> session).
> 

Sorry for barging in where I know little myself.
In the thread "Tomcat 7 SSL Session ID", a recent post by EJP may have a bearing on this 
discussion, maybe.

Other than that, and without any pretense at offering a "solution" to the present issue, 
maybe this is the point where one needs to step back and ask oneself if this is really a 
problem of the application.

If the environment is such that it is a concern that one might login using a card, then 
remove the card and walk away, leaving the workstation logged-in and a session open with 
some security-conscious application, for someone else to use at will, then maybe this is 
not a problem of the application at the other end, but a problem with the environment ?
What for example if that same person walks away while leaving their card in the reader ?



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 08:50:38 2012
Return-Path: <users-return-238411-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7683AE0EE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 08:50:38 +0000 (UTC)
Received: (qmail 79996 invoked by uid 500); 5 Dec 2012 08:50:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79674 invoked by uid 500); 5 Dec 2012 08:50:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79635 invoked by uid 99); 5 Dec 2012 08:50:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 08:50:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.45 as permitted sender)
Received: from [209.85.214.45] (HELO mail-bk0-f45.google.com) (209.85.214.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 08:50:26 +0000
Received: by mail-bk0-f45.google.com with SMTP id jk13so2391516bkc.18
        for <users@tomcat.apache.org>; Wed, 05 Dec 2012 00:50:04 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=8tVRnhZU3AP9mLaFjrfzK6YeEL9DSYpf5lqAph8szt4=;
        b=OTS8llkBm+cDizBqskROjwvcrZCPywdUT9W2U67My1/iNLJrdLy62OkjwrMD5vvbMA
         of2eBHqzyHrr6IMzT+mNrQxrWnabBaNN9hL1V+hVm0LlH1ZVZTb6smflnJKlhWScEjW3
         aaSrhyDoQQ8w0tDPji2dIQ6ia/E8XSLHl6pqQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=8tVRnhZU3AP9mLaFjrfzK6YeEL9DSYpf5lqAph8szt4=;
        b=baqSCW6h51oadP0iMQsBLJO2eQayy5KvYutYhn5URdesKAzCQMHPczwGaiOcd6zJrb
         Jjcvji3SToxihgx5B6HiY2Q/wALIv930lFGNImkqQ1x4s/mdWR6qeBWphuvADzwcxmLX
         J5LE7IzjepJZ3Ee/qR1EhN6c3mfGLH9OmnpIMcqrSuM/6DvWlibTEANZH0ieuo+P3Jqb
         BLSNMgFNieHflK19bm/UvJiQh/kgPmLp01+qeGKsQNz57wTIA2wNFxuLoDeW9RazUcsm
         coQj5jK17DfRWLxDmI9aWwXqnwrUCl9F+iL4cYdzZzfsLzOh/SDtS904Yl8OQ84Ds1AL
         P/bg==
Received: by 10.204.147.79 with SMTP id k15mr4849728bkv.55.1354697403918;
        Wed, 05 Dec 2012 00:50:03 -0800 (PST)
Received: from sw-vmw-mbp.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id y11sm2943408bkw.8.2012.12.05.00.50.02
        (version=SSLv3 cipher=OTHER);
        Wed, 05 Dec 2012 00:50:02 -0800 (PST)
Message-ID: <50BF0ABF.9070801@pidster.com>
Date: Wed, 05 Dec 2012 08:50:07 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Suggestion for improving Tomcat startup performance...
References: <1354669548.74393.YahooMailClassic@web113609.mail.gq1.yahoo.com>
In-Reply-To: <1354669548.74393.YahooMailClassic@web113609.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigB1E13DDA2244BDD54E841B60"
X-Gm-Message-State: ALoCoQklJblLx64vsYgl9rt+xcA64yZO49l/aVpMY3He8BVpOeDVhWGvUYh1u2z55VmxRUnatYF3
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigB1E13DDA2244BDD54E841B60
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 05/12/2012 01:05, Tony Anecito wrote:
> Also, if there is some other email group I should be using for technica=
l questions about use of Tomcat please let me know.

No, this is it.


p


--=20

[key:62590808]


--------------enigB1E13DDA2244BDD54E841B60
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQvwrCAAoJEGoM2OGpOvr9gJ0P/0aeJ6QTolwYpQ4bKedJxJNC
P8VC6z+r20EWeXtMIZKfOQLwV62Q87VFGtfdvTZraVnqa2fuwFDdMYf62p6/DX8S
l8+rSznvF8bUYoiSpb7fsgs/lQnsW9FB0wJOHiOztWfinnG4Ut+14+gzfpTQaxSl
HAEl3LztX1x4w0Lzx6lz/0unIt1DkyIzZoPs6sfZvxFnkJUs7Ixp/AKaXLSlLkP6
fyo8apQAx+AclKvwgHkRa95cl8PeKWedkL73SzBNlEPrXGAJGOJaZrFXgUdXz0CU
3MHUCedTvaZJKw9GcG0qqD2j74dpuIbm7PUk0xCSaZ8vaqFLUYq7FOBXTZSZHkdF
iac9Aow0sYozaTf2b8wGBZDcZ8R1L0D9JTO2wxPh0VUSpIE3RKSc062nG01uVCrb
pL6w6o/c8dsa/wSzeFFHufbSZ1qn1sTor8x+RtZ3xgIir8ZH1GDXsXgLTy/idxCx
y5VhFXN9BuU3ajzxCiJjQO1lmAv0c5ornUoEpjwcsw8EsxgpMnWJfaR8MmSUiAoh
wyv7y86XNcJa37XDqOoZSLr6ok9dHSk92irHgE9YtZbbIH9sAuq3q6lrBVXXz+x/
oJn6VsCqbT0+ZlMrurCl5t+PMI94qL7/OybuMmlzPxkwbQRG9VfYRKBUhd9FnUBw
G4gZ/YQoZV6yrB+PMWwp
=/Fy9
-----END PGP SIGNATURE-----

--------------enigB1E13DDA2244BDD54E841B60--

From users-return-238412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 09:11:20 2012
Return-Path: <users-return-238412-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FDF3E197
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 09:11:20 +0000 (UTC)
Received: (qmail 35021 invoked by uid 500); 5 Dec 2012 09:11:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34974 invoked by uid 500); 5 Dec 2012 09:11:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34712 invoked by uid 99); 5 Dec 2012 09:11:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 09:11:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lyallex@gmail.com designates 209.85.212.173 as permitted sender)
Received: from [209.85.212.173] (HELO mail-wi0-f173.google.com) (209.85.212.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 09:10:45 +0000
Received: by mail-wi0-f173.google.com with SMTP id hn17so1251093wib.0
        for <users@tomcat.apache.org>; Wed, 05 Dec 2012 01:10:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=cATDKLq7i2Xzxjyz7JTvAVJH130tMxSSjvyGb9OxaKY=;
        b=fh+cXhzWnlN6xQUJ+u/5Akj42GzTrtqQ3jnX82wbjp+L6tSSsGgs2OKdDd+kaUDH1g
         7i4NGz6mw9YQ4GYdfb1FtzfQDk+KLImDgNB+s7OLRPVkA6nvuMCrkTWwkdhWdhjKX0Ve
         L3AG+VoZqKOzJPeR1vN7s052Y54lWgsM26UnAkSyDTZCUcBQQiEZ87AOUIirClL1qODr
         Hi5NJEc1fahrlzTa6tUyPEp+F3mDjAs2z/t4rnW81gi7bFr2QyXi/n8dZlSFu8nt0IIq
         reuJ7HVCEqbqUI5p5Hnkn46J6+9FwTm5FX5IflTswZnTZu1wIW9M7AktA6K87pJU2K5g
         2u+w==
MIME-Version: 1.0
Received: by 10.180.85.165 with SMTP id i5mr1874223wiz.11.1354698620777; Wed,
 05 Dec 2012 01:10:20 -0800 (PST)
Received: by 10.227.29.18 with HTTP; Wed, 5 Dec 2012 01:10:20 -0800 (PST)
In-Reply-To: <CABzHfVk-gU49yBofVA2XnxmhpKwPdYbG-eStTCROHTcYoekDjw@mail.gmail.com>
References: <CAMqzz4QM0EGUdY99eTTSXGyzvewurMEecOgNx38Y6_JrfyQEJg@mail.gmail.com>
	<CABzHfVnB6E2vAb7nnm_BSHQGKNJqcetLrOBUesr_cCCTtxFPAw@mail.gmail.com>
	<CAMqzz4Q+UDHZW2wsUn5Kd4ag1nmt3+5Jr91_irwn4Vki=KfPnw@mail.gmail.com>
	<CABzHfVk7UWq8Ot02KVru=HBgxGmxCyPjGHXO_kCMQDBZ8VH7-A@mail.gmail.com>
	<CAMqzz4Q3dVxjpuDOZX-yxVRNggP7FK8OPn2Jsv75NHeoyxeBXw@mail.gmail.com>
	<CABzHfVk-gU49yBofVA2XnxmhpKwPdYbG-eStTCROHTcYoekDjw@mail.gmail.com>
Date: Wed, 5 Dec 2012 09:10:20 +0000
Message-ID: <CAMqzz4SpqS_OP3GEMrBGHmZTeemitnHkuNzXbgtd-Q4umj+PNA@mail.gmail.com>
Subject: Re: Running Tomcat under jsvc - logging problems
From: Lyallex <lyallex@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0445182d11b43604d0175a1d
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0445182d11b43604d0175a1d
Content-Type: text/plain; charset=ISO-8859-1

On 4 December 2012 21:18, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:

> 2012/12/5 Lyallex <lyallex@gmail.com>:
> > On 4 December 2012 19:41, Konstantin Kolinko <knst.kolinko@gmail.com>
> wrote:
> >
> >> 2012/12/4 Lyallex <lyallex@gmail.com>:
> >> > On 4 December 2012 18:50, Konstantin Kolinko <knst.kolinko@gmail.com>
> >> wrote:
>
> [snip]


> Moreover, I think it should run just fine with an older jsvc.
>
>
OK, thanks for your assistance, it seems fairly obvious then that there is
some aspect of the logging config that I've missed.

I've never really got my head around logging, It's a bit like a washing
machine, I don't know or care how it works, it just does.
I suppose I'll have to start reading ... I've just got so many more
interesting things to be getting on with.

Ho Hum

Thanks again
Lyallex

--f46d0445182d11b43604d0175a1d--

From users-return-238413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 09:22:04 2012
Return-Path: <users-return-238413-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E1CEE1CF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 09:22:04 +0000 (UTC)
Received: (qmail 59454 invoked by uid 500); 5 Dec 2012 09:22:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59010 invoked by uid 500); 5 Dec 2012 09:21:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58916 invoked by uid 99); 5 Dec 2012 09:21:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 09:21:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of esmond.pitt@bigpond.com designates 61.9.168.143 as permitted sender)
Received: from [61.9.168.143] (HELO nskntmtas03p.mx.bigpond.com) (61.9.168.143)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 09:21:49 +0000
Received: from nskntcmgw06p ([61.9.169.166]) by nskntmtas03p.mx.bigpond.com
          with ESMTP
          id <20121205092127.YCIF10464.nskntmtas03p.mx.bigpond.com@nskntcmgw06p>;
          Wed, 5 Dec 2012 09:21:27 +0000
Received: from HP6910P ([120.151.14.51])
	by nskntcmgw06p with BigPond Outbound
	id XlMT1k00D165irc01lMTpZ; Wed, 05 Dec 2012 09:21:27 +0000
X-Authority-Analysis: v=2.0 cv=VaB1zSV9 c=1 sm=1
 a=4u9tzJkkMcV5r5ibEi6r6w==:17 a=hesdidE6XCEA:10 a=JDadKst33uMA:10
 a=kj9zAlcOel0A:10 a=1IlZJK9HAAAA:8 a=Z-wADx3DLQcA:10 a=69EAbJreAAAA:8
 a=pGLkceISAAAA:8 a=UJ5Y5Z__AAAA:8 a=mV9VRH-2AAAA:8 a=-57I09spAAAA:8
 a=j4nzMFrpAAAA:8 a=QfKxxUxMAAAA:8 a=FKmBBcFvi-S2nTmtwlAA:9 a=CjuIK1q_8ugA:10
 a=qkmkbVaIRQoA:10 a=EfJqPEOeqlMA:10 a=MSl-tDqOz04A:10 a=Z1BvOZmT1TIA:10
 a=EnLKqdGQ194A:10 a=GQt0yeIK3rYPBqID:21 a=BZwOBmcP_fTDiN6E:21
 a=4u9tzJkkMcV5r5ibEi6r6w==:117
From: "Esmond Pitt" <esmond.pitt@bigpond.com>
To: "'Martin Gainty'" <mgainty@hotmail.com>,
	"'Tomcat Users List'" <users@tomcat.apache.org>,
	<goelenv@gmail.com>
References: <C45352600C954650B20BA82D82D1315D@HP6910P> <BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
In-Reply-To: <BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
Subject: RE: Tomcat 7 SSL Session ID
Date: Wed, 5 Dec 2012 20:21:19 +1100
Message-ID: <131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ac3SuDFb6I9Ox7ySTdiPty+XWf09YwAEYsCw
X-MimeOLE: Produced By Microsoft MimeOLE V6.1.7601.17609
X-Virus-Checked: Checked by ClamAV on apache.org

Yes but he *already has* an SSL session which he states is being
invalidated. To the limited extent to which I could make sense of your
incomprehensible post, it appears to be 100% irrelevant.

-----Original Message-----
From: Martin Gainty [mailto:mgainty@hotmail.com] 
Sent: Wednesday, 5 December 2012 11:27 AM
To: Tomcat Users List; goelenv@gmail.com
Subject: RE: Tomcat 7 SSL Session ID


yes but he needs to achieve a reliable connection between himself and the
SSLServer (at least until key negotiation has completed) broken pipe(s) are
a bear to debug but you have a few tools available to you:

netstat  SSLServerIP
-- if you see ANY intervening nodes hanging more than 4 sec drop from arp
cache generally by arp -d ServerIP
assuming your ServerIP is is 157.55.85.212 and the physical address of the
network you want to connect to is 00-aa-00-62-c6-09  (check with net-admin
for the physical-address or eth-addr to use) > arp -s 157.55.85.212
00-aa-00-62-c6-09  .... Adds a static entry.
 > arp -a                                    .... Displays the arp table.
route print will display the routes between you and the SSLServer if you
dont see a route referencing the server you may want to add in your own
route with 
route add DESTINATION MASK Mask  METRIC NoOfHops Interface
InterfaceNumbercheck with net-admin DESTINATION is generally the
dotted.quad.of.SSLServercheck with net-admin generally Mask =255.255.255.0
will docheck with net admin about which Interface to use..avoid 127.0.0.1
(unless testing locally)check with net admin on NoOfHops param ..generally
the lower the better use curl (command line url) to check the validity of
the certificate, keys and passwordscurl -1 --cacert [file] --key
PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey PublicKey.jks-1
says use TLSv1check the type of key most keys start out as PEM PEM key ends
with .PEM extension ...DER key with .DER... ENG key ends with
.ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to achieve
a Key Exchange you will have a valid SSL Connection..remember binaries have
lower CPU so test with a reliable binary first then start debugging your
code (i assume you added your CA cert into your local truststore) enough
pollution?
Martin
______________________________________________
Verzicht und Vertraulichkeitanmerkung
Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugte
Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht
dient lediglich dem Austausch von Informationen und entfaltet keine
rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
 

 > From: esmond.pitt@bigpond.com
> To: goelenv@gmail.com; users@tomcat.apache.org
> Subject: RE: Tomcat 7 SSL Session ID
> Date: Wed, 5 Dec 2012 09:57:38 +1100
> 
> Broken pipes don't invalidate the SSL session. They just break the TCP 
> connection. The SSL session persists, across multiple TCP connections, 
> until it is specifically invalidated by someone: for example, timed 
> out by the SSLSessionContext.
>  
> EJP
> 
>   _____
> 
> From: Vincent Goelen [mailto:goelenv@gmail.com]
> Sent: Wednesday, 5 December 2012 1:15 AM
> To: Tomcat Users List
> Subject: Re: Tomcat 7 SSL Session ID
> 
> 
> Hey,
> 
> thanks for the help! 
> 
> To be clear, I do not want a 0ms timeout... I'm doing research about 
> how "usable" the SSL session tracking option is for session management...
> With the standard settings it seems very unstable to me, when sending 
> alot of parallel requests I get a broken socket error invalidating the 
> ssl session and making the session with this id disappear. In this 
> case it would seem to me that it's easy to create Denial of Service 
> attacks by just sending alot of requests so the user loses his session.
> 
> By playing with the timeouts I found out this problem doesn't occur 
> when I set the timeout to 0, just by playing with the settings. 
> Perhaps because this disables the possibility of too many parallel 
> connections? I can't find the reason of this in the Tomcat or SSL specs...
> 
> I've added a screenshot of a capture where things go wrong without 
> setting a keepAlive.. So I send alot of requests to the server, the 
> first clientHello (pck 38943) and the following packets everything 
> goes ok, when the application data is being send I get a tcp rst from 
> port 54195 (this is the connection that was used for the transactions 
> before the current one) ... At this moment my session gets invalidates 
> making the next SSL handshake a full one with new ID (pckt 40361, ...)
> 
> 
> 
> 
> 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
> 
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Vincent,
> 
> 
> On 11/28/12 3:14 AM, Vincent Goelen wrote:
> > When the keepAliveTimeout is not set to "0" I can see in the SSL 
> > debug logs the SSL session get's invalidated after some requests 
> > with a Broken Pipe exception. Is this because there are too many 
> > open connections during the keepAliveTimeout?
> 
> 
> It's probably because of your pathological keepAliveTimeout. 0ms 
> seems, er, low. Why did you choose 0ms?
> 
> I haven't looked at the code, so I'm not sure if the elapsed timer 
> starts when the last request is completed (which seems reasonable) or 
> when the last request started. I suspect the latter. 0ms is awfully 
> short. Are you sure that your client is capable of accepting the 
> response to the previous request and turn-around and make another 
> request across the same channel before 0ms passes?
> 
> 
> > It also only happens when processing the requests takes some time 
> > (fe. storing items in database) or when I put the threat to sleep 
> > for testing purpose.
> 
> 
> So if you have a trivial request (say, HEAD for a static resource), 
> you can never get a failure?
> 
> 
> > When inspecting the traffic I see some tcp-rst packages (problem is
> > here?) from previous connections while the current one is being 
> > processed.
> 
> 
> When you say "current one" what do you mean? If you are using a single 
> connection with HTTP keepalive, then there is only one connection to 
> talk about: you can't get RSTs from "previous connections". You may be 
> getting TCP RST as the server closes the connection while the client 
> is trying to write. Is that what you are experiencing?
> 
> 
> > My question is why these SSL Sessions get invalidated after alot of 
> > quick requests to the server since this gives a problem with my SSL 
> > Session tracking since the id changes then.
> 
> 
> Maybe if you can explain why you want a 0ms keepalive timeout it would 
> be helpful. If you want to disable keep alives, set 
> maxKeepAliveRequests="1". If you want to allow an infinite timeout, 
> try using keepAliveTimeout="-1" as the documentation states.
> 
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
> 
> iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> =J7dz
> -----END PGP SIGNATURE-----
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 
> 
> 
 		 	   		  


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 11:15:48 2012
Return-Path: <users-return-238414-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1D9EAD19A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 11:15:24 +0000 (UTC)
Received: (qmail 69075 invoked by uid 500); 5 Dec 2012 11:15:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68933 invoked by uid 500); 5 Dec 2012 11:15:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68924 invoked by uid 99); 5 Dec 2012 11:15:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 11:15:19 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 11:15:13 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so2500948wgb.0
        for <users@tomcat.apache.org>; Wed, 05 Dec 2012 03:14:51 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FhHuvPXcg/UbJIDVe2ppBcmyHfkWBIKy72+TF1sZ9JI=;
        b=HhjQ4J1M0b3V6jSmg4EaNX2xc4NPzODtzLSiNAnTXAkHIcbx5d02Koiqa6b2DFSKQI
         5GbG+fbOpEtQ3mgM24YFZwfOKdKDSDTKnEk0RZcYuQuEUJ5GJfBeq3ZPdlFqHTUc0UkR
         Lre9DnDcWv/wcZwjMgZS5EucZHiU+dTMhIZcIrNQ0dXNUZDNWsZvG8lc7dpFTe9YjC7r
         modnQjb+KYXm1FLlzXHgSiZ+w0wsAmyXW1MsnuNY0KpaF9waU0RP1m2xYmWJC9/m+Lnh
         7V4pkl6y8VLAVNtLe5Ag3GhA5gBfYA0tCkTgk2eAljQBOsnzYOO1aPOq3VC46q9SFQn9
         DyCg==
MIME-Version: 1.0
Received: by 10.180.88.70 with SMTP id be6mr2521045wib.14.1354706091741; Wed,
 05 Dec 2012 03:14:51 -0800 (PST)
Received: by 10.180.145.201 with HTTP; Wed, 5 Dec 2012 03:14:51 -0800 (PST)
In-Reply-To: <CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
	<CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
Date: Wed, 5 Dec 2012 08:14:51 -0300
Message-ID: <CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com>
Subject: Re: Data sources definitions are lost in memory
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0442838e5f90af04d0191741
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0442838e5f90af04d0191741
Content-Type: text/plain; charset=ISO-8859-1

Hi Konstantin,

1. This NullPointerException happens when an application starts up?

(Do the apps perform the lookup once and cache the result, or they
perform multiple lookups?)

No, it happens after application starts up. The applications perform
multiple lookups.

2. What is seen in JNDI context depends on the current classloader
(Thread.getContextClassLoader()).

Does the issue happen in a request processing thread, or somewhere else?

Request processing thread.

3. Does it affect specific web applications, or it is more random?

When it happens, it affects all datasources (globals and applications
specific) of all applications.

4. Anything interesting in the logs and in catalina.out? E.g.
OutOfMemoryError.

No, but we're still looking for some lead.

5. What connector implementations are you using? Bio, Nio, APR?

APR.

The last time that this issue happened was on 11/22.

Thanks,

Robert


On Tue, Dec 4, 2012 at 6:01 PM, Konstantin Kolinko
<knst.kolinko@gmail.com>wrote:

> 2012/11/28 Robert Anderson <ranomail@gmail.com>:
> > Hi,
> >
> >
> > We've some data sources defined in server.xml as following:
> >
> > ...
> >  <GlobalNamingResources>
> >   ...
> >           <Resource name="jdbc/proddb1" auth="Container"
> > type="javax.sql.DataSource" removeAbandoned="true"
> > removeAbandonedTimeout="300"
> >                                    maxActive="400" maxIdle="30"
> > maxWait="10000"
> >                                    validationQuery="select 1 from dual"
> >                                    testOnBorrow="true"
> >                                    username="xxxx" password="xxxx"
> > driverClassName="com.intersys.jdbc.CacheDriver"
> >                                    url="jdbc:Cache://server:1972/DB"/>
> > ...
> >
> >  </GlobalNamingResources>
> >  ...
> >
> > conf/context.xml
> >
> > <Context>
> >     ...
> >         <ResourceLink name="jdbc/proddb1" global="jdbc/proddb1"/>
> >     ...
> > </Context>
> >
> >
> > Everything has worked normal during many months...until now.
> >
> > At least once a day, since 11/21, webapplications  throw
> > NullPointerException because they cannot find jndi data sources. The Data
> > sources tab in psi-probe (http://code.google.com/p/psi-probe/) says that
> > there aren't jndi data sources in server.  We are thinking that some
> > application may have added some jar or class in classpath that is causing
> > the problem.
> >
> > After restart, without changes in conf files,  everything backs to
> normal.
> >
> > Any idea?
> >
> > Environment:
> >
> > java version "1.6.0_35"
> > Java(TM) SE Runtime Environment (build 1.6.0_35-b10)
> > Java HotSpot(TM) 64-Bit Server VM (build 20.10-b01, mixed mode)
> >
> > Server version: Apache Tomcat/6.0.32
> > Server built:   February 2 2011 2003
> > Server number:  6.0.32.0
> > OS Name:        Linux
> > OS Version:     2.6.18-194.17.1.el5
> > Architecture:   amd64
> > JVM Version:    1.6.0_35-b10
> > JVM Vendor:     Sun Microsystems Inc.
> >
>
> 1. This NullPointerException happens when an application starts up?
>
> (Do the apps perform the lookup once and cache the result, or they
> perform multiple lookups?)
>
> 2. What is seen in JNDI context depends on the current classloader
> (Thread.getContextClassLoader()).
>
> Does the issue happen in a request processing thread, or somewhere else?
>
> 3. Does it affect specific web applications, or it is more random?
>
> 4. Anything interesting in the logs and in catalina.out? E.g.
> OutOfMemoryError.
>
> 5. What connector implementations are you using? Bio, Nio, APR?
>
> Best regards,
> Konstantin Kolinko
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d0442838e5f90af04d0191741--

From users-return-238415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 12:33:41 2012
Return-Path: <users-return-238415-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 002A3DF05
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 12:33:41 +0000 (UTC)
Received: (qmail 64220 invoked by uid 500); 5 Dec 2012 12:33:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63804 invoked by uid 500); 5 Dec 2012 12:33:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63734 invoked by uid 99); 5 Dec 2012 12:33:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 12:33:29 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of quark122@gmail.com designates 209.85.210.180 as permitted sender)
Received: from [209.85.210.180] (HELO mail-ia0-f180.google.com) (209.85.210.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 12:33:24 +0000
Received: by mail-ia0-f180.google.com with SMTP id t4so4891277iag.39
        for <users@tomcat.apache.org>; Wed, 05 Dec 2012 04:33:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=NcfLWg67vDvr8nY01oymV3dMcsTH4eM7YzgsuPiENKA=;
        b=cyoT0DmFlnMlUHEXpGNRB1RQCnNCmXVrvr6sw3t0/H5jzY/iY6Zqlvn+1dig9uUuZL
         Zu6WM4qOQ7eHtGAP+FqnNVN0f73ugXcLvzS90KpbslBaSc/KqM/pdmHasoV6hEp3T6ZQ
         bvVP91Ml10UoqWalXVNd/b6idY5cTnzlvfHRVfZlKZYVbBHgVOrdRYMAzcjcK65NDQiz
         RCjazYqMMlc7uievugP1CBeP9r9tYscIoyzvXoCePRG7CVQdnql1fd2YpuJScy80piSk
         91RiMmeDxuj9rIPjgjIBiOUSrlgs0K0gjIaRGCHWmkHawWD4mfd5qcHp7Jbonks702Hk
         Zb3g==
MIME-Version: 1.0
Received: by 10.50.187.165 with SMTP id ft5mr1667182igc.12.1354710783691; Wed,
 05 Dec 2012 04:33:03 -0800 (PST)
Received: by 10.64.17.133 with HTTP; Wed, 5 Dec 2012 04:33:03 -0800 (PST)
In-Reply-To: <50BE5815.2050809@christopherschultz.net>
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
	<50BE36E8.7000500@christopherschultz.net>
	<50BE3774.6090904@christopherschultz.net>
	<CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
	<50BE5815.2050809@christopherschultz.net>
Date: Wed, 5 Dec 2012 07:33:03 -0500
Message-ID: <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
Subject: Re: Recognizing certificate removal (SmartCard)
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Dec 4, 2012 at 3:07 PM, Christopher Schultz
<chris@christopherschultz.net> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Will,
>
> On 12/4/12 2:47 PM, Will Nordmeyer wrote:
>> Thanks for the quick response and the thoughts.  a 5 minute
>> timeout wouldn't be acceptable in our environment - theory being,
>> if user A pulls his smart card out (but didn't log out of the app),
>> and user B goes up to the machine within 5 minutes, he may have
>> access to someone else's account in the application.  So I was
>> really hoping there was some way to trigger the session to expire.
>
> The only thing I can think of would be to have the web browser
> complicit in the deal: if the browser can be configured to expire the
> SSL session when the card is removed, then that is really the only
> solution that will be truly secure.
>
That's a potential, but there are quite a few clients so I'm not sure
we can impact the clients...  interesting scenario we've got.

>> I'll keep looking, or suggest to my dev team that they write a
>> little app that queries the card regularly and as soon as the card
>> can't be found, logs out.
>
> Is it a valid use case to have the computer itself logged-in when the
> card is removed? For instance, if you configured the machine to
> auto-lock when the card was removed, then you might be able to do
> other things, too (like kill the browser, which should kill the SSL
> session).
>
Oddly enough, yes, it is a valid use case.  we have specific scenarios
where there are common use PCs that have a generic ID logged in, but
they use their CAC and the browser to access the web application.



> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC+WBUACgkQ9CaO5/Lv0PBmeACeN5Y/m0G73Mplzufsys70uZPZ
> EsoAn0Lh/cuM4vtC6Y5B8QekaDXff7eE
> =mSK7
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 14:00:28 2012
Return-Path: <users-return-238416-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55FEAEBE7
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 14:00:28 +0000 (UTC)
Received: (qmail 83693 invoked by uid 500); 5 Dec 2012 14:00:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83435 invoked by uid 500); 5 Dec 2012 14:00:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83387 invoked by uid 99); 5 Dec 2012 14:00:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:00:20 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.70] (HELO nm23-vm7.bullet.mail.sg3.yahoo.com) (106.10.151.70)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:00:12 +0000
Received: from [106.10.166.120] by nm23.bullet.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 13:59:49 -0000
Received: from [106.10.166.102] by tm9.bullet.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 13:59:49 -0000
Received: from [127.0.0.1] by smtp120-mob.biz.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 13:59:49 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354715989; bh=ddRRhhj0ihPav8bnjSqEwjj2QNirinwhiacSZyPzte8=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Content-Type:Content-Transfer-Encoding:Subject:From:Message-Id:Date:To:Mime-Version:X-Mailer; b=busMrPg8f8D6nlDiX+/ZcjkzfZFPOJ/08iBqA1buMarr5315Z3Tt94Li/xF7xvQBExthmYcHvc6wAjkfga7Drb/KrdRD8c8ur0+zxCAd37+PUFOvajCuVDHGptCDpZANZEIhFJMDgWkwQIeoh52pbYNg96uBqmizb7XNUbMxjqQ=
X-Yahoo-Newman-Id: 234092.8476.bm@smtp120-mob.biz.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: cZ4xrUsVM1kaMn17DLD9dTYrZ0mxLdIBuBVgs8t0WdSbVO5
 6pG_tO7mEL.0AEymbBYTDeqZ9Jv0e2x40k6adVxVpRLkyTv_ePvCjStqZwUf
 cRu4aK4fooqkv3jsiYDBZ4U8IYM6EtuEk9nSmkI.GmGFEY7fte0CkYn3iGc3
 Y_YNLAfWOYEf19piptp5nhb5dB8bP1dFf8XUZE.eOX.RGLPqjD2dqVp_afnw
 jow4jm8cLN5tVW9w7cKsmnNVheAh6NkmMGjLoVQD3xxQSsK1ZMAQTJIuKg48
 WTumCvEoi5SLdeOfZtd_z.1lTfcVOND_UQl44Eco16DC.i6K_3JXBRRrF2L8
 TePmaeN2ZY3eNtS0SIdM65ATAaw9H.JvYMQTOTjJBiyYi4bcDL1NPpmfMmKE
 MwgAi7BiuQXAMaAYIjsXTeV6w1CdRfy5Za7vKQv7Jr49FRGcMbLgpMlo-
X-Yahoo-SMTP: ajpxA4uswBBx5xUesqpGwIxhJ2rBVD6Wr1LeDLQ-
Received: from [223.228.29.97] (vicky007aggarwal@223.228.29.97 with xymcookie)
        by smtp120-mob.biz.mail.sg3.yahoo.com with SMTP; 05 Dec 2012 13:59:49 +0000 UTC
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: Apache issue
From: vicky007aggarwal@yahoo.co.in
Message-Id: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in>
Date: Wed, 5 Dec 2012 19:25:17 +0530
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Mime-Version: 1.0 (1.0)
X-Mailer: iPhone Mail (10A403)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Guys,

My apache instance after sometime become unresponsive & to restore it i need=
 to restart it. Weird thing is that no exception/error is coming in logs.

Can you please suggest what all things i can check for my apache.

Is there any jvm related things which i need to check.=20

Please suggest what all basic troubleshooting i can do

Thanks in advance
Vicky



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 14:04:08 2012
Return-Path: <users-return-238417-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D527CEC2B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 14:04:08 +0000 (UTC)
Received: (qmail 97761 invoked by uid 500); 5 Dec 2012 14:04:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97586 invoked by uid 500); 5 Dec 2012 14:04:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97565 invoked by uid 99); 5 Dec 2012 14:04:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:04:04 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dontariq@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:03:57 +0000
Received: by mail-qc0-f173.google.com with SMTP id b12so3431794qca.18
        for <users@tomcat.apache.org>; Wed, 05 Dec 2012 06:03:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=9MteiPkXYywdRnXfI5xL9jGjcWv7TWUw5jaTaTW7naM=;
        b=uB9UxnXldm+MAGgzjTZdEQGejisNAesitPWn+6lorY61G75+8ZSxyiYucMKQZSPb47
         Xuy21PAF2BXIzt4jPZXtJGKIozCM6mPDqMqrAXC7CvjadmdshyxATxwhBdL1hxwzvULB
         h/F0KYFszWITLsGjlrsrPE9n/ShwdYgNHuzxUKtQxrmx9/ggdaSE1x1Rj8v5+5Tn6aji
         NV6FGXIahzDOCG10+DKwaNhMOXCEtsF8/BlppdM7rWD7cn0LmrL1d4gwF8ZNPBhLE3HW
         irzHafRPmILVlKYeCziL4R/ypI74bQ27A/c9c87bptIGjMXojs0EhlWF5Qx+nBwY7wA0
         xWzQ==
Received: by 10.49.108.9 with SMTP id hg9mr31316818qeb.34.1354716216940; Wed,
 05 Dec 2012 06:03:36 -0800 (PST)
MIME-Version: 1.0
Received: by 10.229.126.165 with HTTP; Wed, 5 Dec 2012 06:02:56 -0800 (PST)
In-Reply-To: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in>
References: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in>
From: Mohammad Tariq <dontariq@gmail.com>
Date: Wed, 5 Dec 2012 19:32:56 +0530
Message-ID: <CAMVC6RPUGkMz41-ZEv7PLySDnO6-3rCBTsO+RkaCaoqGBQhh7w@mail.gmail.com>
Subject: Re: Apache issue
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7bea3b44e1d93e04d01b724e
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bea3b44e1d93e04d01b724e
Content-Type: text/plain; charset=ISO-8859-1

Hello Vicky,

     What are your configs and h/w specs ?Make sure you have enough memory?

Regards,
    Mohammad Tariq



On Wed, Dec 5, 2012 at 7:25 PM, <vicky007aggarwal@yahoo.co.in> wrote:

> Hello Guys,
>
> My apache instance after sometime become unresponsive & to restore it i
> need to restart it. Weird thing is that no exception/error is coming in
> logs.
>
> Can you please suggest what all things i can check for my apache.
>
> Is there any jvm related things which i need to check.
>
> Please suggest what all basic troubleshooting i can do
>
> Thanks in advance
> Vicky
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7bea3b44e1d93e04d01b724e--

From users-return-238418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 14:05:41 2012
Return-Path: <users-return-238418-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7EED4EC34
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 14:05:41 +0000 (UTC)
Received: (qmail 6502 invoked by uid 500); 5 Dec 2012 14:05:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6332 invoked by uid 500); 5 Dec 2012 14:05:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6304 invoked by uid 99); 5 Dec 2012 14:05:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:05:37 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of darryl.lewis@unsw.edu.au designates 149.171.97.18 as permitted sender)
Received: from [149.171.97.18] (HELO smtp-dist.unsw.edu.au) (149.171.97.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 14:05:28 +0000
Received: from INFPACM003.services.comms.unsw.edu.au (INFPACM003.services.comms.unsw.edu.au [149.171.193.26])
	by smtp-dist.unsw.edu.au (8.13.6/8.13.6) with ESMTP id qB5E54eD019365
	for <users@tomcat.apache.org>; Thu, 6 Dec 2012 01:05:04 +1100 (EST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AoYCAARUv1CVq4ftkWdsb2JhbABEvi8WDgEBAQEUJieCIAU6FD0BCA0VFEEBJQIECAcEAQcVBIddAw+gL5hbiQiLToEEg0VhA5QsBYdfhSpmhxyBbDU
X-IronPort-AV: E=Sophos;i="4.84,221,1355058000"; 
   d="scan'208";a="185445477"
Received: from unknown (HELO INFPWXH002.ad.unsw.edu.au) ([149.171.135.237])
  by INFPACM003.services.comms.unsw.edu.au with ESMTP; 06 Dec 2012 00:49:55 +1100
Received: from INFPWXM006.ad.unsw.edu.au ([169.254.6.80]) by
 INFPWXH002.ad.unsw.edu.au ([149.171.135.237]) with mapi id 14.02.0318.004;
 Thu, 6 Dec 2012 01:05:04 +1100
From: Darryl Lewis <darryl.lewis@unsw.edu.au>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Apache issue
Thread-Topic: Apache issue
Thread-Index: AQHN0vDxQPVLnkjcj0aSP0J0lfKdvJgKNMMA
Date: Wed, 5 Dec 2012 14:05:03 +0000
Message-ID: <9BFD8A9280D5F741802A3BA05AFFD87048EFAB@INFPWXM006.ad.unsw.edu.au>
In-Reply-To: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in>
Accept-Language: en-US, en-AU
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Microsoft-MacOutlook/14.10.0.110310
x-originating-ip: [149.171.135.82]
Content-Type: text/plain; charset="us-ascii"
Content-ID: <42F824A8091995489266862F85FF7D54@unsw.edu.au>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Is there anything in the error log? Access log?
What applications are you running on it?
What version is it?
What OS are you on?

On 6/12/12 12:25 AM, "vicky007aggarwal@yahoo.co.in"
<vicky007aggarwal@yahoo.co.in> wrote:

>Hello Guys,
>
>My apache instance after sometime become unresponsive & to restore it i
>need to restart it. Weird thing is that no exception/error is coming in
>logs.
>
>Can you please suggest what all things i can check for my apache.
>
>Is there any jvm related things which i need to check.
>
>Please suggest what all basic troubleshooting i can do
>
>Thanks in advance
>Vicky
>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:21:32 2012
Return-Path: <users-return-238419-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87BCADB78
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:21:32 +0000 (UTC)
Received: (qmail 87886 invoked by uid 500); 5 Dec 2012 15:36:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87401 invoked by uid 500); 5 Dec 2012 15:36:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86757 invoked by uid 99); 5 Dec 2012 15:35:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 15:35:54 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.149.1] (HELO nm12-vm1.bullet.mail.sg3.yahoo.com) (106.10.149.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 15:35:47 +0000
Received: from [106.10.166.112] by nm12.bullet.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 15:35:23 -0000
Received: from [106.10.150.25] by tm1.bullet.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 15:35:23 -0000
Received: from [127.0.0.1] by omp1026.mail.sg3.yahoo.com with NNFMP; 05 Dec 2012 15:35:23 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 207077.95211.bm@omp1026.mail.sg3.yahoo.com
Received: (qmail 61102 invoked by uid 60001); 5 Dec 2012 15:35:23 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354721723; bh=1pAEgWhxQGUnnfhg1ZLMBJS/qTVtvtMt41surkc2+m0=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=TcnW7h/5KAmcNqtrjsgvs6eyjFGH3HHJ52nb4Dsra6SgSzWLMhy8xOWMExg7hDwJ3xBZKEZ2wmyS8Xfj/Gt7p7d4S3sEL85R5iVmI4hMqEo5B01HAhxsQytiAoXBa8C3bkWeMgh1m+0uSgQ9OMztuXzMxyL9RkmtzYew6JO++gU=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=GAPbBvJtIaGicx1j1faTPbtCbUpl9/oZNhKqbGQp/KkEnGfzBWIvRqszvb2wCiAVb3D3mipYSMbdDbCueowxDCq1n21/jKlhE6gzZWgFxHAA2eCwo6693VIZn4pRjOG6+IvM+jw/CRgQmksDnhZHYA97I/z9jrmftmuLR5HmfzY=;
X-YMail-OSG: C1Tf5XMVM1njU6kJyO9CH3by2rI0JWKmaDFtdFuzlJekARx
 sH4jyVDGimS1wUBOWArVAppOwkV5w2pacsMkFDBgxvbaxYREufUzwZRBqREd
 GTaL8zxNq.JcmHN33Pmtwlrx.Usg0x052TJyDqr97eNI5IgcfZ.tGbRyXpTm
 7l5EzhQ6V7.y1ZSaQ6k3Y5Zd4vzehnB_YDsNFMjS.QajmhppjMRfbaG4UViF
 Bt_ahBaK5KaBmytTZ6bENCNgUc06Eil1Dra9gmnz46pp2eEHwtXIHNFSX0zz
 hZYncqp8K.SYQc2rpY3u.BkytUhMaA8g7.YizoJx4gj0W2WXX0WlIyRnJF2T
 F5hMuQXCHqk64bzemjvjUwEJKPSifDhKYGYPUJjujhpHi1685rtF3NJmYM4E
 ljaEi75qfHFl.LnEKsDQWvG6KawC9Fn3OqZLCrFCobwQFArVV_LaTNPvdEMP
 DwzyRqiFESM2..EVfA0Gq8vlIZWnV.9OfNnVzIAuoopACvAo.qcTgF4qdeNj
 6tA--
Received: from [180.151.36.169] by web193105.mail.sg3.yahoo.com via HTTP; Wed, 05 Dec 2012 23:35:23 SGT
X-Rocket-MIMEInfo: 001.001,CgpJcyB0aGVyZSBhbnl0aGluZyBpbiB0aGUgZXJyb3IgbG9nPyBBY2Nlc3MgbG9nPyA9PT0.IE5vIGVycm9ycy9leGNlcHRpb24gaW4gbG9ncwpXaGF0IGFwcGxpY2F0aW9ucyBhcmUgeW91IHJ1bm5pbmcgb24gaXQ_wqAgPT09PT4gYmFzaWMgY3VzdG9tZXIgZGF0YSBlbnRyeSBhcHBsaWNhdGlvbiBkZXBsb3llZCBvbiB0b21jYXJ0CldoYXQgdmVyc2lvbiBpcyBpdD_CoMKgwqDCoMKgwqDCoMKgwqA9PT4gQXBhY2hlIDIuMgpXaGF0IE9TIGFyZSB5b3Ugb24_wqDCoMKgwqAgPT0.IExpbnV4IFJlZGhhdCA1CgoBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in> <9BFD8A9280D5F741802A3BA05AFFD87048EFAB@INFPWXM006.ad.unsw.edu.au>
Message-ID: <1354721723.24232.YahooMailNeo@web193105.mail.sg3.yahoo.com>
Date: Wed, 5 Dec 2012 23:35:23 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Apache issue
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <9BFD8A9280D5F741802A3BA05AFFD87048EFAB@INFPWXM006.ad.unsw.edu.au>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="2118110249-354593055-1354721723=:24232"
X-Virus-Checked: Checked by ClamAV on apache.org

--2118110249-354593055-1354721723=:24232
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0A=0AIs there anything in the error log? Access log? =3D=3D=3D> No errors/=
exception in logs=0AWhat applications are you running on it?=A0 =3D=3D=3D=
=3D> basic customer data entry application deployed on tomcart=0AWhat versi=
on is it?=A0=A0=A0=A0=A0=A0=A0=A0=A0=3D=3D> Apache 2.2=0AWhat OS are you on=
?=A0=A0=A0=A0 =3D=3D> Linux Redhat 5=0A=0A =0A=0A__________________________=
______=0A From: Darryl Lewis <darryl.lewis@unsw.edu.au>=0ATo: Tomcat Users =
List <users@tomcat.apache.org> =0ASent: Wednesday, 5 December 2012 7:35 PM=
=0ASubject: Re: Apache issue=0A  =0AIs there anything in the error log? Acc=
ess log?=0AWhat applications are you running on it?=0AWhat version is it?=
=0AWhat OS are you on?=0A=0AOn 6/12/12 12:25 AM, "vicky007aggarwal@yahoo.co=
.in"=0A<vicky007aggarwal@yahoo.co.in> wrote:=0A=0A>Hello Guys,=0A>=0A>My ap=
ache instance after sometime become unresponsive & to restore it i=0A>need =
to restart it. Weird thing is that no exception/error is coming in=0A>logs.=
=0A>=0A>Can you please suggest what all things i can check for my apache.=
=0A>=0A>Is there any jvm related things which i need to check.=0A>=0A>Pleas=
e suggest what all basic troubleshooting i can do=0A>=0A>Thanks in advance=
=0A>Vicky=0A>=0A>=0A>=0A>--------------------------------------------------=
-------------------=0A>To unsubscribe, e-mail: users-unsubscribe@tomcat.apa=
che.org=0A>For additional commands, e-mail: users-help@tomcat.apache.org=0A=
>=0A=0A=0A-----------------------------------------------------------------=
----=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AFor ad=
ditional commands, e-mail: users-help@tomcat.apache.org
--2118110249-354593055-1354721723=:24232--

From users-return-238420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:24:36 2012
Return-Path: <users-return-238420-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C53FDFA6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:24:36 +0000 (UTC)
Received: (qmail 32496 invoked by uid 500); 5 Dec 2012 16:05:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31804 invoked by uid 500); 5 Dec 2012 16:05:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31513 invoked by uid 99); 5 Dec 2012 16:05:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:05:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:04:55 +0000
Received: from omta06.westchester.pa.mail.comcast.net ([76.96.62.51])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Xru71k00816LCl053s4Zml; Wed, 05 Dec 2012 16:04:33 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta06.westchester.pa.mail.comcast.net with comcast
	id Xs4Y1k00a38FjT13Ss4ZPv; Wed, 05 Dec 2012 16:04:33 +0000
Message-ID: <50BF708F.40509@christopherschultz.net>
Date: Wed, 05 Dec 2012 11:04:31 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Tomcat 7 SSL Session ID
References: <50B7C3A6.4010300@christopherschultz.net> <CAGVpwCw=HZJHNbTX9Fkpr1Av=vg1SE1U+uaFYkZSAdprVxD1Zw@mail.gmail.com> <C45352600C954650B20BA82D82D1315D@HP6910P> <50BEFC85.3040205@ice-sa.com>
In-Reply-To: <50BEFC85.3040205@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354723473;
	bh=zlrA2n5ET+6MDoGYZvzp0VfaMeb8N3EB7lhMWMkoXCQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=DLV18d1BNPitDb2e+3UYH9xM3KWGL7WJh65+TI6QvOtBeNxFU3xIhQhtt+UlECt3G
	 xoGlSGRjT/IMIUj7YKUfQUvV+BATPKam7ciNX6uSCtTakXbnY3rdFEEfacSVN5K9VP
	 /KHaR3hQpsIdkf2aJrrfo0DSrzIGqWz+a7ts7B6uRy2Xd8imoaXOYSxkLe3HClG5X5
	 WcwDIg4SKdylj+aEB5e79qFwNp5RH9Nj8zfjzL79EamaM63yUMlvPe2e8706nzq9OG
	 jJz/HI9l9Dm58yzmMvfiagQ7XrzXUuQhzdjEYAs9tFHzVfurYCxE9Wy7RzKwMuMvjE
	 4ItpbM3HwMRUA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

AndrÃ©,

On 12/5/12 2:49 AM, AndrÃ© Warnier wrote:
> Esmond Pitt wrote:
>> Broken pipes don't invalidate the SSL session. They just break
>> the TCP connection. The SSL session persists, across multiple TCP
>> connections, until it is specifically invalidated by someone: for
>> example, timed out by the SSLSessionContext.
>> 
> Ah.  That would explain some other (totally unrelated) phenomenon
> which I had noticed and which puzzled me. I didn't know that.
> Thanks for the info.

Yes. SSL sessions are essentially an optimization because SSL key
exchange and setup are fairly expensive (it uses asymmetric,
public-key encryption which is sloooow). Once the session is
established, a symmetric encryption key is used and the client and
server generally refer to the session id for a period of time.

At some interval, the session is re-negotiated ostensibly to improve
security (to limit the lifetime of the encryption keys) though there
have been some vulnerabilities identified in recent years (you have
probably heard the phrase "unsafe renegotiation") with this mechanism.

When the session times out (or is explicitly destroyed... I don't know
the specific mechanism for accomplishing this as the client is not
guaranteed to ever return for more data), everything must be
renegotiated from scratch and a new session is created.

Again, this has absolutely nothing to do with HttpSession, nor does it
really have anything to do with HTTP at all -- that just happens to be
the protocol tunneled through TLS in this case. The fact that the OP
is playing around with keepalive timeouts really shouldn't have any
bearing on what's going on, here: Tomcat's documentation says that the
default SSL session timeout is 24 hours. That means that, 24 hours
after a client makes a single SSL connection, Tomcat will expire the
session. I don't know that a client can specifically ask the server to
expire an SSL session. So, something weird is definitely going on. I
can't yet figure out if this is a Tomcat bug, a configuration snafu,
or a complete misunderstanding of SSL sessions on the OP's part.

Honestly, I was hoping that after extracting more information from the
OP, someone with more low-level knowledge of JSSE and/or OpenSSL
(Filip or Konstantin, probably) would chime-in with some more useful
thoughts.

The "description" section on Wikipedia is definitely worth the read:
http://en.wikipedia.org/wiki/Transport_Layer_Security

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC/cI8ACgkQ9CaO5/Lv0PDVeQCgw02zqPBMWIIoIuhlXd18NHd/
UmUAn0vj2QxtyrYPN5s7MJWZeChG4zj8
=CfQX
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:24:42 2012
Return-Path: <users-return-238421-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 078EBE02D
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:24:42 +0000 (UTC)
Received: (qmail 36236 invoked by uid 500); 5 Dec 2012 16:08:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36128 invoked by uid 500); 5 Dec 2012 16:08:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35978 invoked by uid 99); 5 Dec 2012 16:08:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:08:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:07:55 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id XnKJ1k0021HzFnQ51s7auC; Wed, 05 Dec 2012 16:07:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id Xs7Z1k00E38FjT13as7aWM; Wed, 05 Dec 2012 16:07:34 +0000
Message-ID: <50BF7144.5070909@christopherschultz.net>
Date: Wed, 05 Dec 2012 11:07:32 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <50BF01F8.8040009@ice-sa.com>
In-Reply-To: <50BF01F8.8040009@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354723654;
	bh=cVlvB3Ae7hr3Wk3dQ3aqOW/nmXUYLJcUCqWF2XetYbI=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=J8Ganx9OnZFSbjx9Mq02gPHNMfqGFKpiRyiWxYcZByonGtFPzKWnddPmS6vjkpHfu
	 E1lYfJpGkC+D1UoDT9GRN4T0NyNCTLFuVt07dEHLOfUz9CkYijmkXr2IcAVgi0B5k4
	 dVfF6x0N8fex1EMnQj/g00B5q9HxNO3opgsPwSR5WOlGUnYmyB30bcqtIU+N9foKxe
	 a92fKIDAphqrbo6N6MLQ6MXBSPMiUJV43A3Em/2Ad13KUSPmE68OEbaDRrB0M35Xgr
	 t2SlPZSLoH0Uib9/fqn/vrSVAwN7CCtQHx9ladaFeXvd9x6Qy/Wz1ewuq4qfwclzhg
	 SbyRIonr7/bBA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

AndrÃ©,

On 12/5/12 3:12 AM, AndrÃ© Warnier wrote:
> Other than that, and without any pretense at offering a "solution"
> to the present issue, maybe this is the point where one needs to
> step back and ask oneself if this is really a problem of the
> application.

You're right: this is not a problem of the "application" (at least,
not the web application itself). Unfortunately, it's an operation
requirement which means it must be solved *somewhere*.

At this point, we're way off-topic where Tomcat is concerned. ;)

> If the environment is such that it is a concern that one might
> login using a card, then remove the card and walk away, leaving
> the workstation logged-in and a session open with some
> security-conscious application, for someone else to use at will,
> then maybe this is not a problem of the application at the other
> end, but a problem with the environment ? What for example if that
> same person walks away while leaving their card in the reader ?

Court martial. :)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC/cUQACgkQ9CaO5/Lv0PAXGQCdGPdtFnEl8Cz0zpk9m9+GXMmc
Ms4Aniaxee53v/UY2ZGx8mFYd/CtlI3Z
=mHTz
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:25:21 2012
Return-Path: <users-return-238422-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 382E3E389
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:25:21 +0000 (UTC)
Received: (qmail 52908 invoked by uid 500); 5 Dec 2012 16:17:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 52844 invoked by uid 500); 5 Dec 2012 16:17:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 52808 invoked by uid 99); 5 Dec 2012 16:17:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:17:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:17:42 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id XsCL1k0040EZKEL53sHM8M; Wed, 05 Dec 2012 16:17:21 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id XsHL1k01M38FjT13MsHMgm; Wed, 05 Dec 2012 16:17:21 +0000
Message-ID: <50BF738F.9070601@christopherschultz.net>
Date: Wed, 05 Dec 2012 11:17:19 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
In-Reply-To: <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354724241;
	bh=mEp8bLnrgp740xX/EK/aI6sZw6cATLDNXVspJSqpDEQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=U8aZMLJ8/oXk5H90GaO8yydhP9++H/6U4u4WfrfIf7ATvlaPti4fJkUJkIvDyXOqE
	 /baIcJW1qsL1Uy/qgOGrBhZjkUB5whIrAU1eHaU/Svr6nSSSVMxo4Y3ZrPwL0Kl6Mc
	 AzbrF5klJGj1QPFq1spTRqsS7ln0zC8tseWejthbi0XM8sXVwFG2WVrjssdKaIqDPs
	 9vYk/FLpuYrxGjBK33d6bU32PRSFMBGL1tG5A/96S5HsxbVmp4+SEDu9iTCnS9Xc/F
	 T8QCQvIY8FdGQPNQfpmARny3wYCh7yqbOW9flIGWC2bFFzw15srqz9eSQ092vOX8u+
	 uMmHT6t3byk7Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Will,

On 12/5/12 7:33 AM, Will Nordmeyer wrote:
> On Tue, Dec 4, 2012 at 3:07 PM, Christopher Schultz 
> <chris@christopherschultz.net> wrote: Will,
> 
> On 12/4/12 2:47 PM, Will Nordmeyer wrote:
>>>> Thanks for the quick response and the thoughts.  a 5 minute 
>>>> timeout wouldn't be acceptable in our environment - theory
>>>> being, if user A pulls his smart card out (but didn't log out
>>>> of the app), and user B goes up to the machine within 5
>>>> minutes, he may have access to someone else's account in the
>>>> application.  So I was really hoping there was some way to
>>>> trigger the session to expire.
> 
> The only thing I can think of would be to have the web browser 
> complicit in the deal: if the browser can be configured to expire
> the SSL session when the card is removed, then that is really the
> only solution that will be truly secure.
> 
>> That's a potential, but there are quite a few clients so I'm not
>> sure we can impact the clients...  interesting scenario we've
>> got.
> 
>>>> I'll keep looking, or suggest to my dev team that they write
>>>> a little app that queries the card regularly and as soon as
>>>> the card can't be found, logs out.
> 
> Is it a valid use case to have the computer itself logged-in when
> the card is removed? For instance, if you configured the machine
> to auto-lock when the card was removed, then you might be able to
> do other things, too (like kill the browser, which should kill the
> SSL session).
> 
>> Oddly enough, yes, it is a valid use case.  we have specific
>> scenarios where there are common use PCs that have a generic ID
>> logged in, but they use their CAC and the browser to access the
>> web application.

Okay, good to know. Well, the OS can certainly detect when the CAC has
been removed. I think it's time to talk to some of the desktop IT
folks to see what your options are. This is something that is going to
have to be solved on the client side, not the server side.

Now, if the CAC is definitely required in order to establish an SSL
connection (can you confirm that? It's kind of important for my whole
line of thinking, here), you could simply set the SSL session timeout
to something typically considered foolishly low (like 1 second).

That will significantly impact performance (every request will require
a new SSL key negotiation), but should ultimately fulfill your
requirement: the only way for a CAC to be removed yet still allow a
post-withdraw request would be if the new and old users were
face-to-face (discounting the usual edge-cases that crop-up on this
list occasionally, like unlikely quantum phenomena, interference from
Time Lords, etc.).

It cannot, of course, prevent any physical attack (or mistake) on the
client side such as one user taking another's CAC or a user forgetting
to remove the card from the slot before leaving a terminal. You can
fix those vectors with robust cables attaching the CAC to the user's
pelvic bone, which I hear will be implemented starting in 2013.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC/c48ACgkQ9CaO5/Lv0PB+1QCfRh43nJbEPtxcE//0y5rXluNe
pQIAnRoOlpByn9bEAU31gp99pXt6WnWc
=RZ6x
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:25:33 2012
Return-Path: <users-return-238423-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3A0F5E489
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:25:33 +0000 (UTC)
Received: (qmail 56769 invoked by uid 500); 5 Dec 2012 16:19:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56707 invoked by uid 500); 5 Dec 2012 16:19:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56670 invoked by uid 99); 5 Dec 2012 16:19:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:19:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:19:07 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id XoZA1k0040vyq2s54sJn8o; Wed, 05 Dec 2012 16:18:47 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id XsJl1k00o38FjT13RsJmlm; Wed, 05 Dec 2012 16:18:47 +0000
Message-ID: <50BF73E4.3040808@christopherschultz.net>
Date: Wed, 05 Dec 2012 11:18:44 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Apache issue
References: <95415BFB-724C-4B10-88AC-337B4F716F71@yahoo.co.in> <9BFD8A9280D5F741802A3BA05AFFD87048EFAB@INFPWXM006.ad.unsw.edu.au> <1354721723.24232.YahooMailNeo@web193105.mail.sg3.yahoo.com>
In-Reply-To: <1354721723.24232.YahooMailNeo@web193105.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354724327;
	bh=ag9RdNXpvE+19Xt8uxBk6Clx0URLjcQEaWCrJC6rcec=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=BnI7Wu4t6L2pQBfVOQw36NXAIwJcuvHS+nLP+jSlVm8dSO33glVU93tHkYOAB7MVi
	 Ovsjd3niqoSiWwXtcdQm94eMCvRLlw3dSHYU4hijoGXEdYKG3yLtzusJOZpFGxW0Az
	 EB7Fig2BNSqdQYO3NIRAktX6uFQaySX5FZyeUc5PCIXwd2a9Rak448FFWNEwJzzCe4
	 yD+bJHsoQsz5nUsxEWC/2kXWHI9NNTQ4qywIdwjMLpXqS2IkN97cazhOMh0CJWcgmj
	 HgU4kS6TQS/EtgSbBq1f9uP70dipqVoALsCGFRaz4wXXt/tMBH1xCwti1eDInV8LGT
	 H2t6N2iTFc57Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Vicky,

On 12/5/12 10:35 AM, vicky wrote:
> Is there anything in the error log? Access log? ===> No
> errors/exception in logs What applications are you running on it?
> ====> basic customer data entry application deployed on tomcart 
> What version is it?         ==> Apache 2.2 What OS are you on?
> ==> Linux Redhat 5

Are you running Apache Tomcat at all?

If so, tell us what version and then take some thread dumps to find
out what Tomcat is (not) doing:
http://wiki.apache.org/tomcat/HowTo#How_do_I_obtain_a_thread_dump_of_my_running_webapp_.3F

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC/c+QACgkQ9CaO5/Lv0PBR2QCglcf21eicGkusvOna0l3eJrE0
kq4AnRUNOYKRf3ERtmoA7Og4nLfh6HD3
=hVPB
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 16:28:53 2012
Return-Path: <users-return-238424-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EAC32E5FE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 16:28:53 +0000 (UTC)
Received: (qmail 77682 invoked by uid 500); 5 Dec 2012 16:28:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77254 invoked by uid 500); 5 Dec 2012 16:28:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77228 invoked by uid 99); 5 Dec 2012 16:28:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:28:49 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 16:28:44 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id Xo9R1k0020EZKEL54sUP8N; Wed, 05 Dec 2012 16:28:23 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id XsUP1k00438FjT13MsUP4K; Wed, 05 Dec 2012 16:28:23 +0000
Message-ID: <50BF7625.7030706@christopherschultz.net>
Date: Wed, 05 Dec 2012 11:28:21 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Tomcat7.0-Setting property 'threadPriority' did not find
 a matching property
References: <87A2EF9B84859D4CB9EEE8A929888B4529CB7F7A@szxeml502-mbx.china.huawei.com> <99C8B2929B39C24493377AC7A121E21FC4948CE073@USEA-EXCH8.na.uis.unisys.com> <CABzHfVmFkLQpRpjbGWo1TNDGmyvS63EQa-v4ZEa_yii1-4g7wA@mail.gmail.com>
In-Reply-To: <CABzHfVmFkLQpRpjbGWo1TNDGmyvS63EQa-v4ZEa_yii1-4g7wA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354724903;
	bh=1+LgnAE9LgcyLBjzafrnDiLqGRkIXjYZywKQ9TYTnWI=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=QZ+185hGF0m2ZqmZDcYPxh1+yHcAYmY6ywPjS7UVilZKklodwfuZAJ8Um2/VssdaD
	 3V0rjeWNzhTgy8wo7+PGrKAVla3poHLHpnctxpfbi+EQvqrlbhzlLli9no0U3JbIwe
	 iGRGQqo1HZKLX+/RrPCsOz2I14NjLdmkxbdd5V/uPMpqpWkHpM+LhcMaG2HxKBAznr
	 VoM9KhKVSBdvIsniYBkSttkLTo82UcfcH3SVr1mVui7yYBzyJwD+VObg2Z6oQ2RGwq
	 MWyTO1CtKKIyR9tGa2nRj1d7nFO60ltQMviMifkZGv1DLa6JFTOyJWoDLUX0FbmaPy
	 Hb5jh0xlDzZKg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Konstantin,

On 12/5/12 12:17 AM, Konstantin Kolinko wrote:
> 2012/12/3 Caldarale, Charles R <Chuck.Caldarale@unisys.com>:
>>> From: Weixiang [mailto:kurt.weixiang@huawei.com] Subject:
>>> Tomcat7.0-Setting property 'threadPriority' did not find a
>>> matching property
>> 
>>> I config in my server.xml for a HTTP Connector named "MGMT":
>> 
>>> threadPriority="java.lang.Thread#Thread.MAX_PRIORITY"
>> 
>> The documentation may give the impression that you can set the
>> value of the threadPriority attribute to a string referring to
>> some static field, but that is not actually the case.  You must
>> supply a numeric value here, which will normally be 10 for the
>> maximum.  You can write a simple Java program to display the
>> values of Thread.MIN_PRIORITY and Thread.MAX_PRIORITY, and choose
>> a number within that range.
>> 
>> class ThreadPriority { static public void main(String args[])
>> throws Exception { System.out.format("thread priorities: MIN %d,
>> NORM %d, MAX %d%n", Thread.MIN_PRIORITY, Thread.MIN_PRIORITY,
>> Thread.MAX_PRIORITY); } }
>> 
>> The JDK 7 Javadoc includes a description for the priority values,
>> but it doesn't appear to be completely accurate: 
>> http://docs.oracle.com/javase/7/docs/api/constant-values.html#java.lang.Thread.MAX_PRIORITY
>
>> 
> The MIN/NORM/MAX_PRIORITY constants in the Thread class are "final 
> static" and thus they are evaluated and inlined at compile time
> and cannot differ between systems.

Yeah, I was surprised long ago to find that javac converts foreign
static final primitives into local constants in the class file's
constant pool. That means that, once compiled, a client class has the
values from compile-time and if the defining-class is changed to have
a different value and the client class isn't recompiled, they will be
out of sync.

So much for what feels like dynamic linking.

A bunch of years ago, I started monkeying around with the JVM,
compiler, disassembler (jad) and a bytecode assembler (I have
forgotten which one... or maybe I wrote one). I found that you could
prevent the compiler from inlining constants from other classes by
using this technique:

public static int SOME_CONSTANT;

static {
  SOME_CONSTANT = 4;
}

In that case, references to SomeClass.SOME_CONSTANT in another class
are fetched at runtime using a getfield operation, rather than loading
from the local class's constant pool.

I also found out that the JVM allows you to throw any kind of
reference type, not just exceptions (kinda like C++). I can't remember
if I was able to catch any of those types, though.

I hope this information is interesting to someone. I expect that Chuck
already knows all of this.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEARECAAYFAlC/diUACgkQ9CaO5/Lv0PCq5ACfdK4RlKomC2DH1lf53C1kOHzc
UbAAn3jt5Oci37BFF5ovCWE7wp6r2jci
=hsrF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 18:31:43 2012
Return-Path: <users-return-238425-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E72C9D6E6
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 18:31:42 +0000 (UTC)
Received: (qmail 28355 invoked by uid 500); 5 Dec 2012 18:31:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28290 invoked by uid 500); 5 Dec 2012 18:31:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28280 invoked by uid 99); 5 Dec 2012 18:31:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 18:31:38 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of darryl.lewis@unsw.edu.au designates 149.171.97.18 as permitted sender)
Received: from [149.171.97.18] (HELO smtp-dist.unsw.edu.au) (149.171.97.18)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 18:31:30 +0000
Received: from INFPACM001.services.comms.unsw.edu.au (INFPACM001.services.comms.unsw.edu.au [149.171.193.18])
	by smtp-dist.unsw.edu.au (8.13.6/8.13.6) with ESMTP id qB5IV6Io026640
	for <users@tomcat.apache.org>; Thu, 6 Dec 2012 05:31:06 +1100 (EST)
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: AkwCAMmRv1CVq4ftkWdsb2JhbABEviQWDgEBAQEUEhQngh4BAQEEOhQ9AQgNBAQBAQEKFEEBHQgCBAEHBwQBBxUEh10DD7lciQiLTmkbg0VhA5QsBYdfhSpmhxyBbDU
X-IronPort-AV: E=Sophos;i="4.84,224,1355058000"; 
   d="scan'208";a="184721262"
Received: from unknown (HELO INFPWXH002.ad.unsw.edu.au) ([149.171.135.237])
  by INFPACM001.services.comms.unsw.edu.au with ESMTP; 06 Dec 2012 05:13:38 +1100
Received: from INFPWXM006.ad.unsw.edu.au ([169.254.6.80]) by
 INFPWXH002.ad.unsw.edu.au ([149.171.135.237]) with mapi id 14.02.0318.004;
 Thu, 6 Dec 2012 05:31:05 +1100
From: Darryl Lewis <darryl.lewis@unsw.edu.au>
To: Tomcat Users List <users@tomcat.apache.org>,
        vicky
	<vicky007aggarwal@yahoo.co.in>
Subject: Re: Apache issue
Thread-Topic: Apache issue
Thread-Index: AQHN0vDxQPVLnkjcj0aSP0J0lfKdvJgKNMMA//9pPICAAOEWAA==
Date: Wed, 5 Dec 2012 18:31:04 +0000
Message-ID: <9BFD8A9280D5F741802A3BA05AFFD87048F118@INFPWXM006.ad.unsw.edu.au>
In-Reply-To: <1354721723.24232.YahooMailNeo@web193105.mail.sg3.yahoo.com>
Accept-Language: en-US, en-AU
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Microsoft-MacOutlook/14.10.0.110310
x-originating-ip: [149.171.135.82]
Content-Type: text/plain; charset="us-ascii"
Content-ID: <53D3C8E641E6A74EBF85C80A8210E13D@unsw.edu.au>
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

What is the memory use when it dies?
How much cpu is being used by tomcat?
You probably have a fault in the application.

On 6/12/12 2:05 AM, "vicky" <vicky007aggarwal@yahoo.co.in> wrote:

>
>
>Is there anything in the error log? Access log? =3D=3D=3D> No errors/excep=
tion
>in logs
>What applications are you running on it?  =3D=3D=3D=3D> basic customer dat=
a entry
>application deployed on tomcart
>What version is it?         =3D=3D> Apache 2.2
>What OS are you on?     =3D=3D> Linux Redhat 5
>
>=20
>
>________________________________
> From: Darryl Lewis <darryl.lewis@unsw.edu.au>
>To: Tomcat Users List <users@tomcat.apache.org>
>Sent: Wednesday, 5 December 2012 7:35 PM
>Subject: Re: Apache issue
> =20
>Is there anything in the error log? Access log?
>What applications are you running on it?
>What version is it?
>What OS are you on?
>
>On 6/12/12 12:25 AM, "vicky007aggarwal@yahoo.co.in"
><vicky007aggarwal@yahoo.co.in> wrote:
>
>>Hello Guys,
>>
>>My apache instance after sometime become unresponsive & to restore it i
>>need to restart it. Weird thing is that no exception/error is coming in
>>logs.
>>
>>Can you please suggest what all things i can check for my apache.
>>
>>Is there any jvm related things which i need to check.
>>
>>Please suggest what all basic troubleshooting i can do
>>
>>Thanks in advance
>>Vicky
>>
>>
>>
>>---------------------------------------------------------------------
>>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>---------------------------------------------------------------------
>To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 18:36:05 2012
Return-Path: <users-return-238426-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 641A1D70A
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 18:36:05 +0000 (UTC)
Received: (qmail 48354 invoked by uid 500); 5 Dec 2012 18:36:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48292 invoked by uid 500); 5 Dec 2012 18:36:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48281 invoked by uid 99); 5 Dec 2012 18:36:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 18:36:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 18:35:52 +0000
Received: from [192.168.245.129] (p549E1250.dip0.t-ipconnect.de [84.158.18.80])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 44F0F3C098F
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 19:36:20 +0100 (CET)
Message-ID: <50BF93ED.2050704@ice-sa.com>
Date: Wed, 05 Dec 2012 19:35:25 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>	<50BE36E8.7000500@christopherschultz.net>	<50BE3774.6090904@christopherschultz.net>	<CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>	<50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
In-Reply-To: <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Will Nordmeyer wrote:
...

>>
> Oddly enough, yes, it is a valid use case.  we have specific scenarios
> where there are common use PCs that have a generic ID logged in, 

> 
As far as I remember the classics, that in itself is already a flaw with regard to 
security, no ?

 > but
 > they use their CAC and the browser to access the web application.

Presumably, your application is not the only one running on these workstations. So any 
other application must have similar issues.  How do they resolve it ?

Assuming that there are many client workstations, and assuming that you cannot control 
what's installed on them, then one way I can think of - but it is quite heavy - is to have 
every single one of your pages contain a java applet running at all times, which checks 
the presence of the card and does something drastic (or doesn't do something vital) in 
case the card isn't there, and which causes the server to drop the session)

(I mention the "doesn't do" bit, to avoid the user simply disabling java in the browser)

One way I could imagine this, would be to have the applet establish its own connection to 
the server (maybe on a different port, and send a regular ping to another application on 
the server which would keep track of valid sessions.  Should the ping no longer come, this 
application would somehow tell the main one to abort the session.
It all sounds a bit complicated, but maybe in a very security-conscious environment, this 
would be sellable ? (*)

Note that in order for the browser-based java applet to gain access to the local 
card-reader, may require some special security settings too.


(*) Come to think of it, it would be rather universal as a solution. and not so complex to 
set up. I may have to patent this idea...

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 19:00:14 2012
Return-Path: <users-return-238427-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DEB0AD7B3
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 19:00:14 +0000 (UTC)
Received: (qmail 26272 invoked by uid 500); 5 Dec 2012 19:00:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26210 invoked by uid 500); 5 Dec 2012 19:00:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26199 invoked by uid 99); 5 Dec 2012 19:00:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 19:00:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of dckerber@verizon.net designates 206.46.173.11 as permitted sender)
Received: from [206.46.173.11] (HELO vms173011pub.verizon.net) (206.46.173.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 19:00:02 +0000
MIME-version: 1.0
Content-transfer-encoding: 8BIT
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173011.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0MEK00LKDNEMTC10@vms173011.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 05 Dec 2012 12:59:14 -0600 (CST)
Message-id: <50BF997E.2020303@verizon.net>
Date: Wed, 05 Dec 2012 13:59:10 -0500
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References:
 <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
 <50BE36E8.7000500@christopherschultz.net>
 <50BE3774.6090904@christopherschultz.net>
 <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
 <50BE5815.2050809@christopherschultz.net>
 <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
 <50BF93ED.2050704@ice-sa.com>
In-reply-to: <50BF93ED.2050704@ice-sa.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/5/2012 1:35 PM, André Warnier wrote:

...

> (*) Come to think of it, it would be rather universal as a solution. and
> not so complex to set up. I may have to patent this idea...

Too late (at least in the US); you just made it public...


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 21:19:03 2012
Return-Path: <users-return-238428-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6BA04D923
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 21:19:03 +0000 (UTC)
Received: (qmail 5702 invoked by uid 500); 5 Dec 2012 21:19:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 5581 invoked by uid 500); 5 Dec 2012 21:18:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 5571 invoked by uid 99); 5 Dec 2012 21:18:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:18:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:18:51 +0000
Received: from [192.168.245.129] (p549E031F.dip0.t-ipconnect.de [84.158.3.31])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id C55523C0B8A
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 22:19:18 +0100 (CET)
Message-ID: <50BFBA22.1000602@ice-sa.com>
Date: Wed, 05 Dec 2012 22:18:26 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com> <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net>
In-Reply-To: <50BF997E.2020303@verizon.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

David kerber wrote:
> On 12/5/2012 1:35 PM, André Warnier wrote:
> 
> ...
> 
>> (*) Come to think of it, it would be rather universal as a solution. and
>> not so complex to set up. I may have to patent this idea...
> 
> Too late (at least in the US); you just made it public...
> 
Shuks. Ok then, I'll have to be satisfied with the glory.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 21:25:58 2012
Return-Path: <users-return-238429-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0563CE403
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 21:25:58 +0000 (UTC)
Received: (qmail 28397 invoked by uid 500); 5 Dec 2012 21:25:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28288 invoked by uid 500); 5 Dec 2012 21:25:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28278 invoked by uid 99); 5 Dec 2012 21:25:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:25:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dckerber@verizon.net designates 206.46.173.9 as permitted sender)
Received: from [206.46.173.9] (HELO vms173009pub.verizon.net) (206.46.173.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:25:46 +0000
MIME-version: 1.0
Content-transfer-encoding: 8BIT
Content-type: text/plain; charset=ISO-8859-1; format=flowed
Received: from [172.17.47.42] ([unknown] [216.41.111.254])
 by vms173009.mailsrvcs.net
 (Sun Java(tm) System Messaging Server 7u2-7.02 32bit (built Apr 16 2009))
 with ESMTPA id <0MEK005O4U5E5T80@vms173009.mailsrvcs.net> for
 users@tomcat.apache.org; Wed, 05 Dec 2012 15:24:50 -0600 (CST)
Message-id: <50BFBBA0.8050708@verizon.net>
Date: Wed, 05 Dec 2012 16:24:48 -0500
From: David kerber <dckerber@verizon.net>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428
 Thunderbird/12.0.1
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References:
 <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
 <50BE36E8.7000500@christopherschultz.net>
 <50BE3774.6090904@christopherschultz.net>
 <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
 <50BE5815.2050809@christopherschultz.net>
 <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
 <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net>
 <50BFBA22.1000602@ice-sa.com>
In-reply-to: <50BFBA22.1000602@ice-sa.com>
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/5/2012 4:18 PM, André Warnier wrote:
> David kerber wrote:
>> On 12/5/2012 1:35 PM, André Warnier wrote:
>>
>> ...
>>
>>> (*) Come to think of it, it would be rather universal as a solution. and
>>> not so complex to set up. I may have to patent this idea...
>>
>> Too late (at least in the US); you just made it public...
>>
> Shuks. Ok then, I'll have to be satisfied with the glory.

You could always try a European patent; I'm not sure what their patent 
rules are...   :-D


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 21:41:14 2012
Return-Path: <users-return-238430-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 14BF3E5E1
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 21:41:14 +0000 (UTC)
Received: (qmail 77506 invoked by uid 500); 5 Dec 2012 21:41:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77456 invoked by uid 500); 5 Dec 2012 21:41:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77440 invoked by uid 99); 5 Dec 2012 21:41:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:41:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 21:41:01 +0000
Received: from [192.168.245.129] (p549E031F.dip0.t-ipconnect.de [84.158.3.31])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 98FC93C09D0
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 22:41:29 +0100 (CET)
Message-ID: <50BFBF55.8000902@ice-sa.com>
Date: Wed, 05 Dec 2012 22:40:37 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com> <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net> <50BFBA22.1000602@ice-sa.com> <50BFBBA0.8050708@verizon.net>
In-Reply-To: <50BFBBA0.8050708@verizon.net>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

David kerber wrote:
> On 12/5/2012 4:18 PM, André Warnier wrote:
>> David kerber wrote:
>>> On 12/5/2012 1:35 PM, André Warnier wrote:
>>>
>>> ...
>>>
>>>> (*) Come to think of it, it would be rather universal as a solution. 
>>>> and
>>>> not so complex to set up. I may have to patent this idea...
>>>
>>> Too late (at least in the US); you just made it public...
>>>
>> Shuks. Ok then, I'll have to be satisfied with the glory.
> 
> You could always try a European patent; I'm not sure what their patent 
> rules are...   :-D
> 
When you consider that Amazon could patent the 1-click, and Apple a black screen with 
round corners, I'm not sure that there are any rules, anywhere.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 22:07:47 2012
Return-Path: <users-return-238431-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70BF4E6AF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 22:07:47 +0000 (UTC)
Received: (qmail 64461 invoked by uid 500); 5 Dec 2012 22:07:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64375 invoked by uid 500); 5 Dec 2012 22:07:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64365 invoked by uid 99); 5 Dec 2012 22:07:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:07:43 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.195 as permitted sender)
Received: from [216.82.254.195] (HELO mail200.messagelabs.com) (216.82.254.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:07:33 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-200.messagelabs.com!1354745229!12535048!14
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 25461 invoked from network); 5 Dec 2012 22:07:11 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-10.tower-200.messagelabs.com with RC4-SHA encrypted SMTP; 5 Dec 2012 22:07:11 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Wed, 5 Dec 2012 16:06:57 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Wed, 5 Dec
 2012 16:06:56 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Wed, 5 Dec 2012 16:07:15 -0600
Subject: RE: [OT] Recognizing certificate removal (SmartCard)
Thread-Topic: [OT] Recognizing certificate removal (SmartCard)
Thread-Index: Ac3TLij7SZXdXwZwTgGJFVwTUBA9eQABlDDQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FC494DE6AC5@USEA-EXCH8.na.uis.unisys.com>
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com>
 <50BE36E8.7000500@christopherschultz.net>
 <50BE3774.6090904@christopherschultz.net>
 <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com>
 <50BE5815.2050809@christopherschultz.net>
 <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com>
 <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net>
 <50BFBA22.1000602@ice-sa.com>
In-Reply-To: <50BFBA22.1000602@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
> Subject: Re: [OT] Recognizing certificate removal (SmartCard)

> > Too late (at least in the US); you just made it public...

> Shuks. Ok then, I'll have to be satisfied with the glory.

The US patent law has changed (but may not go into effect until next year; =
not sure about the timing) so that credit is given to first-to-file, rather=
 than first-to-invent, regardless of public disclosure.  So, you may still =
have time...

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 22:14:17 2012
Return-Path: <users-return-238432-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31DE1E6DD
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 22:14:17 +0000 (UTC)
Received: (qmail 87696 invoked by uid 500); 5 Dec 2012 22:14:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87579 invoked by uid 500); 5 Dec 2012 22:14:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87570 invoked by uid 99); 5 Dec 2012 22:14:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:14:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:14:04 +0000
Received: from [192.168.245.129] (p549E031F.dip0.t-ipconnect.de [84.158.3.31])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id E07663C0B7B
	for <users@tomcat.apache.org>; Wed,  5 Dec 2012 23:14:32 +0100 (CET)
Message-ID: <50BFC714.2090900@ice-sa.com>
Date: Wed, 05 Dec 2012 23:13:40 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: aw@ice-sa.com
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com> <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net> <50BFBA22.1000602@ice-sa.com> <99C8B2929B39C24493377AC7A121E21FC494DE6AC5@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC494DE6AC5@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Caldarale, Charles R wrote:
>> From: André Warnier [mailto:aw@ice-sa.com] 
>> Subject: Re: [OT] Recognizing certificate removal (SmartCard)
> 
>>> Too late (at least in the US); you just made it public...
> 
>> Shuks. Ok then, I'll have to be satisfied with the glory.
> 
> The US patent law has changed (but may not go into effect until next year; not sure about the timing) so that credit is given to first-to-file, rather than first-to-invent, regardless of public disclosure.  So, you may still have time...
> 

I'll probably need a more complete description, possibly even working code.
And I'm not so confident in my Java skills.
Any volunteer for helping and sharing in the glory, and maybe even the bucks then ?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec  5 22:59:45 2012
Return-Path: <users-return-238433-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3DAB7D803
	for <apmail-tomcat-users-archive@www.apache.org>; Wed,  5 Dec 2012 22:59:45 +0000 (UTC)
Received: (qmail 14342 invoked by uid 500); 5 Dec 2012 22:59:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14149 invoked by uid 500); 5 Dec 2012 22:59:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14139 invoked by uid 99); 5 Dec 2012 22:59:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:59:41 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of esmond.pitt@bigpond.com designates 61.9.168.152 as permitted sender)
Received: from [61.9.168.152] (HELO nskntmtas06p.mx.bigpond.com) (61.9.168.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 05 Dec 2012 22:59:34 +0000
Received: from nskntcmgw08p ([61.9.169.168]) by nskntmtas06p.mx.bigpond.com
          with ESMTP
          id <20121205225910.PSHK10884.nskntmtas06p.mx.bigpond.com@nskntcmgw08p>;
          Wed, 5 Dec 2012 22:59:10 +0000
Received: from HP6910P ([120.151.14.51])
	by nskntcmgw08p with BigPond Outbound
	id Xyz91k00B165irc01yz9ug; Wed, 05 Dec 2012 22:59:10 +0000
X-Authority-Analysis: v=2.0 cv=QKnqt33L c=1 sm=1
 a=4u9tzJkkMcV5r5ibEi6r6w==:17 a=hesdidE6XCEA:10 a=JDadKst33uMA:10
 a=1IlZJK9HAAAA:8 a=Z-wADx3DLQcA:10 a=pGLkceISAAAA:8 a=COfzQ7OkAAAA:8
 a=9QprVBgnAAAA:8 a=69EAbJreAAAA:8 a=UJ5Y5Z__AAAA:8 a=mV9VRH-2AAAA:8
 a=-57I09spAAAA:8 a=j4nzMFrpAAAA:8 a=QfKxxUxMAAAA:8 a=lOb2fIyHp9azWSGmwVEA:9
 a=CjuIK1q_8ugA:10 a=qkmkbVaIRQoA:10 a=MSl-tDqOz04A:10 a=Z1BvOZmT1TIA:10
 a=EfJqPEOeqlMA:10 a=EnLKqdGQ194A:10 a=tDQXzUaUpZwA:10 a=NWVoK91CQyQA:10
 a=ePpLuqVUQxeNsJNC:21 a=T9C1g2Lu-Kx2KlEd:21 a=dzKjY1Ew_6_3oD9OxeEA:9
 a=_W_S_7VecoQA:10 a=tXsnliwV7b4A:10 a=DL5lnjGmwvC4FRo9:21
 a=vocZKRYQKnzlf0Az:21 a=4u9tzJkkMcV5r5ibEi6r6w==:117
From: "Esmond Pitt" <esmond.pitt@bigpond.com>
To: "'Vincent Goelen'" <goelenv@gmail.com>,
	"'Tomcat Users List'" <users@tomcat.apache.org>
References: <C45352600C954650B20BA82D82D1315D@HP6910P><BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl><131AF4D0D1B248CD9F4C95D8290732AF@HP6910P> <CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
In-Reply-To: <CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
Subject: RE: Tomcat 7 SSL Session ID
Date: Thu, 6 Dec 2012 09:59:00 +1100
Message-ID: <D29BD2074E4E418399AFF7462E353635@HP6910P>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_014D_01CDD398.511BD280"
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ac3S0eQSckC6CkT7QhmLYPCIozL5IwAaZ7GQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.1.7601.17609
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_014D_01CDD398.511BD280
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Vincent
 
RST always terminates a TCP connection. The question is really why was it
*sent.* The usual reason is writing to a connection that has already been
closed by the peer. Is there an incoming close_notify higher up in the SSL
log? I suppose not otherwise an SSLException would have been thrown.
 
Re loss of the SSL session, I suppose it is plausible that SSL discards it
on security grounds because of the broken connection.
 
EJP

  _____  

From: Vincent Goelen [mailto:goelenv@gmail.com] 
Sent: Wednesday, 5 December 2012 9:19 PM
To: Esmond Pitt
Subject: Re: Tomcat 7 SSL Session ID



http-bio-8443-exec-21, READ: TLSv1 Application Data, length = 32
http-bio-8443-exec-21, READ: TLSv1 Application Data, length = 432
http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length = 32
http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length = 976
http-bio-8443-exec-20, handling exception: java.net.SocketException: Broken
pipe
%% Invalidated:  [Session-1, TLS_RSA_WITH_AES_256_CBC_SHA]
http-bio-8443-exec-20, SEND TLSv1 ALERT:  fatal, description =
unexpected_message
http-bio-8443-exec-20, WRITE: TLSv1 Alert, length = 32
http-bio-8443-exec-20, Exception sending alert: java.net.SocketException:
Broken pipe
http-bio-8443-exec-20, called closeSocket()
http-bio-8443-exec-20, called close()
http-bio-8443-exec-20, called closeInternal(true)


This is what I get in the SSL debug logs.. It seems to happen when the tcp
connection is closed while the application data is being sent.. I think this
is a security thing to prevent SSL truncation attacks which sounds quite
normal to me. 

The issue is, why does my tcp connection close there:
http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015.09.5
6.png

The screenshot above is one from where things go wrong when I analyse the
traffic, the tcp rst is one from the connection that was used by the
previous request.. But why can that rst packet terminate the current active
tcp connection?


2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>


Yes but he *already has* an SSL session which he states is being
invalidated. To the limited extent to which I could make sense of your
incomprehensible post, it appears to be 100% irrelevant.


-----Original Message-----
From: Martin Gainty [mailto:mgainty@hotmail.com]
Sent: Wednesday, 5 December 2012 11:27 AM
To: Tomcat Users List; goelenv@gmail.com
Subject: RE: Tomcat 7 SSL Session ID



yes but he needs to achieve a reliable connection between himself and the
SSLServer (at least until key negotiation has completed) broken pipe(s) are
a bear to debug but you have a few tools available to you:

netstat  SSLServerIP
-- if you see ANY intervening nodes hanging more than 4 sec drop from arp
cache generally by arp -d ServerIP
assuming your ServerIP is is 157.55.85.212 and the physical address of the
network you want to connect to is 00-aa-00-62-c6-09  (check with net-admin
for the physical-address or eth-addr to use) > arp -s 157.55.85.212
00-aa-00-62-c6-09  .... Adds a static entry.
 > arp -a                                    .... Displays the arp table.
route print will display the routes between you and the SSLServer if you
dont see a route referencing the server you may want to add in your own
route with
route add DESTINATION MASK Mask  METRIC NoOfHops Interface

InterfaceNumbercheck with net-admin DESTINATION is generally the
dotted.quad.of.SSLServercheck with net-admin generally Mask =255.255.255.0
will docheck with net admin about which Interface to use..avoid 127.0.0.1
(unless testing locally)check with net admin on NoOfHops param ..generally

the lower the better use curl (command line url) to check the validity of

the certificate, keys and passwordscurl -1 --cacert [file] --key

PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey PublicKey.jks-1

says use TLSv1check the type of key most keys start out as PEM PEM key ends

with .PEM extension ...DER key with .DER... ENG key ends with

.ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to achieve

a Key Exchange you will have a valid SSL Connection..remember binaries have
lower CPU so test with a reliable binary first then start debugging your
code (i assume you added your CA cert into your local truststore) enough
pollution?
Martin
______________________________________________
Verzicht und Vertraulichkeitanmerkung
Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugte
Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht
dient lediglich dem Austausch von Informationen und entfaltet keine
rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.


 > From: esmond.pitt@bigpond.com
> To: goelenv@gmail.com; users@tomcat.apache.org
> Subject: RE: Tomcat 7 SSL Session ID
> Date: Wed, 5 Dec 2012 09:57:38 +1100
>
> Broken pipes don't invalidate the SSL session. They just break the TCP
> connection. The SSL session persists, across multiple TCP connections,
> until it is specifically invalidated by someone: for example, timed
> out by the SSLSessionContext.
>
> EJP
>
>   _____
>
> From: Vincent Goelen [mailto:goelenv@gmail.com]
> Sent: Wednesday, 5 December 2012 1:15 AM
> To: Tomcat Users List
> Subject: Re: Tomcat 7 SSL Session ID
>
>
> Hey,
>
> thanks for the help!
>
> To be clear, I do not want a 0ms timeout... I'm doing research about
> how "usable" the SSL session tracking option is for session management...
> With the standard settings it seems very unstable to me, when sending
> alot of parallel requests I get a broken socket error invalidating the
> ssl session and making the session with this id disappear. In this
> case it would seem to me that it's easy to create Denial of Service
> attacks by just sending alot of requests so the user loses his session.
>
> By playing with the timeouts I found out this problem doesn't occur
> when I set the timeout to 0, just by playing with the settings.
> Perhaps because this disables the possibility of too many parallel
> connections? I can't find the reason of this in the Tomcat or SSL specs...
>
> I've added a screenshot of a capture where things go wrong without
> setting a keepAlive.. So I send alot of requests to the server, the
> first clientHello (pck 38943) and the following packets everything
> goes ok, when the application data is being send I get a tcp rst from
> port 54195 (this is the connection that was used for the transactions
> before the current one) ... At this moment my session gets invalidates
> making the next SSL handshake a full one with new ID (pckt 40361, ...)
>
>
>
>
> 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
>
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Vincent,
>
>
> On 11/28/12 3:14 AM, Vincent Goelen wrote:
> > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > debug logs the SSL session get's invalidated after some requests
> > with a Broken Pipe exception. Is this because there are too many
> > open connections during the keepAliveTimeout?
>
>
> It's probably because of your pathological keepAliveTimeout. 0ms
> seems, er, low. Why did you choose 0ms?
>
> I haven't looked at the code, so I'm not sure if the elapsed timer
> starts when the last request is completed (which seems reasonable) or
> when the last request started. I suspect the latter. 0ms is awfully
> short. Are you sure that your client is capable of accepting the
> response to the previous request and turn-around and make another
> request across the same channel before 0ms passes?
>
>
> > It also only happens when processing the requests takes some time
> > (fe. storing items in database) or when I put the threat to sleep
> > for testing purpose.
>
>
> So if you have a trivial request (say, HEAD for a static resource),
> you can never get a failure?
>
>
> > When inspecting the traffic I see some tcp-rst packages (problem is
> > here?) from previous connections while the current one is being
> > processed.
>
>
> When you say "current one" what do you mean? If you are using a single
> connection with HTTP keepalive, then there is only one connection to
> talk about: you can't get RSTs from "previous connections". You may be
> getting TCP RST as the server closes the connection while the client
> is trying to write. Is that what you are experiencing?
>
>
> > My question is why these SSL Sessions get invalidated after alot of
> > quick requests to the server since this gives a problem with my SSL
> > Session tracking since the id changes then.
>
>
> Maybe if you can explain why you want a 0ms keepalive timeout it would
> be helpful. If you want to disable keep alives, set
> maxKeepAliveRequests="1". If you want to allow an infinite timeout,
> try using keepAliveTimeout="-1" as the documentation states.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> =J7dz
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
>
>






------=_NextPart_000_014D_01CDD398.511BD280--


From users-return-238434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 09:53:04 2012
Return-Path: <users-return-238434-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0BD12DF60
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 09:53:03 +0000 (UTC)
Received: (qmail 66286 invoked by uid 500); 6 Dec 2012 09:52:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66033 invoked by uid 500); 6 Dec 2012 09:52:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65945 invoked by uid 99); 6 Dec 2012 09:52:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 09:52:53 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.120.224] (HELO nm43-vm0.bullet.mail.ne1.yahoo.com) (98.138.120.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 09:52:42 +0000
Received: from [98.138.226.176] by nm43.bullet.mail.ne1.yahoo.com with NNFMP; 06 Dec 2012 09:52:21 -0000
Received: from [98.138.226.161] by tm11.bullet.mail.ne1.yahoo.com with NNFMP; 06 Dec 2012 09:52:21 -0000
Received: from [127.0.0.1] by omp1062.mail.ne1.yahoo.com with NNFMP; 06 Dec 2012 09:52:21 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 111743.60117.bm@omp1062.mail.ne1.yahoo.com
Received: (qmail 44403 invoked by uid 60001); 6 Dec 2012 09:52:20 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354787540; bh=yU+9dNffSODGlN4pCGEZfNLZyGqB7cOheUuuD80+EJg=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=29F/FmWIb3y9dGaiwJJK+ow+MvdOOvLc7hFhCdJjtpUo461ow8NyoRRVWaN1XJhtMsYRRQt5T1e96vZWBnqnNKWwx7zLegM0uPGigswlgLADH2xV0W/7yKhxmgj0reIaUBxM4ZfW3Bei2bfGKKQyPf60kuDNfY0W0ma8g+ltC5o=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=BvghOARWDmHpA5TgSsdYQgXtPS5wMACdJQdCIez5IYjsv0xIT5Jt5DSKK6Am3//kpCVfkRQH6HZt/QC00sb2XNLP1KT6AdS23+py43BwXQml39HRDck34qoZgESOoc78euVYnCh/wJnrbaiHZ1BLSoT1d0o7CtcshqGKVgMpQoc=;
X-YMail-OSG: .3LzlPMVM1kNHAxFUHAW45yLTs7tEwtQ6qPRX0x6Re.ojZ4
 NcAq.cAK8a_WeLMfYH6ynIzO88gzctGRgSNlRJjJHySOyb51weMa8rZ3ksqW
 OLXkanOX8ffL7woJzJLM1WCxGj3mxV.atarDcBNyT658aud.Sch.Lv7NMPFH
 oZCcBz2HLRhvsL6A7._LEP2opjz48JdBHcr9I4BgGt68AIw99b_eXW7huI9B
 3jvMKFUaxJEwKmDD4CX84ZCgMT6.D_mxNMLE996NVCZmpKuWKd6ZUo35.zgZ
 0MoO7ttBrx2qN3WMw9JS8CdExsJVNR02AWVQIcgJuWkKvUsSiZ9jSshhjB2H
 ZDcCjyTRUmFo5IgoMUOuFGaSQZ18stuPg7Ya0GJft3Yh_QZTgNgW5DXFCzUz
 ix9O9tEs4.VjVY95lhHOW1HToMUflV1QnSqqvVBrAaHgNmYognD7rCTy61Ho
 rp4v1NWtXo3.IipGv26OHK7yhkk8PeC4VIlymFhGDnnq9T0I4VHu0kIaBsQ-
 -
Received: from [195.22.241.18] by web121602.mail.ne1.yahoo.com via HTTP; Thu, 06 Dec 2012 01:52:20 PST
X-Rocket-MIMEInfo: 001.001,SGksCgpJJ20gdXNpbmcgVG9tY2F0IDYuMCAoNi4wMzUgZm9yIG5vdykuwqAKCkkndmUgZ290IGFuIGlzc3VlIHdpdGggYmFsYW5jaW5nIG11bHRpcGxlIGNvbm5lY3Rpb25zIGZyb20gaHR0cGQgdG8gdG9tY2F0LsKgCkl0IGxvb2tzIGxpa2UgdG9tY2F0IGlzIG9wZW5pbmcgaHR0cCBwb3J0ICg4MDgwKSByaWdodCBhZnRlciBzdGFydHVwLCBhbmQgaXMgYWNjZXB0aW5nIGNvbm5lY3Rpb25zIG9uIGl0LsKgCkF0IHRoZSBzYW1lIHRpbWUsIGFwcGxpY2F0aW9uIGl0c2VsZiBpcyBzdGFydGluZyBmb3IgYWJvdXQBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
Message-ID: <1354787540.22265.YahooMailNeo@web121602.mail.ne1.yahoo.com>
Date: Thu, 6 Dec 2012 01:52:20 -0800 (PST)
From: Vladimir Girnet <vgirnetz@yahoo.com>
Reply-To: Vladimir Girnet <vgirnetz@yahoo.com>
Subject: how to make http port to open after application startup
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-2038480821-840619435-1354787540=:22265"
X-Virus-Checked: Checked by ClamAV on apache.org

---2038480821-840619435-1354787540=:22265
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi,=0A=0AI'm using Tomcat 6.0 (6.035 for now).=A0=0A=0AI've got an issue wi=
th balancing multiple connections from httpd to tomcat.=A0=0AIt looks like =
tomcat is opening http port (8080) right after startup, and is accepting co=
nnections on it.=A0=0AAt the same time, application itself is starting for =
about 1-2 minutes, depending on server speed.=A0=0A=0ABecause connections a=
re accepted to http port, httpd is not removing starting tomcat from balanc=
er members.=A0=0AAs result, a lot of connections are directed to currently =
starting tomcat, but no connections are served during application startup.=
=A0=0A=0AI have multiple tomcat servers behind http. If I want to restart o=
ne of these servers, httpd will still pass requests to it, making users to =
wait long time before response is received.=A0=0A=0AIs it possible to confi=
gure tomcat to open http port only after application is fully started?=A0=
=0A=0AI found that AJP port is started only after application startup, unfo=
rtunately system is fully configured to use http, and migrating to AJP gene=
rate too much overhead for us.=A0=0A=0AThanks,=0AVladimir Girnet=0A
---2038480821-840619435-1354787540=:22265--

From users-return-238435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 10:12:59 2012
Return-Path: <users-return-238435-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 53BC4E024
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 10:12:59 +0000 (UTC)
Received: (qmail 16582 invoked by uid 500); 6 Dec 2012 10:12:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16238 invoked by uid 500); 6 Dec 2012 10:12:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16173 invoked by uid 99); 6 Dec 2012 10:12:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 10:12:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of goelenv@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 10:12:46 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so7516020vcb.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 02:12:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XZU5B0afbqQvMeUAohpnu7WcddDzq9Opb7f7yarHdYk=;
        b=oAcujWpk4FzoPgL9DDo97yu/3fXjRe2Do+5jnDDyLNP1hf2AilgyBUMpWAb63tLtJH
         R4KNyDCKdz+AXpj0tmVpUBlih8IGsoyTV1dh/bgEGv6u4JoR3CEceL4w9sBG1W64iPOi
         mXoJ/7GbrxoyYkYKRGA7webwkaCRaaRadJT3u+augtDWimj6MEO6NXBN7iKucyOErwfU
         rec0lzcz7NPE0ikqd5jgwhEleLOqYgDGWTq05bYGryH/x8GITB4JwaO8UO+ff0axzOqX
         iJCWSZOvqjjn9LYtnlR/LGvXXBDjQ0QHXq2zqqHWA9nhZjUVfg2tYEUK9WRBU/EZyw9D
         2ldQ==
MIME-Version: 1.0
Received: by 10.52.33.228 with SMTP id u4mr500540vdi.4.1354788746124; Thu, 06
 Dec 2012 02:12:26 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Thu, 6 Dec 2012 02:12:26 -0800 (PST)
In-Reply-To: <D29BD2074E4E418399AFF7462E353635@HP6910P>
References: <C45352600C954650B20BA82D82D1315D@HP6910P>
	<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
	<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>
	<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
	<D29BD2074E4E418399AFF7462E353635@HP6910P>
Date: Thu, 6 Dec 2012 11:12:26 +0100
Message-ID: <CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf307d03c2f55e3504d02c55d1
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf307d03c2f55e3504d02c55d1
Content-Type: text/plain; charset=ISO-8859-1

Hey,
I'm completely aware that a RST always terminates a TCP connections..
But in my case, there's an TCP rst from a connection thats already finished
it's job causing problems for the active connection! At least that's what I
think is going on here..
As you can see in the screenshot of my wireshark capture, the TCP rst there
is not from the connection that's writing application data..

The session get's invalidates here because of an unexpected close of the
connection which is completely normal regarding the SSL specs.

grts,
Vincent

2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>

> Vincent
>
> RST always terminates a TCP connection. The question is really why was it
> *sent.* The usual reason is writing to a connection that has already been
> closed by the peer. Is there an incoming close_notify higher up in the SSL
> log? I suppose not otherwise an SSLException would have been thrown.
>
> Re loss of the SSL session, I suppose it is plausible that SSL discards it
> on security grounds because of the broken connection.
>
> EJP
>
>   _____
>
> From: Vincent Goelen [mailto:goelenv@gmail.com]
> Sent: Wednesday, 5 December 2012 9:19 PM
> To: Esmond Pitt
> Subject: Re: Tomcat 7 SSL Session ID
>
>
>
> http-bio-8443-exec-21, READ: TLSv1 Application Data, length = 32
> http-bio-8443-exec-21, READ: TLSv1 Application Data, length = 432
> http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length = 32
> http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length = 976
> http-bio-8443-exec-20, handling exception: java.net.SocketException: Broken
> pipe
> %% Invalidated:  [Session-1, TLS_RSA_WITH_AES_256_CBC_SHA]
> http-bio-8443-exec-20, SEND TLSv1 ALERT:  fatal, description =
> unexpected_message
> http-bio-8443-exec-20, WRITE: TLSv1 Alert, length = 32
> http-bio-8443-exec-20, Exception sending alert: java.net.SocketException:
> Broken pipe
> http-bio-8443-exec-20, called closeSocket()
> http-bio-8443-exec-20, called close()
> http-bio-8443-exec-20, called closeInternal(true)
>
>
> This is what I get in the SSL debug logs.. It seems to happen when the tcp
> connection is closed while the application data is being sent.. I think
> this
> is a security thing to prevent SSL truncation attacks which sounds quite
> normal to me.
>
> The issue is, why does my tcp connection close there:
>
> http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015.09.5
> 6.png<http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015.09.56.png>
>
> The screenshot above is one from where things go wrong when I analyse the
> traffic, the tcp rst is one from the connection that was used by the
> previous request.. But why can that rst packet terminate the current active
> tcp connection?
>
>
> 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
>
>
> Yes but he *already has* an SSL session which he states is being
> invalidated. To the limited extent to which I could make sense of your
> incomprehensible post, it appears to be 100% irrelevant.
>
>
> -----Original Message-----
> From: Martin Gainty [mailto:mgainty@hotmail.com]
> Sent: Wednesday, 5 December 2012 11:27 AM
> To: Tomcat Users List; goelenv@gmail.com
> Subject: RE: Tomcat 7 SSL Session ID
>
>
>
> yes but he needs to achieve a reliable connection between himself and the
> SSLServer (at least until key negotiation has completed) broken pipe(s) are
> a bear to debug but you have a few tools available to you:
>
> netstat  SSLServerIP
> -- if you see ANY intervening nodes hanging more than 4 sec drop from arp
> cache generally by arp -d ServerIP
> assuming your ServerIP is is 157.55.85.212 and the physical address of the
> network you want to connect to is 00-aa-00-62-c6-09  (check with net-admin
> for the physical-address or eth-addr to use) > arp -s 157.55.85.212
> 00-aa-00-62-c6-09  .... Adds a static entry.
>  > arp -a                                    .... Displays the arp table.
> route print will display the routes between you and the SSLServer if you
> dont see a route referencing the server you may want to add in your own
> route with
> route add DESTINATION MASK Mask  METRIC NoOfHops Interface
>
> InterfaceNumbercheck with net-admin DESTINATION is generally the
> dotted.quad.of.SSLServercheck with net-admin generally Mask =255.255.255.0
> will docheck with net admin about which Interface to use..avoid 127.0.0.1
> (unless testing locally)check with net admin on NoOfHops param ..generally
>
> the lower the better use curl (command line url) to check the validity of
>
> the certificate, keys and passwordscurl -1 --cacert [file] --key
>
> PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey
> PublicKey.jks-1
>
> says use TLSv1check the type of key most keys start out as PEM PEM key ends
>
> with .PEM extension ...DER key with .DER... ENG key ends with
>
> .ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to
> achieve
>
> a Key Exchange you will have a valid SSL Connection..remember binaries have
> lower CPU so test with a reliable binary first then start debugging your
> code (i assume you added your CA cert into your local truststore) enough
> pollution?
> Martin
> ______________________________________________
> Verzicht und Vertraulichkeitanmerkung
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugte
> Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht
> dient lediglich dem Austausch von Informationen und entfaltet keine
> rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
> E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
>
>
>  > From: esmond.pitt@bigpond.com
> > To: goelenv@gmail.com; users@tomcat.apache.org
> > Subject: RE: Tomcat 7 SSL Session ID
> > Date: Wed, 5 Dec 2012 09:57:38 +1100
> >
> > Broken pipes don't invalidate the SSL session. They just break the TCP
> > connection. The SSL session persists, across multiple TCP connections,
> > until it is specifically invalidated by someone: for example, timed
> > out by the SSLSessionContext.
> >
> > EJP
> >
> >   _____
> >
> > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > Sent: Wednesday, 5 December 2012 1:15 AM
> > To: Tomcat Users List
> > Subject: Re: Tomcat 7 SSL Session ID
> >
> >
> > Hey,
> >
> > thanks for the help!
> >
> > To be clear, I do not want a 0ms timeout... I'm doing research about
> > how "usable" the SSL session tracking option is for session management...
> > With the standard settings it seems very unstable to me, when sending
> > alot of parallel requests I get a broken socket error invalidating the
> > ssl session and making the session with this id disappear. In this
> > case it would seem to me that it's easy to create Denial of Service
> > attacks by just sending alot of requests so the user loses his session.
> >
> > By playing with the timeouts I found out this problem doesn't occur
> > when I set the timeout to 0, just by playing with the settings.
> > Perhaps because this disables the possibility of too many parallel
> > connections? I can't find the reason of this in the Tomcat or SSL
> specs...
> >
> > I've added a screenshot of a capture where things go wrong without
> > setting a keepAlive.. So I send alot of requests to the server, the
> > first clientHello (pck 38943) and the following packets everything
> > goes ok, when the application data is being send I get a tcp rst from
> > port 54195 (this is the connection that was used for the transactions
> > before the current one) ... At this moment my session gets invalidates
> > making the next SSL handshake a full one with new ID (pckt 40361, ...)
> >
> >
> >
> >
> > 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
> >
> >
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > Vincent,
> >
> >
> > On 11/28/12 3:14 AM, Vincent Goelen wrote:
> > > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > > debug logs the SSL session get's invalidated after some requests
> > > with a Broken Pipe exception. Is this because there are too many
> > > open connections during the keepAliveTimeout?
> >
> >
> > It's probably because of your pathological keepAliveTimeout. 0ms
> > seems, er, low. Why did you choose 0ms?
> >
> > I haven't looked at the code, so I'm not sure if the elapsed timer
> > starts when the last request is completed (which seems reasonable) or
> > when the last request started. I suspect the latter. 0ms is awfully
> > short. Are you sure that your client is capable of accepting the
> > response to the previous request and turn-around and make another
> > request across the same channel before 0ms passes?
> >
> >
> > > It also only happens when processing the requests takes some time
> > > (fe. storing items in database) or when I put the threat to sleep
> > > for testing purpose.
> >
> >
> > So if you have a trivial request (say, HEAD for a static resource),
> > you can never get a failure?
> >
> >
> > > When inspecting the traffic I see some tcp-rst packages (problem is
> > > here?) from previous connections while the current one is being
> > > processed.
> >
> >
> > When you say "current one" what do you mean? If you are using a single
> > connection with HTTP keepalive, then there is only one connection to
> > talk about: you can't get RSTs from "previous connections". You may be
> > getting TCP RST as the server closes the connection while the client
> > is trying to write. Is that what you are experiencing?
> >
> >
> > > My question is why these SSL Sessions get invalidated after alot of
> > > quick requests to the server since this gives a problem with my SSL
> > > Session tracking since the id changes then.
> >
> >
> > Maybe if you can explain why you want a 0ms keepalive timeout it would
> > be helpful. If you want to disable keep alives, set
> > maxKeepAliveRequests="1". If you want to allow an infinite timeout,
> > try using keepAliveTimeout="-1" as the documentation states.
> >
> > - -chris
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> >
> > iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> > tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> > =J7dz
> > -----END PGP SIGNATURE-----
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
> >
> >
>
>
>
>
>
>

--20cf307d03c2f55e3504d02c55d1--

From users-return-238436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 13:02:57 2012
Return-Path: <users-return-238436-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E79B1EC6A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 13:02:56 +0000 (UTC)
Received: (qmail 32495 invoked by uid 500); 6 Dec 2012 13:02:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32077 invoked by uid 500); 6 Dec 2012 13:02:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32039 invoked by uid 99); 6 Dec 2012 13:02:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 13:02:45 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.76 as permitted sender)
Received: from [65.55.111.76] (HELO blu0-omc2-s1.blu0.hotmail.com) (65.55.111.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 13:02:37 +0000
Received: from BLU172-W22 ([65.55.111.71]) by blu0-omc2-s1.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Thu, 6 Dec 2012 05:02:16 -0800
X-Originating-IP: [74.104.173.229]
X-EIP: [vToammBMmB/E+gwguBT1+n3GoL6SEQc1]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_5698e382-1153-434d-9d9f-3dea7d610259_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat 7 SSL Session ID
Date: Thu, 6 Dec 2012 08:02:16 -0500
Importance: Normal
In-Reply-To:
 <CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
References:
 <C45352600C954650B20BA82D82D1315D@HP6910P>,<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>,<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>,<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>,<D29BD2074E4E418399AFF7462E353635@HP6910P>,<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 06 Dec 2012 13:02:16.0259 (UTC) FILETIME=[EA9F4130:01CDD3B1]
X-Virus-Checked: Checked by ClamAV on apache.org

--_5698e382-1153-434d-9d9f-3dea7d610259_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


can you split the 2 webapps to run on 2 completely different Tomcat instanc=
es running on 2 completely different <Connection> configured in server.xml =
The connection causing the TCP RST is on one tomcat instance and doesnt ena=
ble or use the other connections (and does not cause a Session Invalidate) =
as SSLConnection is disable

the second webapp enables the SSLConnection and does not interact with any =
other TCP connections as any other TCP or HTTP connections are not enabled =
in the second TC instance
if you run the simple curl script implementing the keys=2C password and CAC=
ert do you see a key exchange?
(that is the behaviour you want to emulate in your Servlet code)
Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9

Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAtes=
 pas le destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour sat=
isfaire informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e=
 ou la copie de ceci est interdite. Ce message sert =E0 l'information seule=
ment et n'aura pas n'importe quel effet l=E9galement obligatoire. =C9tant d=
onn=E9 que les email peuvent facilement =EAtre sujets =E0 la manipulation=
=2C nous ne pouvons accepter aucune responsabilit=E9 pour le contenu fourni=
.

 > Date: Thu=2C 6 Dec 2012 11:12:26 +0100
> Subject: Re: Tomcat 7 SSL Session ID
> From: goelenv@gmail.com
> To: users@tomcat.apache.org
>=20
> Hey=2C
> I'm completely aware that a RST always terminates a TCP connections..
> But in my case=2C there's an TCP rst from a connection thats already fini=
shed
> it's job causing problems for the active connection! At least that's what=
 I
> think is going on here..
> As you can see in the screenshot of my wireshark capture=2C the TCP rst t=
here
> is not from the connection that's writing application data..
>=20
> The session get's invalidates here because of an unexpected close of the
> connection which is completely normal regarding the SSL specs.
>=20
> grts=2C
> Vincent
>=20
> 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
>=20
> > Vincent
> >
> > RST always terminates a TCP connection. The question is really why was =
it
> > *sent.* The usual reason is writing to a connection that has already be=
en
> > closed by the peer. Is there an incoming close_notify higher up in the =
SSL
> > log? I suppose not otherwise an SSLException would have been thrown.
> >
> > Re loss of the SSL session=2C I suppose it is plausible that SSL discar=
ds it
> > on security grounds because of the broken connection.
> >
> > EJP
> >
> >   _____
> >
> > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > Sent: Wednesday=2C 5 December 2012 9:19 PM
> > To: Esmond Pitt
> > Subject: Re: Tomcat 7 SSL Session ID
> >
> >
> >
> > http-bio-8443-exec-21=2C READ: TLSv1 Application Data=2C length =3D 32
> > http-bio-8443-exec-21=2C READ: TLSv1 Application Data=2C length =3D 432
> > http-bio-8443-exec-20=2C WRITE: TLSv1 Application Data=2C length =3D 32
> > http-bio-8443-exec-20=2C WRITE: TLSv1 Application Data=2C length =3D 97=
6
> > http-bio-8443-exec-20=2C handling exception: java.net.SocketException: =
Broken
> > pipe
> > %% Invalidated:  [Session-1=2C TLS_RSA_WITH_AES_256_CBC_SHA]
> > http-bio-8443-exec-20=2C SEND TLSv1 ALERT:  fatal=2C description =3D
> > unexpected_message
> > http-bio-8443-exec-20=2C WRITE: TLSv1 Alert=2C length =3D 32
> > http-bio-8443-exec-20=2C Exception sending alert: java.net.SocketExcept=
ion:
> > Broken pipe
> > http-bio-8443-exec-20=2C called closeSocket()
> > http-bio-8443-exec-20=2C called close()
> > http-bio-8443-exec-20=2C called closeInternal(true)
> >
> >
> > This is what I get in the SSL debug logs.. It seems to happen when the =
tcp
> > connection is closed while the application data is being sent.. I think
> > this
> > is a security thing to prevent SSL truncation attacks which sounds quit=
e
> > normal to me.
> >
> > The issue is=2C why does my tcp connection close there:
> >
> > http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015=
.09.5
> > 6.png<http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20o=
m%2015.09.56.png>
> >
> > The screenshot above is one from where things go wrong when I analyse t=
he
> > traffic=2C the tcp rst is one from the connection that was used by the
> > previous request.. But why can that rst packet terminate the current ac=
tive
> > tcp connection?
> >
> >
> > 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
> >
> >
> > Yes but he *already has* an SSL session which he states is being
> > invalidated. To the limited extent to which I could make sense of your
> > incomprehensible post=2C it appears to be 100% irrelevant.
> >
> >
> > -----Original Message-----
> > From: Martin Gainty [mailto:mgainty@hotmail.com]
> > Sent: Wednesday=2C 5 December 2012 11:27 AM
> > To: Tomcat Users List=3B goelenv@gmail.com
> > Subject: RE: Tomcat 7 SSL Session ID
> >
> >
> >
> > yes but he needs to achieve a reliable connection between himself and t=
he
> > SSLServer (at least until key negotiation has completed) broken pipe(s)=
 are
> > a bear to debug but you have a few tools available to you:
> >
> > netstat  SSLServerIP
> > -- if you see ANY intervening nodes hanging more than 4 sec drop from a=
rp
> > cache generally by arp -d ServerIP
> > assuming your ServerIP is is 157.55.85.212 and the physical address of =
the
> > network you want to connect to is 00-aa-00-62-c6-09  (check with net-ad=
min
> > for the physical-address or eth-addr to use) > arp -s 157.55.85.212
> > 00-aa-00-62-c6-09  .... Adds a static entry.
> >  > arp -a                                    .... Displays the arp tabl=
e.
> > route print will display the routes between you and the SSLServer if yo=
u
> > dont see a route referencing the server you may want to add in your own
> > route with
> > route add DESTINATION MASK Mask  METRIC NoOfHops Interface
> >
> > InterfaceNumbercheck with net-admin DESTINATION is generally the
> > dotted.quad.of.SSLServercheck with net-admin generally Mask =3D255.255.=
255.0
> > will docheck with net admin about which Interface to use..avoid 127.0.0=
.1
> > (unless testing locally)check with net admin on NoOfHops param ..genera=
lly
> >
> > the lower the better use curl (command line url) to check the validity =
of
> >
> > the certificate=2C keys and passwordscurl -1 --cacert [file] --key
> >
> > PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey
> > PublicKey.jks-1
> >
> > says use TLSv1check the type of key most keys start out as PEM PEM key =
ends
> >
> > with .PEM extension ...DER key with .DER... ENG key ends with
> >
> > .ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to
> > achieve
> >
> > a Key Exchange you will have a valid SSL Connection..remember binaries =
have
> > lower CPU so test with a reliable binary first then start debugging you=
r
> > code (i assume you added your CA cert into your local truststore) enoug=
h
> > pollution?
> > Martin
> > ______________________________________________
> > Verzicht und Vertraulichkeitanmerkung
> > Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> > Empfaenger sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbe=
fugte
> > Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachric=
ht
> > dient lediglich dem Austausch von Informationen und entfaltet keine
> > rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
> > E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> >
> >
> >  > From: esmond.pitt@bigpond.com
> > > To: goelenv@gmail.com=3B users@tomcat.apache.org
> > > Subject: RE: Tomcat 7 SSL Session ID
> > > Date: Wed=2C 5 Dec 2012 09:57:38 +1100
> > >
> > > Broken pipes don't invalidate the SSL session. They just break the TC=
P
> > > connection. The SSL session persists=2C across multiple TCP connectio=
ns=2C
> > > until it is specifically invalidated by someone: for example=2C timed
> > > out by the SSLSessionContext.
> > >
> > > EJP
> > >
> > >   _____
> > >
> > > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > > Sent: Wednesday=2C 5 December 2012 1:15 AM
> > > To: Tomcat Users List
> > > Subject: Re: Tomcat 7 SSL Session ID
> > >
> > >
> > > Hey=2C
> > >
> > > thanks for the help!
> > >
> > > To be clear=2C I do not want a 0ms timeout... I'm doing research abou=
t
> > > how "usable" the SSL session tracking option is for session managemen=
t...
> > > With the standard settings it seems very unstable to me=2C when sendi=
ng
> > > alot of parallel requests I get a broken socket error invalidating th=
e
> > > ssl session and making the session with this id disappear. In this
> > > case it would seem to me that it's easy to create Denial of Service
> > > attacks by just sending alot of requests so the user loses his sessio=
n.
> > >
> > > By playing with the timeouts I found out this problem doesn't occur
> > > when I set the timeout to 0=2C just by playing with the settings.
> > > Perhaps because this disables the possibility of too many parallel
> > > connections? I can't find the reason of this in the Tomcat or SSL
> > specs...
> > >
> > > I've added a screenshot of a capture where things go wrong without
> > > setting a keepAlive.. So I send alot of requests to the server=2C the
> > > first clientHello (pck 38943) and the following packets everything
> > > goes ok=2C when the application data is being send I get a tcp rst fr=
om
> > > port 54195 (this is the connection that was used for the transactions
> > > before the current one) ... At this moment my session gets invalidate=
s
> > > making the next SSL handshake a full one with new ID (pckt 40361=2C .=
..)
> > >
> > >
> > >
> > >
> > > 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
> > >
> > >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >
> > > Vincent=2C
> > >
> > >
> > > On 11/28/12 3:14 AM=2C Vincent Goelen wrote:
> > > > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > > > debug logs the SSL session get's invalidated after some requests
> > > > with a Broken Pipe exception. Is this because there are too many
> > > > open connections during the keepAliveTimeout?
> > >
> > >
> > > It's probably because of your pathological keepAliveTimeout. 0ms
> > > seems=2C er=2C low. Why did you choose 0ms?
> > >
> > > I haven't looked at the code=2C so I'm not sure if the elapsed timer
> > > starts when the last request is completed (which seems reasonable) or
> > > when the last request started. I suspect the latter. 0ms is awfully
> > > short. Are you sure that your client is capable of accepting the
> > > response to the previous request and turn-around and make another
> > > request across the same channel before 0ms passes?
> > >
> > >
> > > > It also only happens when processing the requests takes some time
> > > > (fe. storing items in database) or when I put the threat to sleep
> > > > for testing purpose.
> > >
> > >
> > > So if you have a trivial request (say=2C HEAD for a static resource)=
=2C
> > > you can never get a failure?
> > >
> > >
> > > > When inspecting the traffic I see some tcp-rst packages (problem is
> > > > here?) from previous connections while the current one is being
> > > > processed.
> > >
> > >
> > > When you say "current one" what do you mean? If you are using a singl=
e
> > > connection with HTTP keepalive=2C then there is only one connection t=
o
> > > talk about: you can't get RSTs from "previous connections". You may b=
e
> > > getting TCP RST as the server closes the connection while the client
> > > is trying to write. Is that what you are experiencing?
> > >
> > >
> > > > My question is why these SSL Sessions get invalidated after alot of
> > > > quick requests to the server since this gives a problem with my SSL
> > > > Session tracking since the id changes then.
> > >
> > >
> > > Maybe if you can explain why you want a 0ms keepalive timeout it woul=
d
> > > be helpful. If you want to disable keep alives=2C set
> > > maxKeepAliveRequests=3D"1". If you want to allow an infinite timeout=
=2C
> > > try using keepAliveTimeout=3D"-1" as the documentation states.
> > >
> > > - -chris
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> > >
> > > iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> > > tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> > > =3DJ7dz
> > > -----END PGP SIGNATURE-----
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands=2C e-mail: users-help@tomcat.apache.org
> > >
> > >
> > >
> > >
> >
> >
> >
> >
> >
> >
 		 	   		  =

--_5698e382-1153-434d-9d9f-3dea7d610259_--

From users-return-238437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 14:49:16 2012
Return-Path: <users-return-238437-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5A103EFF9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 14:49:16 +0000 (UTC)
Received: (qmail 72846 invoked by uid 500); 6 Dec 2012 14:49:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72061 invoked by uid 500); 6 Dec 2012 14:49:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72010 invoked by uid 99); 6 Dec 2012 14:49:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 14:49:07 +0000
X-ASF-Spam-Status: No, hits=0.6 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [207.126.144.147] (HELO eu1sys200aog119.obsmtp.com) (207.126.144.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 14:48:57 +0000
Received: from mail-oa0-f71.google.com ([209.85.219.71]) (using TLSv1) by eu1sys200aob119.postini.com ([207.126.147.11]) with SMTP
	ID DSNKUMCwRBxb9oMye/rk3/1QmprzU0Af+xbV@postini.com; Thu, 06 Dec 2012 14:48:37 UTC
Received: by mail-oa0-f71.google.com with SMTP id n12so29942322oag.2
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 06:48:35 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :x-gm-message-state;
        bh=tWPBQSFT1orSevFp4beghD9vYYcsfUA5k5OWkLsERP4=;
        b=LpWzvqkoV7tU/T4tVi6oLm83/Azpva6y3wuQz9SQnD5RHTL+IQG6wchOJcfyPHjBBW
         O/yUC20yJOEAKV9nti+tndvzJ47Qt/VsKO0zVMYFxdlLIz0TW6eYGNv/myi1tHdNU4qL
         UumJWSFAL1IPGe6LH4xTpR/TlhgA+K6RcZD2lDaf4EZlpfJK5PFR72i0VnrxBUcnxR3+
         W9jffJdl/Hb0sbS7n12PM5f2HVxZJlk/MVvpLC2fwEs/3g0RXjimqPa6twiQHkZbabc3
         iPftodyBdjaZBC7oSXo9ostKrR9AabTV4fDj/b+nSFMYWP4E342CA6OqRIwIGfIob+0N
         xF0g==
Received: by 10.50.77.166 with SMTP id t6mr1624775igw.72.1354805315798;
        Thu, 06 Dec 2012 06:48:35 -0800 (PST)
MIME-Version: 1.0
Received: by 10.50.77.166 with SMTP id t6mr1624769igw.72.1354805315684; Thu,
 06 Dec 2012 06:48:35 -0800 (PST)
Received: by 10.64.15.170 with HTTP; Thu, 6 Dec 2012 06:48:35 -0800 (PST)
Date: Thu, 6 Dec 2012 14:48:35 +0000
Message-ID: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
Subject: Is it possible to expire jvmRoute cookie
From: "Smith, Mitchell" <mitchell.smith@cwc.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8f3baff794c98204d0303145
X-Gm-Message-State: ALoCoQkN1DCy50s86U749zK5AD3NBHeo7zttj651Uq1f6JEQf/O6AuhrIzOM4nCBFsAdUVWLo2Kt1EnsnmClKmvjjtOOgcQZmo4xJVhMbEZi3j3VN/FXqhSEilqKvMe/U3Pt6OeObGnNpAiDbk1GtT94xcJXO0WZh+W4aCM/464qCjJ5z8P7JQM=
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f3baff794c98204d0303145
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I have a jvmRoute appended to my JSESSIONID to enable sticky sessions at an
application level.

I see often that users do not close browsers, resulting (even if the tomcat
session has expired) the user to be forwarded back to the instance.

Is it possible to set an expiry for the jvmRoute / JSESSIONID to be expired
at the browser so after x amount of time since last request the jvmRoute is
not transmitted back to the application apache load balancer. This would
prevent users constantly being directed to the same application node.

Regards

-- 
*Mitchell
*

The information contained in this email (and any attachments) is confidential and may be privileged. If you are not the intended recipient
and have received this email in error, please notify the sender immediately by reply email and delete the message and any attachments.
If you are not the named addressee, you must not copy, disclose, forward or otherwise use the information contained in this email.
Cable & Wireless Communications Plc and its affiliates reserve the right to monitor all email communications through their networks to
ensure regulatory compliance.
 
Cable & Wireless Communications Plc is a company registered in England & Wales with number:
07130199 and offices located at 3rd Floor, 26 Red Lion Square, London WC1R 4HQ

--e89a8f3baff794c98204d0303145--

From users-return-238438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 14:59:15 2012
Return-Path: <users-return-238438-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A28D5E04B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 14:59:15 +0000 (UTC)
Received: (qmail 23213 invoked by uid 500); 6 Dec 2012 14:59:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23091 invoked by uid 500); 6 Dec 2012 14:59:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 22912 invoked by uid 99); 6 Dec 2012 14:59:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 14:59:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 14:59:03 +0000
Received: from [192.168.245.129] (p549E8FA5.dip0.t-ipconnect.de [84.158.143.165])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 446573C06FE
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 15:59:31 +0100 (CET)
Message-ID: <50C0B29E.70500@ice-sa.com>
Date: Thu, 06 Dec 2012 15:58:38 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
In-Reply-To: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Smith, Mitchell wrote:
> Hi,
> 
> I have a jvmRoute appended to my JSESSIONID to enable sticky sessions at an
> application level.
> 
> I see often that users do not close browsers, resulting (even if the tomcat
> session has expired) the user to be forwarded back to the instance.
> 
> Is it possible to set an expiry for the jvmRoute / JSESSIONID to be expired
> at the browser so after x amount of time since last request the jvmRoute is
> not transmitted back to the application apache load balancer. This would
> prevent users constantly being directed to the same application node.
> 

Could you suggest a mechanism by which this would be possible ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:02:35 2012
Return-Path: <users-return-238439-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5AE86E08B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:02:35 +0000 (UTC)
Received: (qmail 35812 invoked by uid 500); 6 Dec 2012 15:02:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35638 invoked by uid 500); 6 Dec 2012 15:02:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35621 invoked by uid 99); 6 Dec 2012 15:02:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:02:30 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of a.ruffie@e-deal.com designates 84.246.104.17 as permitted sender)
Received: from [84.246.104.17] (HELO m1.hisi.fr) (84.246.104.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:02:26 +0000
From: Adrien RUFFIE <a.ruffie@e-deal.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Thu, 6 Dec 2012 16:03:04 +0100
Subject: Tomcat JMX remote
Thread-Topic: Tomcat JMX remote
Thread-Index: Ac3TwQoLamg11p6sTlmURvxpatk39w==
Message-ID: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com>
Accept-Language: fr-FR
Content-Language: fr-FR
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
acceptlanguage: fr-FR
Content-Type: multipart/mixed;
	boundary="_009_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_"
MIME-Version: 1.0
X-smtpf-Report: sid=oB5G1v040371107500; tid=oB5G1v0403711075jy; client=lan,relay,no_ptr; mail=; rcpt=; nrcpt=1:0; fails=0
X-Hisi-MailScanner-Information: 
X-Hisi-MailScanner-ID: qB6F1vpM007926
X-Hisi-MailScanner: Found to be clean
X-Hisi-MailScanner-From: a.ruffie@e-deal.com
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No

--_009_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: multipart/related;
	boundary="_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_";
	type="multipart/alternative"

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: multipart/alternative;
	boundary="_000_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_"

--_000_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all,

I have a tomcat6 installed in one debian,
But openjdk6 is installed and I try to active
JMX access on the throught the network
On my tomcat, but it doesn't work ...

I use following option (CATALINA_OPTS or JAVA_OPTS I have try two):
set CATALINA_OPTS=3D-Dcom.sun.management.jmxremote \
    -Dcom.sun.management.jmxremote.port=3D9999 \
    -Dcom.sun.management.jmxremote.ssl=3Dfalse \
    -Dcom.sun.management.jmxremote.authenticate=3Dtrue \
    -Dcom.sun.management.jmxremote.password.file=3D../conf/jmxremote.passwo=
rd \
    -Dcom.sun.management.jmxremote.access.file=3D../conf/jmxremote.access \

My tomcat is launched correctly with following jvm parameter:

root@rd4-was7:/usr/local# ps -ef | grep java
root     23943     1  0 15:30 pts/2    00:00:01 /usr/lib/jvm/java-6-openjdk=
/jre/bin/java -Djava.util.logging.config.file=3D/usr/local/tomcat6/conf/log=
ging.properties -Djava.util.logging.manager=3Dorg.apache.juli.ClassLoaderLo=
gManager -Dcom.sun.management.jmxremote.port=3D9999 -Dcom.sun.management.jm=
xremote.authenticate=3Dfalse -Dcom.sun.management.jmxremote.ssl=3Dfalse -Dj=
ava.endorsed.dirs=3D/usr/local/tomcat6/endorsed -classpath /usr/local/tomca=
t6/bin/bootstrap.jar -Dcatalina.base=3D/usr/local/tomcat6 -Dcatalina.home=
=3D/usr/local/tomcat6 -Djava.io.tmpdir=3D/usr/local/tomcat6/temp org.apache=
.catalina.startup.Bootstrap start

But I cannot access with my JVisualVM:
Cannot connect to tomcat@192.168.101.160:9999<mailto:tomcat@192.168.101.160=
:9999> using service:jmx:rmi///jndi/rmi://192.168.101.160:9999/jmxrmi

Tomcat of tomcat@192.168.101.160<mailto:tomcat@192.168.101.160> must be are=
 a user on my debian ? Because the current tomcat user is "tomcat6" on file=
 system

Attached file is my catalina.sh

Any one have an idea ?

Bien cordialement,

[cid:image002.png@01CDD3CB.2C9AD9A0]<http://e-deal.biz/kd/9eZ>

[cid:image003.png@01CDD3C9.DC171580]<http://e-deal.biz/kd/UOh>[cid:image004=
.png@01CDD3C9.DC171580]<http://e-deal.biz/kd/X9Q>[cid:image005.png@01CDD3C9=
.DC171580]<http://e-deal.biz/kd/bTG>

Adrien RUFFIE
Ing=E9nieur R&D

40, rue du Village d'Entreprises
31670 Lab=E8ge
www.e-deal.com<http://www.e-deal.com/>


LD : +33 1 73 03 29 50
Std : +33 1 73 03 29 80
Fax : +33 1 73 01 69 77
a.ruffie@e-deal.com <mailto:a.ruffie@e-deal.com>


E-DEAL soutient le Pacte Mondial de l'ONU<http://e-deal.biz/kd/mPQ>


--_000_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: text/html; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40"><head><meta http-equiv=3DContent-Type content=
=3D"text/html; charset=3Diso-8859-1"><meta name=3DGenerator content=3D"Micr=
osoft Word 14 (filtered medium)"><!--[if !mso]><style>v\:* {behavior:url(#d=
efault#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Lucida Sans";
	panose-1:2 11 6 2 3 5 4 2 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-language:EN-US;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Texte de bulles Car";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";
	mso-fareast-language:EN-US;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
span.TextedebullesCar
	{mso-style-name:"Texte de bulles Car";
	mso-style-priority:99;
	mso-style-link:"Texte de bulles";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DFR link=3Dblue vlink=
=3Dpurple><div class=3DWordSection1><p class=3DMsoNormal><span lang=3DEN-US=
>Hello all,<o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US><o=
:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US>I have a =
tomcat6 installed in one debian,<o:p></o:p></span></p><p class=3DMsoNormal>=
<span lang=3DEN-US>But openjdk6 is installed and I try to active<o:p></o:p>=
</span></p><p class=3DMsoNormal><span lang=3DEN-US>JMX access on the throug=
ht the network<o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US=
>On my tomcat, but it doesn&#8217;t work &#8230;<o:p></o:p></span></p><p cl=
ass=3DMsoNormal><span lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p class=3DM=
soNormal><span lang=3DEN-US>I use following option (CATALINA_OPTS or JAVA_O=
PTS I have try two):<o:p></o:p></span></p><p class=3DMsoNormal style=3D'tex=
t-autospace:none'><span lang=3DEN-US style=3D'font-size:9.0pt;font-family:"=
Courier New"'>set CATALINA_OPTS=3D-Dcom.sun.management.jmxremote \<o:p></o:=
p></span></p><p class=3DMsoNormal style=3D'text-autospace:none'><span lang=
=3DEN-US style=3D'font-size:9.0pt;font-family:"Courier New"'>=A0=A0=A0 -Dco=
m.sun.management.jmxremote.port=3D9999 \<o:p></o:p></span></p><p class=3DMs=
oNormal style=3D'text-autospace:none'><span lang=3DEN-US style=3D'font-size=
:9.0pt;font-family:"Courier New"'>=A0=A0=A0 -Dcom.sun.management.jmxremote.=
ssl=3Dfalse \<o:p></o:p></span></p><p class=3DMsoNormal style=3D'text-autos=
pace:none'><span lang=3DEN-US style=3D'font-size:9.0pt;font-family:"Courier=
 New"'>=A0=A0=A0 -Dcom.sun.management.jmxremote.authenticate=3Dtrue \<o:p><=
/o:p></span></p><p class=3DMsoNormal style=3D'text-autospace:none'><span la=
ng=3DEN-US style=3D'font-size:9.0pt;font-family:"Courier New"'>=A0=A0=A0 -D=
com.sun.management.jmxremote.password.file=3D../conf/jmxremote.password \<o=
:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US style=3D'font-s=
ize:9.0pt;font-family:"Courier New"'>=A0=A0=A0 -Dcom.sun.management.jmxremo=
te.access.file=3D../conf/jmxremote.access \</span><span lang=3DEN-US><o:p><=
/o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US><o:p>&nbsp;</o:p></=
span></p><p class=3DMsoNormal><span lang=3DEN-US>My tomcat is launched corr=
ectly with following jvm parameter:<o:p></o:p></span></p><p class=3DMsoNorm=
al><span lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal>root=
@rd4-was7:/usr/local# ps -ef | grep java<o:p></o:p></p><p class=3DMsoNormal=
><span lang=3DEN-US>root=A0=A0=A0=A0 23943=A0=A0=A0=A0 1=A0 0 15:30 pts/2=
=A0=A0=A0 00:00:01 /usr/lib/jvm/java-6-openjdk/jre/bin/java -Djava.util.log=
ging.config.file=3D/usr/local/tomcat6/conf/logging.properties -Djava.util.l=
ogging.manager=3Dorg.apache.juli.ClassLoaderLogManager -Dcom.sun.management=
.jmxremote.port=3D9999 -Dcom.sun.management.jmxremote.authenticate=3Dfalse =
-Dcom.sun.management.jmxremote.ssl=3Dfalse -Djava.endorsed.dirs=3D/usr/loca=
l/tomcat6/endorsed -classpath /usr/local/tomcat6/bin/bootstrap.jar -Dcatali=
na.base=3D/usr/local/tomcat6 -Dcatalina.home=3D/usr/local/tomcat6 -Djava.io=
.tmpdir=3D/usr/local/tomcat6/temp org.apache.catalina.startup.Bootstrap sta=
rt<o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US><o:p>&nbsp;=
</o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US>But I cannot acces=
s with my JVisualVM:<o:p></o:p></span></p><p class=3DMsoNormal><span lang=
=3DEN-US>Cannot connect to <a href=3D"mailto:tomcat@192.168.101.160:9999">t=
omcat@192.168.101.160:9999</a> using service:jmx:rmi///jndi/rmi://192.168.1=
01.160:9999/jmxrmi<o:p></o:p></span></p><p class=3DMsoNormal><span lang=3DE=
N-US><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span lang=3DEN-US>To=
mcat of <a href=3D"mailto:tomcat@192.168.101.160">tomcat@192.168.101.160</a=
> must be are a user on my debian ? Because the current tomcat user is &#82=
20;tomcat6&#8221; on file system<o:p></o:p></span></p><p class=3DMsoNormal>=
<span lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span l=
ang=3DEN-US>Attached file is my catalina.sh<o:p></o:p></span></p><p class=
=3DMsoNormal><span lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p class=3DMsoN=
ormal><span lang=3DEN-US>Any one have an idea ?<o:p></o:p></span></p><p cla=
ss=3DMsoNormal><span lang=3DEN-US><o:p>&nbsp;</o:p></span></p><p class=3DMs=
oNormal><span style=3D'font-size:10.0pt;font-family:"Lucida Sans","sans-ser=
if";mso-fareast-language:FR'>Bien cordialement,<br>&nbsp;<o:p></o:p></span>=
</p><table class=3DMsoNormalTable border=3D1 cellpadding=3D0 width=3D361 st=
yle=3D'width:271.0pt;border:solid #7584AD 1.0pt'><tr><td valign=3Dtop style=
=3D'border:none;padding:.75pt 3.0pt .75pt 3.0pt'><p class=3DMsoNormal><a hr=
ef=3D"http://e-deal.biz/kd/9eZ" title=3D"Innover la Relation Client"><span =
style=3D'font-size:12.0pt;font-family:"Times New Roman","serif";color:blue;=
mso-fareast-language:FR;text-decoration:none'><img border=3D0 width=3D180 h=
eight=3D45 id=3D"Image_x0020_1" src=3D"cid:image002.png@01CDD3CB.2C9AD9A0" =
alt=3DE-DEAL></span></a><span style=3D'font-size:12.0pt;font-family:"Times =
New Roman","serif";mso-fareast-language:FR'><o:p></o:p></span></p></td><td =
valign=3Dtop style=3D'border:none;padding:0cm 3.0pt .75pt 3.0pt'><p class=
=3DMsoNormal align=3Dright style=3D'mso-margin-top-alt:auto;mso-margin-bott=
om-alt:auto;text-align:right'><a href=3D"http://e-deal.biz/kd/UOh" title=3D=
"Innover la Relation Client"><span style=3D'font-size:12.0pt;font-family:"T=
imes New Roman","serif";color:blue;mso-fareast-language:FR;text-decoration:=
none'><img border=3D0 width=3D24 height=3D24 id=3D"Image_x0020_2" src=3D"ci=
d:image003.png@01CDD3C9.DC171580" alt=3DTwitter></span></a><a href=3D"http:=
//e-deal.biz/kd/X9Q" title=3D"Innover la Relation Client"><span style=3D'fo=
nt-size:12.0pt;font-family:"Times New Roman","serif";color:blue;mso-fareast=
-language:FR;text-decoration:none'><img border=3D0 width=3D24 height=3D24 i=
d=3D"Image_x0020_3" src=3D"cid:image004.png@01CDD3C9.DC171580" alt=3DFacebo=
ok></span></a><a href=3D"http://e-deal.biz/kd/bTG" title=3D"Innover la Rela=
tion Client"><span style=3D'font-size:12.0pt;font-family:"Times New Roman",=
"serif";color:blue;mso-fareast-language:FR;text-decoration:none'><img borde=
r=3D0 width=3D24 height=3D24 id=3D"Image_x0020_4" src=3D"cid:image005.png@0=
1CDD3C9.DC171580" alt=3DRSS></span></a><span style=3D'font-size:12.0pt;font=
-family:"Times New Roman","serif";mso-fareast-language:FR'><o:p></o:p></spa=
n></p></td></tr><tr><td colspan=3D2 style=3D'border:none;padding:0cm 0cm 0c=
m 0cm'><p class=3DMsoNormal align=3Dright style=3D'margin-top:15.0pt;mso-ma=
rgin-bottom-alt:auto;text-align:right'><b><span style=3D'font-size:10.0pt;f=
ont-family:"Lucida Sans","sans-serif";mso-fareast-language:FR'>Adrien RUFFI=
E</span></b><span style=3D'font-size:10.0pt;font-family:"Lucida Sans","sans=
-serif";mso-fareast-language:FR'><br><i>Ing=E9nieur R&amp;D</i> </span><spa=
n style=3D'font-size:12.0pt;font-family:"Times New Roman","serif";mso-farea=
st-language:FR'><o:p></o:p></span></p></td></tr><tr><td valign=3Dbottom sty=
le=3D'border:none;padding:.75pt 3.0pt .75pt 3.0pt'><p class=3DMsoNormal><sp=
an style=3D'font-size:9.0pt;font-family:"Lucida Sans","sans-serif";mso-fare=
ast-language:FR'>40, rue du Village d&#8217;Entreprises<br>31670 Lab=E8ge<b=
r></span><span style=3D'font-size:9.0pt;font-family:"Times New Roman","seri=
f";mso-fareast-language:FR'><a href=3D"http://www.e-deal.com/" title=3D"Inn=
over la Relation Client"><b><span style=3D'color:#0C3183;text-decoration:no=
ne'>www.e-deal.com</span></b></a></span><span style=3D'font-size:12.0pt;fon=
t-family:"Times New Roman","serif";mso-fareast-language:FR'> <o:p></o:p></s=
pan></p></td><td valign=3Dbottom style=3D'border:none;padding:.75pt 3.0pt .=
75pt 3.0pt'><p class=3DMsoNormal align=3Dright style=3D'mso-margin-top-alt:=
auto;mso-margin-bottom-alt:auto;text-align:right'><span style=3D'font-size:=
7.5pt;font-family:"Lucida Sans","sans-serif";mso-fareast-language:FR'>&nbsp=
;<br></span><span lang=3DEN-US style=3D'font-size:7.5pt;font-family:"Lucida=
 Sans","sans-serif";mso-fareast-language:FR'>LD : +33 1 73 03 29 50<br>Std =
: +33 1 73 03 29 80<br>Fax : +33 1 73 01 69 77<br></span><b><span style=3D'=
font-size:9.0pt;font-family:"Lucida Sans","sans-serif";color:#0C3183;mso-fa=
reast-language:FR'><a href=3D"mailto:a.ruffie@e-deal.com"><span lang=3DEN-U=
S style=3D'color:blue'>a.ruffie@e-deal.com</span><span lang=3DEN-US style=
=3D'color:blue;font-weight:normal'> </span></a></span></b><span lang=3DEN-U=
S style=3D'font-size:12.0pt;font-family:"Times New Roman","serif";mso-farea=
st-language:FR'><o:p></o:p></span></p></td></tr></table><p class=3DMsoNorma=
l><span lang=3DEN-US style=3D'font-size:10.0pt;font-family:"Lucida Sans","s=
ans-serif";mso-fareast-language:FR'><br></span><span style=3D'font-size:8.0=
pt;font-family:"Lucida Sans","sans-serif";color:#009900;mso-fareast-languag=
e:FR'>E-DEAL soutient le <a href=3D"http://e-deal.biz/kd/mPQ" title=3De-mai=
l><span style=3D'color:#009900;text-decoration:none'>Pacte Mondial de l'ONU=
</span></a></span><span style=3D'mso-fareast-language:FR'><o:p></o:p></span=
></p><p class=3DMsoNormal><o:p>&nbsp;</o:p></p></div></body></html>=

--_000_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_--

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: image/png; name="image003.png"
Content-Description: image003.png
Content-Disposition: inline; filename="image003.png"; size=2591;
	creation-date="Thu, 06 Dec 2012 16:01:56 GMT";
	modification-date="Thu, 06 Dec 2012 16:01:56 GMT"
Content-ID: <image003.png@01CDD3C9.DC171580>
Content-Transfer-Encoding: base64

iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC/GlDQ1BpY2MAAHjajZPLbxtVFMZ/
Y4+nlRKxwbTFqtAVizZCSTR9qE2EaGvHrpU2GGuaFCdCqibja3vIzXh6Z5w+1AXqhh0tiD3iIVb8
ARXqgl1XKJWqgpAq1lQIVKmoG1TMwo+ZlkA5q3O/853vfPdcXch96oahygjYDGLtVEuisbomdv1E
hleZoMCE60VhsV5fAnDDUPGPePIDBsC9mZ3r/xkTTRl5YOwGus3I2wTjMmTPe6GOwbwLzF2Kwxhy
u4G8bqyuQW4/kG8PchvIrw/yMpDXy84C5BrAS17HbUKuA0yvp/B2Kh94ACBflYHUviecaknUdbfl
K5my+4Ly/4xN1RvNexmYDOOSAxwA/mjp0yvAFBiFq53ld4E9YJT8eHF5iDeC9do7A77xwUb3rDPk
fN2U5QowDcbtaOtcZcS52lmoDTm/vO+eqQMFMP4K4/pQJ7MvULWlgX7mhIwq50Z4yz+9OMRboaov
DfQzH+meswK8DplvXV2pDvkPZLAy7M1mmm75LDAL2SnqSDQtfBQChyolBFUkAQ/R+Hh0qaPpjllt
Ho6rF+khETicp3Sz0JtKVK7rC763fePRM93d1JQ2kgA5nlJNnSM2xswZwkThzrXb+xKN++at9+5N
3rlGEYWijWQTiU+AJEoppDy0gpuFRMHbvvFIflh7UuP6dILaP9q/2fftz+2v7F//ZUft53ZUTM2X
BDu6lyhWUWOHO7N8FD4rBPhcQqKJcFEEXEGkdzHqNl8zD5mL5pw5jzBPmqfME2bZnDPfNJdGDKti
la0iwnrDmrcOWWesYnIT66BVtuatg1blmRfwUndNv6BMsWRqIzOsI4nYQOOzhUQRISGWl2OAhW54
RfvtTiwO2/ZxUQxDJcVi4M1OC1cpof12J46ElpHUW7I5S2N1TQy+42MHAzD2bCdY/Da89Ttk7ybY
Wg++iWDv0QSbKsArn8GtY15Pbw3/t2F8D1HryOHBabIEuZ/7/ccHYNcn8PTjfv/PL/r9p19C9gF8
p/4GqSMK1roTvtgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAJdnBB
ZwAAABgAAAAYAHhMpaYAAAZASURBVEjHlVVrcJXFGX7e/S7k3HOSk9sJCUkgBJJC0ChhECIEL2hr
QSzBTgGROqGltFBB6yD1y9epWrxNhGo7tDNC6dCO0VFpB+SmmQkgGbBcEkAoagqxmUBOLifnnOR8
t7c/Dom0Y3HcmZ3d2d33eXafd3cfYmZ8k0JExN8gSNwULIVHBBDpuiCAmJln/2B1cPrSNfOqf/br
VbN/+ds5ALBK191fhSH/P2AGmAHGyGY1jUnXZWialcwMP+ydVvNqWsEEhePR/Y817TvT0zOUD6Dt
pifQdV3UNTVJDPB3n9pcSA8/eWtKlvGlNP/H01nTLACQ88ff7SqtVMiXATmY3X7tz6+bEdPJ/9oT
aJrmjPTbklyyecn8V1s+PPTXlpYdD7UmfeHpu1pfsQ82Ce+sBbWGYUAyTUi2earrxO50b/1roxKN
KEAEImbGsqefy+uXvTPM9OyefY9/v/XBJxpqqWDSpOe/XV0TcYceDAa8KHUBv/m4G7s/60FmIAM2
C4tdHtmO9u7Ehzt/HwuOXekYyXZJEm8d0x7rHCVpYBYNRLz4d+/cbngztYSFKWkSPn28KlwxbPGn
P782dgr50zzvVsDujSelRcf74TIthmOTV5KQzlYs8cWlK7Y7MEFNz1LSzMQ9zYsnH9CJxKH6jTnU
ePBYztp51d0AoLf2+k/0DW6SVHXNGzV5rn/0AXedAkMBHagAbg+YvP2TQTAzCSKcHzCwv8dAhqwA
tglHUiEGew8Otbfs5figL4uG9shnzl4srTvcbsYip+N7tmyJAhlP3v+H/aXK3LyFDsOCDBkCSNpA
QFXokfIgBAEMgJhR+9kgP90WgcdhOIbFSPPdpRZPzeGuC+ubn1lxXFiGaUsumiVnlt298tnXC4go
nOyPBMCAwxBwgDICGq8Ay04DP20n/KSN8MMzhEM9Ag9NDNCi7DQ6lXRYkiQBc/iTUHnl/JPPrDhA
BJJ3bFj5EQDUbdlZeNlUn7916/vzpOz8XMeywI4sRq7asQQQi315TWABp4eA6kygPGMM0BGDZTsw
TTtz8MpFFZgGNIAEpZbj6NrlcVP15Lmm3JErBbMdQV++MQaQLQETVWCiAlQoAFTge+lAjgJ0x0zA
dsg2DZgksgbj5rrSpUv9rMGRORWPzCca/2S5g7XJ6IDllhxZpHgBBmIErC8AZgSBYTs1LBHwLS9w
sjuO967EkA2HDJtgMdlR2bNWTFvuBlAvA8BtM2dOUpZsmqoUlCGeGCKHAEHXtw7gMgNVPmC6n6/r
k2ojSQsbT1zFkf5hlKkCCduBww6EJx2UNbZn9CXzrMX3peVPGGvZDmzbkpIkMGQ5qY9EADkOsOvf
AAQhIAODFsFmoNInY0NFBv7ZN4xo0oYMtmwmGbG+iF+V94wS+MPFbziOlW8NDz6iQIS6LMbFfgNh
nwoogNsB3u4D3u8HAgQYAJ+1QC+FgfWlASy80IvGSwNc4k2TLU8Q1Nd1rH1Z+WEAkAkgXrewH8CG
BTs+2H1NBNeelP2LDv4rzk9Ve6kxH1j3OQDpekYINE4FwQSOR+EAQEiVAKEI1TH2JXu7zrvMuFT1
7PYZ4yd6jo8mea7eLPs7/3KBfIVNZWX3zNzWQbnVOQP26pKAVO4H3rkKHmaQaSLSGTcu3xFSbvlF
BYkeEzhyNQHYScOnyi+ef3TaocmNzUXELqni3DmWb3Apa8EL0YR56ahPOKaPxviwvDUivRy3eG6x
n28plZygIuQBCxd27D2ycUHR5BWFcsj/8tGuGXuT7nCRPHS6qCTjKACcXzenY/RnHXE/IhAzuE7X
1bbwvWtkd+DeWNIs6LAwuTLkQ226QG4wiHi0/7B+Z+FsfPx3N6q+k6BfvffAuPTQffD53up4dOoH
pEMAekpPTXPoRnsdIQGAJkDa/Nyummiw+LWo4sntHrYEFHcARuyj+vYf3blt2wNcvcoq9tixgiV/
bGypZzaprkniNxfb/+WO/+vfRERoYGItlcDi7R1puQPnKlVybhvOLI4ZiVgWOs92uQe+uDjEokrJ
zOt2c8nfmjHHGYm5KcHohK4LaBozwDPr6lyhqTW5uzet+RwA7t+6dUxvL8a4xk0x0NVVlGX0db6p
rY59JRAz37SigcWNfTQ0iK+LubH+B6r+A/oXmnOXAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEyLTAy
LTA4VDEyOjAzOjMwKzAxOjAwc9mASQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxMi0wMi0wOFQxMjow
MzozMCswMTowMAKEOPUAAAAASUVORK5CYII=

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: image/png; name="image004.png"
Content-Description: image004.png
Content-Disposition: inline; filename="image004.png"; size=2564;
	creation-date="Thu, 06 Dec 2012 16:01:56 GMT";
	modification-date="Thu, 06 Dec 2012 16:01:56 GMT"
Content-ID: <image004.png@01CDD3C9.DC171580>
Content-Transfer-Encoding: base64

iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC/GlDQ1BpY2MAAHjajZPLbxtVFMZ/
Y4+nlRKxwbTFqtAVizZCSTR9qE2EaGvHrpU2GGuaFCdCqibja3vIzXh6Z5w+1AXqhh0tiD3iIVb8
ARXqgl1XKJWqgpAq1lQIVKmoG1TMwo+ZlkA5q3O/853vfPdcXch96oahygjYDGLtVEuisbomdv1E
hleZoMCE60VhsV5fAnDDUPGPePIDBsC9mZ3r/xkTTRl5YOwGus3I2wTjMmTPe6GOwbwLzF2Kwxhy
u4G8bqyuQW4/kG8PchvIrw/yMpDXy84C5BrAS17HbUKuA0yvp/B2Kh94ACBflYHUviecaknUdbfl
K5my+4Ly/4xN1RvNexmYDOOSAxwA/mjp0yvAFBiFq53ld4E9YJT8eHF5iDeC9do7A77xwUb3rDPk
fN2U5QowDcbtaOtcZcS52lmoDTm/vO+eqQMFMP4K4/pQJ7MvULWlgX7mhIwq50Z4yz+9OMRboaov
DfQzH+meswK8DplvXV2pDvkPZLAy7M1mmm75LDAL2SnqSDQtfBQChyolBFUkAQ/R+Hh0qaPpjllt
Ho6rF+khETicp3Sz0JtKVK7rC763fePRM93d1JQ2kgA5nlJNnSM2xswZwkThzrXb+xKN++at9+5N
3rlGEYWijWQTiU+AJEoppDy0gpuFRMHbvvFIflh7UuP6dILaP9q/2fftz+2v7F//ZUft53ZUTM2X
BDu6lyhWUWOHO7N8FD4rBPhcQqKJcFEEXEGkdzHqNl8zD5mL5pw5jzBPmqfME2bZnDPfNJdGDKti
la0iwnrDmrcOWWesYnIT66BVtuatg1blmRfwUndNv6BMsWRqIzOsI4nYQOOzhUQRISGWl2OAhW54
RfvtTiwO2/ZxUQxDJcVi4M1OC1cpof12J46ElpHUW7I5S2N1TQy+42MHAzD2bCdY/Da89Ttk7ybY
Wg++iWDv0QSbKsArn8GtY15Pbw3/t2F8D1HryOHBabIEuZ/7/ccHYNcn8PTjfv/PL/r9p19C9gF8
p/4GqSMK1roTvtgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAJdnBB
ZwAAABgAAAAYAHhMpaYAAAYlSURBVEjHlZV/bJXVGce/z3nf+76390dLL7eU0oItWFt6LYym0A5K
ZdAJzDqMCZ3JzBxuspkZF53ObGHjdsnmTPzDbbBEyMycErerZHGZm8qMk4kJEUTrkBVb7G8uLW3v
7S33vve87znP/ugPOpgzO8mTk3NOnufzPM85z3mImfH/DCIivkbpv+3NDfN/GQLiBMR5Zj5LwIua
mbmxsTEwNr1knYeSGtsK9zDz8Y6HHy7A0JBMJBLqMwFEnYKZNQAmqjOYd6vZfQuAvJip/brrix3U
5lIIY/o0gMZk13h1NhDrAZBdGNE8gDo6DIzFCCVnmTmhqtbtqQyYupj52TMNDSXLpNlaznz0XQBw
Udzus8vh9xFCBeG3Dx0i36XxXRXnk/gXACxMF33aHdwQu3ubtusPGHz5mbyDe9lcvNzvUz+WU29f
MfzrfzGUjdr4RALItNfWHxvwjNjKj88cfvk/UzwL2H7n/Uv6B0VrzqF0/4cHjtU0fKXNo/J6V9yw
Qbr+uzxFYAgIzsFCFiNngcp1tnt72ypfpJCf7/zRrl+WrNqzN2zL045j/GW499mBeVCcWewHdN2m
R1oz2chPpEvVpsj1Kg7WmyQ/yHsFTRq2zSxV0CeMoQ+zdN8DVbzvsR1YUREhAM7gYF/vvs4/xX73
mxFs3BrafuKNfa8DwOqmOxeLZOcfowDw0Yknj994xw/b/P7wiy6XbJYqsCjnLbpFK7bZy5FNnjmR
yQJRjx/6zi20oiJCWjP3D1z2uyoc89sBDTgYu5T6frR81wPLqm57ypS6hpravtfCU865kycPjM+F
VV736AsOV9zFypFgZbFWCFrAcE8O226N4g/P7cXiSAgn3z2P5g2/ZoC1fwkZtqEVs8+wfdN9fn/+
noHzvz1uAtLzLLSubb7XKIosfSs19Lgnc3vK2IyClTQAD1prGESAN4mBYd/8QxgZHgVwjoAywxm1
VaDMMiBy526sq21559WHJmj2vQIAGjc9uCo5ln3Ckb6tCkXFTBaDNRFrmELjcl8eP32iBRubb0LT
+hoUFFjo60vivfd74PMZOHT4Vf3nly+IsuXWuBUy6/s+evoiNX7LZ84VRXr0V0PS/WaZJyqLoTIe
tDTBGoCGz2AAU/hy+3rcXLcCAKC1RmXlUlRWLgUAHD36lgDS2hClizOX049t3Eg/wGl2zLmimHY7
jrrKaoIad8HKZGaANZg18loDMHDkyN/Q3FyLL25rQCDgR3d3P/5xogtgxpkznwAwxXRmynMlf/f8
x+0RZnzNBIC6uiXVeXdng6ZCAzoHsKY542ANRyosrxL4+c9eQnnVcnxw6uZZwAXc9437AawGEEJh
kUBu2oFhWDBN/wgACACYzKy/g1Fcxl4WrCSxklgoxC5kXgII4nOxRRCCAAB+vw/ATaitiSIU1JC5
vAd2TaIrjt82EvOA8tKKgwHbfdIkx4FW4loAKwmCCyCHbDbLrFnN3IMCkEJ6Kot8Ns+AZxKb8Bfg
9b6+378HAIKoU5w69XR2+MLBR1dW+jb57ewrWimwlgwtwdoFexLEEoDDlkUUDocMAJqZFSAVwWWw
ooIg/moH84cty02vXt32eQAQzPs1UacgIgoWDo1FC5NPCZ6aYM8jVq5kNQOR+TwDgi6OjKeSo6On
AYiiorABTBqAB0EeQiHz8VTqtb1ai0e0pksdHR2GmPle92tmZnWlJqWgloHzEe0B7HkWlKuIXZ2a
cLzSEhtdXb3/fOHIS99OpycT/f2DCaA4nbuiqSCs329uvucdAEgmXxvt7j52IZFIqPlCm6uH6uov
2akp40HtiV2udMuko1Yqj0HwQBAg8t509N+3EpHJzN6aNe1tI4OpuwXsZ0Yn3zhO9AUT2KKBOJhZ
g5nnZSZlV9flVS1rC8OtvYWhbWMBq3XCwhZeFN7cFY/HTWbG5s071qyrb21l5llHdxsL9Zn5+oZD
RALYTcwzvXXt2u1BxxHNSnmrMinOEqloMOiNRkuDg6nxzAbAGurueTMxmwF9Xee6lng1mrgA4oKZ
gS0wW1puWzl3Vlp6azAW2x5hZqyp2VGzc+dXC2cdpevsfBrgKuhq2LFYzAK2mJ+ls1D+DT/gviye
baCjAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDEyLTAyLTA4VDEyOjAyOjQyKzAxOjAwAUHzRwAAACV0
RVh0ZGF0ZTptb2RpZnkAMjAxMi0wMi0wOFQxMjowMjo0MiswMTowMHAcS/sAAAAASUVORK5CYII=

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: image/png; name="image005.png"
Content-Description: image005.png
Content-Disposition: inline; filename="image005.png"; size=2643;
	creation-date="Thu, 06 Dec 2012 16:01:56 GMT";
	modification-date="Thu, 06 Dec 2012 16:01:56 GMT"
Content-ID: <image005.png@01CDD3C9.DC171580>
Content-Transfer-Encoding: base64

iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC/GlDQ1BpY2MAAHjajZPLbxtVFMZ/
Y4+nlRKxwbTFqtAVizZCSTR9qE2EaGvHrpU2GGuaFCdCqibja3vIzXh6Z5w+1AXqhh0tiD3iIVb8
ARXqgl1XKJWqgpAq1lQIVKmoG1TMwo+ZlkA5q3O/853vfPdcXch96oahygjYDGLtVEuisbomdv1E
hleZoMCE60VhsV5fAnDDUPGPePIDBsC9mZ3r/xkTTRl5YOwGus3I2wTjMmTPe6GOwbwLzF2Kwxhy
u4G8bqyuQW4/kG8PchvIrw/yMpDXy84C5BrAS17HbUKuA0yvp/B2Kh94ACBflYHUviecaknUdbfl
K5my+4Ly/4xN1RvNexmYDOOSAxwA/mjp0yvAFBiFq53ld4E9YJT8eHF5iDeC9do7A77xwUb3rDPk
fN2U5QowDcbtaOtcZcS52lmoDTm/vO+eqQMFMP4K4/pQJ7MvULWlgX7mhIwq50Z4yz+9OMRboaov
DfQzH+meswK8DplvXV2pDvkPZLAy7M1mmm75LDAL2SnqSDQtfBQChyolBFUkAQ/R+Hh0qaPpjllt
Ho6rF+khETicp3Sz0JtKVK7rC763fePRM93d1JQ2kgA5nlJNnSM2xswZwkThzrXb+xKN++at9+5N
3rlGEYWijWQTiU+AJEoppDy0gpuFRMHbvvFIflh7UuP6dILaP9q/2fftz+2v7F//ZUft53ZUTM2X
BDu6lyhWUWOHO7N8FD4rBPhcQqKJcFEEXEGkdzHqNl8zD5mL5pw5jzBPmqfME2bZnDPfNJdGDKti
la0iwnrDmrcOWWesYnIT66BVtuatg1blmRfwUndNv6BMsWRqIzOsI4nYQOOzhUQRISGWl2OAhW54
RfvtTiwO2/ZxUQxDJcVi4M1OC1cpof12J46ElpHUW7I5S2N1TQy+42MHAzD2bCdY/Da89Ttk7ybY
Wg++iWDv0QSbKsArn8GtY15Pbw3/t2F8D1HryOHBabIEuZ/7/ccHYNcn8PTjfv/PL/r9p19C9gF8
p/4GqSMK1roTvtgAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAJdnBB
ZwAAABgAAAAYAHhMpaYAAAZ0SURBVEjHlZV7UJTXGcZ/5/u+vQAuN4GIoKJAQFASkYqocdBRCbWZ
aEaIsc1FnVGbxGYaNW3HmbLY2ptN6jR1TB1rxrY2ydqmMX9oR+t4iTRx4iXRqLQC9YIQlvuyuyz7
7fe9/QeI2kum78zzxzln3vc5z3sujxIR/p9QSim5L+k/zY2E8b8q4UUpL+IFVVSDqjmILSKSVZYV
v1jFZhTGDxaku/UmETn9i5dr47Jbidb4fNaXEtTXK61OxAZEig7q1NRYAFenKWcRRDeOCT73aFpg
V2EC+GOcB8puNt/KTxgXawLCKKUYVjRKcLBW6emdqM50pM4n1k+qJ+eEz99I2eaXi2rekvHP57uz
dn0mHwPkOANfezgRsGGswRlVtt7xgvvz7Hmum40A3NWuUYIan9wjLTrUmvvkqopfvf9s3r4jqnlN
zk0mXKxQ39+rckKrxyUuDEYCaALK4NhM/lo4dYztKPJJ9J5zAZSIsOWZuRl5gZvzEyXY/9ShvmNb
lpUumn374vSKX5+YNe7B6Su17lZo+ZRwwyG6Gt4l0QGWx2N67AFHr8XvN3VN+eViu3Ndv+k67zas
w+s+6Lk1SiTi1aDO9j05fv5Ud/u2eI38vlhqc9pQz/RI7Z5Ps5evLU/QNRdgAbp94YTq+912iZw9
jvGAUw2Z0ci1AM2piuIMF3QaqVUzD3cfBXixfOpY1bT76YzcDb/1A3BygRH808mfO01eMixQmYsJ
erJFHztJabkP4Xh4nuhJaUg0onr3bmdgzw9FZaKcAuEotkPQOi2OnwqMeW/Acub1p2b41G/WFM8b
jFnXXth/rXtE1tka9VZ5MitDvUTNLpxWDGw3SNYU3I+9QuKK9QB0vfkqPT/aLCon0TYjAd22sMaA
fsPiRpuR/uyqBv9pzbb1WJxlz399Wf6KI2tK05V6JKUtSKY5BFZCqm6XzMXOdmGGwbzVQu8PNtC+
9WnswSBpqzcR98xGFW0M6LaeYjkt9D6ba5XTi2euavCfHnmBALzzXH6uu6ftpyl2eOEkjzslKRgR
O6dcJW59C4kJoTOHCRzYiBUCswXctauY+LMDmD2dXF85g+jtO7aR5NLC0aHuoYxJ0x/5y432PWXK
wchNgmrX0aU0yGok8HW32bEE8T8/W+yhkIxE+OoFaVlRKI3zkMtJSPuBN0REpO3tfXIW5OOZydbl
EuRoiWMn2RVxAkofUTD5zLpDD7rNSiOGFTVjhu1A2aaTwaZmLMvGOTEXR0YWRl4pfe/uw/LA4PVP
SF2+lricPDqO78DsjqioQcwVtedUOTomFndZf9YAVG5u/kQjXFoQh27G0KwYymyHyNkWBva/Qftj
j+Pf9xoAntI5xD+xmdhNGDzXSu+5j3CmphFXuZ7oDYjpabhikOlwtgFoADuzOpeVeMgMDUHMQpk9
4Hh0HZ5tr6PNKkeKoWvbdwg1XgIgacFSLAPMPgg1/2OYuBwTYpbtMLpjRKLuJN/oV5E71bOrr3Mg
w6VSXtT9vW69ej0Z330NzRWPu7iM2y9VENPB/97bpCwOy0DjFdvORLd6YLDDD5aJcseLBkaaHeWO
w3l00bk7FwCU14tWVyc2wAevrCx17nhnW+Efdi9NemqDAMoK9tNYU0r0dgvWIGK3oBzAUBG2GUFU
8nj0cZM1+vtUsPXKEVtztQYcY9xNCSm7v3fh+odaXZ3Y9fVKQym1qUt17k9gZ+Mf9/YMXj6n7Eg4
+rlvP0NXW7BdiJYcryjL6AvOTD9PDC1BR4+1ten9hxsY+OgK9tgJP65qiawzLGNznKF11NbW6upu
I3p/baHn1D+N5Uvbr+wvSoVA8lQGLl2z7GSUKCy3hWNQ48zfkgq+PaGrdUuyhLBNrWqskZjkx/ik
evuCMmruNZwvCIZN4qv5yrU1a/y34kNtj0d7yXQmMgUTBk1wA0HhxPy/y0JVv8CQuhOxN0snLfL0
dn0jUYX3LWmR0yeVMk6BDVAnYiMio/CCdvf41aoZDx2ZRvOH0+g8XUDPpXzkWB6XKr2VhojwzWmT
S56YM2M+IkpE8IF+d76IoO736nqltKIa1IgBHa0al9A+mDCbaCx3SqgvHBAj7TMt3t8Rl3rbMRSa
9YBO68vnm3zDHbD/zX/vZxyFF02GFUGl4V36lSkjaztKShK8FcWpIsLOuQUF3urqxOGNqvvr/HeC
YfhqvpDtK8Z5Aowvy7kb/wIlaY7E3qiicgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxMi0wMi0wOFQx
MjowMzowNyswMTowMDjxuSQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTItMDItMDhUMTI6MDM6MDcr
MDE6MDBJrAGYAAAAAElFTkSuQmCC

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: image/png; name="image002.png"
Content-Description: image002.png
Content-Disposition: inline; filename="image002.png"; size=7630;
	creation-date="Thu, 06 Dec 2012 16:01:56 GMT";
	modification-date="Thu, 06 Dec 2012 16:01:56 GMT"
Content-ID: <image002.png@01CDD3CB.2C9AD9A0>
Content-Transfer-Encoding: base64

iVBORw0KGgoAAAANSUhEUgAAALQAAAAtCAYAAAAHpEG5AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAO
xAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUATWljcm9zb2Z0IE9mZmljZX/tNXEAAB1OSURBVHhe
7V0LdBzVeb7z2PfqsXrYlmTJtjA2fhDsGuM4CXkRqCEhOeTUppwcAk0poUmbGhJSctJGcZqEcig5
SpuTmhQ4MdSB4AQ3hFAnsR0DMZSAedjGNrJY25Jl2Zbl1Wt3Z+fZ778zsxqtVtKsLJJj0DiL9jFz
57///e5/v/9xJ/KGDRvY9DGtgXeKBuRiHbn77rtrVr336jlMDss9J5JnDxx4sQPAz71TOj3dj3eu
BkYAuqWlpXz9XQ/e8bUNT1xrWMYMixmSJAcHc0rmSLLjwM8Ovb5jxzXXfPTIO1cd0z073zWQB/Rv
nttfdefXH/lBzcw5NwDFzLRMxgSLCaJYF41WLCgrr/pY0wWXHOk6eWxrf6p3R/vxA2988vKlx10F
YDIIsOLW+a6QafnPbw3kAb3y4iu/MXPmvBtyuQzLGQZjomD3DH8ESWCSFJBi8cT8+Qtn3JnO9N8x
Z/6Sfb3ZwZ2dyQO/2ProfS8BzNnzWxXT0r8TNMAB/eSTv6n7+LVfuVZXVaZrGhMEoBgGmsBM/7EM
kA9TY4au4WOOheSgVDZjzjLGrGWVlbNuvHDJZS+1d7z5VEfbq3ue2bV1L8CtvBOUM92H808DHNCJ
xMILLVOoNjSdA9kiqoEX/sNpBxNFZuEf/U8QTGZoJsvofURHWCxeWRuvqLomXla1Zv7i1X2XfnTt
C+3H2/+ns+Pg9o+svujo+aeSaYnPZw1wQIuiGDRNU7RMk9GLLLRFlMMiYNNfoJw+0/dkswnYIt4Y
JlMzQ4xJIlESUZTEqhmz5n68uqbh4w3zFr9xsr/36YEz3Tte+NXDB2+67aaOab59PkPl/JDdAbQJ
A2xahFsLICUwC5YNYBu9xD0ccDugdviIDXhcY5oqMw0AXssB+yKrqmlYUlXbuGSgpvELTRcuP9w7
lNp+4NUdv9z+1COvoLEMb3D6mNbAFGvAdgrBNAjIJoGZuDMssx3hAEABWBvPZLUJ1Da3hk3G7xKi
ITpOJzqC3+gfTkBLTBka5FQlHiuPScHQsvKK6mXVM5s+Vzd7YcsjG//ph4VRkekoyRSP7Lu0OQ5o
4JlZOhlpm3LwAzSCwRnkjiHRC7LUBFiANBSKMk1TmKZmWCRezuRACMA2mGFoTNdVnEchP1wEkKs5
BD8QOZECQRaNlFXpmj4LJ4SIsKizF62NhGKhn3z3u7+GI9k1Dep3KQqnsNtO2M4AZQAMddtKE4Bt
nkwWl9xB20qLgsy/P9F56JXTZzq24/y+8uqaeeFgrFEOBOpiscScWHlVJd7bADcNbr35P4QCNSUD
h1Lh8ZNP3Pil2OzmRXfV1Dcu/cL3f/DS/hefvRvfPwlQWwC3M6umsKc+mnq3T6g/df+n4v55ymEC
cBSeA5W22S2iGUQzuDNIn/FXDgZZV9fB32994u5/7u7uPohvKfYcwKssEY9Hl1929ZzauvnLyhM1
F1cmZi6LxxNNsMwxGdZZkgNMwvXwHCVaEJiihHTN0BHkZo0Ll66UAoHvr/3Cl08tnVn+vA/sjTpl
48aNi00xOEskF8BeI3wfpoi5a6pv4oJuLtsUHpCrWpYji3XdkEuWC/65KJqp7u7OgxQKxYCLY032
Bx54YD7TpdkggNxfL6X/WHQFVTWPrV279iitnIXdb23dVB4Oa0sQN4jwgFfBUex+GAfBFNVe4GQ/
ZDYKwbp58+bA4GD2PQhIlBO6EJRINTc3H8D7cwr55hMrBGQCNBp2uLPNNMjCEi8WxQDLDA1obQdf
+imEfCORSKRXrVqlbtu2jTqYqlu4sH7nzi378X43CYiGa1auvGp+04LlKxI19Uuj8cq5kWh59dBg
ilLnZoqlYOANU1U1NtTfx2Y2XtA4/5L3Xt/y+bWvUqf8Zh1bW1srwuHyOwUheCtmSgWWEGL0dgjd
34EpRVQq+EWc/tBUWAnvbRFAep9h6I+KghCAhslE+D4w9XGZkKmvb9y6cdNGqiI7Vijfpk2bwtms
8XlBEO9A32fB0ym1/zRcYjAo3rtly5Zv4mV6dY+Jclk4LLZAjiskqbitcBHu7ZtFsrPAQF3dnIcx
qe8jSunt+ODgYLkgyA/iu0X2cIm7s9nsOvQv53fsiykyD2gDVMOAlSZAiybaB4fmFBocA1plYkBi
ChCdHuw5hoayqVQqu3r1agsv9poau2z+n131758EUFUlc1gZ6j18qu31g/t2/eKtFzbf8wDOJ2Id
w4tm4xkqdHpuf3tYDsZq+H0xmQjYFTUzLq2rS9R0d6fyKfWJRj8cjt8pSsLXvY4pD9AUXOiCvBjY
OcwEqxoWIpJMJmnVmUorHYZsMYr8YPFwHGdnEfTI6JUrL6u9WFbg2puNrKjDiNwOvae9XQOYb0TT
rdxvd6Hs9L9Ym8X0yfNoJqtMNDfHUsnkgNt/ALEWA/+gJAlLiZI6eTZ7AS8iu/sd/U6iANHVoijc
bppyAIbnq+vXr89nkxUlIkciGjAhBKkp5DcqJClSsYatSeEjuXWTOmxAY5Hh1tmhHAaB2JGIyDOi
cXYUBBrDEkGrme6dReUzmj9cPnv+qgBqQARTW61lBtiMuRcNXXLV9WcMNXMie7bnzdPJNw8Npk6d
yPYPdu184bXK1Z/+3M3h8sTsHLKTNMyw1kyU5LJIWWOUdad4lHuiHkHhNbDMn+ba44Npa9qvFXQH
xh5QE7ogT/htOeCdWLItVynrB9l0yMYjqNaaeDz+XwDFH1wJyTpjoG6AueG1Ny7gJtMDDK0MU1/Q
f3kFwrcLHS+IK7eYbot/Z8vOeysI14TDtRthfQ94cEO9IuS54lq6zmS2ZjLSD1/jRDl02yGUKZ5s
J1aISvPABkJ1BGruLBpWQJQj7qjkW9HFUHgwnWGCnsM1BgvIMgtHK+KyLMdFoXpueXXd+2Y0X0QR
QB25dQUOYjoUCtVoGtgrBoJouoFRw8uCQDym4rNbVVBI1D0dKkSWh+2DjkbNcFdtXtM7PAX4PY/C
+nHj4vPevk8bYc0s9hbA00XR0MIbjfgMk4Vz5kOaBudGMXDYGV4ejSU6DiZTyUOsHDgMHre1lzwU
V4dF+jtqWpmmFRJF61AoxB12zyHWQh2wbXnb2w50dIHVSQ5WR01PYAcigHAwtgSvBF0JSMESZxNr
1qyh7/Nj48rm1c82nLDat2ZHn5inHGSdCbToHKcZlFjJv3BHLZdjkXBZWSLRQJxnh5fLpTra30jM
vdgor50lCQjdkUuiAdhw+sh2IGIN2ycEUOMkBKRQMCCJQpmJuhBKtUuYMKQvojc0iUo9XMXSaELs
DvgCX8VMPwW9oVU532IYDdMou3/pPsPvLUPXAxlQDnPPnj2lijDh+baVoqnCh+5J9PRBTaPCGFiQ
4pPXCIOo6KawAXTvRrrI7ogpLljA1ekFHn/PjZBppWRZ2KAH1HYNaQBv/wuFHO4715MhyzroQAIW
k1b8/GHfljMy/u4J1PsQ78237dUn/1bWVBiymGEI90OmDzgtkYwi6JxIFNU9ilmtczTQMPF0wDoT
fzZoYaSli3cAAOHhZAoBwNUA2kJSVJzTcPHNixev2n799de85gr2wr3/8GtRjn8xXJVYERBZTTAS
T4Si8apwJFYZDIUqg+FwNBSA3YblluHrc5hRooYcUeop0RoKG04C0F7l4Hq0op/RdeV4bW3tKEef
ry043L+e91ZbWxvAzEY4RMPjOkXviLpRLjUb6GFsaBAyEq0aNa6YWAacbVZX15ShtaMUtei62a8M
Rbpqa+UJeahHD9R/ug31f4Te+PjQD6QCy8rpeuQkQK959evVJ9pRIX85HGHymyaU3cu7p0LLHNDc
jjqZQjfKwZkGT4ED4HBuKRaEQn9WHqtd8sH3frb1hd+99M1tu35M5mwISsBSf/z+ljv/Ou7gJSTH
45HaJZfEq2ubKhJl1ZWxiuqqSKKqNiTJM2OV1XVNSy+9Ohovr9ANlfN1HUOL+VTywZfa4assWJqc
1/koucG36QJXRsJnGDEwOL4k55g9Jku2ceNDJWmEqhIQGcmlUm9l1q//VinzYMxee2cbLC7aTOip
VFKF7GP6OHAAzUikjBBEtZp5ULeNo1u+gE2B7kdSDmQLDQIw+KyFGmj6S6BG1ZL9HYHayrLqytkf
ii6K/7xp7vLdsK1dx48KOXjC6Vtu/rchABReuJ7RlHQm05/KZIfS2cHu9rMdqWe725J7B2E2TpPc
N37n4TsWX37116hRmjQo4JsUoAt0IOh6OAqF0sQqCQywODqsCzm7+etAqyREFiir6ecQca6OZVWj
uKv3Au9g2RSJL+t+/QQ/986DAXQr0tx8QVlra2pCC+1pWEilanE+7/8I2TldKlHYBC4pFkxeUNCT
YhzaV2fHOclDOYh28EgGQGxnB4kK8CIloh9krWm+gRtnzSEWDMaqZsWrr0XUw9kMQNdSdhAOJl5Y
/YlM51CKqsK659CUCo438Mbenf/41LYHth347dbHZl982WfjiZoGU81yQBPtmOzBQ1aCMAfS3g/r
UEpwHl0UhHQ69z3c+2nv/RsaGtfBIbrF+W5cAwJqJmWz2nMANWU8R2x2cJftyVogX9bLjvIgTCbe
qyh62raQ/g7EsMVoNPeTri7248I4d4GFNgB8tRD0hXdJplJqXaSMgjPjHqVOFD+9yddyGGSdEZHj
4R+yynA9eF00cV3Op+06DnjD/L1qKogdK07SxebZKB91OLfEZCmEelLyBOkaCZlCiQUCYRarqF0J
wX6dlbXTmXT6VLhqZoMBj5BbaN9DMLprtiWxyoDN95dq/JwS2W3gfttHBvbFJRjsj3oXQxdchSCj
OLMlmGY4nIihjaKJoVL5Inc1PLNpIoDgVFpNVkFmP2OfPwfjhBoc6xAm42OI9IxZCQljFqmre31G
a+uLOmhTUf6PRo26uroyKCNYuAYVoxzuClCSwBNbaJ1bZwIWB7QDYuooz4CTESZSTU4cURHusgOo
UJxAeTa88AmRDPqMF1l3OOP2O56HQ5sSoh46U7MKWW7E9RKWjjS4yrOTyLxAPQiKTPrIg4VbKpu3
+QCAfT/eXx49oCA/OTMcR7D69o4HD7vzAswrrFPThR5kqY1RRrUkeZyGXQtWyjy3kyulXEFhNS6u
AJDShCBAj3GIf4mxvjwSoWqHMW9CCoOhtBb7kcL3GPlExrCFBqB1Kh/FP3LSyCpzy0xZQvc9gRpj
JcuoyRACqLZTgPFsBr4CDKylYfxVnKHicw7RErw3cvheQUtkylG5kevtaH9+F5Ys9XfHMrNYuKJJ
Ual2FWE9qEHzo4HxO0bK5N51CYpCd5EvYhacqQGaUnkp0H/qC7VJk3Bc6dAGj2BFFGVEG15ZJtu9
8fpS0CZ9zE9InxigiYsEDaKavamipM+eJLwnc6HYucXTKyPvls/c5uvnGSvk0H7lK+W8fKZQh6UU
KWwHi0TcmUqIKKzGQ3YANIGaqEYgGOIp8O7UoScGB3r2IGndA6KS05XskJrrz2ipHlVJpbSs0qOl
wCIQ/uDVqQ7GtHCYqYPPLZi3Yu1td7FIWULJKfb9cC+NY2dyB99lY1nH8PceKL7fR6LRvREukSxV
NQ5gyWVYcvn3lMBobGzegqKiQ0iOkkkad47AykmybHWlWCL3+OP3CwcPHhyeGLjYJQGTBfVYWsnz
ULv/vfAH7pFFs4sqgf1qEgkb2nLUHqmvN1gyOc5lk1ln/EoxNefloxxknSUqVaPyfGdWEaXgRpnY
BgAXgGXOKkPZ9q7d9+3a/ch/45c+vOgBNGQVIvEFC2rrV3ygXK5vrJiVmJ2YHYwkkESslkSpMhAM
JwKSUBUMRhPBWMXcUNWMi7IKdrcAxJRwliZJObwqhiEZQpLqGUVJdQCcvmcH4uNWV5cuJBKy4UnN
Wp2dyXb0K7lgwQJZ1ykBMfZBbdCvkQiz1q1bRyWw+ZN9OXUTwMjPcOM+qmaazyuhwF5EGnxHOUj2
NhBcJG1GxaG990UHB0TTSvOcmzPDvX/zFsKGDGUJQy4BKmHF9NPVMc+xKQdiPTpIg8jFdPYUklUG
gSYe7b4oR32yt/1nAPOjLMF6WWoB+Fab/p61X76w6sob/lWUAheghTJQ43IhGI4LcjAUiMRAUVA6
SlYY3QQFZyKqRpVcmklEXPGZ8qhkoe04NOdnvo9CRSFTpSFGOg4PHLtp8vDdX11g4zuTkgV+BSpW
KUZadS00RT8j4QhNnAk9Br75Z4JjxITGuWGZ6Z3JFdn1G5ZO2H5h097+j/iNfCZ7R9IWCLSVVxRT
Ds45ybsUwNbTowGiOIEq9JbTKT7BjBwCMxB/9z0Ri6nGSayQQwaBOaJsEINWckeQqAZZ6YAYZGll
IHvqzKHtOAlgZukNGz7Db77NWvjn0aaLriNuZWBPIbxLFDPR1izwclAK5JXtSAdFPKgICd/LUpCK
/bnLaAPa5dBEVyd/YHJKqLUl52bMJZe87QI+JwC0BIBRIDiXUsaivYCaUYMR9MhYbLy57KAQsAP+
4OB2FqpG7Hw72n/dF6AdXVD/afBH8f+CFbBTUQZ+RxlOR1+jugh96VQ/HYmYX+J98D+U6KgmU8GV
u9r5uZRWTsT+SW5eMDdMORAz4zUc5BRy/gzg8TAd3xrIIxqKms2k1UEimVSzmp9JYrQiYWD3N11D
81FEQb8Iy0yDYShppmcHdEvX+lAQktL7eo6ag2d74/OWfjBSWVtv6gC8Y6Un4RTmKaRdt80aUX3X
mk4jpekUTpBSaKS8gaw6fHZrMO2Urig2NMz54a23fu63fpQ42XO4jIx9igmBRZCRvOFRaLVNMl8q
MRBsuR1e58Aohmz6ye6abS8T0Pm/RKPx/nR65HN/XFPv1QN9Z+tCCDTWzflpZ/exxwr75iqYA5tS
xrgFpebHArR9PUFkdKZwLL05pn6eYYjf000tI+aGjZo7doVj6H6GfycjX/Dorbfe8hitMBzQCtIQ
agxgRDUf0Q6yoBZQzfktekJOIY9R09emREAeMfv1/pOnUSHOwaz291pa36leQ8kcN9V0t9bXk8ye
eKu9//DzbV0vbjsBXzqNBtIrbv32X8y68rP30sPzUHIKyw0ZsNkiywL+TJKtHeJzXnJbie+u9ua2
irkx3hvw99wKGs+1tGx+xsmWTbjUjzU4xb7nHDpvqoRFuB0VeHF90eGVcUTn8yE4DiuMkpAG17Xc
5IeiKJlwJJD1XBNBX64oxH4xHbh35y2T4RHMI/A7tjox9KL9t79MWLSpY2pXLncyUvHoyBi62zev
Xrz9ITZhmkYb5P45DaJtofFflYopqKoDoEY1HDPhpVGhvwmSy2uj8ZtpIlsihwm5pqtU+rv4w9eh
6k+4y1S1YK6/98RAx77Oo7/f3MWGWD+N12I5XLVw+aeWXPrBLy873rvnqRf37DqW2rP96fJVn/hi
pKZhAQg8XwFyqpZRsqd981XsnDlZ19CI6jXhdjvKYQOHA6gAWd7P3t9dRZmWGGpu1kNw8s+Jw40G
NEpkuYaH7zoM7uGzXflGzmZ8shFHHduFbVLkoEqf+YxN9eArpDf+6KEtuPZ9TpSHd7zYMu+2O5Ze
IBNqyBCDGrkFCrIjyeDIjrJRNJP0xSJG0iWqNS9cYbJoLiDblMqGaLGxG/61+JjaqhECVKJASSHH
KST32LYV5AgSoGWsLry0k6e9qWw5hyhHPF4Wm3s5TtzmzlDn71HsDrqn5TstFfgttqpuRe1FF9+y
NBitWVIWT6yMhCuWhMORGXAWQzmm9W/Y8JG9m57bP2SZWhqMnVfZSVgsMmdPHezp7KQdE74Ooj20
vcdkwZno2LVQSdjB9LjXe0ckv5RzZ2bqD9A2FMCZsKKc3o0Bt9HAdr6h4gNEM81XsP3pPxHn76Pl
3itlJCQ9lMvpcwCIm0n37haswp6Mh0ICH8Ck9Y1eGw3QDIX8eQIb+pIDcCw3tDmOthA9FLGimLpN
BcUs/KkCfh4B0dOzlMOgtIcLV1oFioF4LPkRfaNtavk8ge0UooY5hygH/SMQUxiNqu54OI0sNH2m
MjFLE8qiF/zVh1b+3eDG1o0Pdae6UyglrZ9dvXJhNFCz4rorNswHaOuDoei8SDA2NxQkHk3SgqsQ
UYao2EhQC6serPvYjTzaTalxubyWpU8dTfU+//QvcRJFKHwt+dwrf/zx7sTn77ojGjWfgsgz+f4O
Z9XymQBGwpqr9EUkVkhvviyQH+iTfI2Nja8ACF+CPstIjyUekE1AZbO1B85PB1Yk5bbbbsuvIE5U
YigcrvtWIhF8Fvptgq55eU1pBzaxCebe+ohiulFoR/Y/QKe3A5RRnmuzrJeho2IL4IjbwWnMZbPq
9yH3/yKljhVd6EcE4wToXH7KIOQ/qGnWN+DTNSH4kJfYpRNj0aTCftGOQdCOV90cAgc0JVF04s2I
cpCFlgFienoSWWoeWiMwc5DjQY2BSFUscsE337P4769bLgl9kiTNkkW5KRouiwTwfA67XNB+Rgdi
1namkSYFKAUyD/wJSzho3wsPfAtSgCk9HWdSz/z8e4d+s+n/IJgxXlmlt0O0OrSsWyeksE8xlXr8
p83NdwWh8LyjW8KgkvUQqeIO954yQNP9Ozs7j+HPg+gXlQ2XDDWq4EOfuGwA9IhVhPe/pQU+UPdg
dzf7BehIoKenp8jyPqEmuGGMRHiBf77/993X+da6dSzpVBzi+4QI6zxurJruBIeRKg63IZKzA/Lw
Z7BQ+52dw74XIhNU7wLOvjmUSPSUFqsd2R203SzEYoMUCuXchh9ueAjLI98OpdOeXQBRBuWghItB
NAQeomllmIwd4MFg1SUc8MSywLuzeKBMTsvaG2p57NqNkNjbuWScGEC9CtIzxNPkVHJ3puLlS/5j
gG2vSb3x7P7UM0/ug+IGoTDfHJrkdss9W1rWYUcEpw30Gr14Tjim2Ilub8GassMFHAEZbVMCqmS5
CEAk0FiT3KF8OmU2qfwVp9Kr5PvgGt5/L5Vct66FQ8MZE+gGpsPH6un0myYvyU6Vj3zl85bm0m8k
M8mL5KyvEOMYA4O29yDDa6/qw9Ysb+Ntck6ZQ9ATviObaIcMkBLQUTQHcGP7FA/r2dtKCdgEYPuv
vQ2RIiQUw5YRaQ5KYV52OjR0FssMPUqJsdpkMvfqD7/yMN5iTyCzbEuUmrA0cSy0FShrykB5rg05
ADmXAfMlwtvR/3ORfSJ5nLan1ICMBDSf007ZifOe0t0qXhTtsC00WVtYZUphEXABbgI6f09hPXow
OiaBzOvsyLGX4Gwq1mDm9L5M9uSuvoEjL5/sP/paojlhtSXzBeicM/ulGb5Gd/qkd60GuIXmxSn2
IyOI+dvKIP+af+a7dqk6392ZDRAjMoGwnkRVeC7IUR6KpAZf63KoVYJvl1LU0y/3pY9sO9Fz8OXu
7gOd+IkiGJwWeGawLwfwXTtC0x0vSQMc0LCu4K1U+eyQL0/J33Dq1d3IipoLcGYZZpnoh4loVBBF
S7RbRTP6ThlG6uWB7JHd/emO17p6X23Th/BkdGAc4SYdKU2eYZpoOSqpB9MnT2vAowGHQ3cfA577
YWIr+ONzHWC7jwEbJjr0jh5MIKKQCBELfDLMdFbNnT5kWmef7cse+P3xM7v3op7gLLZW5xKBhIFH
fpFFNm666aZpSzwNvbddAxzQyeSejgvnv/9Xklj2txTE5Rs1+O6T4ZCjSHQCpJkKjixL1XS9903d
OrHT0rv/kFWPHsZO4KNIoWepbLO23t5wSs+vm9oU6duuj+kbnOca4IAmCrBp085WXQ8tkqSZHxYF
RCXsjR846Kl7EuLKAyrK8U4a5sA+TXtzh2G0Pa/ryRMIlwyhBjinNDFjTfMaep4ExZGn3Hs9z/U8
Lf4fSQMc0E7G6XBjbfJvQuVX3yaJ1VfAwWsGvcATM5XTpjG039CP7czpB/ZlzPbD2RTrB4jx8ECG
50swHZbZ2LDe/v8o9D4Z54/Uh+nbTGsgrwHXQlPGSers6TzCen70DezafSASWjQXOcOQYZzsVZS9
J5Dk6wN4VcrkNTVxSgFL/Kd5MPn0+E1rYCwN/D+2mC2hF0oJbQAAAABJRU5ErkJggg==

--_008_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_--

--_009_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: text/plain; name="catalina.txt"
Content-Description: catalina.txt
Content-Disposition: attachment; filename="catalina.txt"; size=18566;
	creation-date="Thu, 06 Dec 2012 15:57:59 GMT";
	modification-date="Thu, 06 Dec 2012 15:58:00 GMT"
Content-Transfer-Encoding: base64

IyEvYmluL3NoDQoNCiMgTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9u
IChBU0YpIHVuZGVyIG9uZSBvciBtb3JlDQojIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50
cy4gIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aA0KIyB0aGlzIHdvcmsgZm9y
IGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuDQoj
IFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlIHRvIFlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vu
c2UsIFZlcnNpb24gMi4wDQojICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMg
ZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoDQojIHRoZSBMaWNlbnNlLiAgWW91IG1heSBv
YnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQojDQojICAgICBodHRwOi8vd3d3LmFwYWNo
ZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCiMNCiMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxp
Y2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KIyBkaXN0cmlidXRl
ZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLA0K
IyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4
cHJlc3Mgb3IgaW1wbGllZC4NCiMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFu
Z3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KIyBsaW1pdGF0aW9ucyB1bmRlciB0aGUg
TGljZW5zZS4NCg0KIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIyBTdGFydC9TdG9wIFNjcmlwdCBm
b3IgdGhlIENBVEFMSU5BIFNlcnZlcg0KIw0KIyBFbnZpcm9ubWVudCBWYXJpYWJsZSBQcmVyZXF1
aXNpdGVzDQojDQojICAgQ0FUQUxJTkFfSE9NRSAgIE1heSBwb2ludCBhdCB5b3VyIENhdGFsaW5h
ICJidWlsZCIgZGlyZWN0b3J5Lg0KIw0KIyAgIENBVEFMSU5BX0JBU0UgICAoT3B0aW9uYWwpIEJh
c2UgZGlyZWN0b3J5IGZvciByZXNvbHZpbmcgZHluYW1pYyBwb3J0aW9ucw0KIyAgICAgICAgICAg
ICAgICAgICBvZiBhIENhdGFsaW5hIGluc3RhbGxhdGlvbi4gIElmIG5vdCBwcmVzZW50LCByZXNv
bHZlcyB0bw0KIyAgICAgICAgICAgICAgICAgICB0aGUgc2FtZSBkaXJlY3RvcnkgdGhhdCBDQVRB
TElOQV9IT01FIHBvaW50cyB0by4NCiMNCiMgICBDQVRBTElOQV9PVVQgICAgKE9wdGlvbmFsKSBG
dWxsIHBhdGggdG8gYSBmaWxlIHdoZXJlIHN0ZG91dCBhbmQgc3RkZXJyDQojICAgICAgICAgICAg
ICAgICAgIHdpbGwgYmUgcmVkaXJlY3RlZC4NCiMgICAgICAgICAgICAgICAgICAgRGVmYXVsdCBp
cyAkQ0FUQUxJTkFfQkFTRS9sb2dzL2NhdGFsaW5hLm91dA0KIw0KIyAgIENBVEFMSU5BX09QVFMg
ICAoT3B0aW9uYWwpIEphdmEgcnVudGltZSBvcHRpb25zIHVzZWQgd2hlbiB0aGUgInN0YXJ0IiwN
CiMgICAgICAgICAgICAgICAgICAgb3IgInJ1biIgY29tbWFuZCBpcyBleGVjdXRlZC4NCiMNCiMg
ICBDQVRBTElOQV9UTVBESVIgKE9wdGlvbmFsKSBEaXJlY3RvcnkgcGF0aCBsb2NhdGlvbiBvZiB0
ZW1wb3JhcnkgZGlyZWN0b3J5DQojICAgICAgICAgICAgICAgICAgIHRoZSBKVk0gc2hvdWxkIHVz
ZSAoamF2YS5pby50bXBkaXIpLiAgRGVmYXVsdHMgdG8NCiMgICAgICAgICAgICAgICAgICAgJENB
VEFMSU5BX0JBU0UvdGVtcC4NCiMNCiMgICBKQVZBX0hPTUUgICAgICAgTXVzdCBwb2ludCBhdCB5
b3VyIEphdmEgRGV2ZWxvcG1lbnQgS2l0IGluc3RhbGxhdGlvbi4NCiMgICAgICAgICAgICAgICAg
ICAgUmVxdWlyZWQgdG8gcnVuIHRoZSB3aXRoIHRoZSAiZGVidWciIGFyZ3VtZW50Lg0KIw0KIyAg
IEpSRV9IT01FICAgICAgICBNdXN0IHBvaW50IGF0IHlvdXIgSmF2YSBEZXZlbG9wbWVudCBLaXQg
aW5zdGFsbGF0aW9uLg0KIyAgICAgICAgICAgICAgICAgICBEZWZhdWx0cyB0byBKQVZBX0hPTUUg
aWYgZW1wdHkuDQojDQojICAgSkFWQV9PUFRTICAgICAgIChPcHRpb25hbCkgSmF2YSBydW50aW1l
IG9wdGlvbnMgdXNlZCB3aGVuIHRoZSAic3RhcnQiLA0KIyAgICAgICAgICAgICAgICAgICAic3Rv
cCIsIG9yICJydW4iIGNvbW1hbmQgaXMgZXhlY3V0ZWQuDQojDQojICAgSkFWQV9FTkRPUlNFRF9E
SVJTIChPcHRpb25hbCkgTGlzdHMgb2Ygb2YgY29sb24gc2VwYXJhdGVkIGRpcmVjdG9yaWVzDQoj
ICAgICAgICAgICAgICAgICAgIGNvbnRhaW5pbmcgc29tZSBqYXJzIGluIG9yZGVyIHRvIGFsbG93
IHJlcGxhY2VtZW50IG9mIEFQSXMNCiMgICAgICAgICAgICAgICAgICAgY3JlYXRlZCBvdXRzaWRl
IG9mIHRoZSBKQ1AgKGkuZS4gRE9NIGFuZCBTQVggZnJvbSBXM0MpLg0KIyAgICAgICAgICAgICAg
ICAgICBJdCBjYW4gYWxzbyBiZSB1c2VkIHRvIHVwZGF0ZSB0aGUgWE1MIHBhcnNlciBpbXBsZW1l
bnRhdGlvbi4NCiMgICAgICAgICAgICAgICAgICAgRGVmYXVsdHMgdG8gJENBVEFMSU5BX0hPTUUv
ZW5kb3JzZWQuDQojDQojICAgSlBEQV9UUkFOU1BPUlQgIChPcHRpb25hbCkgSlBEQSB0cmFuc3Bv
cnQgdXNlZCB3aGVuIHRoZSAianBkYSBzdGFydCINCiMgICAgICAgICAgICAgICAgICAgY29tbWFu
ZCBpcyBleGVjdXRlZC4gVGhlIGRlZmF1bHQgaXMgImR0X3NvY2tldCIuDQojDQojICAgSlBEQV9B
RERSRVNTICAgIChPcHRpb25hbCkgSmF2YSBydW50aW1lIG9wdGlvbnMgdXNlZCB3aGVuIHRoZSAi
anBkYSBzdGFydCINCiMgICAgICAgICAgICAgICAgICAgY29tbWFuZCBpcyBleGVjdXRlZC4gVGhl
IGRlZmF1bHQgaXMgODAwMC4NCiMNCiMgICBKUERBX1NVU1BFTkQgICAgKE9wdGlvbmFsKSBKYXZh
IHJ1bnRpbWUgb3B0aW9ucyB1c2VkIHdoZW4gdGhlICJqcGRhIHN0YXJ0Ig0KIyAgICAgICAgICAg
ICAgICAgICBjb21tYW5kIGlzIGV4ZWN1dGVkLiBTcGVjaWZpZXMgd2hldGhlciBKVk0gc2hvdWxk
IHN1c3BlbmQNCiMgICAgICAgICAgICAgICAgICAgZXhlY3V0aW9uIGltbWVkaWF0ZWx5IGFmdGVy
IHN0YXJ0dXAuIERlZmF1bHQgaXMgIm4iLg0KIw0KIyAgIEpQREFfT1BUUyAgICAgICAoT3B0aW9u
YWwpIEphdmEgcnVudGltZSBvcHRpb25zIHVzZWQgd2hlbiB0aGUgImpwZGEgc3RhcnQiDQojICAg
ICAgICAgICAgICAgICAgIGNvbW1hbmQgaXMgZXhlY3V0ZWQuIElmIHVzZWQsIEpQREFfVFJBTlNQ
T1JULCBKUERBX0FERFJFU1MsDQojICAgICAgICAgICAgICAgICAgIGFuZCBKUERBX1NVU1BFTkQg
YXJlIGlnbm9yZWQuIFRodXMsIGFsbCByZXF1aXJlZCBqcGRhDQojICAgICAgICAgICAgICAgICAg
IG9wdGlvbnMgTVVTVCBiZSBzcGVjaWZpZWQuIFRoZSBkZWZhdWx0IGlzOg0KIw0KIyAgICAgICAg
ICAgICAgICAgICAtYWdlbnRsaWI6amR3cD10cmFuc3BvcnQ9JEpQREFfVFJBTlNQT1JULA0KIyAg
ICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcz0kSlBEQV9BRERSRVNTLHNlcnZlcj15LHN1c3Bl
bmQ9JEpQREFfU1VTUEVORA0KIw0KIyAgIENBVEFMSU5BX1BJRCAgICAoT3B0aW9uYWwpIFBhdGgg
b2YgdGhlIGZpbGUgd2hpY2ggc2hvdWxkIGNvbnRhaW5zIHRoZSBwaWQNCiMgICAgICAgICAgICAg
ICAgICAgb2YgY2F0YWxpbmEgc3RhcnR1cCBqYXZhIHByb2Nlc3MsIHdoZW4gc3RhcnQgKGZvcmsp
IGlzIHVzZWQNCiMNCiMgICBMT0dHSU5HX0NPTkZJRyAgKE9wdGlvbmFsKSBPdmVycmlkZSBUb21j
YXQncyBsb2dnaW5nIGNvbmZpZyBmaWxlDQojICAgICAgICAgICAgICAgICAgIEV4YW1wbGUgKGFs
bCBvbmUgbGluZSkNCiMgICAgICAgICAgICAgICAgICAgTE9HR0lOR19DT05GSUc9Ii1EamF2YS51
dGlsLmxvZ2dpbmcuY29uZmlnLmZpbGU9JENBVEFMSU5BX0JBU0UvY29uZi9sb2dnaW5nLnByb3Bl
cnRpZXMiDQojDQojICAgTE9HR0lOR19NQU5BR0VSIChPcHRpb25hbCkgT3ZlcnJpZGUgVG9tY2F0
J3MgbG9nZ2luZyBtYW5hZ2VyDQojICAgICAgICAgICAgICAgICAgIEV4YW1wbGUgKGFsbCBvbmUg
bGluZSkNCiMgICAgICAgICAgICAgICAgICAgTE9HR0lOR19NQU5BR0VSPSItRGphdmEudXRpbC5s
b2dnaW5nLm1hbmFnZXI9b3JnLmFwYWNoZS5qdWxpLkNsYXNzTG9hZGVyTG9nTWFuYWdlciINCiMN
CiMgJElkOiBjYXRhbGluYS5zaCAxMTQ2MDk3IDIwMTEtMDctMTMgMTU6MjU6MDVaIG1hcmt0ICQN
CiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCnNldCBKQVZBX09QVFM9LURjb20uc3VuLm1hbmFnZW1l
bnQuam14cmVtb3RlIFwNCiAgICAtRGNvbS5zdW4ubWFuYWdlbWVudC5qbXhyZW1vdGUucG9ydD05
OTk5IFwNCiAgICAtRGNvbS5zdW4ubWFuYWdlbWVudC5qbXhyZW1vdGUuc3NsPWZhbHNlIFwNCiAg
ICAtRGNvbS5zdW4ubWFuYWdlbWVudC5qbXhyZW1vdGUuYXV0aGVudGljYXRlPXRydWUgXA0KICAg
IC1EY29tLnN1bi5tYW5hZ2VtZW50LmpteHJlbW90ZS5wYXNzd29yZC5maWxlPS4uL2NvbmYvam14
cmVtb3RlLnBhc3N3b3JkIFwNCiAgICAtRGNvbS5zdW4ubWFuYWdlbWVudC5qbXhyZW1vdGUuYWNj
ZXNzLmZpbGU9Li4vY29uZi9qbXhyZW1vdGUuYWNjZXNzIFwNCiMgT1Mgc3BlY2lmaWMgc3VwcG9y
dC4gICR2YXIgX211c3RfIGJlIHNldCB0byBlaXRoZXIgdHJ1ZSBvciBmYWxzZS4NCmN5Z3dpbj1m
YWxzZQ0Kb3M0MDA9ZmFsc2UNCmRhcndpbj1mYWxzZQ0KY2FzZSAiYHVuYW1lYCIgaW4NCkNZR1dJ
TiopIGN5Z3dpbj10cnVlOzsNCk9TNDAwKikgb3M0MDA9dHJ1ZTs7DQpEYXJ3aW4qKSBkYXJ3aW49
dHJ1ZTs7DQplc2FjDQoNCiMgcmVzb2x2ZSBsaW5rcyAtICQwIG1heSBiZSBhIHNvZnRsaW5rDQpQ
Ukc9IiQwIg0KDQp3aGlsZSBbIC1oICIkUFJHIiBdOyBkbw0KICBscz1gbHMgLWxkICIkUFJHImAN
CiAgbGluaz1gZXhwciAiJGxzIiA6ICcuKi0+IFwoLipcKSQnYA0KICBpZiBleHByICIkbGluayIg
OiAnLy4qJyA+IC9kZXYvbnVsbDsgdGhlbg0KICAgIFBSRz0iJGxpbmsiDQogIGVsc2UNCiAgICBQ
Ukc9YGRpcm5hbWUgIiRQUkciYC8iJGxpbmsiDQogIGZpDQpkb25lDQoNCiMgR2V0IHN0YW5kYXJk
IGVudmlyb25tZW50IHZhcmlhYmxlcw0KUFJHRElSPWBkaXJuYW1lICIkUFJHImANCg0KIyBPbmx5
IHNldCBDQVRBTElOQV9IT01FIGlmIG5vdCBhbHJlYWR5IHNldA0KWyAteiAiJENBVEFMSU5BX0hP
TUUiIF0gJiYgQ0FUQUxJTkFfSE9NRT1gY2QgIiRQUkdESVIvLi4iID4vZGV2L251bGw7IHB3ZGAN
Cg0KIyBDb3B5IENBVEFMSU5BX0JBU0UgZnJvbSBDQVRBTElOQV9IT01FIGlmIG5vdCBhbHJlYWR5
IHNldA0KWyAteiAiJENBVEFMSU5BX0JBU0UiIF0gJiYgQ0FUQUxJTkFfQkFTRT0iJENBVEFMSU5B
X0hPTUUiDQoNCiMgRW5zdXJlIHRoYXQgYW55IHVzZXIgZGVmaW5lZCBDTEFTU1BBVEggdmFyaWFi
bGVzIGFyZSBub3QgdXNlZCBvbiBzdGFydHVwLA0KIyBidXQgYWxsb3cgdGhlbSB0byBiZSBzcGVj
aWZpZWQgaW4gc2V0ZW52LnNoLCBpbiByYXJlIGNhc2Ugd2hlbiBpdCBpcyBuZWVkZWQuDQpDTEFT
U1BBVEg9DQoNCmlmIFsgLXIgIiRDQVRBTElOQV9CQVNFL2Jpbi9zZXRlbnYuc2giIF07IHRoZW4N
CiAgLiAiJENBVEFMSU5BX0JBU0UvYmluL3NldGVudi5zaCINCmVsaWYgWyAtciAiJENBVEFMSU5B
X0hPTUUvYmluL3NldGVudi5zaCIgXTsgdGhlbg0KICAuICIkQ0FUQUxJTkFfSE9NRS9iaW4vc2V0
ZW52LnNoIg0KZmkNCg0KIyBGb3IgQ3lnd2luLCBlbnN1cmUgcGF0aHMgYXJlIGluIFVOSVggZm9y
bWF0IGJlZm9yZSBhbnl0aGluZyBpcyB0b3VjaGVkDQppZiAkY3lnd2luOyB0aGVuDQogIFsgLW4g
IiRKQVZBX0hPTUUiIF0gJiYgSkFWQV9IT01FPWBjeWdwYXRoIC0tdW5peCAiJEpBVkFfSE9NRSJg
DQogIFsgLW4gIiRKUkVfSE9NRSIgXSAmJiBKUkVfSE9NRT1gY3lncGF0aCAtLXVuaXggIiRKUkVf
SE9NRSJgDQogIFsgLW4gIiRDQVRBTElOQV9IT01FIiBdICYmIENBVEFMSU5BX0hPTUU9YGN5Z3Bh
dGggLS11bml4ICIkQ0FUQUxJTkFfSE9NRSJgDQogIFsgLW4gIiRDQVRBTElOQV9CQVNFIiBdICYm
IENBVEFMSU5BX0JBU0U9YGN5Z3BhdGggLS11bml4ICIkQ0FUQUxJTkFfQkFTRSJgDQogIFsgLW4g
IiRDTEFTU1BBVEgiIF0gJiYgQ0xBU1NQQVRIPWBjeWdwYXRoIC0tcGF0aCAtLXVuaXggIiRDTEFT
U1BBVEgiYA0KZmkNCg0KIyBGb3IgT1M0MDANCmlmICRvczQwMDsgdGhlbg0KICAjIFNldCBqb2Ig
cHJpb3JpdHkgdG8gc3RhbmRhcmQgZm9yIGludGVyYWN0aXZlIChpbnRlcmFjdGl2ZSAtIDYpIGJ5
IHVzaW5nDQogICMgdGhlIGludGVyYWN0aXZlIHByaW9yaXR5IC0gNiwgdGhlIGhlbHBlciB0aHJl
YWRzIHRoYXQgcmVzcG9uZCB0byByZXF1ZXN0cw0KICAjIHdpbGwgYmUgcnVubmluZyBhdCB0aGUg
c2FtZSBwcmlvcml0eSBhcyBpbnRlcmFjdGl2ZSBqb2JzLg0KICBDT01NQU5EPSdjaGdqb2Igam9i
KCckSk9CTkFNRScpIHJ1bnB0eSg2KScNCiAgc3lzdGVtICRDT01NQU5EDQoNCiAgIyBFbmFibGUg
bXVsdGkgdGhyZWFkaW5nDQogIGV4cG9ydCBRSUJNX01VTFRJX1RIUkVBREVEPVkNCmZpDQoNCiMg
R2V0IHN0YW5kYXJkIEphdmEgZW52aXJvbm1lbnQgdmFyaWFibGVzDQppZiAkb3M0MDA7IHRoZW4N
CiAgIyAtciB3aWxsIE9ubHkgd29yayBvbiB0aGUgb3M0MDAgaWYgdGhlIGZpbGVzIGFyZToNCiAg
IyAxLiBvd25lZCBieSB0aGUgdXNlcg0KICAjIDIuIG93bmVkIGJ5IHRoZSBQUklNQVJZIGdyb3Vw
IG9mIHRoZSB1c2VyDQogICMgdGhpcyB3aWxsIG5vdCB3b3JrIGlmIHRoZSB1c2VyIGJlbG9uZ3Mg
aW4gc2Vjb25kYXJ5IGdyb3Vwcw0KICBCQVNFRElSPSIkQ0FUQUxJTkFfSE9NRSINCiAgLiAiJENB
VEFMSU5BX0hPTUUiL2Jpbi9zZXRjbGFzc3BhdGguc2gNCmVsc2UNCiAgaWYgWyAtciAiJENBVEFM
SU5BX0hPTUUiL2Jpbi9zZXRjbGFzc3BhdGguc2ggXTsgdGhlbg0KICAgIEJBU0VESVI9IiRDQVRB
TElOQV9IT01FIg0KICAgIC4gIiRDQVRBTElOQV9IT01FIi9iaW4vc2V0Y2xhc3NwYXRoLnNoDQog
IGVsc2UNCiAgICBlY2hvICJDYW5ub3QgZmluZCAkQ0FUQUxJTkFfSE9NRS9iaW4vc2V0Y2xhc3Nw
YXRoLnNoIg0KICAgIGVjaG8gIlRoaXMgZmlsZSBpcyBuZWVkZWQgdG8gcnVuIHRoaXMgcHJvZ3Jh
bSINCiAgICBleGl0IDENCiAgZmkNCmZpDQoNCmlmIFsgLXogIiRDQVRBTElOQV9CQVNFIiBdIDsg
dGhlbg0KICBDQVRBTElOQV9CQVNFPSIkQ0FUQUxJTkFfSE9NRSINCmZpDQoNCiMgQWRkIHRvbWNh
dC1qdWxpLmphciBhbmQgYm9vdHN0cmFwLmphciB0byBjbGFzc3BhdGgNCiMgdG9tY2F0LWp1bGku
amFyIGNhbiBiZSBvdmVyLXJpZGRlbiBwZXIgaW5zdGFuY2UNCmlmIFsgISAteiAiJENMQVNTUEFU
SCIgXSA7IHRoZW4NCiAgQ0xBU1NQQVRIPSIkQ0xBU1NQQVRIIjoNCmZpDQppZiBbICIkQ0FUQUxJ
TkFfQkFTRSIgIT0gIiRDQVRBTElOQV9IT01FIiBdICYmIFsgLXIgIiRDQVRBTElOQV9CQVNFL2Jp
bi90b21jYXQtanVsaS5qYXIiIF0gOyB0aGVuDQogIENMQVNTUEFUSD0iJENMQVNTUEFUSCIiJENB
VEFMSU5BX0JBU0UiL2Jpbi90b21jYXQtanVsaS5qYXI6IiRDQVRBTElOQV9IT01FIi9iaW4vYm9v
dHN0cmFwLmphcg0KZWxzZQ0KICBDTEFTU1BBVEg9IiRDTEFTU1BBVEgiIiRDQVRBTElOQV9IT01F
Ii9iaW4vYm9vdHN0cmFwLmphcg0KZmkNCg0KaWYgWyAteiAiJENBVEFMSU5BX09VVCIgXSA7IHRo
ZW4NCiAgQ0FUQUxJTkFfT1VUPSIkQ0FUQUxJTkFfQkFTRSIvbG9ncy9jYXRhbGluYS5vdXQNCmZp
DQoNCmlmIFsgLXogIiRDQVRBTElOQV9UTVBESVIiIF0gOyB0aGVuDQogICMgRGVmaW5lIHRoZSBq
YXZhLmlvLnRtcGRpciB0byB1c2UgZm9yIENhdGFsaW5hDQogIENBVEFMSU5BX1RNUERJUj0iJENB
VEFMSU5BX0JBU0UiL3RlbXANCmZpDQoNCiMgQnVnemlsbGEgMzc4NDg6IFdoZW4gbm8gVFRZIGlz
IGF2YWlsYWJsZSwgZG9uJ3Qgb3V0cHV0IHRvIGNvbnNvbGUNCmhhdmVfdHR5PTANCmlmIFsgImB0
dHlgIiAhPSAibm90IGEgdHR5IiBdOyB0aGVuDQogICAgaGF2ZV90dHk9MQ0KZmkNCg0KIyBGb3Ig
Q3lnd2luLCBzd2l0Y2ggcGF0aHMgdG8gV2luZG93cyBmb3JtYXQgYmVmb3JlIHJ1bm5pbmcgamF2
YQ0KaWYgJGN5Z3dpbjsgdGhlbg0KICBKQVZBX0hPTUU9YGN5Z3BhdGggLS1hYnNvbHV0ZSAtLXdp
bmRvd3MgIiRKQVZBX0hPTUUiYA0KICBKUkVfSE9NRT1gY3lncGF0aCAtLWFic29sdXRlIC0td2lu
ZG93cyAiJEpSRV9IT01FImANCiAgQ0FUQUxJTkFfSE9NRT1gY3lncGF0aCAtLWFic29sdXRlIC0t
d2luZG93cyAiJENBVEFMSU5BX0hPTUUiYA0KICBDQVRBTElOQV9CQVNFPWBjeWdwYXRoIC0tYWJz
b2x1dGUgLS13aW5kb3dzICIkQ0FUQUxJTkFfQkFTRSJgDQogIENBVEFMSU5BX1RNUERJUj1gY3ln
cGF0aCAtLWFic29sdXRlIC0td2luZG93cyAiJENBVEFMSU5BX1RNUERJUiJgDQogIENMQVNTUEFU
SD1gY3lncGF0aCAtLXBhdGggLS13aW5kb3dzICIkQ0xBU1NQQVRIImANCiAgSkFWQV9FTkRPUlNF
RF9ESVJTPWBjeWdwYXRoIC0tcGF0aCAtLXdpbmRvd3MgIiRKQVZBX0VORE9SU0VEX0RJUlMiYA0K
ZmkNCg0KIyBTZXQganVsaSBMb2dNYW5hZ2VyIGNvbmZpZyBmaWxlIGlmIGl0IGlzIHByZXNlbnQg
YW5kIGFuIG92ZXJyaWRlIGhhcyBub3QgYmVlbiBpc3N1ZWQNCmlmIFsgLXogIiRMT0dHSU5HX0NP
TkZJRyIgXTsgdGhlbg0KICBpZiBbIC1yICIkQ0FUQUxJTkFfQkFTRSIvY29uZi9sb2dnaW5nLnBy
b3BlcnRpZXMgXTsgdGhlbg0KICAgIExPR0dJTkdfQ09ORklHPSItRGphdmEudXRpbC5sb2dnaW5n
LmNvbmZpZy5maWxlPSRDQVRBTElOQV9CQVNFL2NvbmYvbG9nZ2luZy5wcm9wZXJ0aWVzIg0KICBl
bHNlDQogICAgIyBCdWd6aWxsYSA0NTU4NQ0KICAgIExPR0dJTkdfQ09ORklHPSItRG5vcCINCiAg
ZmkNCmZpDQoNCmlmIFsgLXogIiRMT0dHSU5HX01BTkFHRVIiIF07IHRoZW4NCiAgSkFWQV9PUFRT
PSIkSkFWQV9PUFRTIC1EamF2YS51dGlsLmxvZ2dpbmcubWFuYWdlcj1vcmcuYXBhY2hlLmp1bGku
Q2xhc3NMb2FkZXJMb2dNYW5hZ2VyIg0KZWxzZQ0KICBKQVZBX09QVFM9IiRKQVZBX09QVFMgJExP
R0dJTkdfTUFOQUdFUiINCmZpDQoNCiMgLS0tLS0gRXhlY3V0ZSBUaGUgUmVxdWVzdGVkIENvbW1h
bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KIyBCdWd6aWxs
YSAzNzg0ODogb25seSBvdXRwdXQgdGhpcyBpZiB3ZSBoYXZlIGEgVFRZDQppZiBbICRoYXZlX3R0
eSAtZXEgMSBdOyB0aGVuDQogIGVjaG8gIlVzaW5nIENBVEFMSU5BX0JBU0U6ICAgJENBVEFMSU5B
X0JBU0UiDQogIGVjaG8gIlVzaW5nIENBVEFMSU5BX0hPTUU6ICAgJENBVEFMSU5BX0hPTUUiDQog
IGVjaG8gIlVzaW5nIENBVEFMSU5BX1RNUERJUjogJENBVEFMSU5BX1RNUERJUiINCiAgaWYgWyAi
JDEiID0gImRlYnVnIiBdIDsgdGhlbg0KICAgIGVjaG8gIlVzaW5nIEpBVkFfSE9NRTogICAgICAg
JEpBVkFfSE9NRSINCiAgZWxzZQ0KICAgIGVjaG8gIlVzaW5nIEpSRV9IT01FOiAgICAgICAgJEpS
RV9IT01FIg0KICBmaQ0KICBlY2hvICJVc2luZyBDTEFTU1BBVEg6ICAgICAgICRDTEFTU1BBVEgi
DQogIGlmIFsgISAteiAiJENBVEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgIGVjaG8gIlVzaW5nIENB
VEFMSU5BX1BJRDogICAgJENBVEFMSU5BX1BJRCINCiAgZmkNCmZpDQoNCmlmIFsgIiQxIiA9ICJq
cGRhIiBdIDsgdGhlbg0KICBpZiBbIC16ICIkSlBEQV9UUkFOU1BPUlQiIF07IHRoZW4NCiAgICBK
UERBX1RSQU5TUE9SVD0iZHRfc29ja2V0Ig0KICBmaQ0KICBpZiBbIC16ICIkSlBEQV9BRERSRVNT
IiBdOyB0aGVuDQogICAgSlBEQV9BRERSRVNTPSI4MDAwIg0KICBmaQ0KICBpZiBbIC16ICIkSlBE
QV9TVVNQRU5EIiBdOyB0aGVuDQogICAgSlBEQV9TVVNQRU5EPSJuIg0KICBmaQ0KICBpZiBbIC16
ICIkSlBEQV9PUFRTIiBdOyB0aGVuDQogICAgSlBEQV9PUFRTPSItYWdlbnRsaWI6amR3cD10cmFu
c3BvcnQ9JEpQREFfVFJBTlNQT1JULGFkZHJlc3M9JEpQREFfQUREUkVTUyxzZXJ2ZXI9eSxzdXNw
ZW5kPSRKUERBX1NVU1BFTkQiDQogIGZpDQogIENBVEFMSU5BX09QVFM9IiRDQVRBTElOQV9PUFRT
ICRKUERBX09QVFMiDQogIHNoaWZ0DQpmaQ0KDQppZiBbICIkMSIgPSAiZGVidWciIF0gOyB0aGVu
DQogIGlmICRvczQwMDsgdGhlbg0KICAgIGVjaG8gIkRlYnVnIGNvbW1hbmQgbm90IGF2YWlsYWJs
ZSBvbiBPUzQwMCINCiAgICBleGl0IDENCiAgZWxzZQ0KICAgIHNoaWZ0DQogICAgaWYgWyAiJDEi
ID0gIi1zZWN1cml0eSIgXSA7IHRoZW4NCiAgICAgIGlmIFsgJGhhdmVfdHR5IC1lcSAxIF07IHRo
ZW4NCiAgICAgICAgZWNobyAiVXNpbmcgU2VjdXJpdHkgTWFuYWdlciINCiAgICAgIGZpDQogICAg
ICBzaGlmdA0KICAgICAgZXhlYyAiJF9SVU5KREIiICIkTE9HR0lOR19DT05GSUciICRKQVZBX09Q
VFMgJENBVEFMSU5BX09QVFMgXA0KICAgICAgICAtRGphdmEuZW5kb3JzZWQuZGlycz0iJEpBVkFf
RU5ET1JTRURfRElSUyIgLWNsYXNzcGF0aCAiJENMQVNTUEFUSCIgXA0KICAgICAgICAtc291cmNl
cGF0aCAiJENBVEFMSU5BX0hPTUUiLy4uLy4uL2phdmEgXA0KICAgICAgICAtRGphdmEuc2VjdXJp
dHkubWFuYWdlciBcDQogICAgICAgIC1EamF2YS5zZWN1cml0eS5wb2xpY3k9PSIkQ0FUQUxJTkFf
QkFTRSIvY29uZi9jYXRhbGluYS5wb2xpY3kgXA0KICAgICAgICAtRGNhdGFsaW5hLmJhc2U9IiRD
QVRBTElOQV9CQVNFIiBcDQogICAgICAgIC1EY2F0YWxpbmEuaG9tZT0iJENBVEFMSU5BX0hPTUUi
IFwNCiAgICAgICAgLURqYXZhLmlvLnRtcGRpcj0iJENBVEFMSU5BX1RNUERJUiIgXA0KICAgICAg
ICBvcmcuYXBhY2hlLmNhdGFsaW5hLnN0YXJ0dXAuQm9vdHN0cmFwICIkQCIgc3RhcnQNCiAgICBl
bHNlDQogICAgICBleGVjICIkX1JVTkpEQiIgIiRMT0dHSU5HX0NPTkZJRyIgJEpBVkFfT1BUUyAk
Q0FUQUxJTkFfT1BUUyBcDQogICAgICAgIC1EamF2YS5lbmRvcnNlZC5kaXJzPSIkSkFWQV9FTkRP
UlNFRF9ESVJTIiAtY2xhc3NwYXRoICIkQ0xBU1NQQVRIIiBcDQogICAgICAgIC1zb3VyY2VwYXRo
ICIkQ0FUQUxJTkFfSE9NRSIvLi4vLi4vamF2YSBcDQogICAgICAgIC1EY2F0YWxpbmEuYmFzZT0i
JENBVEFMSU5BX0JBU0UiIFwNCiAgICAgICAgLURjYXRhbGluYS5ob21lPSIkQ0FUQUxJTkFfSE9N
RSIgXA0KICAgICAgICAtRGphdmEuaW8udG1wZGlyPSIkQ0FUQUxJTkFfVE1QRElSIiBcDQogICAg
ICAgIG9yZy5hcGFjaGUuY2F0YWxpbmEuc3RhcnR1cC5Cb290c3RyYXAgIiRAIiBzdGFydA0KICAg
IGZpDQogIGZpDQoNCmVsaWYgWyAiJDEiID0gInJ1biIgXTsgdGhlbg0KDQogIHNoaWZ0DQogIGlm
IFsgIiQxIiA9ICItc2VjdXJpdHkiIF0gOyB0aGVuDQogICAgaWYgWyAkaGF2ZV90dHkgLWVxIDEg
XTsgdGhlbg0KICAgICAgZWNobyAiVXNpbmcgU2VjdXJpdHkgTWFuYWdlciINCiAgICBmaQ0KICAg
IHNoaWZ0DQogICAgZXhlYyAiJF9SVU5KQVZBIiAiJExPR0dJTkdfQ09ORklHIiAkSkFWQV9PUFRT
ICRDQVRBTElOQV9PUFRTIFwNCiAgICAgIC1EamF2YS5lbmRvcnNlZC5kaXJzPSIkSkFWQV9FTkRP
UlNFRF9ESVJTIiAtY2xhc3NwYXRoICIkQ0xBU1NQQVRIIiBcDQogICAgICAtRGphdmEuc2VjdXJp
dHkubWFuYWdlciBcDQogICAgICAtRGphdmEuc2VjdXJpdHkucG9saWN5PT0iJENBVEFMSU5BX0JB
U0UiL2NvbmYvY2F0YWxpbmEucG9saWN5IFwNCiAgICAgIC1EY2F0YWxpbmEuYmFzZT0iJENBVEFM
SU5BX0JBU0UiIFwNCiAgICAgIC1EY2F0YWxpbmEuaG9tZT0iJENBVEFMSU5BX0hPTUUiIFwNCiAg
ICAgIC1EamF2YS5pby50bXBkaXI9IiRDQVRBTElOQV9UTVBESVIiIFwNCiAgICAgIG9yZy5hcGFj
aGUuY2F0YWxpbmEuc3RhcnR1cC5Cb290c3RyYXAgIiRAIiBzdGFydA0KICBlbHNlDQogICAgZXhl
YyAiJF9SVU5KQVZBIiAiJExPR0dJTkdfQ09ORklHIiAkSkFWQV9PUFRTICRDQVRBTElOQV9PUFRT
IFwNCiAgICAgIC1EamF2YS5lbmRvcnNlZC5kaXJzPSIkSkFWQV9FTkRPUlNFRF9ESVJTIiAtY2xh
c3NwYXRoICIkQ0xBU1NQQVRIIiBcDQogICAgICAtRGNhdGFsaW5hLmJhc2U9IiRDQVRBTElOQV9C
QVNFIiBcDQogICAgICAtRGNhdGFsaW5hLmhvbWU9IiRDQVRBTElOQV9IT01FIiBcDQogICAgICAt
RGphdmEuaW8udG1wZGlyPSIkQ0FUQUxJTkFfVE1QRElSIiBcDQogICAgICBvcmcuYXBhY2hlLmNh
dGFsaW5hLnN0YXJ0dXAuQm9vdHN0cmFwICIkQCIgc3RhcnQNCiAgZmkNCg0KZWxpZiBbICIkMSIg
PSAic3RhcnQiIF0gOyB0aGVuDQoNCiAgaWYgWyAhIC16ICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVu
DQogICAgaWYgWyAtZiAiJENBVEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgICAgaWYgWyAtcyAiJENB
VEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgICAgICBlY2hvICJFeGlzdGluZyBQSUQgZmlsZSBmb3Vu
ZCBkdXJpbmcgc3RhcnQuIg0KICAgICAgICBpZiBbIC1yICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVu
DQogICAgICAgICAgUElEPWBjYXQgIiRDQVRBTElOQV9QSUQiYA0KICAgICAgICAgIHBzIC1wICRQ
SUQgPi9kZXYvbnVsbCAyPiYxDQogICAgICAgICAgaWYgWyAkPyAtZXEgMCBdIDsgdGhlbg0KICAg
ICAgICAgICAgZWNobyAiVG9tY2F0IGFwcGVhcnMgdG8gc3RpbGwgYmUgcnVubmluZyB3aXRoIFBJ
RCAkUElELiBTdGFydCBhYm9ydGVkLiINCiAgICAgICAgICAgIGV4aXQgMQ0KICAgICAgICAgIGVs
c2UNCiAgICAgICAgICAgIGVjaG8gIlJlbW92aW5nL2NsZWFyaW5nIHN0YWxlIFBJRCBmaWxlLiIN
CiAgICAgICAgICAgIHJtIC1mICIkQ0FUQUxJTkFfUElEIiA+L2Rldi9udWxsIDI+JjENCiAgICAg
ICAgICAgIGlmIFsgJD8gIT0gMCBdOyB0aGVuDQogICAgICAgICAgICAgIGlmIFsgLXcgIiRDQVRB
TElOQV9QSUQiIF07IHRoZW4NCiAgICAgICAgICAgICAgICBjYXQgL2Rldi9udWxsID4gIiRDQVRB
TElOQV9QSUQiDQogICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICBlY2hvICJVbmFi
bGUgdG8gcmVtb3ZlIG9yIGNsZWFyIHN0YWxlIFBJRCBmaWxlLiBTdGFydCBhYm9ydGVkLiINCiAg
ICAgICAgICAgICAgICBleGl0IDENCiAgICAgICAgICAgICAgZmkNCiAgICAgICAgICAgIGZpDQog
ICAgICAgICAgZmkNCiAgICAgICAgZWxzZQ0KICAgICAgICAgIGVjaG8gIlVuYWJsZSB0byByZWFk
IFBJRCBmaWxlLiBTdGFydCBhYm9ydGVkLiINCiAgICAgICAgICBleGl0IDENCiAgICAgICAgZmkN
CiAgICAgIGVsc2UNCiAgICAgICAgcm0gLWYgIiRDQVRBTElOQV9QSUQiID4vZGV2L251bGwgMj4m
MQ0KICAgICAgICBpZiBbICQ/ICE9IDAgXTsgdGhlbg0KICAgICAgICAgIGlmIFsgISAtdyAiJENB
VEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgICAgICAgICAgZWNobyAiVW5hYmxlIHRvIHJlbW92ZSBv
ciB3cml0ZSB0byBlbXB0eSBQSUQgZmlsZS4gU3RhcnQgYWJvcnRlZC4iDQogICAgICAgICAgICBl
eGl0IDENCiAgICAgICAgICBmaQ0KICAgICAgICBmaQ0KICAgICAgZmkNCiAgICBmaQ0KICBmaQ0K
DQogIHNoaWZ0DQogIHRvdWNoICIkQ0FUQUxJTkFfT1VUIg0KICBpZiBbICIkMSIgPSAiLXNlY3Vy
aXR5IiBdIDsgdGhlbg0KICAgIGlmIFsgJGhhdmVfdHR5IC1lcSAxIF07IHRoZW4NCiAgICAgIGVj
aG8gIlVzaW5nIFNlY3VyaXR5IE1hbmFnZXIiDQogICAgZmkNCiAgICBzaGlmdA0KICAgICIkX1JV
TkpBVkEiICIkTE9HR0lOR19DT05GSUciICRKQVZBX09QVFMgJENBVEFMSU5BX09QVFMgXA0KICAg
ICAgLURqYXZhLmVuZG9yc2VkLmRpcnM9IiRKQVZBX0VORE9SU0VEX0RJUlMiIC1jbGFzc3BhdGgg
IiRDTEFTU1BBVEgiIFwNCiAgICAgIC1EamF2YS5zZWN1cml0eS5tYW5hZ2VyIFwNCiAgICAgIC1E
amF2YS5zZWN1cml0eS5wb2xpY3k9PSIkQ0FUQUxJTkFfQkFTRSIvY29uZi9jYXRhbGluYS5wb2xp
Y3kgXA0KICAgICAgLURjYXRhbGluYS5iYXNlPSIkQ0FUQUxJTkFfQkFTRSIgXA0KICAgICAgLURj
YXRhbGluYS5ob21lPSIkQ0FUQUxJTkFfSE9NRSIgXA0KICAgICAgLURqYXZhLmlvLnRtcGRpcj0i
JENBVEFMSU5BX1RNUERJUiIgXA0KICAgICAgb3JnLmFwYWNoZS5jYXRhbGluYS5zdGFydHVwLkJv
b3RzdHJhcCAiJEAiIHN0YXJ0IFwNCiAgICAgID4+ICIkQ0FUQUxJTkFfT1VUIiAyPiYxICYNCg0K
ICBlbHNlDQogICAgIiRfUlVOSkFWQSIgIiRMT0dHSU5HX0NPTkZJRyIgJEpBVkFfT1BUUyAkQ0FU
QUxJTkFfT1BUUyBcDQogICAgICAtRGphdmEuZW5kb3JzZWQuZGlycz0iJEpBVkFfRU5ET1JTRURf
RElSUyIgLWNsYXNzcGF0aCAiJENMQVNTUEFUSCIgXA0KICAgICAgLURjYXRhbGluYS5iYXNlPSIk
Q0FUQUxJTkFfQkFTRSIgXA0KICAgICAgLURjYXRhbGluYS5ob21lPSIkQ0FUQUxJTkFfSE9NRSIg
XA0KICAgICAgLURqYXZhLmlvLnRtcGRpcj0iJENBVEFMSU5BX1RNUERJUiIgXA0KICAgICAgb3Jn
LmFwYWNoZS5jYXRhbGluYS5zdGFydHVwLkJvb3RzdHJhcCAiJEAiIHN0YXJ0IFwNCiAgICAgID4+
ICIkQ0FUQUxJTkFfT1VUIiAyPiYxICYNCg0KICBmaQ0KDQogIGlmIFsgISAteiAiJENBVEFMSU5B
X1BJRCIgXTsgdGhlbg0KICAgIGVjaG8gJCEgPiAiJENBVEFMSU5BX1BJRCINCiAgZmkNCg0KZWxp
ZiBbICIkMSIgPSAic3RvcCIgXSA7IHRoZW4NCg0KICBzaGlmdA0KDQogIFNMRUVQPTUNCiAgaWYg
WyAhIC16ICIkMSIgXTsgdGhlbg0KICAgIGVjaG8gJDEgfCBncmVwICJbXjAtOV0iID4vZGV2L251
bGwgMj4mMQ0KICAgIGlmIFsgJD8gLWd0IDAgXTsgdGhlbg0KICAgICAgU0xFRVA9JDENCiAgICAg
IHNoaWZ0DQogICAgZmkNCiAgZmkNCg0KICBGT1JDRT0wDQogIGlmIFsgIiQxIiA9ICItZm9yY2Ui
IF07IHRoZW4NCiAgICBzaGlmdA0KICAgIEZPUkNFPTENCiAgZmkNCg0KICBpZiBbICEgLXogIiRD
QVRBTElOQV9QSUQiIF07IHRoZW4NCiAgICBpZiBbIC1mICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVu
DQogICAgICBpZiBbIC1zICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVuDQogICAgICAgIGtpbGwgLTAg
YGNhdCAiJENBVEFMSU5BX1BJRCJgID4vZGV2L251bGwgMj4mMQ0KICAgICAgICBpZiBbICQ/IC1n
dCAwIF07IHRoZW4NCiAgICAgICAgICBlY2hvICJQSUQgZmlsZSBmb3VuZCBidXQgbm8gbWF0Y2hp
bmcgcHJvY2VzcyB3YXMgZm91bmQuIFN0b3AgYWJvcnRlZC4iDQogICAgICAgICAgZXhpdCAxDQog
ICAgICAgIGZpDQogICAgICBlbHNlDQogICAgICAgIGVjaG8gIlBJRCBmaWxlIGlzIGVtcHR5IGFu
ZCBoYXMgYmVlbiBpZ25vcmVkLiINCiAgICAgIGZpDQogICAgZWxzZQ0KICAgICAgZWNobyAiXCRD
QVRBTElOQV9QSUQgd2FzIHNldCBidXQgdGhlIHNwZWNpZmllZCBmaWxlIGRvZXMgbm90IGV4aXN0
LiBJcyBUb21jYXQgcnVubmluZz8gU3RvcCBhYm9ydGVkLiINCiAgICAgIGV4aXQgMQ0KICAgIGZp
DQogIGZpDQogIA0KICAiJF9SVU5KQVZBIiAkSkFWQV9PUFRTIFwNCiAgICAtRGphdmEuZW5kb3Jz
ZWQuZGlycz0iJEpBVkFfRU5ET1JTRURfRElSUyIgLWNsYXNzcGF0aCAiJENMQVNTUEFUSCIgXA0K
ICAgIC1EY2F0YWxpbmEuYmFzZT0iJENBVEFMSU5BX0JBU0UiIFwNCiAgICAtRGNhdGFsaW5hLmhv
bWU9IiRDQVRBTElOQV9IT01FIiBcDQogICAgLURqYXZhLmlvLnRtcGRpcj0iJENBVEFMSU5BX1RN
UERJUiIgXA0KICAgIG9yZy5hcGFjaGUuY2F0YWxpbmEuc3RhcnR1cC5Cb290c3RyYXAgIiRAIiBz
dG9wDQoNCiAgaWYgWyAhIC16ICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVuDQogICAgaWYgWyAtZiAi
JENBVEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgICAgd2hpbGUgWyAkU0xFRVAgLWdlIDAgXTsgZG8N
CiAgICAgICAga2lsbCAtMCBgY2F0ICIkQ0FUQUxJTkFfUElEImAgPi9kZXYvbnVsbCAyPiYxDQog
ICAgICAgIGlmIFsgJD8gLWd0IDAgXTsgdGhlbg0KICAgICAgICAgIHJtIC1mICIkQ0FUQUxJTkFf
UElEIiA+L2Rldi9udWxsIDI+JjENCiAgICAgICAgICBpZiBbICQ/ICE9IDAgXTsgdGhlbg0KICAg
ICAgICAgICAgaWYgWyAtdyAiJENBVEFMSU5BX1BJRCIgXTsgdGhlbg0KICAgICAgICAgICAgICBj
YXQgL2Rldi9udWxsID4gIiRDQVRBTElOQV9QSUQiDQogICAgICAgICAgICBlbHNlDQogICAgICAg
ICAgICAgIGVjaG8gIlRvbWNhdCBzdG9wcGVkIGJ1dCB0aGUgUElEIGZpbGUgY291bGQgbm90IGJl
IHJlbW92ZWQgb3IgY2xlYXJlZC4iDQogICAgICAgICAgICBmaQ0KICAgICAgICAgIGZpDQogICAg
ICAgICAgYnJlYWsNCiAgICAgICAgZmkNCiAgICAgICAgaWYgWyAkU0xFRVAgLWd0IDAgXTsgdGhl
bg0KICAgICAgICAgIHNsZWVwIDENCiAgICAgICAgZmkNCiAgICAgICAgaWYgWyAkU0xFRVAgLWVx
IDAgXTsgdGhlbg0KICAgICAgICAgIGlmIFsgJEZPUkNFIC1lcSAwIF07IHRoZW4NCiAgICAgICAg
ICAgIGVjaG8gIlRvbWNhdCBkaWQgbm90IHN0b3AgaW4gdGltZS4gUElEIGZpbGUgd2FzIG5vdCBy
ZW1vdmVkLiINCiAgICAgICAgICBmaQ0KICAgICAgICBmaQ0KICAgICAgICBTTEVFUD1gZXhwciAk
U0xFRVAgLSAxIGANCiAgICAgIGRvbmUNCiAgICBmaQ0KICBmaQ0KDQogIGlmIFsgJEZPUkNFIC1l
cSAxIF07IHRoZW4NCiAgICBpZiBbIC16ICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVuDQogICAgICBl
Y2hvICJLaWxsIGZhaWxlZDogXCRDQVRBTElOQV9QSUQgbm90IHNldCINCiAgICBlbHNlDQogICAg
ICBpZiBbIC1mICIkQ0FUQUxJTkFfUElEIiBdOyB0aGVuDQogICAgICAgIFBJRD1gY2F0ICIkQ0FU
QUxJTkFfUElEImANCiAgICAgICAgZWNobyAiS2lsbGluZyBUb21jYXQgd2l0aCB0aGUgUElEOiAk
UElEIg0KICAgICAgICBraWxsIC05ICRQSUQNCiAgICAgICAgcm0gLWYgIiRDQVRBTElOQV9QSUQi
ID4vZGV2L251bGwgMj4mMQ0KICAgICAgICBpZiBbICQ/ICE9IDAgXTsgdGhlbg0KICAgICAgICAg
IGVjaG8gIlRvbWNhdCB3YXMga2lsbGVkIGJ1dCB0aGUgUElEIGZpbGUgY291bGQgbm90IGJlIHJl
bW92ZWQuIg0KICAgICAgICBmaQ0KICAgICAgZmkNCiAgICBmaQ0KICBmaQ0KDQplbGlmIFsgIiQx
IiA9ICJ2ZXJzaW9uIiBdIDsgdGhlbg0KDQogICAgIiRfUlVOSkFWQSIgICBcDQogICAgICAtY2xh
c3NwYXRoICIkQ0FUQUxJTkFfSE9NRS9saWIvY2F0YWxpbmEuamFyIiBcDQogICAgICBvcmcuYXBh
Y2hlLmNhdGFsaW5hLnV0aWwuU2VydmVySW5mbw0KDQplbHNlDQoNCiAgZWNobyAiVXNhZ2U6IGNh
dGFsaW5hLnNoICggY29tbWFuZHMgLi4uICkiDQogIGVjaG8gImNvbW1hbmRzOiINCiAgaWYgJG9z
NDAwOyB0aGVuDQogICAgZWNobyAiICBkZWJ1ZyAgICAgICAgICAgICBTdGFydCBDYXRhbGluYSBp
biBhIGRlYnVnZ2VyIChub3QgYXZhaWxhYmxlIG9uIE9TNDAwKSINCiAgICBlY2hvICIgIGRlYnVn
IC1zZWN1cml0eSAgIERlYnVnIENhdGFsaW5hIHdpdGggYSBzZWN1cml0eSBtYW5hZ2VyIChub3Qg
YXZhaWxhYmxlIG9uIE9TNDAwKSINCiAgZWxzZQ0KICAgIGVjaG8gIiAgZGVidWcgICAgICAgICAg
ICAgU3RhcnQgQ2F0YWxpbmEgaW4gYSBkZWJ1Z2dlciINCiAgICBlY2hvICIgIGRlYnVnIC1zZWN1
cml0eSAgIERlYnVnIENhdGFsaW5hIHdpdGggYSBzZWN1cml0eSBtYW5hZ2VyIg0KICBmaQ0KICBl
Y2hvICIgIGpwZGEgc3RhcnQgICAgICAgIFN0YXJ0IENhdGFsaW5hIHVuZGVyIEpQREEgZGVidWdn
ZXIiDQogIGVjaG8gIiAgcnVuICAgICAgICAgICAgICAgU3RhcnQgQ2F0YWxpbmEgaW4gdGhlIGN1
cnJlbnQgd2luZG93Ig0KICBlY2hvICIgIHJ1biAtc2VjdXJpdHkgICAgIFN0YXJ0IGluIHRoZSBj
dXJyZW50IHdpbmRvdyB3aXRoIHNlY3VyaXR5IG1hbmFnZXIiDQogIGVjaG8gIiAgc3RhcnQgICAg
ICAgICAgICAgU3RhcnQgQ2F0YWxpbmEgaW4gYSBzZXBhcmF0ZSB3aW5kb3ciDQogIGVjaG8gIiAg
c3RhcnQgLXNlY3VyaXR5ICAgU3RhcnQgaW4gYSBzZXBhcmF0ZSB3aW5kb3cgd2l0aCBzZWN1cml0
eSBtYW5hZ2VyIg0KICBlY2hvICIgIHN0b3AgICAgICAgICAgICAgIFN0b3AgQ2F0YWxpbmEsIHdh
aXRpbmcgdXAgdG8gNSBzZWNvbmRzIGZvciB0aGUgcHJvY2VzcyB0byBlbmQiDQogIGVjaG8gIiAg
c3RvcCBuICAgICAgICAgICAgU3RvcCBDYXRhbGluYSwgd2FpdGluZyB1cCB0byBuIHNlY29uZHMg
Zm9yIHRoZSBwcm9jZXNzIHRvIGVuZCINCiAgZWNobyAiICBzdG9wIC1mb3JjZSAgICAgICBTdG9w
IENhdGFsaW5hLCB3YWl0IHVwIHRvIDUgc2Vjb25kcyBhbmQgdGhlbiB1c2Uga2lsbCAtS0lMTCBp
ZiBzdGlsbCBydW5uaW5nIg0KICBlY2hvICIgIHN0b3AgbiAtZm9yY2UgICAgIFN0b3AgQ2F0YWxp
bmEsIHdhaXQgdXAgdG8gbiBzZWNvbmRzIGFuZCB0aGVuIHVzZSBraWxsIC1LSUxMIGlmIHN0aWxs
IHJ1bm5pbmciDQogIGVjaG8gIiAgdmVyc2lvbiAgICAgICAgICAgV2hhdCB2ZXJzaW9uIG9mIHRv
bWNhdCBhcmUgeW91IHJ1bm5pbmc/Ig0KICBlY2hvICJOb3RlOiBXYWl0aW5nIGZvciB0aGUgcHJv
Y2VzcyB0byBlbmQgYW5kIHVzZSBvZiB0aGUgLWZvcmNlIG9wdGlvbiByZXF1aXJlIHRoYXQgXCRD
QVRBTElOQV9QSUQgaXMgZGVmaW5lZCINCiAgZXhpdCAxDQoNCmZpDQo=


--_009_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--_009_747793AC722E0A4FB40F138D5BBAE0A2158B5C9774edealxcg3edea_--

From users-return-238440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:15:01 2012
Return-Path: <users-return-238440-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1139BE0FD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:15:01 +0000 (UTC)
Received: (qmail 69211 invoked by uid 500); 6 Dec 2012 15:14:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 69154 invoked by uid 500); 6 Dec 2012 15:14:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 69137 invoked by uid 99); 6 Dec 2012 15:14:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:14:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:14:47 +0000
Received: from [192.168.245.129] (p549E8FA5.dip0.t-ipconnect.de [84.158.143.165])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 2701D3C054B
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 16:15:16 +0100 (CET)
Message-ID: <50C0B64F.8000905@ice-sa.com>
Date: Thu, 06 Dec 2012 16:14:23 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat JMX remote
References: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com>
In-Reply-To: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Adrien RUFFIE wrote:
> Hello all,
> 
> I have a tomcat6 installed in one debian,
> But openjdk6 is installed and I try to active
> JMX access on the throught the network
> On my tomcat, but it doesn't work ...
> 
> I use following option (CATALINA_OPTS or JAVA_OPTS I have try two):
> set CATALINA_OPTS=-Dcom.sun.management.jmxremote \
>     -Dcom.sun.management.jmxremote.port=9999 \
>     -Dcom.sun.management.jmxremote.ssl=false \
>     -Dcom.sun.management.jmxremote.authenticate=true \
>     -Dcom.sun.management.jmxremote.password.file=../conf/jmxremote.password \
>     -Dcom.sun.management.jmxremote.access.file=../conf/jmxremote.access \
> 
> My tomcat is launched correctly with following jvm parameter:
> 
> root@rd4-was7:/usr/local# ps -ef | grep java
> root     23943     1  0 15:30 pts/2    00:00:01 /usr/lib/jvm/java-6-openjdk/jre/bin/java -Djava.util.logging.config.file=/usr/local/tomcat6/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Dcom.sun.management.jmxremote.port=9999 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.endorsed.dirs=/usr/local/tomcat6/endorsed -classpath /usr/local/tomcat6/bin/bootstrap.jar -Dcatalina.base=/usr/local/tomcat6 -Dcatalina.home=/usr/local/tomcat6 -Djava.io.tmpdir=/usr/local/tomcat6/temp org.apache.catalina.startup.Bootstrap start
> 

I believe that you are not reading this correctly.  I do not see the same parameters above 
and below..

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:21:45 2012
Return-Path: <users-return-238441-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 84086E129
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:21:45 +0000 (UTC)
Received: (qmail 8970 invoked by uid 500); 6 Dec 2012 15:21:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8800 invoked by uid 500); 6 Dec 2012 15:21:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8763 invoked by uid 99); 6 Dec 2012 15:21:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:21:41 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:21:34 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 356762888D
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 07:21:13 -0800 (PST)
Received: from zcs-prod-mta-3.vmware.com (zcs-prod-mta-3.vmware.com [10.113.163.65])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 21D42180DC
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 07:21:13 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTP id 09E12E1E16
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 07:21:13 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-3.vmware.com
Received: from zcs-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id hU-fgIV_B_pD for <users@tomcat.apache.org>;
	Thu,  6 Dec 2012 07:21:12 -0800 (PST)
Received: from [10.113.233.1] (unknown [10.113.160.14])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTPSA id 88DF8E1D99
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 07:21:12 -0800 (PST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Tomcat JMX remote
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com>
Date: Thu, 6 Dec 2012 10:21:09 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <9CB249E2-F56E-4188-ADD7-5EDCC70C0527@vmware.com>
References: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 6, 2012, at 10:03 AM, Adrien RUFFIE wrote:

> Hello all,
> =20
> I have a tomcat6 installed in one debian,
> But openjdk6 is installed and I try to active
> JMX access on the throught the network
> On my tomcat, but it doesn=92t work =85
> =20
> I use following option (CATALINA_OPTS or JAVA_OPTS I have try two):
> set CATALINA_OPTS=3D-Dcom.sun.management.jmxremote \
>     -Dcom.sun.management.jmxremote.port=3D9999 \
>     -Dcom.sun.management.jmxremote.ssl=3Dfalse \
>     -Dcom.sun.management.jmxremote.authenticate=3Dtrue \
>     =
-Dcom.sun.management.jmxremote.password.file=3D../conf/jmxremote.password =
\
>     =
-Dcom.sun.management.jmxremote.access.file=3D../conf/jmxremote.access \

Are jmxremote.password and jmxremote.access setup correctly?  These =
should contain your user, password and access permissions.

> =20
> My tomcat is launched correctly with following jvm parameter:
> =20
> root@rd4-was7:/usr/local# ps -ef | grep java
> root     23943     1  0 15:30 pts/2    00:00:01 =
/usr/lib/jvm/java-6-openjdk/jre/bin/java =
-Djava.util.logging.config.file=3D/usr/local/tomcat6/conf/logging.properti=
es -Djava.util.logging.manager=3Dorg.apache.juli.ClassLoaderLogManager =
-Dcom.sun.management.jmxremote.port=3D9999

> -Dcom.sun.management.jmxremote.authenticate=3Dfalse

This is not what you specified above.

> -Dcom.sun.management.jmxremote.ssl=3Dfalse =
-Djava.endorsed.dirs=3D/usr/local/tomcat6/endorsed -classpath =
/usr/local/tomcat6/bin/bootstrap.jar -Dcatalina.base=3D/usr/local/tomcat6 =
-Dcatalina.home=3D/usr/local/tomcat6 =
-Djava.io.tmpdir=3D/usr/local/tomcat6/temp =
org.apache.catalina.startup.Bootstrap start
> =20
> But I cannot access with my JVisualVM:
> Cannot connect to tomcat@192.168.101.160:9999 using =
service:jmx:rmi///jndi/rmi://192.168.101.160:9999/jmxrmi

Seems like you are accessing from a remote machine.  Is there a firewall =
in the way?

If so, you might also want to look at=20

=
https://tomcat.apache.org/tomcat-7.0-doc/config/listeners.html#JMX_Remote_=
Lifecycle_Listener_-_org.apache.catalina.mbeans.JmxRemoteLifecycleListener=


Dan


> =20
> Tomcat of tomcat@192.168.101.160 must be are a user on my debian ? =
Because the current tomcat user is =93tomcat6=94 on file system
> =20
> Attached file is my catalina.sh
> =20
> Any one have an idea ?
> =20
> Bien cordialement,
> =20
> <image002.png>
> <image003.png><image004.png><image005.png>
> Adrien RUFFIE
> Ing=E9nieur R&D
> 40, rue du Village d=92Entreprises
> 31670 Lab=E8ge
> www.e-deal.com
> =20
> LD : +33 1 73 03 29 50
> Std : +33 1 73 03 29 80
> Fax : +33 1 73 01 69 77
> a.ruffie@e-deal.com
>=20
> E-DEAL soutient le Pacte Mondial de l'ONU
> =20
> <catalina.txt>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:23:55 2012
Return-Path: <users-return-238442-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 433C2E13F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:23:55 +0000 (UTC)
Received: (qmail 21130 invoked by uid 500); 6 Dec 2012 15:23:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21059 invoked by uid 500); 6 Dec 2012 15:23:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21048 invoked by uid 99); 6 Dec 2012 15:23:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:23:51 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:23:45 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id YCJv1k0031ZXKqc5FFPPYj; Thu, 06 Dec 2012 15:23:23 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id YFPM1k00J38FjT13hFPN0s; Thu, 06 Dec 2012 15:23:23 +0000
Message-ID: <50C0B868.2030909@christopherschultz.net>
Date: Thu, 06 Dec 2012 10:23:20 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
In-Reply-To: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354807403;
	bh=sSZFvNOeXYVYB/uLe08cPaB4DJidGNEMKTke0s3Sw8k=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=IMgLXpqHZmzw4/240RxhtwSs7K+aKSghnguQWjmlER3HyCGnvqYlr3ww0M3hysyv8
	 /G3C9wuBzu/0Lb5MEOtXb7D9qRj2SVC5B6q0AhmiTsnrQD2siUvuBIREXcbDpLMikR
	 toK+YURe6H95iC/mbasAAcpoftmBury5ua1lHmc6+JgVHmy2GLWTr+3WJ695GHxK+6
	 Wh+Kk63owEnDcCq6qqTHBW9qsB1X/D4hKzfDKkpTszwpnjuu3alG5nXIgd/YYrnvCr
	 lipSDU7w3FuuZslYXAHO8VZQRyuTS3J9V+CKt8DlJ0cVluLm5R8cwabDFcFXCaMD8O
	 49oP858Z4kvGg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mitchell,

On 12/6/12 9:48 AM, Smith, Mitchell wrote:
> I have a jvmRoute appended to my JSESSIONID to enable sticky
> sessions at an application level.
> 
> I see often that users do not close browsers, resulting (even if
> the tomcat session has expired) the user to be forwarded back to
> the instance.
> 
> Is it possible to set an expiry for the jvmRoute / JSESSIONID to be
> expired at the browser so after x amount of time since last request
> the jvmRoute is not transmitted back to the application apache load
> balancer. This would prevent users constantly being directed to the
> same application node.

While I'm not sure if there is actually a way to do this, it's an
interesting problem I'd never considered: once mod_jk picks a jvmroute
for you, you may be stuck there for a looong time if you never close
your browser.

I never close my browser. It's been running since Monday morning
(okay, bad example -- because I upgraded my Firefox and it did a
restart for that). But it's not uncommon for me to leave the browser
running for the entire interval between releases of Firefox. When
Firefox restarts itself, it actually does not expire cookies that
should expire when the browser closes.

So, unless I explicitly close Firefox (which happens, sometimes,
accidentally since CMD-Q and CMD-W are /right next to each other/ and
ff/Mac doesn't have any "such you want to close all those tabs and
windows?" confirmation) or maybe if it crashes, I'll be stuck on a
particular node every time I visit a site.

Hrm.

I'd be interested in any thoughts Rainer might have about this.

AFAIK, a Tomcat node that gets a request with an invalid session id
will simply ignore it. If a new session is required, then the old
session id will be replaced with the new one (including the same
jvmroute that was already attached to the session id), but everything
happens on that one Tomcat node.

I think the only way this might work would be to have Tomcat reply to
an AJP connection with an invalid session id with a response like
"INVALID SESSION ID" and then mod_jk could through its normal decision
about which balanced worker would be chosen for the request.

That seems like an awful lot of work, but it /would/ restore
"fairness" to the system.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEUEARECAAYFAlDAuGgACgkQ9CaO5/Lv0PApygCXcrQm0wagXXMdmnEnnhB74KBO
hgCgodzhNm7XjfiBBWduiItWjNELOnc=
=16PP
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:26:03 2012
Return-Path: <users-return-238443-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E0121EBD9
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:26:02 +0000 (UTC)
Received: (qmail 30607 invoked by uid 500); 6 Dec 2012 15:25:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30561 invoked by uid 500); 6 Dec 2012 15:25:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30539 invoked by uid 99); 6 Dec 2012 15:25:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:25:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jshaik@amig.com designates 167.15.253.4 as permitted sender)
Received: from [167.15.253.4] (HELO ewru030003.na.munichre.com) (167.15.253.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:25:51 +0000
Received: from pps.filterd (ewru030003 [127.0.0.1])
	by ewru030003.na.munichre.com (8.14.5/8.14.5) with SMTP id qB6FDV6t011657
	for <users@tomcat.apache.org>; Thu, 6 Dec 2012 10:25:30 -0500
Received: from na.munichre.com (cvgu030001.na.munichre.com [192.168.110.210])
	by ewru030003.na.munichre.com with ESMTP id 18xdnkg9nq-1
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT)
	for <users@tomcat.apache.org>; Thu, 06 Dec 2012 10:25:30 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=simple; d=amig.com; s=amig;
	t=1354807525; x=1670167105; q=dns/txt; h=From:Date:Subject:
	Message-ID:Content-Language:Content-Type; bh=WHHb9E11y+x5YxQndtT
	5VpGnw2OfblGHI+JcwKaRtFY=; b=cuIim1szDWpsgqntpaVqdvuDSLkkx+dntLa
	2nGJYy+zoP8QUh9vr00tS8DOnX8psIv4xq3i/zYOgRGrRR3IjOJYY7EQwwQYGpyA
	R70H4qfO5ybha2afEFMKh+juFJrl3wLr9GLOGYE/4jB18s6fP1ThEVvHbvPjYH7M
	JDJIxghg=
Received: from ([10.126.11.136])
	by cvgu030001.na.munichre.com with ESMTP with TLS id J041151216.4438132;
	Thu, 06 Dec 2012 10:25:24 -0500
Received: from C8PC015101.am.munichre.com ([169.254.1.48]) by
 PCTS030101.am.munichre.com ([::1]) with mapi; Thu, 6 Dec 2012 10:25:23 -0500
From: Shaik Jani - Cincinnati-AMIG <JShaik@amig.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Thu, 6 Dec 2012 10:25:22 -0500
Subject: Z/OS CICS Support
Thread-Topic: Z/OS CICS Support
Thread-Index: Ac3TxehnFanvudslSH6NlJcyYEf5Jg==
Message-ID: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_E64AA402048FD34AA7372D4512D6F1596398018BD0C8PC015101amm_"
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=nai engine=5400 definitions=5800 signatures=585085
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 ipscore=0 suspectscore=1
 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx
 scancount=1 engine=7.0.1-1111160001 definitions=main-1101130121
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_E64AA402048FD34AA7372D4512D6F1596398018BD0C8PC015101amm_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,



We are replacing websphere application server, so would like to know whethe=
r tomcat has CICS support to access mainframe resources.



Tomcat V#6.0.36





--_000_E64AA402048FD34AA7372D4512D6F1596398018BD0C8PC015101amm_--

From users-return-238444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:30:09 2012
Return-Path: <users-return-238444-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F036DFBA
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:30:09 +0000 (UTC)
Received: (qmail 49958 invoked by uid 500); 6 Dec 2012 15:30:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49795 invoked by uid 500); 6 Dec 2012 15:30:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49766 invoked by uid 99); 6 Dec 2012 15:30:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:30:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:29:57 +0000
Received: from [192.168.245.129] (p549E8FA5.dip0.t-ipconnect.de [84.158.143.165])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 5CE783C00BF
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 16:30:25 +0100 (CET)
Message-ID: <50C0B9DC.2090804@ice-sa.com>
Date: Thu, 06 Dec 2012 16:29:32 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Z/OS CICS Support
References: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
In-Reply-To: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Shaik Jani - Cincinnati-AMIG wrote:
> Hi,
> 
> 
> 
> We are replacing websphere application server, so would like to know whether tomcat has CICS support to access mainframe resources.
> 

Should you not be asking IBM for this ?
(that's only after Googling for "CICS Support")


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:31:52 2012
Return-Path: <users-return-238445-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4661DDFC1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:31:52 +0000 (UTC)
Received: (qmail 55559 invoked by uid 500); 6 Dec 2012 15:31:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55326 invoked by uid 500); 6 Dec 2012 15:31:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55312 invoked by uid 99); 6 Dec 2012 15:31:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:31:47 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:31:39 +0000
Received: from omta04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id YAkl1k00B0ldTLk53FXHzY; Thu, 06 Dec 2012 15:31:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta04.westchester.pa.mail.comcast.net with comcast
	id YFXG1k00K38FjT13QFXHMn; Thu, 06 Dec 2012 15:31:17 +0000
Message-ID: <50C0BA43.9080303@christopherschultz.net>
Date: Thu, 06 Dec 2012 10:31:15 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat JMX remote
References: <747793AC722E0A4FB40F138D5BBAE0A2158B5C9774@edeal-xcg3.e-deal.com> <9CB249E2-F56E-4188-ADD7-5EDCC70C0527@vmware.com>
In-Reply-To: <9CB249E2-F56E-4188-ADD7-5EDCC70C0527@vmware.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354807877;
	bh=fa5kzYw9JZIyRHlUEjlh00HmNOICd8CL/xIMmh4EXvw=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Cu+CkpIwkzB/dFz2nbbr167AjsEVl08KeoIw5KMVsVSp4bGKBXw0KLwv1vJa1PFKr
	 qubjCLWv3vvyguZWKipIT1ozXRjJUlFKOP3r6rIHIPvTcTX90h4P6GVOCNNsEH/eSX
	 p8OcUaT+X85WQxF/8J0Cj7KFUwmQv2YCg1662Ijlgvdldwry4xF6cKQudqH0r5c4AU
	 vFstQVrDedWAAl5Efqe0Qfq4E8fWOrE7fEh3YozjD2yEl+ZemGtEAkuvZ8UoIsSb4Y
	 XLL1sAmdUawTJACOB7y300LX0QX0VrRquQOYfPOi91SV9j3tAP3N+3xl6E0noQo8+Y
	 AAjIc8eXuBYvQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Daniel,

On 12/6/12 10:21 AM, Daniel Mikusa wrote:
> On Dec 6, 2012, at 10:03 AM, Adrien RUFFIE wrote:
> 
>> But I cannot access with my JVisualVM: Cannot connect to
>> tomcat@192.168.101.160:9999 using 
>> service:jmx:rmi///jndi/rmi://192.168.101.160:9999/jmxrmi
> 
> Seems like you are accessing from a remote machine. Is there a 
> firewall in the way?
> 
> If so, you might also want to look at
> 
> https://tomcat.apache.org/tomcat-7.0-doc/config/listeners.html#JMX_Remote_Lifecycle_Listener_-_org.apache.catalina.mbeans.JmxRemoteLifecycleListener

+1

If
> 
disabling your firewall temporarily works, then using the
JMXRemoteLifecycleListener will work: it explicitly sets the alternate
port JMX requires to operate to a known value. Then, you can poke a
small hole in your firewall instead of opening everything up.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDAukMACgkQ9CaO5/Lv0PCftQCeIGChgjlfvrlHYhqhmqM3keR3
gBUAn3jslYPntnTWaGbgUZETme2bkUGd
=xzwh
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:33:08 2012
Return-Path: <users-return-238446-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0FE39DFCD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:33:08 +0000 (UTC)
Received: (qmail 68459 invoked by uid 500); 6 Dec 2012 15:33:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68403 invoked by uid 500); 6 Dec 2012 15:33:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68390 invoked by uid 99); 6 Dec 2012 15:33:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:33:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jshaik@amig.com designates 167.15.253.4 as permitted sender)
Received: from [167.15.253.4] (HELO ewru030003.na.munichre.com) (167.15.253.4)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:32:58 +0000
Received: from pps.filterd (ewru030003 [127.0.0.1])
	by ewru030003.na.munichre.com (8.14.5/8.14.5) with SMTP id qB6Et8es028741
	for <users@tomcat.apache.org>; Thu, 6 Dec 2012 10:32:38 -0500
Received: from na.munichre.com (ewru030001.na.munichre.com [192.168.109.210])
	by ewru030003.na.munichre.com with ESMTP id 18xdnkg9p9-1
	(version=TLSv1/SSLv3 cipher=AES256-SHA bits=256 verify=NOT)
	for <users@tomcat.apache.org>; Thu, 06 Dec 2012 10:32:37 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=simple; d=amig.com; s=amig;
	t=1354807953; x=1670163126; q=dns/txt; h=From:Date:Subject:
	Message-ID:Content-Language:Content-Type:
	Content-Transfer-Encoding; bh=eWOywJw4B9Et93PAxDpxFpAiLY3lZMvFds
	m5Dp8KxWo=; b=bsmakdyBys8cg3WV50WUA9M1pdLT0dRIK0e4TwIXfg4/pazm77
	zz/fq9+U8+lKsP5bBZDDFei/zjPGv3Lo6QpjK2diaKPD86Eq6a0QKBiEWykF7c0J
	ujft0gBcCSoSCHhYjxyB9GwBzIuQHSgJyaEpbS1rgpdb9IQJ4jS2U3a4U=
Received: from ([10.126.11.135])
	by ewru030001.na.munichre.com with ESMTP with TLS id J041151208.2263582;
	Thu, 06 Dec 2012 10:32:32 -0500
Received: from C8PC015101.am.munichre.com ([169.254.1.48]) by
 PCTS030100.am.munichre.com ([::1]) with mapi; Thu, 6 Dec 2012 10:32:31 -0500
From: Shaik Jani - Cincinnati-AMIG <JShaik@amig.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 6 Dec 2012 10:32:31 -0500
Subject: RE: Z/OS CICS Support
Thread-Topic: Z/OS CICS Support
Thread-Index: Ac3TxpVO0K+WCNdOQBC/Fl0sByRd8QAACwYw
Message-ID: <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
References: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
 <50C0B9DC.2090804@ice-sa.com>
In-Reply-To: <50C0B9DC.2090804@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=nai engine=5400 definitions=5800 signatures=585085
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 ipscore=0 suspectscore=7
 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx
 scancount=1 engine=7.0.1-1111160001 definitions=main-1101130121
X-Virus-Checked: Checked by ClamAV on apache.org

What I meant was can we access mainframe resources in Tomcat?


-----Original Message-----
From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
Sent: Thursday, December 06, 2012 10:30 AM
To: Tomcat Users List
Subject: Re: Z/OS CICS Support

Shaik Jani - Cincinnati-AMIG wrote:
> Hi,
>=20
>=20
>=20
> We are replacing websphere application server, so would like to know whet=
her tomcat has CICS support to access mainframe resources.
>=20

Should you not be asking IBM for this ?
(that's only after Googling for "CICS Support")


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:41:39 2012
Return-Path: <users-return-238447-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 288BBD016
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:41:39 +0000 (UTC)
Received: (qmail 96567 invoked by uid 500); 6 Dec 2012 15:41:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96424 invoked by uid 500); 6 Dec 2012 15:41:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96398 invoked by uid 99); 6 Dec 2012 15:41:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:41:34 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.131 as permitted sender)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:41:25 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-2.tower-28.messagelabs.com!1354808461!30143864!4
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 19876 invoked from network); 6 Dec 2012 15:41:03 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-2.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 6 Dec 2012 15:41:03 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 6 Dec 2012 09:41:01 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 6 Dec
 2012 09:41:02 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 6 Dec 2012 09:41:21 -0600
Subject: RE: Z/OS CICS Support
Thread-Topic: Z/OS CICS Support
Thread-Index: Ac3TxpVO0K+WCNdOQBC/Fl0sByRd8QAACwYwAABJRxA=
Message-ID: <99C8B2929B39C24493377AC7A121E21FC494EAEEE9@USEA-EXCH8.na.uis.unisys.com>
References: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
 <50C0B9DC.2090804@ice-sa.com>
 <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
In-Reply-To: <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Shaik Jani - Cincinnati-AMIG [mailto:JShaik@amig.com]=20
> Subject: RE: Z/OS CICS Support

> What I meant was can we access mainframe resources in Tomcat?

It's not Tomcat that accesses any external resources, it's your webapps run=
ning under Tomcat.  If CICS provides Java-based classes to do so, your weba=
pps can use them.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 15:54:06 2012
Return-Path: <users-return-238448-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D8E3D0A6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 15:54:06 +0000 (UTC)
Received: (qmail 43067 invoked by uid 500); 6 Dec 2012 15:54:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42921 invoked by uid 500); 6 Dec 2012 15:54:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42714 invoked by uid 99); 6 Dec 2012 15:54:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:54:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 15:53:53 +0000
Received: from [192.168.245.129] (p549E8FA5.dip0.t-ipconnect.de [84.158.143.165])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id EB9093C099F
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 16:54:20 +0100 (CET)
Message-ID: <50C0BF78.8040602@ice-sa.com>
Date: Thu, 06 Dec 2012 16:53:28 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net>
In-Reply-To: <50C0B868.2030909@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Mitchell,
> 
> On 12/6/12 9:48 AM, Smith, Mitchell wrote:
>> I have a jvmRoute appended to my JSESSIONID to enable sticky
>> sessions at an application level.
>>
>> I see often that users do not close browsers, resulting (even if
>> the tomcat session has expired) the user to be forwarded back to
>> the instance.
>>
>> Is it possible to set an expiry for the jvmRoute / JSESSIONID to be
>> expired at the browser so after x amount of time since last request
>> the jvmRoute is not transmitted back to the application apache load
>> balancer. This would prevent users constantly being directed to the
>> same application node.
> 
> While I'm not sure if there is actually a way to do this, it's an
> interesting problem I'd never considered: once mod_jk picks a jvmroute
> for you, you may be stuck there for a looong time if you never close
> your browser.
> 
> I never close my browser. It's been running since Monday morning
> (okay, bad example -- because I upgraded my Firefox and it did a
> restart for that). But it's not uncommon for me to leave the browser
> running for the entire interval between releases of Firefox. When
> Firefox restarts itself, it actually does not expire cookies that
> should expire when the browser closes.
> 
> So, unless I explicitly close Firefox (which happens, sometimes,
> accidentally since CMD-Q and CMD-W are /right next to each other/ and
> ff/Mac doesn't have any "such you want to close all those tabs and
> windows?" confirmation) or maybe if it crashes, I'll be stuck on a
> particular node every time I visit a site.
> 
> Hrm.
> 
> I'd be interested in any thoughts Rainer might have about this.
> 
> AFAIK, a Tomcat node that gets a request with an invalid session id
> will simply ignore it. If a new session is required, then the old
> session id will be replaced with the new one (including the same
> jvmroute that was already attached to the session id), but everything
> happens on that one Tomcat node.
> 
> I think the only way this might work would be to have Tomcat reply to
> an AJP connection with an invalid session id with a response like
> "INVALID SESSION ID" and then mod_jk could through its normal decision
> about which balanced worker would be chosen for the request.
> 
> That seems like an awful lot of work, but it /would/ restore
> "fairness" to the system.
> 

Chris,

Before I read your answer, I would have been ready to bet that the OP's question was 
nonsensical, in the sense that :
- the "sticky identifier" is either included in the JSESSIONID cookie, or appended 
together with the JSESSIONID, to the request URLs, right ? (or wrong ?)
- if it is in the cookie, then it would expire at the same time as the cookie
- if it is appended at the end of the URL, then how could the server get rid of it (in the 
browser's displayed page) ?
But you seem to hint otherwise, so now I doubt.

And then, there is this :

The environment variable JK_STICKY_IGNORE can be set to disable session stickyness for 
individual requests. If the variable is set to an empty string or a nonzero number, 
session stickyness will be disabled. Setting it to 0 will reset to the behaviour defined 
by the worker configuration. This is available since version 1.2.33.

Re: http://tomcat.apache.org/connectors-doc/reference/apache.html

So, if push comes to shove, one could supposedly embed some logic on the front-end server, 
to set/unset that variable prior to letting mod_jk see the call.
I'd do that with a nifty mod_perl module of course, if I could figure out how to test for 
the right condition..

SetEnvIf %{THE_USER_WALKED_AWAY_WITHOUT_CLOSING_HIS_BROWSER} yes JK_STICKY_IGNORE=yes


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 16:36:23 2012
Return-Path: <users-return-238449-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1F58DEF94
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 16:36:23 +0000 (UTC)
Received: (qmail 92990 invoked by uid 500); 6 Dec 2012 16:20:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92912 invoked by uid 500); 6 Dec 2012 16:20:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92612 invoked by uid 99); 6 Dec 2012 16:20:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 16:20:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 16:20:07 +0000
Received: by mail-qa0-f45.google.com with SMTP id j15so1229688qaq.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 08:19:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=zospmlMbpTIUj7+n9fsT1nCTUNKqsDotlkf+lw+4Uas=;
        b=JeK3FIUrAF9a+0T3BGk0h3yyGpMRu1DaH2is1/rY/yeUX8msa+oDHNOWXMXQOCPVBn
         jFqdp8uuP6il4SzlovhhctOfGI1y0QMOY36CQAjWkJ6l4xNTszI7I+vZrGrZh9QfMe6j
         7uZHx+jfOzFbsiSuvxo18u3PFajg9xO3nFHdz4EhhAgm5OSU2Sz8puZ2Ft6DyfCOjSDo
         ELoXfJz2gNm6Ip+qeI8b9c3YeM6uIh1qEsga/zjAyo8CFF6RAlBWiqcW9mijxh616PmY
         GuH432Hb2B7k7GXKREW+JMJpx7T8ZnvHj6vSgUVtHInm5gx/HbpitTGXgyZjCMo/eyAV
         dP5g==
MIME-Version: 1.0
Received: by 10.224.191.137 with SMTP id dm9mr4221444qab.40.1354810786361;
 Thu, 06 Dec 2012 08:19:46 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Thu, 6 Dec 2012 08:19:46 -0800 (PST)
Date: Thu, 6 Dec 2012 14:19:46 -0200
Message-ID: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
Subject: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf3005dfa8a8b06b04d03177cb
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3005dfa8a8b06b04d03177cb
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm using Windows XP Professional SP3, 32 bits, and Tomcat 7.0.

Recently I started developping a web application for the company I'm
working for, and I decided to use Tomcat as Web Server.
The first thing I did was download the zip version, and start Tomcat using
the Windows Command Prompt (startup.bat). Then, I deployed my app and
configured my router (TP-Link) to foward the 8080 port to my IP adress (it
has reserved IP by MAC adress). I'm using DHCP connection to access web.
I tried to access my webb app through "http://localhost:8080", and
everything was fine, then I tried with "http://[router-ip]:8080", and it
worked without problems.
But I didn't liked the console window which appears when Tomcat is started,
so I decided to install Tomcat through the .exe installer. First, I stopped
Tomcat by closing the console window opened in the startup, and then I
installed Tomcat as service using the .exe.
I restarted the computer, and Tomcat automatically started. Good. But when
I went to access my web app again using router's IP, I couldn't. Then, I
tried to access Tomcat's Welcome Page using Firefox (http://localhost:8080),
and everything was ok. After that, I tried using my router's IP (with
Firefox), and I received an error message saying that "the connection was
reset".

What I want to know is what I need to do to access Tomcat (running as
service) from web, taking into account that it works perfectly when running
in the console window.

Thanks for any help.


*Yuri E. - Brazil*

--20cf3005dfa8a8b06b04d03177cb--

From users-return-238450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 17:03:13 2012
Return-Path: <users-return-238450-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D036E278
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 17:03:13 +0000 (UTC)
Received: (qmail 59908 invoked by uid 500); 6 Dec 2012 17:03:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59668 invoked by uid 500); 6 Dec 2012 17:03:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59073 invoked by uid 99); 6 Dec 2012 17:03:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 17:03:07 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 17:03:00 +0000
Received: from sc9-mailhost3.vmware.com (sc9-mailhost3.vmware.com [10.113.161.73])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 60930283FB
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 09:02:40 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (zcs-prod-mta-1.vmware.com [10.113.163.63])
	by sc9-mailhost3.vmware.com (Postfix) with ESMTP id 5CA1B4009C
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 09:02:40 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTP id 4A305E1ED5
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 09:02:40 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-1.vmware.com
Received: from zcs-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id LNP_7xQkol2X for <users@tomcat.apache.org>;
	Thu,  6 Dec 2012 09:02:40 -0800 (PST)
Received: from [10.113.233.1] (unknown [10.113.160.14])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTPSA id D37DDE1EDB
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 09:02:39 -0800 (PST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
Date: Thu, 6 Dec 2012 12:02:37 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 6, 2012, at 11:19 AM, Yuri E wrote:

> Hi,
>=20
> I'm using Windows XP Professional SP3, 32 bits, and Tomcat 7.0.
>=20
> Recently I started developping a web application for the company I'm
> working for, and I decided to use Tomcat as Web Server.
> The first thing I did was download the zip version, and start Tomcat =
using
> the Windows Command Prompt (startup.bat). Then, I deployed my app and
> configured my router (TP-Link) to foward the 8080 port to my IP adress =
(it
> has reserved IP by MAC adress). I'm using DHCP connection to access =
web.
> I tried to access my webb app through "http://localhost:8080", and
> everything was fine, then I tried with "http://[router-ip]:8080", and =
it
> worked without problems.
> But I didn't liked the console window which appears when Tomcat is =
started,
> so I decided to install Tomcat through the .exe installer. First, I =
stopped
> Tomcat by closing the console window opened in the startup, and then I
> installed Tomcat as service using the .exe.
> I restarted the computer, and Tomcat automatically started. Good. But =
when
> I went to access my web app again using router's IP, I couldn't. Then, =
I
> tried to access Tomcat's Welcome Page using Firefox =
(http://localhost:8080),
> and everything was ok.

If Tomcat's welcome page is accessible then Tomcat is up and running.  =
It's likely that you application failed to deploy.

Have you looked at the server logs and your application logs to see if =
there were any problems?

> After that, I tried using my router's IP (with
> Firefox), and I received an error message saying that "the connection =
was
> reset".
>=20
> What I want to know is what I need to do to access Tomcat (running as
> service) from web, taking into account that it works perfectly when =
running
> in the console window.

There are differences between running Tomcat in the console and running =
it as a service.  I'm not a windows expert, but I believe that each =
scenario would run as a different user (console running as your user, =
the service running as a service account).  Perhaps someone more =
knowledgable about Windows can provide more details.

Dan

>=20
> Thanks for any help.
>=20
>=20
> *Yuri E. - Brazil*


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 18:49:36 2012
Return-Path: <users-return-238451-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8C335E30A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 18:49:36 +0000 (UTC)
Received: (qmail 14264 invoked by uid 500); 6 Dec 2012 18:49:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14187 invoked by uid 500); 6 Dec 2012 18:49:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14060 invoked by uid 99); 6 Dec 2012 18:49:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 18:49:32 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 18:49:24 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id YCVK1k0051c6gX85FJp32w; Thu, 06 Dec 2012 18:49:03 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id YJp01k00k38FjT13jJp192; Thu, 06 Dec 2012 18:49:03 +0000
Message-ID: <50C0E89B.4060907@christopherschultz.net>
Date: Thu, 06 Dec 2012 13:48:59 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Z/OS CICS Support
References: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com> <50C0B9DC.2090804@ice-sa.com> <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
In-Reply-To: <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354819743;
	bh=iXRRWfeAEmSOg08F8IKhXfVXNjKQKI4qFQH2A8YXeLI=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=UGXXhsGmfnzjm0+hJQQypiyay96vHlZpYoCNEMr1z+m+jGPnLwRmz1JvhI2+Qwj83
	 ZdH3HW2lk4R2sjerXIhg0l/rWxqLIxiKDFA7tjmrb2dRmQZHa8n8i9yqXOv2xSluNr
	 cTiKN4utJHWL26LY8oKZ2pJP4x6Z1U8sa7ESaLZMwzuAbbe8HFBk9kOsx6MSOuXzxv
	 FV2UM3Z2wFXsoZ4oVoc8BQSsKlXQT0vHG9ydo3m8Rd5H/Ie9dfvWZaMxkBw4EImrZ+
	 +02nwa+Lez1X6BkvWQbfJ62ObYsHRwl+viqt6a1n7fNoTI7HPer21Pra/JJJ8/YLaK
	 ROfJyvlUVeeHA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Shaik Jani,

On 12/6/12 10:32 AM, Shaik Jani - Cincinnati-AMIG wrote:
> What I meant was can we access mainframe resources in Tomcat?

The Wikipedia entry for CICS says that EJBs are supported, so I
suspect that you can access mainframe resources in one or more ways
from Java. I'll reiterate what others have said: Tomcat has nothing to
do with this.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDA6JsACgkQ9CaO5/Lv0PDcBgCdGAvwZSeZLXnQpPlFI5tRkB8f
QpMAnR9OWzDv/QGsJi6/AhMNL38fY+Kz
=zkz3
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 18:57:01 2012
Return-Path: <users-return-238452-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7B1DAE33F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 18:57:01 +0000 (UTC)
Received: (qmail 45919 invoked by uid 500); 6 Dec 2012 18:56:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45852 invoked by uid 500); 6 Dec 2012 18:56:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45843 invoked by uid 99); 6 Dec 2012 18:56:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 18:56:57 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 18:56:49 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id YC7q1k0061ei1Bg53JwUoh; Thu, 06 Dec 2012 18:56:28 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id YJwT1k00c38FjT13kJwUki; Thu, 06 Dec 2012 18:56:28 +0000
Message-ID: <50C0EA5A.3050203@christopherschultz.net>
Date: Thu, 06 Dec 2012 13:56:26 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net> <50C0BF78.8040602@ice-sa.com>
In-Reply-To: <50C0BF78.8040602@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354820188;
	bh=3ORY241WNq6M7+IfYxwQRiPRVaxYYMsov0kFqLkmtGA=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=WZaf5ixhn6DSuhHA+C5Rg3zj0oG85nw+ko07H+yuMMLh0cPz00A7DZE+6JDBcWYPo
	 hUYiO4nOMmZXxvJbiluiG8hBRl6B4BCiKrBOqWwS3QBZ2FANV/ig9cXPYGpaBjZM7F
	 xd69TeeZE+eWvgY9bGtM365oXKMzbPaehHzUfc9owAxP9yzvHE/ou7hoHh2//AbIHH
	 7KsRVIjl35xGrslC1IcagzRtJmqs3Zq04IlopyvC4Q8uSQs0M/J3XS0hM//Grv2757
	 Zjk0AhDMIOAvyg0g1oyVhYPEX6gQjAo3Bgs+O6LPEtnNSon2TfcT1SI14gBSbeh4JL
	 rmZKqvdKPW+SQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/6/12 10:53 AM, AndrÃ© Warnier wrote:
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> Mitchell,
>> 
>> On 12/6/12 9:48 AM, Smith, Mitchell wrote:
>>> I have a jvmRoute appended to my JSESSIONID to enable sticky 
>>> sessions at an application level.
>>> 
>>> I see often that users do not close browsers, resulting (even
>>> if the tomcat session has expired) the user to be forwarded
>>> back to the instance.
>>> 
>>> Is it possible to set an expiry for the jvmRoute / JSESSIONID
>>> to be expired at the browser so after x amount of time since
>>> last request the jvmRoute is not transmitted back to the
>>> application apache load balancer. This would prevent users
>>> constantly being directed to the same application node.
>> 
>> While I'm not sure if there is actually a way to do this, it's
>> an interesting problem I'd never considered: once mod_jk picks a
>> jvmroute for you, you may be stuck there for a looong time if you
>> never close your browser.
>> 
>> I never close my browser. It's been running since Monday morning 
>> (okay, bad example -- because I upgraded my Firefox and it did a 
>> restart for that). But it's not uncommon for me to leave the
>> browser running for the entire interval between releases of
>> Firefox. When Firefox restarts itself, it actually does not
>> expire cookies that should expire when the browser closes.
>> 
>> So, unless I explicitly close Firefox (which happens, sometimes, 
>> accidentally since CMD-Q and CMD-W are /right next to each other/
>> and ff/Mac doesn't have any "such you want to close all those
>> tabs and windows?" confirmation) or maybe if it crashes, I'll be
>> stuck on a particular node every time I visit a site.
>> 
>> Hrm.
>> 
>> I'd be interested in any thoughts Rainer might have about this.
>> 
>> AFAIK, a Tomcat node that gets a request with an invalid session
>> id will simply ignore it. If a new session is required, then the
>> old session id will be replaced with the new one (including the
>> same jvmroute that was already attached to the session id), but
>> everything happens on that one Tomcat node.
>> 
>> I think the only way this might work would be to have Tomcat
>> reply to an AJP connection with an invalid session id with a
>> response like "INVALID SESSION ID" and then mod_jk could through
>> its normal decision about which balanced worker would be chosen
>> for the request.
>> 
>> That seems like an awful lot of work, but it /would/ restore 
>> "fairness" to the system.
>> 
> 
> Chris,
> 
> Before I read your answer, I would have been ready to bet that the
> OP's question was nonsensical, in the sense that : - the "sticky
> identifier" is either included in the JSESSIONID cookie, or
> appended together with the JSESSIONID, to the request URLs, right
> ? (or wrong ?)

Yes: a session id in a sticky-session configuration will have a
JSESSIONID cookie whose value looks like "0123456789ABCDEF.jvmRoute".
If the jvmroute is tacked-on to the end of the JSESSIONID, mod_jk will
route the request to the worker who has that route as long as that
balanced-worker is considered "up".

> - if it is in the cookie, then it would expire at the same time as
> the cookie

Yes, but session cookies typically have an expiration of "-1" which
means "when the browser exits". Never exiting the browser has
predicable consequences, here.

> - if it is appended at the end of the URL, then how could the
> server get rid of it (in the browser's displayed page) ?

Set a new value for the JSESSIONID cookie.

> And then, there is this :
> 
> The environment variable JK_STICKY_IGNORE can be set to disable
> session stickyness for individual requests. If the variable is set
> to an empty string or a nonzero number, session stickyness will be
> disabled. Setting it to 0 will reset to the behaviour defined by
> the worker configuration. This is available since version 1.2.33.
> 
> Re: http://tomcat.apache.org/connectors-doc/reference/apache.html

Interesting -- I was unaware of that feature. Presumably that allows a
configuration coupled with, say, SetEnvIf using the JK_STICKY_IGNORE
under certain circumstances.

> So, if push comes to shove, one could supposedly embed some logic
> on the front-end server, to set/unset that variable prior to
> letting mod_jk see the call.

Right, but the only way to tell if the session id is legit is to ask
Tomcat. It's probably cheaper to blindly forward to Tomcat and have
Tomcat take some exception scenario in the cases where the session id
is no longer valid than it would be to "ping" a back-end server to see
if the session id is valid. The former is what I've described above.

> I'd do that with a nifty mod_perl module of course, if I could
> figure out how to test for the right condition..
> 
> SetEnvIf %{THE_USER_WALKED_AWAY_WITHOUT_CLOSING_HIS_BROWSER} yes 
> JK_STICKY_IGNORE=yes

That's just the kind of magic Perl was designed to accomplish.

You will, of course, need to add "use Pid::CrystalBall;" at the top of
the script.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDA6loACgkQ9CaO5/Lv0PDIagCfRxPoKh1cRDzARoqfAVVE1VXQ
2TMAoKbUClB1HZr3mYIkCTnp237wGlB5
=WRux
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 19:04:16 2012
Return-Path: <users-return-238453-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BDAC0E39C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 19:04:16 +0000 (UTC)
Received: (qmail 81964 invoked by uid 500); 6 Dec 2012 19:04:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81910 invoked by uid 500); 6 Dec 2012 19:04:13 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81900 invoked by uid 99); 6 Dec 2012 19:04:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:04:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:04:06 +0000
Received: by mail-oa0-f45.google.com with SMTP id i18so8780381oag.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 11:03:45 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :x-gm-message-state;
        bh=RT4XSZoe5kua+IoGGKfV2L5ZwaQWJwqxeZ5cKRh7/98=;
        b=pIyRRybQF+x+ApcuhF/tT/+t+CfC8CCOz301p4WKvMQY9ZPwA+Ba2DVIaI1kFJKw4T
         yV4D8CjzJ1XKnE2buTuwyO5aXoTn0J+IG9hRFMYs+6B59mAC3URXJiBgoiDRK0MP30dA
         c2TZT+tOv2T4OFE7yxamxyoglPOPreuh86LE8XcDbrmbHw2a3ckIOFeukU80v/biVS4B
         9OCiKjNoKgTVFO3LuR9MivGlVjdmNghXKqHJbVqQJ3o9fAw7+NOhUm42MMeeA6PdyBkF
         KLMhHXgPBXxF0wx/VfTPPcimwFuLRn10TTTP9+2JRqXbyug2z7pBUW6pPDnSr1m3JTss
         uzwA==
MIME-Version: 1.0
Received: by 10.60.169.243 with SMTP id ah19mr1788794oec.127.1354820625229;
 Thu, 06 Dec 2012 11:03:45 -0800 (PST)
Received: by 10.76.71.166 with HTTP; Thu, 6 Dec 2012 11:03:45 -0800 (PST)
Date: Thu, 6 Dec 2012 14:03:45 -0500
Message-ID: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
Subject: JDK 1.6 or JDK 1.7
From: Shanti Suresh <shanti@umich.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec517a6b419e62504d033c235
X-Gm-Message-State: ALoCoQlFPxNl1MCiibd/YJ9gAyLujet+xUdh0P/PJX13yZU/SND9ExuwwQcjHaWwFF1pNDSXxJVj
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec517a6b419e62504d033c235
Content-Type: text/plain; charset=ISO-8859-1

All,

I am trying to decide whether to run Tomcat 7.0.33 on JDK 1.6 or JDK 1.7.
Tomcat-7 release notes say:

Tomcat 7.0 is designed to run on Java SE 6 and later


But I remember reading on this list about some issues folks are having with
JDK 1.7.  Appreciate your advice.

We plan to run a vendor application on Tomcat but will customize it to
natch our needs, using JSPs.

Thanks.

                      -Shanti

--bcaec517a6b419e62504d033c235--

From users-return-238454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 19:24:54 2012
Return-Path: <users-return-238454-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1511BE8F4
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 19:24:54 +0000 (UTC)
Received: (qmail 56259 invoked by uid 500); 6 Dec 2012 19:24:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56203 invoked by uid 500); 6 Dec 2012 19:24:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56194 invoked by uid 99); 6 Dec 2012 19:24:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:24:50 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of nicholas.williams@ul.com designates 207.46.163.28 as permitted sender)
Received: from [207.46.163.28] (HELO co9outboundpool.messaging.microsoft.com) (207.46.163.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:24:41 +0000
Received: from mail105-co9-R.bigfish.com (10.236.132.250) by
 CO9EHSOBE006.bigfish.com (10.236.130.69) with Microsoft SMTP Server id
 14.1.225.23; Thu, 6 Dec 2012 19:24:20 +0000
Received: from mail105-co9 (localhost [127.0.0.1])	by
 mail105-co9-R.bigfish.com (Postfix) with ESMTP id 6F76B9E015C	for
 <users@tomcat.apache.org>; Thu,  6 Dec 2012 19:24:20 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT004.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -8
X-BigFish: PS-8(zz9371I542I1432I328cMzz1de0h1202h1d1ah1d2ahzz17326ah8275dhz2fh2a8h668h839h944hd25hf0ah1220h1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1155h)
Received-SPF: pass (mail105-co9: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT004.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail105-co9 (localhost.localdomain [127.0.0.1]) by mail105-co9
 (MessageSwitch) id 135482185820999_28894; Thu,  6 Dec 2012 19:24:18 +0000
 (UTC)
Received: from CO9EHSMHS021.bigfish.com (unknown [10.236.132.237])	by
 mail105-co9.bigfish.com (Postfix) with ESMTP id 0276A2023D	for
 <users@tomcat.apache.org>; Thu,  6 Dec 2012 19:24:18 +0000 (UTC)
Received: from CH1PRD0410HT004.namprd04.prod.outlook.com (157.56.244.181) by
 CO9EHSMHS021.bigfish.com (10.236.130.31) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Thu, 6 Dec 2012 19:24:17 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.8]) by
 CH1PRD0410HT004.namprd04.prod.outlook.com ([10.255.147.39]) with mapi id
 14.16.0245.002; Thu, 6 Dec 2012 19:24:11 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: JDK 1.6 or JDK 1.7
Thread-Topic: JDK 1.6 or JDK 1.7
Thread-Index: AQHN0+R+C5MRXmt3WEu0nOtM4FGHIZgMJPrQ
Date: Thu, 6 Dec 2012 19:24:10 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023824F30C@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
In-Reply-To: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

> -----Original Message-----
> From: Shanti Suresh [mailto:shanti@umich.edu]
> Sent: Thursday, December 06, 2012 1:04 PM
> To: Tomcat Users List
> Subject: JDK 1.6 or JDK 1.7
>
> All,
>
> I am trying to decide whether to run Tomcat 7.0.33 on JDK 1.6 or JDK 1.7.
> Tomcat-7 release notes say:
>
> Tomcat 7.0 is designed to run on Java SE 6 and later
>
>
> But I remember reading on this list about some issues folks are having wi=
th JDK 1.7.  Appreciate your advice.
>
> We plan to run a vendor application on Tomcat but will customize it to na=
tch our needs, using JSPs.
>
> Thanks.
>
>                       -Shanti

We have been using Tomcat 7.0.25-7.0.33 for about 9 months now on Java 7. W=
e haven't experienced any issues at all so far. Everything runs really smoo=
thly.

AFAIK, the most import question is, "does the vendor application you are ru=
nning support Java 7?" Tomcat 7 runs well on Java 7, but the application yo=
u want to run in Tomcat may not run well on Java 7.

Also, keep in mind that while Tomcat 7 does run well on Java 7, by default =
it compiles JSPs with a target version of Java 6. If the vendor application=
 DOES support Java 7 and is meant to be compiled with Java 7, you may need =
to change compilerSourceVM and compilerTargetVM from the default value of "=
1.6" to "1.7". See http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.htm=
l#Configuration for more information.

Hope this helps,

Nick

This e-mail may contain privileged or confidential information. If you are =
not the intended recipient: (1) you may not disclose, use, distribute, copy=
 or rely upon this message or attachment(s); and (2) please notify the send=
er by reply e-mail, and then delete this message and its attachment(s). Und=
erwriters Laboratories Inc. and its affiliates disclaim all liability for a=
ny errors, omissions, corruption or virus in this message or any attachment=
s.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 19:41:16 2012
Return-Path: <users-return-238455-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD9A8D462
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 19:41:15 +0000 (UTC)
Received: (qmail 16423 invoked by uid 500); 6 Dec 2012 19:41:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16343 invoked by uid 500); 6 Dec 2012 19:41:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16301 invoked by uid 99); 6 Dec 2012 19:41:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:41:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 19:41:01 +0000
Received: from [192.168.245.129] (p549E0F5B.dip0.t-ipconnect.de [84.158.15.91])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 24F863C054B
	for <users@tomcat.apache.org>; Thu,  6 Dec 2012 20:41:30 +0100 (CET)
Message-ID: <50C0F4B1.8050600@ice-sa.com>
Date: Thu, 06 Dec 2012 20:40:33 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net> <50C0BF78.8040602@ice-sa.com> <50C0EA5A.3050203@christopherschultz.net>
In-Reply-To: <50C0EA5A.3050203@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> AndrÃ©,
> 
> On 12/6/12 10:53 AM, AndrÃ© Warnier wrote:
>> Christopher Schultz wrote:
>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>>>
>>> Mitchell,
>>>
>>> On 12/6/12 9:48 AM, Smith, Mitchell wrote:
>>>> I have a jvmRoute appended to my JSESSIONID to enable sticky 
>>>> sessions at an application level.
>>>>
>>>> I see often that users do not close browsers, resulting (even
>>>> if the tomcat session has expired) the user to be forwarded
>>>> back to the instance.
>>>>
>>>> Is it possible to set an expiry for the jvmRoute / JSESSIONID
>>>> to be expired at the browser so after x amount of time since
>>>> last request the jvmRoute is not transmitted back to the
>>>> application apache load balancer. This would prevent users
>>>> constantly being directed to the same application node.
>>> While I'm not sure if there is actually a way to do this, it's
>>> an interesting problem I'd never considered: once mod_jk picks a
>>> jvmroute for you, you may be stuck there for a looong time if you
>>> never close your browser.
>>>
>>> I never close my browser. It's been running since Monday morning 
>>> (okay, bad example -- because I upgraded my Firefox and it did a 
>>> restart for that). But it's not uncommon for me to leave the
>>> browser running for the entire interval between releases of
>>> Firefox. When Firefox restarts itself, it actually does not
>>> expire cookies that should expire when the browser closes.
>>>
>>> So, unless I explicitly close Firefox (which happens, sometimes, 
>>> accidentally since CMD-Q and CMD-W are /right next to each other/
>>> and ff/Mac doesn't have any "such you want to close all those
>>> tabs and windows?" confirmation) or maybe if it crashes, I'll be
>>> stuck on a particular node every time I visit a site.
>>>
>>> Hrm.
>>>
>>> I'd be interested in any thoughts Rainer might have about this.
>>>
>>> AFAIK, a Tomcat node that gets a request with an invalid session
>>> id will simply ignore it. If a new session is required, then the
>>> old session id will be replaced with the new one (including the
>>> same jvmroute that was already attached to the session id), but
>>> everything happens on that one Tomcat node.
>>>
>>> I think the only way this might work would be to have Tomcat
>>> reply to an AJP connection with an invalid session id with a
>>> response like "INVALID SESSION ID" and then mod_jk could through
>>> its normal decision about which balanced worker would be chosen
>>> for the request.
>>>
>>> That seems like an awful lot of work, but it /would/ restore 
>>> "fairness" to the system.
>>>
>> Chris,
>>
>> Before I read your answer, I would have been ready to bet that the
>> OP's question was nonsensical, in the sense that : - the "sticky
>> identifier" is either included in the JSESSIONID cookie, or
>> appended together with the JSESSIONID, to the request URLs, right
>> ? (or wrong ?)
> 
> Yes: a session id in a sticky-session configuration will have a
> JSESSIONID cookie whose value looks like "0123456789ABCDEF.jvmRoute".
> If the jvmroute is tacked-on to the end of the JSESSIONID, mod_jk will
> route the request to the worker who has that route as long as that
> balanced-worker is considered "up".
> 
>> - if it is in the cookie, then it would expire at the same time as
>> the cookie
> 
> Yes, but session cookies typically have an expiration of "-1" which
> means "when the browser exits". Never exiting the browser has
> predicable consequences, here.

So for this case, the solution would consist in setting a timeout for the cookie.
If the cookie times out, the browser will not send it anymore when the user comes back, 
mod_jk will route this to any tomcat, which will start a new session and set a new cookie.
CQFD.

> 
>> - if it is appended at the end of the URL, then how could the
>> server get rid of it (in the browser's displayed page) ?
> 
> Set a new value for the JSESSIONID cookie.

Well no, not in this case.
The OP says : because the previous user does not close his browser, walks away for a while 
to have a drink, and comes back. In the meantime, the session has expired but the old page 
containing the URL links with the expired "jsessionid.jvmroute" tagged at the end is still 
there, sitting in the browser's window..
So now the user clicks on a link of that old page, which sends a request to the server, 
with the expired session-id.  But because of the tagged-on old jvmroute, mod_jk sends it 
through to the same tomcat as before.
Which is what he is trying to prevent.
Until now, Tomcat hasn't sent anything, so it had no opportunity to set a new jsessionid.

My question was thus : how can one even imagine to have tomcat or mod_jk or Apache httpd 
go clear these links (with the expired jsessionid.jvmroute) out of the browser's currently 
displayed page, when the session times out.  Obviously they can't.

> 
>> And then, there is this :
>>
>> The environment variable JK_STICKY_IGNORE can be set to disable
>> session stickyness for individual requests. If the variable is set
>> to an empty string or a nonzero number, session stickyness will be
>> disabled. Setting it to 0 will reset to the behaviour defined by
>> the worker configuration. This is available since version 1.2.33.
>>
>> Re: http://tomcat.apache.org/connectors-doc/reference/apache.html
> 
> Interesting -- I was unaware of that feature. Presumably that allows a
> configuration coupled with, say, SetEnvIf using the JK_STICKY_IGNORE
> under certain circumstances.
> 
>> So, if push comes to shove, one could supposedly embed some logic
>> on the front-end server, to set/unset that variable prior to
>> letting mod_jk see the call.
> 
> Right, but the only way to tell if the session id is legit is to ask
> Tomcat. It's probably cheaper to blindly forward to Tomcat and have
> Tomcat take some exception scenario in the cases where the session id
> is no longer valid than it would be to "ping" a back-end server to see
> if the session id is valid. The former is what I've described above.
> 
>> I'd do that with a nifty mod_perl module of course, if I could
>> figure out how to test for the right condition..
>>
>> SetEnvIf %{THE_USER_WALKED_AWAY_WITHOUT_CLOSING_HIS_BROWSER} yes 
>> JK_STICKY_IGNORE=yes
> 
> That's just the kind of magic Perl was designed to accomplish.
> 
> You will, of course, need to add "use Pid::CrystalBall;" at the top of
> the script.
> 

Well, assuming for a minute that the final customer here is one of these large 
multinational security-conscious organisations with an unlimited budget, and that these 
expired pages really bother them, I believe that I have the outline of a solution.
I will of course not describe it here this time, because that might invalidate my future 
patent claims.
Just tell me : if I happened to know the session-id and the jvmroute, would there be any 
request which I could send to Tomcat, which would not have any non-idempotent effect, and 
which would tell me if that session is still valid ?
(On second thought, of course there would : one could just build one into the application).
I'm heading for the patent office.
Andre::CrystalBall sounds nice too.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 20:40:15 2012
Return-Path: <users-return-238456-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 526BBE38C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 20:40:15 +0000 (UTC)
Received: (qmail 87046 invoked by uid 500); 6 Dec 2012 20:40:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86839 invoked by uid 500); 6 Dec 2012 20:40:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86830 invoked by uid 99); 6 Dec 2012 20:40:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 20:40:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 20:40:05 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so6823651vbi.4
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 12:39:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=/lIfnWtkMDWprdZ0A5lRiZztVm/3HNiqFxlNSCHgDYY=;
        b=GC1QWV7TixWQ8LfCWjObVT4eZiktQJ8YuUlqxLmZS2CwLTskrzTNg5G3G32Qjr88e/
         Tz4nDq/8Au+ZE4d1uuG4+nHYcIIhwXuI1swx6RbNz8bHvc7Sy+4hmOClRaN4l4oNKN66
         RHA83jBBkpGuCsfD8ejwZuS1gXO+mJJl6SVtfwhAdaP/XgH3H7uhfJdm7N8IoFfU3eoR
         sPUl6qBqEzwNBKPNmWE7z/UWWJb9qanrckQ4eiAbPFppBEFRRqAg1ZbK9iJnn9tcDVyr
         vIZwFovY/RSM0I1Qh8fhHiIy2wO3t5yriWldCY9A9AoQuSPUgX2U5ETPSq+cxeui6gOC
         3Isw==
MIME-Version: 1.0
Received: by 10.59.13.197 with SMTP id fa5mr2329931ved.47.1354826384465; Thu,
 06 Dec 2012 12:39:44 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Thu, 6 Dec 2012 12:39:44 -0800 (PST)
In-Reply-To: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
Date: Fri, 7 Dec 2012 00:39:44 +0400
Message-ID: <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
Subject: Re: Is it possible to expire jvmRoute cookie
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/6 Smith, Mitchell <mitchell.smith@cwc.com>:
>
> I have a jvmRoute appended to my JSESSIONID to enable sticky sessions at an
> application level.
>
> I see often that users do not close browsers, resulting (even if the tomcat
> session has expired) the user to be forwarded back to the instance.
>
> Is it possible to set an expiry for the jvmRoute / JSESSIONID to be expired
> at the browser so after x amount of time since last request the jvmRoute is
> not transmitted back to the application apache load balancer. This would
> prevent users constantly being directed to the same application node.
>

1. Even if one can set expiration time for the session cookie
(configurable in a Servlet 3.0 compliant application), you cannot do
anything if somebody publishes a link containing a jsessionid in it
somewhere, e.g. on a forum.

What I can think of is to make the jvmroute itself temporary e.g. by
changing it periodically.

2. How one additional user can be a problem in such a system? If he
accesses a heavy-loaded system the things will be slow for him, but
faster for all others, who close their browsers regularly.

So one could recommend that if things go slow to close one's browser,
clean caches, or even reboot. ;)

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 20:52:57 2012
Return-Path: <users-return-238457-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA84FE3E1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 20:52:56 +0000 (UTC)
Received: (qmail 26140 invoked by uid 500); 6 Dec 2012 20:52:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26088 invoked by uid 500); 6 Dec 2012 20:52:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26078 invoked by uid 99); 6 Dec 2012 20:52:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 20:52:53 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 20:52:48 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so8428698vcb.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 12:52:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=ftKhGFQhS7GYY9YDJfSW8FCN9oTNAgks+PSk5qhSXPA=;
        b=XZpEojscSu/rdCvpKBkhIfsm6Ln65Jy8Qs6FG7BeBfU3fuezmIfM/M9rFbmcv7M11v
         pjDPk/U8kDcOscwfpWXMxsv7+jb/n9LjAVetPpS5XNkrU1F8MJeACZz3sBKQeLlsgKDB
         /rR7vpoP2tJ7rkkpi36dyeCQN8045ljspBFPLCtJsOkKGiJt9AHSlGMfV7lXChWIGSl/
         X7p+uRcOa3bqwuABI90VJkYO2E2UdB82sv1YLIh+nAwYKdAcErO5egoYQ6TzbNZQvvYK
         cy0mMKUvETC7pbRAntqknNXl+pJfKcVzfC65oUQ4Mxi5xQrDEgezAo2fqYGlvcYyM2DW
         anmQ==
MIME-Version: 1.0
Received: by 10.52.88.33 with SMTP id bd1mr2010282vdb.70.1354827147653; Thu,
 06 Dec 2012 12:52:27 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Thu, 6 Dec 2012 12:52:27 -0800 (PST)
In-Reply-To: <0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
Date: Fri, 7 Dec 2012 00:52:27 +0400
Message-ID: <CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/6 Daniel Mikusa <dmikusa@vmware.com>:
> On Dec 6, 2012, at 11:19 AM, Yuri E wrote:
>
>> so I decided to install Tomcat through the .exe installer. First, I stop=
ped
>> Tomcat by closing the console window opened in the startup, and then I
>> installed Tomcat as service using the .exe.
>> I restarted the computer, and Tomcat automatically started. Good. But wh=
en
>> I went to access my web app again using router's IP, I couldn't. Then, I
>> tried to access Tomcat's Welcome Page using Firefox (http://localhost:80=
80),
>> and everything was ok.
>
> If Tomcat's welcome page is accessible then Tomcat is up and running.  It=
's likely that you application failed to deploy.
>
> Have you looked at the server logs and your application logs to see if th=
ere were any problems?
>

+1

The description above sounds like the OP installed a brand new fresh
copy of Tomcat, but have not deployed a copy his app on it.

There is "manager" webapp available in the standard distributive, that
allows one to see what apps are deployed.

(Reminder: do not forget to protect the manager webapp by a
RemoteAddrValve and by choosing a good password).

>> After that, I tried using my router's IP (with
>> Firefox), and I received an error message saying that "the connection wa=
s
>> reset".
>>
>> What I want to know is what I need to do to access Tomcat (running as
>> service) from web, taking into account that it works perfectly when runn=
ing
>> in the console window.
>
> There are differences between running Tomcat in the console and running i=
t as a service.  I'm not a windows expert, but I believe that each scenario=
 would run as a different user (console running as your user, the service r=
unning as a service account).  Perhaps someone more knowledgable about Wind=
ows can provide more details.

Correct.

For completeness, there is "Windows" page in the FAQ.
https://wiki.apache.org/tomcat/FAQ/Windows#Q7

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 21:11:02 2012
Return-Path: <users-return-238458-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 25CA6E4D2
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 21:11:02 +0000 (UTC)
Received: (qmail 92330 invoked by uid 500); 6 Dec 2012 21:10:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92154 invoked by uid 500); 6 Dec 2012 21:10:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92144 invoked by uid 99); 6 Dec 2012 21:10:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 21:10:58 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 21:10:51 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so6861948vbi.4
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 13:10:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=o3Ku5g9Kpbb2bjglgFnvCkk+Zb8NK0ul1nPe1HhGexA=;
        b=Ql2u2bztioNyUyGYLZ8EIvEW45h/S9gmTIDPoqq05L022t1wi3nlAWAmwyzydgKOsY
         ZM3iyQS3LP5h4eYwpKvP1XM+/nOL9+WAfVQQkwOQ5ADFeFCmge527JQlUtIlfeBZzyaW
         u5/3HufFWmb51Lzl2YWsQ466BkX84f0pbZnQyh/xnexbSy3DLUoEkkwGo5SY7iKRUvOM
         ToLsgF9+A8EXP30fpjegfLD1LBufkCLXEXfT1ZsY4gTi30P8EH/P96I8t9aC9HXFZgCq
         2Nb+tC5FVN9iWW3+D7QEfAzLd7jjLn5V+AMTyODLelZMAHaGMqDMZKM3O5AvOmo514Sw
         Ihaw==
MIME-Version: 1.0
Received: by 10.58.187.234 with SMTP id fv10mr2441699vec.8.1354828230065; Thu,
 06 Dec 2012 13:10:30 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Thu, 6 Dec 2012 13:10:29 -0800 (PST)
In-Reply-To: <1354787540.22265.YahooMailNeo@web121602.mail.ne1.yahoo.com>
References: <1354787540.22265.YahooMailNeo@web121602.mail.ne1.yahoo.com>
Date: Fri, 7 Dec 2012 01:10:29 +0400
Message-ID: <CABzHfVn_ffcwzd1rXKSkL6qekLorydZAhB+sk3JEUhGTcumWVw@mail.gmail.com>
Subject: Re: how to make http port to open after application startup
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/6 Vladimir Girnet <vgirnetz@yahoo.com>:
> I'm using Tomcat 6.0 (6.035 for now).
>
> I've got an issue with balancing multiple connections from httpd to tomcat.
> It looks like tomcat is opening http port (8080) right after startup, and is accepting connections on it.
> At the same time, application itself is starting for about 1-2 minutes, depending on server speed.
>
> Because connections are accepted to http port, httpd is not removing starting tomcat from balancer members.
> As result, a lot of connections are directed to currently starting tomcat, but no connections are served during application startup.
>
> I have multiple tomcat servers behind http. If I want to restart one of these servers, httpd will still pass requests to it, making users to wait long time before response is received.
>
> Is it possible to configure tomcat to open http port only after application is fully started?
>
> I found that AJP port is started only after application startup, unfortunately system is fully configured to use http, and migrating to AJP generate too much overhead for us.

1. Is it really better to reject a request?

2.
a) You can configure connector programmatically e.g. via JMX, or by
using Tomcat classes directly.

JMX support is better in Tomcat 7. It may be scarce in Tomcat 6.

b) You can configure a rule in a firewall and manage it programmatically,

c) You can manage your load balancer programmatically.

http://httpd.apache.org/docs/2.4/mod/mod_proxy_balancer.html#balancer_manager

> I found that AJP port is started only after application startup

3. Is it really true? It might be there, but it is the first time I
hear about such feature.

AJP protocol supports ping/pong requests, so it can check
responsiveness of the server before sending the actual request.


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 21:15:14 2012
Return-Path: <users-return-238459-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D753E503
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 21:15:14 +0000 (UTC)
Received: (qmail 7446 invoked by uid 500); 6 Dec 2012 21:15:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7201 invoked by uid 500); 6 Dec 2012 21:15:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7191 invoked by uid 99); 6 Dec 2012 21:15:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 21:15:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 21:15:04 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so8677117obc.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 13:14:43 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=unAfWLfqBVUklNsOmzqtJeZ9dgcDZP0HZ6vPdQMuR8s=;
        b=LZVqEyZ29scNrFZvA3kO/yVy7+J6/bwAlk5op8lnwuCUR6Rpz0Y8wBDcUwgA/msChE
         3lENZv31gCZhGiV5e63VgzG3R0hXKQDX5nGNxnHB6nHnYTLsF6lMXjZ9HoFrDHwXtUH7
         KF900dnfodlegdI2dgPf6tEqlic+VHhI+kB/0dTx6DTwqezYnS3tVxN78vGOJKB0zAJE
         WFFbrKuju1E3JPgF1rSehZPIqW4kuUtv2FXZqKork4hZ+hxTAFos7Uc4tXEEYZ8zSi6F
         zd6kBKB9/3KsN1cGm+/mpIsI8TQ0vEuT9OLLGCKvcZkaH6FTUayhOn3luPi6V8cCHlS8
         +PDA==
MIME-Version: 1.0
Received: by 10.60.12.99 with SMTP id x3mr2191483oeb.71.1354828483304; Thu, 06
 Dec 2012 13:14:43 -0800 (PST)
Received: by 10.76.71.166 with HTTP; Thu, 6 Dec 2012 13:14:43 -0800 (PST)
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023824F30C@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
	<7CF0788AAB53854AB15567D68F4196023824F30C@CH1PRD0410MB369.namprd04.prod.outlook.com>
Date: Thu, 6 Dec 2012 16:14:43 -0500
Message-ID: <CAL_hNma0Ne6335045FMaHCiWTrj=58=euGYTnDTQpf3EAqEa9A@mail.gmail.com>
Subject: Re: JDK 1.6 or JDK 1.7
From: Shanti Suresh <shanti@umich.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff256107a9d1e04d0359663
X-Gm-Message-State: ALoCoQnbRHoDhn3Mzl5HLZANlFkH1LDoUYhuuHLAx4mY6nJHov2tVSmf+0bnUflsMs1HEJ2BW8gU
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff256107a9d1e04d0359663
Content-Type: text/plain; charset=ISO-8859-1

Hi Nick,

Thanks!  That helps a lot.

                     -Shanti


On Thu, Dec 6, 2012 at 2:24 PM, Williams, Nick <nicholas.williams@ul.com>wrote:

> > -----Original Message-----
> > From: Shanti Suresh [mailto:shanti@umich.edu]
> > Sent: Thursday, December 06, 2012 1:04 PM
> > To: Tomcat Users List
> > Subject: JDK 1.6 or JDK 1.7
> >
> > All,
> >
> > I am trying to decide whether to run Tomcat 7.0.33 on JDK 1.6 or JDK 1.7.
> > Tomcat-7 release notes say:
> >
> > Tomcat 7.0 is designed to run on Java SE 6 and later
> >
> >
> > But I remember reading on this list about some issues folks are having
> with JDK 1.7.  Appreciate your advice.
> >
> > We plan to run a vendor application on Tomcat but will customize it to
> natch our needs, using JSPs.
> >
> > Thanks.
> >
> >                       -Shanti
>
> We have been using Tomcat 7.0.25-7.0.33 for about 9 months now on Java 7.
> We haven't experienced any issues at all so far. Everything runs really
> smoothly.
>
> AFAIK, the most import question is, "does the vendor application you are
> running support Java 7?" Tomcat 7 runs well on Java 7, but the application
> you want to run in Tomcat may not run well on Java 7.
>
> Also, keep in mind that while Tomcat 7 does run well on Java 7, by default
> it compiles JSPs with a target version of Java 6. If the vendor application
> DOES support Java 7 and is meant to be compiled with Java 7, you may need
> to change compilerSourceVM and compilerTargetVM from the default value of
> "1.6" to "1.7". See
> http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.html#Configurationfor more information.
>
> Hope this helps,
>
> Nick
>
> This e-mail may contain privileged or confidential information. If you are
> not the intended recipient: (1) you may not disclose, use, distribute, copy
> or rely upon this message or attachment(s); and (2) please notify the
> sender by reply e-mail, and then delete this message and its attachment(s).
> Underwriters Laboratories Inc. and its affiliates disclaim all liability
> for any errors, omissions, corruption or virus in this message or any
> attachments.
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
    Shanti Suresh
    Application Systems Analyst Lead
    LSA Development
    500 S. State Street
    Ann Arbor MI 48109-1382
    Office: 734-763-4807
    shanti@umich.edu

--e89a8ff256107a9d1e04d0359663--

From users-return-238460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 22:55:29 2012
Return-Path: <users-return-238460-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21C94E53D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 22:55:29 +0000 (UTC)
Received: (qmail 90533 invoked by uid 500); 6 Dec 2012 22:55:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90327 invoked by uid 500); 6 Dec 2012 22:55:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90317 invoked by uid 99); 6 Dec 2012 22:55:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 22:55:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.56] (HELO qmta06.westchester.pa.mail.comcast.net) (76.96.62.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 22:55:19 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta06.westchester.pa.mail.comcast.net with comcast
	id YNd81k00327AodY56Nux4k; Thu, 06 Dec 2012 22:54:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id YNuv1k00u38FjT13fNuxff; Thu, 06 Dec 2012 22:54:57 +0000
Message-ID: <50C1223F.30103@christopherschultz.net>
Date: Thu, 06 Dec 2012 17:54:55 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net> <50C0BF78.8040602@ice-sa.com> <50C0EA5A.3050203@christopherschultz.net> <50C0F4B1.8050600@ice-sa.com>
In-Reply-To: <50C0F4B1.8050600@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354834497;
	bh=VTLihGAZ9yNQEynMag+fJffIKddGyLq+tHBrsOfWWRE=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Dmp8VRaXO779MkhUK8okoaL48rBUJkKpH9XoYcyR/krersTz+rtR0i4UtkmGwKHXI
	 9/SjwPgy8h7eVzPbkeKUKAE0WAkPCZMcm3w9qmqejqsIVV07oeRT6RIo8yXf5BjOyV
	 5ug/PpLLnq6yJmlTZVAWQ7EaCwAo01arhi73DSsxgjZOIBgVEwTvES7ovA+6Dw363r
	 2kbIhx9k4J0eWJOafKXKKMBxZrqMyoXsvuUQeR9K3B00+dsRT3HASlJrrVWXmDYsrZ
	 X7UumLtUIEXKTcNiHzWu9o6UGkElrwn5KKhl0c/sJMhGzxwRp22e7UoNMMgHxbPv5+
	 k8L7iqFGt068w==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/6/12 2:40 PM, AndrÃ© Warnier wrote:
> Christopher Schultz wrote:
>> Yes, but session cookies typically have an expiration of "-1"
>> which means "when the browser exits". Never exiting the browser
>> has predicable consequences, here.
> 
> So for this case, the solution would consist in setting a timeout
> for the cookie.

Since the container (generally) manages the cookie timeout, most
applications don't ever directly touch the JSESSIONID cookie or its
timeout.

> If the cookie times out, the browser will not send it anymore when
> the user comes back, mod_jk will route this to any tomcat, which
> will start a new session and set a new cookie. CQFD.

That is true, but it would be a shame for the cookie to time out
before the (server-side) session was actually destroyed.

I think this is a legitimate gripe.

>>> - if it is appended at the end of the URL, then how could the 
>>> server get rid of it (in the browser's displayed page) ?
>> 
>> Set a new value for the JSESSIONID cookie.
> 
> Well no, not in this case.

(Sorry, I just noticed that you said "at the end of the URL". I was
still thinking about cookies. If the jsessionid is in the browser,
you'll have to redirect the client with a different (or missing)
jsessionid parameter.

> The OP says : because the previous user does not close his
> browser, walks away for a while to have a drink, and comes back. In
> the meantime, the session has expired but the old page containing
> the URL links with the expired "jsessionid.jvmroute" tagged at the
> end is still there, sitting in the browser's window.. So now the
> user clicks on a link of that old page, which sends a request to
> the server, with the expired session-id.  But because of the 
> tagged-on old jvmroute, mod_jk sends it through to the same tomcat
> as before. Which is what he is trying to prevent. Until now, Tomcat
> hasn't sent anything, so it had no opportunity to set a new
> jsessionid.

Right. Honestly, the same is true for the cookie situation: Tomcat had
no initial opportunity.

> My question was thus : how can one even imagine to have tomcat or
> mod_jk or Apache httpd go clear these links (with the expired 
> jsessionid.jvmroute) out of the browser's currently displayed page,
> when the session times out.  Obviously they can't.

Right, they can't.

My suggestion is an invalid-session event to trigger a re-balance at
the mod_jk (or mod_proxy_ajp) level. If Tomcat can use some obscure
response code (306? 308/9?), perhaps that could trigger a re-balance
in httpd. When such a re-balance happens, the new backend server would
ignore both the cookie and the jsessionid (because the jvmroute does
not match the current server) and produce a response with a new
Set-Cookie and re-written URLs (if appropriate).

> Just tell me : if I happened to know the session-id and the
> jvmroute, would there be any request which I could send to Tomcat,
> which would not have any non-idempotent effect, and which would
> tell me if that session is still valid ?

AFAIK, Tomcat does not have a "ping" operation for a session. If you
make a request that touches the session, you'll freshen the last-used
timestamp and extend the life of the session. You must have read
enough "I have a javascript ping to check my session status on the
server, and no my sessions never expire!" posts on the list to be
aware of this.

> (On second thought, of course there would : one could just build
> one into the application).

That might get tricky. I'm not sure if you can even ask Tomcat if the
session is valid without it updating the last-touched time and
extending the life of the session (which I believe is *not* what you
want, here).

> I'm heading for the patent office. Andre::CrystalBall sounds nice
> too.

Right. Pid's probably should be:

  import com.pid.omniscience.CrystalBall;

anyway.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDBIj8ACgkQ9CaO5/Lv0PC+0QCdFTe7kRkUmrWiakKZVPFA7mPk
5tIAoJlZbQl5/2T6ZqxOSC8p1C15DiB9
=CQAy
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 23:01:11 2012
Return-Path: <users-return-238461-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3C734E57D
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 23:01:11 +0000 (UTC)
Received: (qmail 9418 invoked by uid 500); 6 Dec 2012 23:01:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9215 invoked by uid 500); 6 Dec 2012 23:01:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9182 invoked by uid 99); 6 Dec 2012 23:01:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:01:06 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.64] (HELO qmta07.westchester.pa.mail.comcast.net) (76.96.62.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:01:00 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta07.westchester.pa.mail.comcast.net with comcast
	id YMDZ1k0041ZXKqc57P0fst; Thu, 06 Dec 2012 23:00:39 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id YP0d1k00W38FjT13hP0f5L; Thu, 06 Dec 2012 23:00:39 +0000
Message-ID: <50C12394.9040109@christopherschultz.net>
Date: Thu, 06 Dec 2012 18:00:36 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JDK 1.6 or JDK 1.7
References: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
In-Reply-To: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354834839;
	bh=M8VlhqphBtRCMT5isKAbzP3P5DlZk1vtH15ZEq1d5Ao=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=PXOXXzu3D36xxkkemd8UGm3Pna0xm2VK4BiG/tEJunDpR79EHt5ZWKlvBpR18RrI9
	 3rTsugT/hW26q610HcPUs9nd29tlZspIXF5L3gM3gyHquk6s/FNSznYl8TgsOgoPzP
	 R6MpIVsTYo1SZ/PVch4ZHP5uab/BD0EmMu7ADAlYZu8U36ChJFepXKB0nErqyZZaig
	 LvjR/QxUrRFGCs2qqySWFROzGwKqUYeUckB/NvxNW6nVI0m9befxr8DMmo//6nT7jq
	 jiJS3g0THidjroH4TP8sxgpTVFZGLHDSdDkI3Dq/xcD6l+k6ankTZI+zEIGQ4+1sgc
	 4AHwAUJ5lUrBw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Shanti,

On 12/6/12 2:03 PM, Shanti Suresh wrote:
> I am trying to decide whether to run Tomcat 7.0.33 on JDK 1.6 or
> JDK 1.7. Tomcat-7 release notes say:
> 
> Tomcat 7.0 is designed to run on Java SE 6 and later
> 
> But I remember reading on this list about some issues folks are
> having with JDK 1.7.  Appreciate your advice.

The first few releases of Java 1.7 had some things that broke a few
things badly. I believe those have all been corrected by now.

I've been using Oracle Java 1.7.0 64-bit JVM for a while (6 months?)
in development and I have had no problems at all. We have a non-Tomcat
server (Mule ESB) running on OpenJDK 1.7 in another development
environment and that seems to be very stable as well.

As always, test everything. I dunno how others do it, but I generally
run with a new major version of Java in my own, personal development
environment for about 6 months before we put it into our general
development environments. Then we run in development for a few
test/release cycles before we push it out to demo/production.

We do the same thing with Tomcat, actually. We're just about to go
into production with Tomcat 7 and probably a few months later, we'll
upgrade to Java 1.7 as well.

Just in time for Tomcat 8. ;)

Hope that helps,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDBI5QACgkQ9CaO5/Lv0PBm3gCdHfkFwTvsVCioEdxobqWTMApo
rl4AnAnxRqaqP1UsBq/uJTZaaHaSrH0q
=pVuF
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 23:08:12 2012
Return-Path: <users-return-238462-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7D171E5A1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 23:08:12 +0000 (UTC)
Received: (qmail 26037 invoked by uid 500); 6 Dec 2012 23:08:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25828 invoked by uid 500); 6 Dec 2012 23:08:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25819 invoked by uid 99); 6 Dec 2012 23:08:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:08:09 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:08:03 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id YLTW1k0020SCNGk54P7iSG; Thu, 06 Dec 2012 23:07:42 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id YP7f1k00Y38FjT13VP7hXb; Thu, 06 Dec 2012 23:07:41 +0000
Message-ID: <50C1253B.9080708@christopherschultz.net>
Date: Thu, 06 Dec 2012 18:07:39 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
In-Reply-To: <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354835262;
	bh=a13x2jbGqMhX7hVTykbaWasYySXQMVC2W9GdKS/B4tM=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=HIo8l95b9bJKoDkofUF6UfraYz9dMOYm0MfqTKUsFgyWFqozHTbABxvrxIl4kgcB6
	 nvzK0K3Bj4fMWEp1qQ/CvqgFkEo8oELqemAoXNOWx0lYNpNkjmnUKcnuGw9Ed1CGyJ
	 +nd5n4IQ0TX+MAZ7nYHOAHc8yWCR4Q6hdddzl7Tccesgq1yaWKgcVuirUSKHZPBG2m
	 rjlkVOfS1ws9ThAzO6LmwwSijB3qPm40sZFvR7GM527/Sqkpb4Va1RpOQrMo/kFkbh
	 K26yl4PwtOuZreQqt9gv7d4ESRe3YT57Enj1PdR7iBEs4TanLshsgrNZNs1XzVbDYY
	 2fNfFSVQ+/VoA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Konstanti,

On 12/6/12 3:39 PM, Konstantin Kolinko wrote:
> 2012/12/6 Smith, Mitchell <mitchell.smith@cwc.com>:
>> 
>> I have a jvmRoute appended to my JSESSIONID to enable sticky
>> sessions at an application level.
>> 
>> I see often that users do not close browsers, resulting (even if
>> the tomcat session has expired) the user to be forwarded back to
>> the instance.
>> 
>> Is it possible to set an expiry for the jvmRoute / JSESSIONID to
>> be expired at the browser so after x amount of time since last
>> request the jvmRoute is not transmitted back to the application
>> apache load balancer. This would prevent users constantly being
>> directed to the same application node.
>> 
> 
> 1. Even if one can set expiration time for the session cookie 
> (configurable in a Servlet 3.0 compliant application), you cannot
> do anything if somebody publishes a link containing a jsessionid in
> it somewhere, e.g. on a forum.
> 
> What I can think of is to make the jvmroute itself temporary e.g.
> by changing it periodically.
> 
> 2. How one additional user can be a problem in such a system? If
> he accesses a heavy-loaded system the things will be slow for him,
> but faster for all others, who close their browsers regularly.

Let's take a pathological example:

Assumptions:
1. Cluster has 3 nodes (A, B, C)
2. Users never close their browsers

Let's say that server A is rock-solid and never goes down. Servers B
and C are running Gentoo Linux or Debian Sid or Microsoft Windows or
have flaky hardware and so they crash or need to be rebooted all the
time; perhaps daily.

Users on nodes B and C will constantly fail-over to node A.

Those users will stick on node A pretty much forever.

Therefore node A always gets most of the traffic, and nodes B and C
only get "new" users for a while before failing-over. Even if nodes B
and C can handle 1/3 of the load, they will get much less than that,
and node A will, over time, accumulate users without bound.

It would be nice to avoid this kind of situation.

> So one could recommend that if things go slow to close one's
> browser, clean caches, or even reboot. ;)

If I called tech support for a website and they told me I needed to
close my browser or reboot my computer to just to use their website, I
would assume that they were complete idiots. If I want to be lied to
about what the problem is, I'll call my home broadband provider.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDBJTsACgkQ9CaO5/Lv0PDciACeIiAmy+jUn0Y8Y114gKuDMk+T
p5gAoJyh8wyhM8BP5GRknZh+McIqGfE+
=DwDL
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 23:14:33 2012
Return-Path: <users-return-238463-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5663E5C8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 23:14:33 +0000 (UTC)
Received: (qmail 53675 invoked by uid 500); 6 Dec 2012 23:14:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53497 invoked by uid 500); 6 Dec 2012 23:14:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53488 invoked by uid 99); 6 Dec 2012 23:14:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:14:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:14:23 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id YC361k00317dt5G55PE2yL; Thu, 06 Dec 2012 23:14:02 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id YPE01k00C38FjT13ZPE1GA; Thu, 06 Dec 2012 23:14:02 +0000
Message-ID: <50C126B7.1080408@christopherschultz.net>
Date: Thu, 06 Dec 2012 18:13:59 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Recognizing certificate removal (SmartCard)
References: <CAN=ruA4unuWSZ0887GTWAoPy9sm9emQtnLGZ760YiU_1-oMOVQ@mail.gmail.com> <50BE36E8.7000500@christopherschultz.net> <50BE3774.6090904@christopherschultz.net> <CAN=ruA5h93z5shGdsJZo6dtYpVvRx8Qfg479PbEyZ9TC7njSGg@mail.gmail.com> <50BE5815.2050809@christopherschultz.net> <CAN=ruA7okWepSoUW5UPk7WuPk-go5DsuENV1jgrNz1o_OzK_XA@mail.gmail.com> <50BF93ED.2050704@ice-sa.com> <50BF997E.2020303@verizon.net> <50BFBA22.1000602@ice-sa.com> <99C8B2929B39C24493377AC7A121E21FC494DE6AC5@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC494DE6AC5@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354835642;
	bh=DzEtfmPtbmyKOhcAVhu88ft5sCFbi7Yp+5pYUUwdXCE=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=LX1ITtFzcIIWwYri57O8HJ+EetTrcrgNI+E+TTCxSGEZwhBjfW8L5lzhk8J+yDU5F
	 J33wfV+2sVD7C605iovugQfw2wXvjZccuVJ0J8vXV8ALZFi2T5mhXQVGESrzuEoRLv
	 bhIwp5e2g8RZJXt+KoMof9ux0lNUbOLOnwzYdBnbBXe9sZlQb9O+KC22o4ppWgx4CS
	 8DJl40tKVz3NNY8EAoisMn+4F2SnKWmS+uVoKTdcHtFdwEbAxhPMF0HGpfHmB1UGbI
	 Ok6Wt6piH05ktQ7+Hgl8n7A4mvNPbdeq1Bz+Y1Vh7DeWd0R9XuMzOTIAqDNJokezTr
	 RgwfteLC0BZmg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Chuck,

On 12/5/12 5:07 PM, Caldarale, Charles R wrote:
>> From: AndrÃ© Warnier [mailto:aw@ice-sa.com] Subject: Re: [OT]
>> Recognizing certificate removal (SmartCard)
> 
>>> Too late (at least in the US); you just made it public...
> 
>> Shuks. Ok then, I'll have to be satisfied with the glory.
> 
> The US patent law has changed (but may not go into effect until
> next year; not sure about the timing) so that credit is given to 
> first-to-file, rather than first-to-invent, regardless of public 
> disclosure.  So, you may still have time...

I need to file something similar to the following:

"A method of arranging printed characters in sequence to facilitate
knowledge transfer"

I'll proceed to sue everyone who uses written communication.

I'll bet I can file separate patents for each language and then slam
people with multiple patent violations: people always sound more
guilty when there are more counts to a violation. Which sounds more
plausible, "Apple sues Samsung for violating a patent claim" or "Apple
sues Samsung for violating 1327 patent claims"?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDBJrcACgkQ9CaO5/Lv0PAl2QCguUWMPOUSQQiEa9O757V/5OoD
lA0AnAyB5gdTQH0qdPDyVKPmbUmZO6In
=6tlZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 23:18:03 2012
Return-Path: <users-return-238464-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0CFADE5D1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 23:18:03 +0000 (UTC)
Received: (qmail 63687 invoked by uid 500); 6 Dec 2012 23:17:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63488 invoked by uid 500); 6 Dec 2012 23:17:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 63479 invoked by uid 99); 6 Dec 2012 23:17:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:17:59 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nicholas.williams@ul.com designates 207.46.163.24 as permitted sender)
Received: from [207.46.163.24] (HELO co9outboundpool.messaging.microsoft.com) (207.46.163.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:17:49 +0000
Received: from mail29-co9-R.bigfish.com (10.236.132.249) by
 CO9EHSOBE016.bigfish.com (10.236.130.79) with Microsoft SMTP Server id
 14.1.225.23; Thu, 6 Dec 2012 23:17:27 +0000
Received: from mail29-co9 (localhost [127.0.0.1])	by mail29-co9-R.bigfish.com
 (Postfix) with ESMTP id F291C1E0150	for <users@tomcat.apache.org>; Thu,  6
 Dec 2012 23:17:26 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT001.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -3
X-BigFish: PS-3(zz9371I542I1432Izz1de0h1202h1d1ah1d2ahzzz2fh2a8h668h839h93fhd25hf0ah1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1155h)
Received-SPF: pass (mail29-co9: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT001.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail29-co9 (localhost.localdomain [127.0.0.1]) by mail29-co9
 (MessageSwitch) id 13548358455978_15767; Thu,  6 Dec 2012 23:17:25 +0000
 (UTC)
Received: from CO9EHSMHS024.bigfish.com (unknown [10.236.132.244])	by
 mail29-co9.bigfish.com (Postfix) with ESMTP id F2A0D8004D	for
 <users@tomcat.apache.org>; Thu,  6 Dec 2012 23:17:24 +0000 (UTC)
Received: from CH1PRD0410HT001.namprd04.prod.outlook.com (157.56.244.181) by
 CO9EHSMHS024.bigfish.com (10.236.130.34) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Thu, 6 Dec 2012 23:17:24 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.8]) by
 CH1PRD0410HT001.namprd04.prod.outlook.com ([10.255.147.36]) with mapi id
 14.16.0245.002; Thu, 6 Dec 2012 23:17:24 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Is it possible to expire jvmRoute cookie
Thread-Topic: Is it possible to expire jvmRoute cookie
Thread-Index: AQHN08DeDa838R0BeUijgBGsHw1CfpgMPCMAgAApVICAAAE9sA==
Date: Thu, 6 Dec 2012 23:17:23 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
 <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
 <50C1253B.9080708@christopherschultz.net>
In-Reply-To: <50C1253B.9080708@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

PiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBDaHJpc3RvcGhlciBTY2h1bHR6
IFttYWlsdG86Y2hyaXNAY2hyaXN0b3BoZXJzY2h1bHR6Lm5ldF0NCj4gU2VudDogVGh1cnNkYXks
IERlY2VtYmVyIDA2LCAyMDEyIDU6MDggUE0NCj4gVG86IFRvbWNhdCBVc2VycyBMaXN0DQo+IFN1
YmplY3Q6IFJlOiBJcyBpdCBwb3NzaWJsZSB0byBleHBpcmUganZtUm91dGUgY29va2llDQo+DQo+
ID4gMi4gSG93IG9uZSBhZGRpdGlvbmFsIHVzZXIgY2FuIGJlIGEgcHJvYmxlbSBpbiBzdWNoIGEg
c3lzdGVtPyBJZiBoZQ0KPiA+IGFjY2Vzc2VzIGEgaGVhdnktbG9hZGVkIHN5c3RlbSB0aGUgdGhp
bmdzIHdpbGwgYmUgc2xvdyBmb3IgaGltLCBidXQNCj4gPiBmYXN0ZXIgZm9yIGFsbCBvdGhlcnMs
IHdobyBjbG9zZSB0aGVpciBicm93c2VycyByZWd1bGFybHkuDQo+DQo+IExldCdzIHRha2UgYSBw
YXRob2xvZ2ljYWwgZXhhbXBsZToNCj4NCj4gQXNzdW1wdGlvbnM6DQo+IDEuIENsdXN0ZXIgaGFz
IDMgbm9kZXMgKEEsIEIsIEMpDQo+IDIuIFVzZXJzIG5ldmVyIGNsb3NlIHRoZWlyIGJyb3dzZXJz
DQo+DQo+IExldCdzIHNheSB0aGF0IHNlcnZlciBBIGlzIHJvY2stc29saWQgYW5kIG5ldmVyIGdv
ZXMgZG93bi4gU2VydmVycyBCIGFuZCBDIGFyZSBydW5uaW5nIEdlbnRvbyBMaW51eCBvciBEZWJp
YW4gU2lkIG9yIE1pY3Jvc29mdCBXaW5kb3dzIG9yIGhhdmUgZmxha3kgaGFyZHdhcmUgYW5kIHNv
IHRoZXkgY3Jhc2ggb3IgbmVlZCB0byBiZSAgcmVib290ZWQgYWxsIHRoZSB0aW1lOyBwZXJoYXBz
IGRhaWx5Lg0KPg0KPiBVc2VycyBvbiBub2RlcyBCIGFuZCBDIHdpbGwgY29uc3RhbnRseSBmYWls
LW92ZXIgdG8gbm9kZSBBLg0KPg0KPiBUaG9zZSB1c2VycyB3aWxsIHN0aWNrIG9uIG5vZGUgQSBw
cmV0dHkgbXVjaCBmb3JldmVyLg0KPg0KPiBUaGVyZWZvcmUgbm9kZSBBIGFsd2F5cyBnZXRzIG1v
c3Qgb2YgdGhlIHRyYWZmaWMsIGFuZCBub2RlcyBCIGFuZCBDIG9ubHkgZ2V0ICJuZXciIHVzZXJz
IGZvciBhIHdoaWxlIGJlZm9yZSBmYWlsaW5nLW92ZXIuIEV2ZW4gaWYgbm9kZXMgQiBhbmQgQyBj
YW4gaGFuZGxlIDEvMyBvZiB0aGUgbG9hZCwgdGhleSB3aWxsIGdldCBtdWNoIGxlc3MgdGhhbiB0
aGF0LCBhbmQgbm9kZSBBIHdpbGwsIG92ZXIgdGltZSwgYWNjdW11bGF0ZSB1c2VycyB3aXRob3V0
IGJvdW5kLg0KPg0KPiBJdCB3b3VsZCBiZSBuaWNlIHRvIGF2b2lkIHRoaXMga2luZCBvZiBzaXR1
YXRpb24uDQo+DQo+ID4gU28gb25lIGNvdWxkIHJlY29tbWVuZCB0aGF0IGlmIHRoaW5ncyBnbyBz
bG93IHRvIGNsb3NlIG9uZSdzIGJyb3dzZXIsDQo+ID4gY2xlYW4gY2FjaGVzLCBvciBldmVuIHJl
Ym9vdC4gOykNCj4NCg0KIklmIEkgY2FsbGVkIHRlY2ggc3VwcG9ydCBmb3IgYSB3ZWJzaXRlIGFu
ZCB0aGV5IHRvbGQgbWUgSSBuZWVkZWQgdG8gY2xvc2UgbXkgYnJvd3NlciBvciByZWJvb3QgbXkg
Y29tcHV0ZXIgdG8ganVzdCB0byB1c2UgdGhlaXIgd2Vic2l0ZSwgSSB3b3VsZCBhc3N1bWUgdGhh
dCB0aGV5IHdlcmUgY29tcGxldGUgaWRpb3RzLiBJZiBJIHdhbnQgdG8gYmUgbGllZCB0byBhYm91
dCB3aGF0IHRoZSBwcm9ibGVtIGlzLCBJJ2xsIGNhbGwgbXkgaG9tZSBicm9hZGJhbmQgcHJvdmlk
ZXIuIiA8LS0gSEFIQUhBIC4uLiBuaWNlIG9uZS4NCg0KSSBhZ3JlZSB3aXRoIENocmlzLCBoZXJl
LiBJdCdzIG5vdCBhICJjb21tb24iIHNpdHVhdGlvbiwgYnV0IGl0IGlzIGEgcG9zc2libGUgc2l0
dWF0aW9uLCBhbmQgaWYgaXQgb2NjdXJyZWQsIGl0IGNvdWxkIGdldCB1Z2x5IHF1aWNrbHkuDQoN
CkVhcmxpZXIgc29tZWJvZHkgKEknbSBzb3JyeSwgSSBhbHJlYWR5IGRlbGV0ZWQgdGhlIGVtYWls
KSBzdWdnZXN0ZWQgVG9tY2F0IHJldHVybmluZyBhIDMwOCBvciAzMDkgb3Igc2ltaWxhciB0byB0
aGUgbG9hZCBiYWxhbmNlciB0byB0cmlnZ2VyIGEgInJlLWJhbGFuY2UiIGlmIHRoZSBzZXNzaW9u
IGlzIGV4cGlyZWQuIEkgdGhpbmsgdGhpcyBpcyB0aGUgYmVzdCBpZGVhIEkndmUgaGVhcmQgeWV0
LCBzb2x2ZXMgdGhlIHByb2JsZW0gZWxlZ2FudGx5IGFuZCBzaW1wbHksIGFuZCBzZWVtcyAocmVs
YXRpdmVseSkgZWFzeSB0byBhY2hpZXZlICh0aGlzIGNvbWluZyBmcm9tIHNvbWVvbmUgd2hvIGhh
cyBubyBrbm93bGVkZ2Ugb2YgdGhlIGNvZGUgdXNlZCBieSBtb2RfamsvaXNhcGlfcmVkaXJlY3Rv
cikuDQoNCk5pY2sNCg0KVGhpcyBlLW1haWwgbWF5IGNvbnRhaW4gcHJpdmlsZWdlZCBvciBjb25m
aWRlbnRpYWwgaW5mb3JtYXRpb24uIElmIHlvdSBhcmUgbm90IHRoZSBpbnRlbmRlZCByZWNpcGll
bnQ6ICgxKSB5b3UgbWF5IG5vdCBkaXNjbG9zZSwgdXNlLCBkaXN0cmlidXRlLCBjb3B5IG9yIHJl
bHkgdXBvbiB0aGlzIG1lc3NhZ2Ugb3IgYXR0YWNobWVudChzKTsgYW5kICgyKSBwbGVhc2Ugbm90
aWZ5IHRoZSBzZW5kZXIgYnkgcmVwbHkgZS1tYWlsLCBhbmQgdGhlbiBkZWxldGUgdGhpcyBtZXNz
YWdlIGFuZCBpdHMgYXR0YWNobWVudChzKS4gVW5kZXJ3cml0ZXJzIExhYm9yYXRvcmllcyBJbmMu
IGFuZCBpdHMgYWZmaWxpYXRlcyBkaXNjbGFpbSBhbGwgbGlhYmlsaXR5IGZvciBhbnkgZXJyb3Jz
LCBvbWlzc2lvbnMsIGNvcnJ1cHRpb24gb3IgdmlydXMgaW4gdGhpcyBtZXNzYWdlIG9yIGFueSBh
dHRhY2htZW50cy4NCg==

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec  6 23:21:54 2012
Return-Path: <users-return-238465-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 983BCE5E1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu,  6 Dec 2012 23:21:54 +0000 (UTC)
Received: (qmail 74608 invoked by uid 500); 6 Dec 2012 23:21:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74551 invoked by uid 500); 6 Dec 2012 23:21:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74542 invoked by uid 99); 6 Dec 2012 23:21:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:21:51 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 06 Dec 2012 23:21:44 +0000
Received: by mail-qa0-f45.google.com with SMTP id j15so1772917qaq.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 15:21:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Tuiirw/1l59nrx0nklkljkZrrpHH/EPYNfMnWsoulwE=;
        b=0mP9mRNjS7SKGhsMu/+a8qLUjyNiSTiL04KQGWz5DO8zUa29mFpH+PCYomI1S3f5Cm
         LGRM5A+ovofZHu0gnwscLXElWmlBfO1fEfkFCSN4pOe5no8jDYT0w3PDN+TVCnLaQnwI
         A5P2+NVy8VM7hUQZvCncWgl1RGYnRWyuJGbd4vcHYz4elKQFLUTO+EY6kVb+m9UMjwex
         sSUBqS15KEriL28yVVNUUbRIxBCFpFvUuPGgc6To2hI8jdLYoWdrgOLcRKMeQ7QKJI3L
         doNo1KtmpPwgdCY91rk3tlY6qZzmj8OT+qP9ZGdcH8B7qiRr2jvVyE4e89x2I7p6DhRK
         XuPw==
MIME-Version: 1.0
Received: by 10.49.30.34 with SMTP id p2mr5760794qeh.15.1354836083778; Thu, 06
 Dec 2012 15:21:23 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Thu, 6 Dec 2012 15:21:23 -0800 (PST)
In-Reply-To: <CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
Date: Thu, 6 Dec 2012 21:21:23 -0200
Message-ID: <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc8d2680a4e204d0375b84
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc8d2680a4e204d0375b84
Content-Type: text/plain; charset=ISO-8859-1

>2012/12/6 Daniel Mikusa <dmikusa@vmware.com>:
>> On Dec 6, 2012, at 11:19 AM, Yuri E wrote:
>>
>>> so I decided to install Tomcat through the .exe installer. First, I
stopped
>>> Tomcat by closing the console window opened in the startup, and then I
>>> installed Tomcat as service using the .exe.
>>> I restarted the computer, and Tomcat automatically started. Good. But
when
>>> I went to access my web app again using router's IP, I couldn't. Then, I
>>> tried to access Tomcat's Welcome Page using Firefox (
http://localhost:8080),
>>> and everything was ok.
>>
>> If Tomcat's welcome page is accessible then Tomcat is up and running.
 It's likely that you application failed to deploy.
>>
>> Have you looked at the server logs and your application logs to see if
there were any problems?
>>
>
>+1
>
>The description above sounds like the OP installed a brand new fresh
>copy of Tomcat, but have not deployed a copy his app on it.
>
>There is "manager" webapp available in the standard distributive, that
>allows one to see what apps are deployed.

With Tomcat running as service, I tested my app with
"localhost:8080/[myapp]/[servlet]", and it worked,

What basically happens is that I can't access Tomcat (running as service)
from web (outside my router subnet) . In all other ways, the connection
works.

--047d7bdc8d2680a4e204d0375b84--

From users-return-238466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 01:41:06 2012
Return-Path: <users-return-238466-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 515ECE73E
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 01:41:06 +0000 (UTC)
Received: (qmail 73972 invoked by uid 500); 7 Dec 2012 01:41:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73929 invoked by uid 500); 7 Dec 2012 01:41:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73920 invoked by uid 99); 7 Dec 2012 01:41:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 01:41:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 01:40:58 +0000
Received: by mail-oa0-f45.google.com with SMTP id i18so9145724oag.18
        for <users@tomcat.apache.org>; Thu, 06 Dec 2012 17:40:36 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=JuNnGbsy18kNec9zGUb/NizYwbAggmOLKb1CyvrutgM=;
        b=JsASSqI3fzq0NTdHgHSnTq0wzG/W559SP6O+vELw8QDmRy36PlX15boRoPljYS50OZ
         TR/eHijoerBb2n1Ki4rSQHu5/1BJSj9Om8D0QeKJxG6vOe7ap6TVkmJ3cUIAD89kQ6Dq
         bbXbzICRgwqme36Kfon/XQci3Eq7oBUXdvTQy6e/enriCsc70ech7OSUFdLTlf3xOHNI
         MpXFCOSO5wjcRyNKMD+dPh20Em4gvR7N/Yu5q6W9kz6+hpY6Sk7U7JWArqN0xFhsisdM
         cuIbN8w/fv6hf35iUf6JP68VqM9B4flPjeVRjsPh7xtCBPzE/xsOnvpz+oAbt49OmgEn
         brNw==
MIME-Version: 1.0
Received: by 10.182.18.142 with SMTP id w14mr2466075obd.65.1354844436236; Thu,
 06 Dec 2012 17:40:36 -0800 (PST)
Received: by 10.76.71.166 with HTTP; Thu, 6 Dec 2012 17:40:36 -0800 (PST)
In-Reply-To: <50C12394.9040109@christopherschultz.net>
References: <CAL_hNmaR-qMKvv=XBDfiiw8OtELF1uPb1QxEneUoGojAG6Babw@mail.gmail.com>
	<50C12394.9040109@christopherschultz.net>
Date: Thu, 6 Dec 2012 20:40:36 -0500
Message-ID: <CAL_hNmZRuALTMKZpo0hL2F5jV=pA+P4jnv4GHY6TgCm_LLBnig@mail.gmail.com>
Subject: Re: JDK 1.6 or JDK 1.7
From: Shanti Suresh <shanti@umich.edu>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d043c823c5909cd04d0394d9d
X-Gm-Message-State: ALoCoQmxSvSmJsGTzJERUuYNJiF7qH6v5BmDvV5Y+V/Eg8K9fp801gAwt3JE4Nl/4bi1gQMC6Mvp
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043c823c5909cd04d0394d9d
Content-Type: text/plain; charset=ISO-8859-1

Hi Chris,

Perfect!  Thanks so much.

                         -Shanti


On Thu, Dec 6, 2012 at 6:00 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Shanti,
>
> On 12/6/12 2:03 PM, Shanti Suresh wrote:
> > I am trying to decide whether to run Tomcat 7.0.33 on JDK 1.6 or
> > JDK 1.7. Tomcat-7 release notes say:
> >
> > Tomcat 7.0 is designed to run on Java SE 6 and later
> >
> > But I remember reading on this list about some issues folks are
> > having with JDK 1.7.  Appreciate your advice.
>
> The first few releases of Java 1.7 had some things that broke a few
> things badly. I believe those have all been corrected by now.
>
> I've been using Oracle Java 1.7.0 64-bit JVM for a while (6 months?)
> in development and I have had no problems at all. We have a non-Tomcat
> server (Mule ESB) running on OpenJDK 1.7 in another development
> environment and that seems to be very stable as well.
>
> As always, test everything. I dunno how others do it, but I generally
> run with a new major version of Java in my own, personal development
> environment for about 6 months before we put it into our general
> development environments. Then we run in development for a few
> test/release cycles before we push it out to demo/production.
>
> We do the same thing with Tomcat, actually. We're just about to go
> into production with Tomcat 7 and probably a few months later, we'll
> upgrade to Java 1.7 as well.
>
> Just in time for Tomcat 8. ;)
>
> Hope that helps,
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDBI5QACgkQ9CaO5/Lv0PBm3gCdHfkFwTvsVCioEdxobqWTMApo
> rl4AnAnxRqaqP1UsBq/uJTZaaHaSrH0q
> =pVuF
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
    Shanti Suresh
    Application Systems Analyst Lead
    LSA Development
    500 S. State Street
    Ann Arbor MI 48109-1382
    Office: 734-763-4807
    shanti@umich.edu

--f46d043c823c5909cd04d0394d9d--

From users-return-238467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 06:58:39 2012
Return-Path: <users-return-238467-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6B1EFD1C6
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 06:58:39 +0000 (UTC)
Received: (qmail 67266 invoked by uid 500); 7 Dec 2012 06:58:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67126 invoked by uid 500); 7 Dec 2012 06:58:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67057 invoked by uid 99); 7 Dec 2012 06:58:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 06:58:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.51] (HELO nm32-vm3.bullet.mail.ne1.yahoo.com) (98.138.229.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 06:58:21 +0000
Received: from [98.138.226.177] by nm32.bullet.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 06:58:00 -0000
Received: from [98.138.89.167] by tm12.bullet.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 06:58:00 -0000
Received: from [127.0.0.1] by omp1023.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 06:58:00 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 342559.39606.bm@omp1023.mail.ne1.yahoo.com
Received: (qmail 35516 invoked by uid 60001); 7 Dec 2012 06:58:00 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354863480; bh=qq6Ia4viOYkz6N6ejsZ0YooG7LaI04Xk2jA5r4gpmy8=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=HlLylh1zxnYfreqkIIoWQoqwZLpOXELcj88hmixOn9KnxFGkBTD/Q45Q9ezUbqWKGvOdsF82QFITNAfn5ax55nNb8sA9yvEHiSORjgT+7XK6xKT3wskXmTmc3QiA1KvFq+QuSPdzt522YLZxJIBV2F9ompmwmoJ/CCfdz/BvTE8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=0H+o/usDlWb8fqNRej/9D+PMa4w7nI/dI7Cq1Obk9F0MvVND193O58puaXOTqUXYFmB2IRwD89b+VMNHw7Ohshweq1CrE3n/Kpot4O0OzC6YzzLg9+IYWusa9z2PKarl8TFjHqqvtkzsKfviVA4hj/AZOhCPnOUPC2wYG1wnbHg=;
X-YMail-OSG: di.XiiQVM1nkbh9Q0e.UBBj02hhnPsLkD7XGjKgLa9_yiEC
 _GZELvdZ5H0ivEp8oYg3koO.h9.VuOPQVqkdf7k47v.3_upADOCQoU4VkLrL
 bkxob13.b2Qbz5HrGPEJjFQkCBbhRSa71N8LZTuUr3DOUcsA1EgUwrD6zEZQ
 IvOmtjH2PaNgWGUygpQy62GTE.RAwMe3V5F9zgSS4joZHYw7Bf3Px1sWvKaK
 O6rxPkWIcLtc46YqqK_JQkChmnjQLUDiSqHct6h.LtzjtmsIBF4NtCCpnQCs
 oEw_5kB78LIQVhNktJJ4_ryTwTt_BreXAllO98.tkU_OEO_eh7PDYfvr62un
 IkefTrLudcbvukn7Gke6_O2UJ5bymp9Vsi3aXpOuRF5nfkhOE12djz1zWA.A
 tdQkLDV4oLH0NEgSnytR8N3HoTocr_WBzBcWOrs132EQAC7OIMXypR_gR_T_
 YXAMtWYeyZM3755cFSxkzdMxE7WsoWDhHHWUfPZWWYglR.hw6a1FNInU5bGQ
 QDheUrG7_RPNpjlNWgYKh
Received: from [195.22.241.18] by web121603.mail.ne1.yahoo.com via HTTP; Thu, 06 Dec 2012 22:58:00 PST
X-Rocket-MIMEInfo: 001.001,CgoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCkZyb206IEtvbnN0YW50aW4gS29saW5rbyA8a25zdC5rb2xpbmtvQGdtYWlsLmNvbT4KVG86IFRvbWNhdCBVc2VycyBMaXN0IDx1c2Vyc0B0b21jYXQuYXBhY2hlLm9yZz4gClNlbnQ6IFRodXJzZGF5LCBEZWNlbWJlciA2LCAyMDEyIDExOjEwIFBNClN1YmplY3Q6IFJlOiBob3cgdG8gbWFrZSBodHRwIHBvcnQgdG8gb3BlbiBhZnRlciBhcHBsaWNhdGlvbiBzdGFydHVwCgoyMDEyLzEyLzYgVmxhZGltaXIgR2lybmV0IDx2Z2lybmV0ekB5YWhvby4BMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1354787540.22265.YahooMailNeo@web121602.mail.ne1.yahoo.com> <CABzHfVn_ffcwzd1rXKSkL6qekLorydZAhB+sk3JEUhGTcumWVw@mail.gmail.com>
Message-ID: <1354863480.35275.YahooMailNeo@web121603.mail.ne1.yahoo.com>
Date: Thu, 6 Dec 2012 22:58:00 -0800 (PST)
From: Vladimir Girnet <vgirnetz@yahoo.com>
Reply-To: Vladimir Girnet <vgirnetz@yahoo.com>
Subject: Re: how to make http port to open after application startup
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CABzHfVn_ffcwzd1rXKSkL6qekLorydZAhB+sk3JEUhGTcumWVw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

=0A=0A=0A=0A________________________________=0AFrom: Konstantin Kolinko <kn=
st.kolinko@gmail.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0A=
Sent: Thursday, December 6, 2012 11:10 PM=0ASubject: Re: how to make http p=
ort to open after application startup=0A=0A2012/12/6 Vladimir Girnet <vgirn=
etz@yahoo.com>:=0A> I'm using Tomcat 6.0 (6.035 for now).=0A>=0A> I've got =
an issue with balancing multiple connections from httpd to tomcat.=0A> It l=
ooks like tomcat is opening http port (8080) right after startup, and is ac=
cepting connections on it.=0A> At the same time, application itself is star=
ting for about 1-2 minutes, depending on server speed.=0A>=0A> Because conn=
ections are accepted to http port, httpd is not removing starting tomcat fr=
om balancer members.=0A> As result, a lot of connections are directed to cu=
rrently starting tomcat, but no connections are served during application s=
tartup.=0A>=0A> I have multiple tomcat servers behind http. If I want to re=
start one of these servers, httpd will still pass requests to it, making us=
ers to wait long time before response is received.=0A>=0A> Is it possible t=
o configure tomcat to open http port only after application is fully starte=
d?=0A>=0A> I found that AJP port is started only after application startup,=
 unfortunately system is fully configured to use http, and migrating to AJP=
 generate too much overhead for us.=0A=0A1. Is it really better to reject a=
 request?=0A=0A=0ANo, I don't want to reject requests. I want no requests t=
o be forwarded to tomcat by httpd if tomcat is not ready to serve requests.=
=A0=0A2.=0Aa) You can configure connector programmatically e.g. via JMX, or=
 by=0Ausing Tomcat classes directly.=0A=0AJMX support is better in Tomcat 7=
. It may be scarce in Tomcat 6.=0A=0A=0AThis is not possible for me, tomcat=
 6 is the only option.=A0=0A=0Ab) You can configure a rule in a firewall an=
d manage it programmatically,=0A=0AThis is exactly how I'm doing right now.=
=A0=0A=0Ac) You can manage your load balancer programmatically.=0A=0Ahttp:/=
/httpd.apache.org/docs/2.4/mod/mod_proxy_balancer.html#balancer_manager=0A=
=0A=0Ahttpd 2.2 is used on my servers, playing with balancer members is a g=
ood option, but require a script to manage this on all web servers.=A0=0A=
=0A> I found that AJP port is started only after application startup=0A=0A3=
. Is it really true? It might be there, but it is the first time I=0Ahear a=
bout such feature.=0A=0AI can't connect to AJP port till application is ful=
ly started, and this is in startup log file - AJP connector is opened at th=
e end (even on clean tomcat, just downloaded it from site and tried again).=
=0A=0AAJP protocol supports ping/pong requests, so it can check=0Aresponsiv=
eness of the server before sending the actual request.=0A=0AThanks anyway, =
I'll try to find a working option for me.=A0=0A=0A=0ABest regards,=0AKonsta=
ntin Kolinko=0A=0A---------------------------------------------------------=
------------=0ATo unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=
=0AFor additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 08:52:07 2012
Return-Path: <users-return-238468-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 196C7D0A0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 08:52:07 +0000 (UTC)
Received: (qmail 65756 invoked by uid 500); 7 Dec 2012 08:52:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65578 invoked by uid 500); 7 Dec 2012 08:51:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65507 invoked by uid 99); 7 Dec 2012 08:51:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 08:51:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 08:51:48 +0000
Received: from [192.168.245.129] (p549E8FB1.dip0.t-ipconnect.de [84.158.143.177])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id D05033C0A52
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 09:52:16 +0100 (CET)
Message-ID: <50C1AE0B.5060603@ice-sa.com>
Date: Fri, 07 Dec 2012 09:51:23 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net> <50C0BF78.8040602@ice-sa.com> <50C0EA5A.3050203@christopherschultz.net> <50C0F4B1.8050600@ice-sa.com> <50C1223F.30103@christopherschultz.net>
In-Reply-To: <50C1223F.30103@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> AndrÃ©,
> 
> On 12/6/12 2:40 PM, AndrÃ© Warnier wrote:
>> Christopher Schultz wrote:
>>> Yes, but session cookies typically have an expiration of "-1"
>>> which means "when the browser exits". Never exiting the browser
>>> has predicable consequences, here.
>> So for this case, the solution would consist in setting a timeout
>> for the cookie.
> 
> Since the container (generally) manages the cookie timeout, most
> applications don't ever directly touch the JSESSIONID cookie or its
> timeout.
> 
>> If the cookie times out, the browser will not send it anymore when
>> the user comes back, mod_jk will route this to any tomcat, which
>> will start a new session and set a new cookie. CQFD.
> 
> That is true, but it would be a shame for the cookie to time out
> before the (server-side) session was actually destroyed.
> 
> I think this is a legitimate gripe.
> 
>>>> - if it is appended at the end of the URL, then how could the 
>>>> server get rid of it (in the browser's displayed page) ?
>>> Set a new value for the JSESSIONID cookie.
>> Well no, not in this case.
> 
> (Sorry, I just noticed that you said "at the end of the URL". I was
> still thinking about cookies. If the jsessionid is in the browser,
> you'll have to redirect the client with a different (or missing)
> jsessionid parameter.
> 
>> The OP says : because the previous user does not close his
>> browser, walks away for a while to have a drink, and comes back. In
>> the meantime, the session has expired but the old page containing
>> the URL links with the expired "jsessionid.jvmroute" tagged at the
>> end is still there, sitting in the browser's window.. So now the
>> user clicks on a link of that old page, which sends a request to
>> the server, with the expired session-id.  But because of the 
>> tagged-on old jvmroute, mod_jk sends it through to the same tomcat
>> as before. Which is what he is trying to prevent. Until now, Tomcat
>> hasn't sent anything, so it had no opportunity to set a new
>> jsessionid.
> 
> Right. Honestly, the same is true for the cookie situation: Tomcat had
> no initial opportunity.
> 
>> My question was thus : how can one even imagine to have tomcat or
>> mod_jk or Apache httpd go clear these links (with the expired 
>> jsessionid.jvmroute) out of the browser's currently displayed page,
>> when the session times out.  Obviously they can't.
> 
> Right, they can't.
> 
> My suggestion is an invalid-session event to trigger a re-balance at
> the mod_jk (or mod_proxy_ajp) level. If Tomcat can use some obscure
> response code (306? 308/9?), perhaps that could trigger a re-balance
> in httpd. When such a re-balance happens, the new backend server would
> ignore both the cookie and the jsessionid (because the jvmroute does
> not match the current server) and produce a response with a new
> Set-Cookie and re-written URLs (if appropriate).
> 
>> Just tell me : if I happened to know the session-id and the
>> jvmroute, would there be any request which I could send to Tomcat,
>> which would not have any non-idempotent effect, and which would
>> tell me if that session is still valid ?
> 
> AFAIK, Tomcat does not have a "ping" operation for a session. If you
> make a request that touches the session, you'll freshen the last-used
> timestamp and extend the life of the session. You must have read
> enough "I have a javascript ping to check my session status on the
> server, and no my sessions never expire!" posts on the list to be
> aware of this.
> 
>> (On second thought, of course there would : one could just build
>> one into the application).
> 
> That might get tricky. I'm not sure if you can even ask Tomcat if the
> session is valid without it updating the last-touched time and
> extending the life of the session (which I believe is *not* what you
> want, here).
> 

You are going to force me to disclose the details, and thus maybe lose my patenting 
opportunity, but oh well.
I am not thinking of a regular ping which would run independently.
What I am thinking of is this :
- the front-end httpd server intercepts all requests for this application "early" (before 
mod_jk gets to see them). That's not a problem.
- the interceptor at the front-end retrieves the jsession.jvmroute from the URL (or even 
the cookie), and reformulates a request to tomcat, substituting the real application path 
by the path of a "ping responder" servlet within the target application, adding the 
jsessionid.jvmroute back into this new path. It then makes an (internal) request to this 
URL. (In the meantime, the original request is held; that's not a problem either).
- the (internal, secondary) request is handled normally, goes to mod_jk, who forwards it 
normally to tomcat according to the jvmroute.
- the response from tomcat is either
   - a) a normal response, if that session was still alive and well
   - b) a "session expired" response (probably a login page or whatever, but in any case 
with a new session-id which doesn't match the original)
- this response goes back to the "interceptor" module in httpd, which gets a chance to 
examine it.
- if the response is (a), then the session is still active. In that case, the interceptor 
module can let the original request continue, and the original request will proceed 
normally and be routed to the tomcat which holds this session and to the normal application.
- if the response was (b) however, the interceptor module does not let the original 
request go any further, and instead answers the request itself, with whatever kind of 
appropriate response the OP would wish in this case.
Such as a page with "You have been away for coffee for 00:13:05 hours. This exceeds our 
corporate standard of 00:05:00 hours. The difference has been deducted from your paycheck, 
and your session has been closed. Click here to resume serious work."

The above scheme does not artificially refresh the session and keep it alive no matter 
what. The "ping" only happens when a real request would trigger one anyway.

The inconvenient is of course that this applies to every request to that application, 
generating an extra request for each real one.  However, considering that the premise was 
that this is a project with an unlimited budget,
a) a simple caching mechanism could optimise this, avoiding unnecessary secondary requests 
when the previous request for the same session was recent
b) one can always upgrade the server to cope with the additional requests

(Also, having written and used quite a few such similar "interceptor" modules for Apache 
httpd, I can testify that a scheme like the above is not as heavy as it may look. It uses 
mostly internal Apache httpd logic, which is very optimised already.  And you'd probably 
be surprised at what httpd already goes through for each request anyway.)

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 09:17:20 2012
Return-Path: <users-return-238469-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3F43AD191
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 09:16:57 +0000 (UTC)
Received: (qmail 38103 invoked by uid 500); 7 Dec 2012 09:16:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37946 invoked by uid 500); 7 Dec 2012 09:16:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37917 invoked by uid 99); 7 Dec 2012 09:16:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 09:16:52 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 09:16:44 +0000
Received: from [192.168.245.129] (p549E8FB1.dip0.t-ipconnect.de [84.158.143.177])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id C967E3C0B30
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 10:17:12 +0100 (CET)
Message-ID: <50C1B3E3.5050804@ice-sa.com>
Date: Fri, 07 Dec 2012 10:16:19 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com> <50C1253B.9080708@christopherschultz.net> <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com>
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Williams, Nick wrote:
>> -----Original Message-----
>> From: Christopher Schultz [mailto:chris@christopherschultz.net]
>> Sent: Thursday, December 06, 2012 5:08 PM
>> To: Tomcat Users List
>> Subject: Re: Is it possible to expire jvmRoute cookie
>>
>>> 2. How one additional user can be a problem in such a system? If he
>>> accesses a heavy-loaded system the things will be slow for him, but
>>> faster for all others, who close their browsers regularly.
>> Let's take a pathological example:
>>
>> Assumptions:
>> 1. Cluster has 3 nodes (A, B, C)
>> 2. Users never close their browsers
>>
>> Let's say that server A is rock-solid and never goes down. Servers B and C are running Gentoo Linux or Debian Sid or Microsoft Windows or have flaky hardware and so they crash or need to be  rebooted all the time; perhaps daily.
>>
>> Users on nodes B and C will constantly fail-over to node A.
>>
>> Those users will stick on node A pretty much forever.
>>
>> Therefore node A always gets most of the traffic, and nodes B and C only get "new" users for a while before failing-over. Even if nodes B and C can handle 1/3 of the load, they will get much less than that, and node A will, over time, accumulate users without bound.
>>
>> It would be nice to avoid this kind of situation.
>>
>>> So one could recommend that if things go slow to close one's browser,
>>> clean caches, or even reboot. ;)
> 
> "If I called tech support for a website and they told me I needed to close my browser or reboot my computer to just to use their website, I would assume that they were complete idiots. If I want to be lied to about what the problem is, I'll call my home broadband provider." <-- HAHAHA ... nice one.
> 
> I agree with Chris, here. It's not a "common" situation, but it is a possible situation, and if it occurred, it could get ugly quickly.
> 
> Earlier somebody (I'm sorry, I already deleted the email) suggested Tomcat returning a 308 or 309 or similar to the load balancer to trigger a "re-balance" if the session is expired. I think this is the best idea I've heard yet, solves the problem elegantly and simply, and seems (relatively) easy to achieve (this coming from someone who has no knowledge of the code used by mod_jk/isapi_redirector).
> 

I must admit that this sounds more elegant (and efficient) than my suggested interceptor 
module.

Alternatively, if one wanted to avoid touching mod_jk for this, maybe tomcat could return 
a 302 redirect to the starting page of this application, if known ? (without 
jsessionid.jvmroute of course).



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 11:50:20 2012
Return-Path: <users-return-238470-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FF7DDF93
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 11:50:20 +0000 (UTC)
Received: (qmail 99345 invoked by uid 500); 7 Dec 2012 11:50:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99035 invoked by uid 500); 7 Dec 2012 11:50:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98999 invoked by uid 99); 7 Dec 2012 11:50:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 11:50:14 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Tomasz.Nowodzinski@empik.com designates 91.213.38.5 as permitted sender)
Received: from [91.213.38.5] (HELO front.emf.pl) (91.213.38.5)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 11:50:08 +0000
Received: from [10.25.90.81] (10.25.90.81) by front.emf.pl (172.18.0.5) with
 Microsoft SMTP Server (TLS) id 8.3.279.5; Fri, 7 Dec 2012 12:49:44 +0100
Message-ID: <50C1D7D7.7040507@empik.com>
Date: Fri, 7 Dec 2012 12:49:43 +0100
From: =?UTF-8?B?VG9tYXN6IE5vd29kemnFhHNraQ==?= <tomasz.nowodzinski@empik.com>
User-Agent: Mozilla/5.0 (X11; Linux i686; rv:14.0) Gecko/20120714 Thunderbird/14.0
MIME-Version: 1.0
To: <users@tomcat.apache.org>
Subject: Increase load and decrease performance while replace DBCP to Tomcat
 jdbc-pool
Content-Type: text/plain; charset="UTF-8"; format=flowed
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

We are using Tomcat 7.0.25 on CentOS 5.5 64b.

After problems with connection leak and deadlocks in DBCP we made a=20
decision to replace it with Tomcat JDBC-pool. Of course migration was=20
really simple.

But after deploy it on a production environment I noticed, that load on=20
a server with running two Tomcats increase from 4-4.5 to 5.5. We didn't=20
do anything more, except change of pool. Moreover, performance measured=20
with JMeter decrease by about 5%.

I spent some time to tune pool parameters, but without visible effects.=20
I pasted my current config (from <GlobalNamingResources> in server.xml)=20
below:

<Resource name=3D"jdbc/xxxxxx"
           auth=3D"Container"
           type=3D"javax.sql.DataSource"
           factory=3D"org.apache.tomcat.jdbc.pool.DataSourceFactory"
           initialSize=3D"10"
           maxActive=3D"100"
           minIdle=3D"10"
           maxIdle=3D"50"
           maxWait=3D"10000"
           testOnBorrow=3D"true"
           testOnReturn=3D"false"
           testOnConnect=3D"false"
           testWhileIdle=3D"false"
           validationQuery=3D"SELECT 1 from dual"
           validationInterval=3D"30000"
           suspectTimeout=3D"60"
           timeBetweenEvictionRunsMillis=3D"30000"
           removeAbandonedTimeout=3D"60"
           removeAbandoned=3D"true"
           logAbandoned=3D"true"
           abandonWhenPercentageFull=3D"50"
           minEvictableIdleTimeMillis=3D"60000"
           jmxEnabled=3D"true"
           username=3D"xxxxx"
           password=3D"xxxxx"
           driverClassName=3D"oracle.jdbc.OracleDriver"
           url=3D"jdbc:oracle:oci:xxxxx"/>

FairQueue and PoolSweeperEnabled are true

In Spring applicationContext-jdbc.xml I have only:

   <bean id=3D"dataSource"=20
class=3D"org.springframework.jndi.JndiObjectFactoryBean">
     <property name=3D"resourceRef">
       <value>true</value>
     </property>
     <property name=3D"jndiName">
       <value>java:comp/env/jdbc/PortalDB</value>
     </property>
   </bean>

What am I doing wrong? I thought, that JDBC_pool should be faster than=20
DBCP out of the box.

--=20
Pozdrawiam/Regards

Tomasz Nowodzi=C5=84ski
Informacja zawarta w niniejszej wiadomo=C5=9Bci elektronicznej jest poufna,=
 podlega ochronie oraz jest przeznaczona wy=C5=82=C4=85cznie do u=C5=BCytku=
 osoby lub podmiotu, wskazanych powy=C5=BCej. Je=C5=BCeli czytelnik niniejs=
zej wiadomo=C5=9Bci nie jest zamierzonym jej adresatem, niniejszym informuj=
emy, =C5=BCe jakakolwiek dystrybucja lub kopiowanie tej wiadomo=C5=9Bci ele=
ktronicznej jest zakazane. Je=C5=BCeli otrzymali Pa=C5=84stwo t=C4=99 wiado=
mo=C5=9B=C4=87 przez pomy=C5=82k=C4=99, uprzejmie prosimy bezzw=C5=82ocznie=
 poinformowa=C4=87 nas o tym oraz zniszczy=C4=87 wiadomo=C5=9B=C4=87 orygin=
aln=C4=85 wraz z za=C5=82=C4=85cznikami. Dzi=C4=99kujemy.
Wszelkie wskazania dostawcy dotycz=C4=85ce cen detalicznych stosowanych prz=
ez nasz=C4=85 Sp=C3=B3=C5=82k=C4=99 b=C4=99d=C4=85 traktowane jedynie jako =
niewi=C4=85=C5=BC=C4=85ce rekomendacje cenowe. Nasza Sp=C3=B3=C5=82ka samod=
zielnie kszta=C5=82tuje swoje ceny detaliczne, wy=C5=82=C4=85cznie zgodnie =
z w=C5=82asn=C4=85 polityk=C4=85 handlow=C4=85.
Prosimy o rozwa=C5=BCenie wp=C5=82ywu niepotrzebnego drukowania tego dokume=
ntu na =C5=9Brodowisko.=20

The information contained in this email is confidential, protected and inte=
nded solely for the use of individual or entity named above. If you are not=
 the intended recipient of this email, you are hereby notified that any dis=
semination, distribution or copying of this email is strictly prohibited. I=
f you have received this email in error, please immediately notify us by em=
ail and destroy the original message together with its attachments. Thank y=
ou.
Any supplier=E2=80=99s indications regarding retail price to be used by our=
 Company will be treated as non-binding price recommendations only. Our Com=
pany determines its retail prices individually in line with its own commerc=
ial strategy.
Please consider the environment before printing this email.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 13:37:58 2012
Return-Path: <users-return-238471-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5591DDE88
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 13:37:58 +0000 (UTC)
Received: (qmail 84308 invoked by uid 500); 7 Dec 2012 13:37:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83842 invoked by uid 500); 7 Dec 2012 13:37:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83817 invoked by uid 99); 7 Dec 2012 13:37:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 13:37:49 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.232.133.234] (HELO mx04.apa.at) (194.232.133.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 13:37:39 +0000
Received: from mx181.apa.at (mx181.apa.at [194.232.133.215])
	by mx04.apa.at (Postfix) with ESMTP id 22569F1F7B
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 14:37:19 +0100 (CET)
X-AuditID: c2e885d7-b7f8e6d000005837-d4-50c1f10e52ae
Received: from smtp.apanet.at (mx04.apa.at [194.232.133.234])
	by mx181.apa.at (APA-IT Spamfilter) with SMTP id 6D.A4.22583.E01F1C05; Fri,  7 Dec 2012 14:37:19 +0100 (CET)
Received: from S011.diepresse.at (mail.diepresse.com [193.22.82.32])
	by mx04.apa.at (Postfix) with ESMTP id C9F2AF1F7B
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 14:37:18 +0100 (CET)
Received: from s015.diepresse.at ([10.10.110.15]) by S011.diepresse.at with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 7 Dec 2012 14:37:18 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: quoted-printable
Subject: Tomcat 7: JSP unloading - NullPointerException
Date: Fri, 7 Dec 2012 14:37:18 +0100
Message-ID: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Tomcat 7: JSP unloading - NullPointerException
Thread-Index: Ac3Uf1vMFjxOMpB7QvSLYfFNOkc9IwAAFCPw
From: "Keszthelyi Laszlo" <laszlo.keszthelyi@diepresse.com>
To: <users@tomcat.apache.org>
X-OriginalArrivalTime: 07 Dec 2012 13:37:18.0709 (UTC) FILETIME=[FA316A50:01CDD47F]
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFjrALMWRmVeSWpSXmKPExsVy6EXrK13+jwcDDI4/ZLXY+vErowOjx8Zn
	3cwBjFFcNimpOZllqUX6dglcGduOfGEvuMJf8a73OWsD43beLkYODgkBE4lp35W6GDmBTDGJ
	C/fWs3UxcnEICaxhlNi6ah0jhLMfyFl3HCrTzyjx5NExJogWPYlli6ewgNjMAloSRy41MYLY
	vAKCEidnPoGK60msXz+HEcLWlli28DUziC0sYC7R1LyUFcRmEVCROPx3AjtEr4fE7omrWSHm
	C0osmr2HGea8f7sesoHYIgI2EtMPLWeFsI0kdl/9AtbLJmAt8f/uXHaIuKzElb4jUL3BEie7
	vzBOYBSZheTUWUhOnYXk1FlITl3AyLKKkSe3wtDCUC+xIFEvsWQTIyTUr+9gbDmqdYhRgINR
	iYc38+KBACHWxLLiytxDjBIczEoivPyvDwYI8aYkVlalFuXHF5XmpBYfYmTi4JRqYLQ99YND
	wf679Wbf1dctzvBP9Z5oIml+JK3l5PfyRXenyodmvTmqkPLvw+XPtqqb18sIbWd5mC7Z9Uj0
	1KspEuprLt5bU/dp96KK+gO2qzfpzk2qTfhanlSTHpg3o6Oqu+5qQZyzrL9mT/Bb47lzby6Z
	YtfzvD++nsW4x3sXC0/chp8/ejeV7VdiKc5INNRiLipOBAAX2VEjUwIAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

since Tomcat 7.0.30 (currently using version 7.0.33) I'm faced with the
following NullPointerException:

Dec 7, 2012 2:10:28 PM
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor
processChildren
SEVERE: Exception invoking periodic operation:
java.lang.NullPointerException
        at
org.apache.jasper.util.FastRemovalDequeue$Entry.access$700(FastRemovalDe
queue.java:254)
        at
org.apache.jasper.util.FastRemovalDequeue.remove(FastRemovalDequeue.java
:177)
        at
org.apache.jasper.compiler.JspRuntimeContext.checkUnload(JspRuntimeConte
xt.java:610)
        at
org.apache.jasper.servlet.JspServlet.periodicEvent(JspServlet.java:360)
        at
org.apache.catalina.core.StandardWrapper.backgroundProcess(StandardWrapp
er.java:709)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
essChildren(ContainerBase.java:1530)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
essChildren(ContainerBase.java:1540)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
essChildren(ContainerBase.java:1540)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
essChildren(ContainerBase.java:1540)
        at
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(
ContainerBase.java:1519)
        at java.lang.Thread.run(Thread.java:662)

I was able to debug and trace the exception and found that the Excpetion
is caused by a '.tag', I'm including in my JSP, which has no
UnloadHandle assigned when processed in
org.apache.jasper.compiler.JspRuntimeContext.checkUnload() line 610:
jspQueue.remove(jsw.getUnloadHandle());

Because jsw.getUnloadHandle() returns null, jspQueue.remove() fails and
is throwing the NullPointerException everytime, aborting the "unload".

Does anyone have an idea how to solve this problem or is there already a
fix?

Pls help me out.

Thanks.

Laszlo

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 13:49:19 2012
Return-Path: <users-return-238472-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 12F44DEA7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 13:49:19 +0000 (UTC)
Received: (qmail 8864 invoked by uid 500); 7 Dec 2012 13:49:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8818 invoked by uid 500); 7 Dec 2012 13:49:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8796 invoked by uid 99); 7 Dec 2012 13:49:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 13:49:15 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 13:49:08 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so586531vbi.18
        for <users@tomcat.apache.org>; Fri, 07 Dec 2012 05:48:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=4JrY03AJzD+Kl3P7EEpnXtz8gqxTbqWwI+Ir9IBcUmk=;
        b=eCCGuhaD7MsnJv4PuH7f3PxAiEzF8fleqccg5SsO88S3ieWqKNWd8GP7kw8i13Q/3u
         uPiMuXe4u5Y30t+fotSf7WJUf7k2mOS+EUeQMexbN/CyomA78HBG/Okxvyl68L9IsNA6
         HF0aGciVBWI2055RYUc92VQp+a8A93heFAR6iimmeigMCo0hyYwxyhy49HLRVDC0me64
         JnIQjMxYKkfTlZ3YV7K2+E5UjNwegivPJo72pGZuzWepPdZBpa956F1Vao4iaCut1134
         LQugX/5AWplXbvHyJ6t59VAkp3tTvmysU0A9HR6cf8jpDfxaROuNefq6l3PPFVT8q5WV
         kVJA==
MIME-Version: 1.0
Received: by 10.58.161.113 with SMTP id xr17mr3934911veb.3.1354888127371; Fri,
 07 Dec 2012 05:48:47 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Fri, 7 Dec 2012 05:48:47 -0800 (PST)
In-Reply-To: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at>
References: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at>
Date: Fri, 7 Dec 2012 17:48:47 +0400
Message-ID: <CABzHfV=L0u-zP-4f=_MLjwpnLy5Pr_Ht09-iyHtLGeFdVaR9EA@mail.gmail.com>
Subject: Re: Tomcat 7: JSP unloading - NullPointerException
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/7 Keszthelyi Laszlo <laszlo.keszthelyi@diepresse.com>:
>
> since Tomcat 7.0.30 (currently using version 7.0.33) I'm faced with the
> following NullPointerException:
>
> Dec 7, 2012 2:10:28 PM
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor
> processChildren
> SEVERE: Exception invoking periodic operation:
> java.lang.NullPointerException
>         at
> org.apache.jasper.util.FastRemovalDequeue$Entry.access$700(FastRemovalDe
> queue.java:254)
>         at
> org.apache.jasper.util.FastRemovalDequeue.remove(FastRemovalDequeue.java
> :177)
>         at
> org.apache.jasper.compiler.JspRuntimeContext.checkUnload(JspRuntimeConte
> xt.java:610)
>         at
> org.apache.jasper.servlet.JspServlet.periodicEvent(JspServlet.java:360)
>         at
> org.apache.catalina.core.StandardWrapper.backgroundProcess(StandardWrapp
> er.java:709)
>         at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1530)
>         at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(
> ContainerBase.java:1519)
>         at java.lang.Thread.run(Thread.java:662)
>
> I was able to debug and trace the exception and found that the Excpetion
> is caused by a '.tag', I'm including in my JSP, which has no
> UnloadHandle assigned when processed in
> org.apache.jasper.compiler.JspRuntimeContext.checkUnload() line 610:
> jspQueue.remove(jsw.getUnloadHandle());
>
> Because jsw.getUnloadHandle() returns null, jspQueue.remove() fails and
> is throwing the NullPointerException everytime, aborting the "unload".
>
> Does anyone have an idea how to solve this problem or is there already a
> fix?
>

Steps to reproduce = ?

Can you prepare a sample simple web application that demonstrates the
bug and file it into Bugzilla?

(Maybe it can be observed with the examples webapp? There are several
tags there.)

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 14:10:38 2012
Return-Path: <users-return-238473-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDF02DF6F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 14:10:38 +0000 (UTC)
Received: (qmail 84786 invoked by uid 500); 7 Dec 2012 14:10:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84571 invoked by uid 500); 7 Dec 2012 14:10:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84540 invoked by uid 99); 7 Dec 2012 14:10:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 14:10:34 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [194.232.133.234] (HELO mx04.apa.at) (194.232.133.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 14:10:24 +0000
Received: from mx17.apa.at (mx17.apa.at [194.232.133.221])
	by mx04.apa.at (Postfix) with ESMTP id 5CFACF1D3C
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 15:10:04 +0100 (CET)
X-AuditID: c2e885dd-b7f876d0000005a0-bc-50c1f8bcc015
Received: from smtp.apanet.at (mx04.apa.at [194.232.133.234])
	by mx17.apa.at (APA-IT Spamfilter) with SMTP id C7.46.01440.CB8F1C05; Fri,  7 Dec 2012 15:10:04 +0100 (CET)
Received: from S011.diepresse.at (mail.diepresse.com [193.22.82.32])
	by mx04.apa.at (Postfix) with ESMTP id 0912DF1D3C
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 15:10:04 +0100 (CET)
Received: from s015.diepresse.at ([10.10.110.15]) by S011.diepresse.at with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 7 Dec 2012 15:10:03 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Tomcat 7: JSP unloading - NullPointerException
Date: Fri, 7 Dec 2012 15:10:03 +0100
Message-ID: <16702F2F4D271D408CB1E89E3C74B80E0476908D@s015.diepresse.at>
In-Reply-To: <CABzHfV=L0u-zP-4f=_MLjwpnLy5Pr_Ht09-iyHtLGeFdVaR9EA@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Tomcat 7: JSP unloading - NullPointerException
Thread-Index: Ac3UgaiqdYVUsjEFTKeLFqwxeEAInAAAEXzQ
References: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at> <CABzHfV=L0u-zP-4f=_MLjwpnLy5Pr_Ht09-iyHtLGeFdVaR9EA@mail.gmail.com>
From: "Keszthelyi Laszlo" <laszlo.keszthelyi@diepresse.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 07 Dec 2012 14:10:03.0916 (UTC) FILETIME=[8D8C34C0:01CDD484]
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFrrBLMWRmVeSWpSXmKPExsVy6EXrK909Pw4GGBy7LmKx9eNXRgdGj43P
	upkDGKO4bFJSczLLUov07RK4Mpp+fGcreC1ecfrOPKYGxp/CXYycHBICJhKH755hhrDFJC7c
	W8/WxcjFISSwmlGiafUVVghnP6PEq4VvWSCcfkaJt303GSFa9CSWLZ7CAmIzC2hJHLnUBBbn
	FRCUODnzCVTcQOL+oQ5WCFtbYtnC12DrhAWsJR7dOQFUz8HBIqAisXBfPkSrh8S3vl3sIDan
	QKDEjr9/WCFWCUosmr0H7tJ/ux6ygdgiAjYS0w8tZ4WwjSTez9gIdWcvo8SW9gdg97AB7fp/
	dy47RJGhRO+811D3B0s0Nx1knMAoNgvJC7OQvDALyQuzkLywgJFlFSN3boWhuV5iQaJeYskm
	Rkhs3N3BuPyo5iFGAQ5GJR7eHWcOBAixJpYVV+YeYpTgYFYS4eV/fTBAiDclsbIqtSg/vqg0
	J7X4ECMTB6dUA2Px7qbDafPv7GI9NK/sf5nEfPmmVv19K6u1F1y5H7fiwFMFyXMdTHxJ695/
	eP6kcVZCwXOr+Ecblicekfs5L/fl7fhNx1WYlWdc2hfYua7t6K/86f5TcwpndMntfNH5Yh6n
	2S4eA81Kw7KThuta6jXfbpdMuTPh/bmEdAP291v2/nl06ffl5Lv2SizFGYmGWsxFxYkAn3ly
	EmsCAAA=
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you for your fast reply, i will try to reproduce the problem with =
the example tag-files. Otherwise i will prepare a small web app to =
reproduce the bug and post it.

Best regards,
Laszlo

-----Urspr=FCngliche Nachricht-----
Von: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Gesendet: Freitag, 07. Dezember 2012 14:49
An: Tomcat Users List
Betreff: Re: Tomcat 7: JSP unloading - NullPointerException

2012/12/7 Keszthelyi Laszlo <laszlo.keszthelyi@diepresse.com>:
>
> since Tomcat 7.0.30 (currently using version 7.0.33) I'm faced with =
the
> following NullPointerException:
>
> Dec 7, 2012 2:10:28 PM
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor
> processChildren
> SEVERE: Exception invoking periodic operation:
> java.lang.NullPointerException
>         at
> =
org.apache.jasper.util.FastRemovalDequeue$Entry.access$700(FastRemovalDe
> queue.java:254)
>         at
> =
org.apache.jasper.util.FastRemovalDequeue.remove(FastRemovalDequeue.java
> :177)
>         at
> =
org.apache.jasper.compiler.JspRuntimeContext.checkUnload(JspRuntimeConte
> xt.java:610)
>         at
> =
org.apache.jasper.servlet.JspServlet.periodicEvent(JspServlet.java:360)
>         at
> =
org.apache.catalina.core.StandardWrapper.backgroundProcess(StandardWrapp
> er.java:709)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1530)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(
> ContainerBase.java:1519)
>         at java.lang.Thread.run(Thread.java:662)
>
> I was able to debug and trace the exception and found that the =
Excpetion
> is caused by a '.tag', I'm including in my JSP, which has no
> UnloadHandle assigned when processed in
> org.apache.jasper.compiler.JspRuntimeContext.checkUnload() line 610:
> jspQueue.remove(jsw.getUnloadHandle());
>
> Because jsw.getUnloadHandle() returns null, jspQueue.remove() fails =
and
> is throwing the NullPointerException everytime, aborting the "unload".
>
> Does anyone have an idea how to solve this problem or is there already =
a
> fix?
>

Steps to reproduce =3D ?

Can you prepare a sample simple web application that demonstrates the
bug and file it into Bugzilla?

(Maybe it can be observed with the examples webapp? There are several
tags there.)

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 14:40:18 2012
Return-Path: <users-return-238474-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8A5AEB44
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 14:40:18 +0000 (UTC)
Received: (qmail 59162 invoked by uid 500); 7 Dec 2012 14:40:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59085 invoked by uid 500); 7 Dec 2012 14:40:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59056 invoked by uid 99); 7 Dec 2012 14:40:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 14:40:14 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 14:40:06 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 8E3E028ABD
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 06:39:44 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (zcs-prod-mta-1.vmware.com [10.113.163.63])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id 8B738B027B
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 06:39:44 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTP id 74F87E258A
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 06:39:44 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-1.vmware.com
Received: from zcs-prod-mta-1.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-1.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id z4WugAB8m0Ai for <users@tomcat.apache.org>;
	Fri,  7 Dec 2012 06:39:44 -0800 (PST)
Received: from [10.113.229.113] (unknown [10.113.160.14])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTPSA id BD487E2582
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 06:39:43 -0800 (PST)
Content-Type: text/plain; charset=utf-8
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Increase load and decrease performance while replace DBCP to Tomcat jdbc-pool
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <50C1D7D7.7040507@empik.com>
Date: Fri, 7 Dec 2012 09:39:43 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <D679E63B-E60E-464E-AACA-72FA03D0E115@vmware.com>
References: <50C1D7D7.7040507@empik.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 7, 2012, at 6:49 AM, Tomasz Nowodzi=C5=84ski wrote:

> Hi all,
>=20
> We are using Tomcat 7.0.25 on CentOS 5.5 64b.

You should probably try upgrading to the latest version and retest.  =
There have been quite a few bug fixes since 7.0.25.  See the following =
link and search for "jdbc-pool".

  https://tomcat.apache.org/tomcat-7.0-doc/changelog.html

>=20
> After problems with connection leak and deadlocks in DBCP we made a =
decision to replace it with Tomcat JDBC-pool. Of course migration was =
really simple.
>=20
> But after deploy it on a production environment I noticed, that load =
on a server with running two Tomcats increase from 4-4.5 to 5.5. We =
didn't do anything more, except change of pool. Moreover, performance =
measured with JMeter decrease by about 5%.

I understand your logic here, but I don't agree that you have enough =
information to make the conclusion that you are drawing.  Hook up a =
profiler and see what's actually going on in the application.  Plus, if =
there is a problem with jdbc-pool, you'll be in a much better position =
to help the developers resolve the issue.

Dan


>=20
> I spent some time to tune pool parameters, but without visible =
effects. I pasted my current config (from <GlobalNamingResources> in =
server.xml) below:
>=20
> <Resource name=3D"jdbc/xxxxxx"
>          auth=3D"Container"
>          type=3D"javax.sql.DataSource"
>          factory=3D"org.apache.tomcat.jdbc.pool.DataSourceFactory"
>          initialSize=3D"10"
>          maxActive=3D"100"
>          minIdle=3D"10"
>          maxIdle=3D"50"
>          maxWait=3D"10000"
>          testOnBorrow=3D"true"
>          testOnReturn=3D"false"
>          testOnConnect=3D"false"
>          testWhileIdle=3D"false"
>          validationQuery=3D"SELECT 1 from dual"
>          validationInterval=3D"30000"
>          suspectTimeout=3D"60"
>          timeBetweenEvictionRunsMillis=3D"30000"
>          removeAbandonedTimeout=3D"60"
>          removeAbandoned=3D"true"
>          logAbandoned=3D"true"
>          abandonWhenPercentageFull=3D"50"
>          minEvictableIdleTimeMillis=3D"60000"
>          jmxEnabled=3D"true"
>          username=3D"xxxxx"
>          password=3D"xxxxx"
>          driverClassName=3D"oracle.jdbc.OracleDriver"
>          url=3D"jdbc:oracle:oci:xxxxx"/>
>=20
> FairQueue and PoolSweeperEnabled are true
>=20
> In Spring applicationContext-jdbc.xml I have only:
>=20
>  <bean id=3D"dataSource" =
class=3D"org.springframework.jndi.JndiObjectFactoryBean">
>    <property name=3D"resourceRef">
>      <value>true</value>
>    </property>
>    <property name=3D"jndiName">
>      <value>java:comp/env/jdbc/PortalDB</value>
>    </property>
>  </bean>
>=20
> What am I doing wrong? I thought, that JDBC_pool should be faster than =
DBCP out of the box.
>=20
> --=20
> Pozdrawiam/Regards
>=20
> Tomasz Nowodzi=C5=84ski
> Informacja zawarta w niniejszej wiadomo=C5=9Bci elektronicznej jest =
poufna, podlega ochronie oraz jest przeznaczona wy=C5=82=C4=85cznie do =
u=C5=BCytku osoby lub podmiotu, wskazanych powy=C5=BCej. Je=C5=BCeli =
czytelnik niniejszej wiadomo=C5=9Bci nie jest zamierzonym jej adresatem, =
niniejszym informujemy, =C5=BCe jakakolwiek dystrybucja lub kopiowanie =
tej wiadomo=C5=9Bci elektronicznej jest zakazane. Je=C5=BCeli otrzymali =
Pa=C5=84stwo t=C4=99 wiadomo=C5=9B=C4=87 przez pomy=C5=82k=C4=99, =
uprzejmie prosimy bezzw=C5=82ocznie poinformowa=C4=87 nas o tym oraz =
zniszczy=C4=87 wiadomo=C5=9B=C4=87 oryginaln=C4=85 wraz z =
za=C5=82=C4=85cznikami. Dzi=C4=99kujemy.
> Wszelkie wskazania dostawcy dotycz=C4=85ce cen detalicznych =
stosowanych przez nasz=C4=85 Sp=C3=B3=C5=82k=C4=99 b=C4=99d=C4=85 =
traktowane jedynie jako niewi=C4=85=C5=BC=C4=85ce rekomendacje cenowe. =
Nasza Sp=C3=B3=C5=82ka samodzielnie kszta=C5=82tuje swoje ceny =
detaliczne, wy=C5=82=C4=85cznie zgodnie z w=C5=82asn=C4=85 polityk=C4=85 =
handlow=C4=85.
> Prosimy o rozwa=C5=BCenie wp=C5=82ywu niepotrzebnego drukowania tego =
dokumentu na =C5=9Brodowisko.=20
> The information contained in this email is confidential, protected and =
intended solely for the use of individual or entity named above. If you =
are not the intended recipient of this email, you are hereby notified =
that any dissemination, distribution or copying of this email is =
strictly prohibited. If you have received this email in error, please =
immediately notify us by email and destroy the original message together =
with its attachments. Thank you.
> Any supplier=E2=80=99s indications regarding retail price to be used =
by our Company will be treated as non-binding price recommendations =
only. Our Company determines its retail prices individually in line with =
its own commercial strategy.
> Please consider the environment before printing this email.
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 15:50:15 2012
Return-Path: <users-return-238475-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D766DE78
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 15:50:15 +0000 (UTC)
Received: (qmail 80176 invoked by uid 500); 7 Dec 2012 15:50:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80087 invoked by uid 500); 7 Dec 2012 15:50:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80058 invoked by uid 99); 7 Dec 2012 15:50:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:50:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of arunkumar.webadmin@gmail.com designates 209.85.223.176 as permitted sender)
Received: from [209.85.223.176] (HELO mail-ie0-f176.google.com) (209.85.223.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:50:03 +0000
Received: by mail-ie0-f176.google.com with SMTP id 13so1639906iea.21
        for <users@tomcat.apache.org>; Fri, 07 Dec 2012 07:49:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=n5ieBz0qVsHYR9VZ9G59pp9V3GWpmwb7WdgzUwd9hBU=;
        b=eQKFkrUGNKkg62qNj+JC6wSqM3ujIK0Im7ihPo+dhDfvi7CZx3Q5W4FbOsTQDhhHHD
         57ZXFmvelQ0hY+gGBL2j4P2PLLdicL0HJCAxcXRTQFZ5efi6H+HdMq47Iw3VIMfVfKmh
         8egg5RH+uQjCpGXXWCA5lMKPL+lUPTSvegeSjFzQRUcNK5DgjkeXwEoprhlskyXZhBnB
         +b9IB9sUBqMfKl1cYILjbFtv+8oUMD/54yXioLJt8Vqf82duuSLsbwznB5FD27UCA+4L
         zWwx/BHSIrbQ9dFLej77pPb+/hFkpY0TnA5p8XWmqwDoBeqpF2efs/eREpKlX9t4hplj
         mpag==
MIME-Version: 1.0
Received: by 10.50.236.104 with SMTP id ut8mr5323184igc.20.1354895383509; Fri,
 07 Dec 2012 07:49:43 -0800 (PST)
Received: by 10.64.28.76 with HTTP; Fri, 7 Dec 2012 07:49:43 -0800 (PST)
Date: Fri, 7 Dec 2012 10:49:43 -0500
Message-ID: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
Subject: mod_proxy SSL protocol support for balancermember
From: Arunkumar Janarthanan <arunkumar.webadmin@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93403430abb2b04d0452a7a
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae93403430abb2b04d0452a7a
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am using Apache 2.2.22 version on RHEL5 and there are instances runs for
credit card data processing, now that the communication between Apache and
Tomcat through proxy balancing uses AJP protocol for the communication and
data tranfer.

I was wondering if there is a way we can use HTTPS protocol in Apache
balancer member after enabling SSL on tomcat engine.

I did enable https on balancer configuration which doesn't work for me got
a 500 error without any appropriate error message on Apache logs.

Please advice.

Thanks,
Arun Janarthanan

--14dae93403430abb2b04d0452a7a--

From users-return-238476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 15:56:54 2012
Return-Path: <users-return-238476-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C3B3DEAB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 15:56:54 +0000 (UTC)
Received: (qmail 13461 invoked by uid 500); 7 Dec 2012 15:56:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13424 invoked by uid 500); 7 Dec 2012 15:56:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13401 invoked by uid 99); 7 Dec 2012 15:56:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:56:50 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_NONE,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.91.69] (HELO nm30-vm0.bullet.mail.ne1.yahoo.com) (98.138.91.69)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:56:40 +0000
Received: from [98.138.226.180] by nm30.bullet.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 15:56:19 -0000
Received: from [98.138.89.175] by tm15.bullet.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 15:56:19 -0000
Received: from [127.0.0.1] by omp1031.mail.ne1.yahoo.com with NNFMP; 07 Dec 2012 15:56:19 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 862990.38001.bm@omp1031.mail.ne1.yahoo.com
Received: (qmail 38619 invoked by uid 60001); 7 Dec 2012 15:56:19 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354895779; bh=0oaXr/rX/9XYzvrcRvM+H4i/BdC73wGfta725ljcmUw=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=sj6wCMo1xRpJnRn8DO+fvD9HuMZgJxuQdWRT05Lv9G4Ek6Dl4wKJk0dxl5cW/yaZoUpbQDVOhs0LPYDxxIElRDxYBhegLkTSUuzjdO7XR8XKhRdlAj2tZ+SvnJ2GTA6Hh0rJm+afu9NXJodXsGv/LFVwZp8Xh8fQm5SYyvjfXiU=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding;
  b=zqWUS9N++eOUQeyIQbKsbqM5CUaJzvxAn4hKrg6pBBQFMzpV1e5bgztGl2GnHBButTDs7kyAaSSgHq4DlWOPDZbFC0eyXKC7kMEamvTommvEKq1UidjDEen0pLTcyj1D9gGbbTTjP6+1shCsXB9QT3dXbGfVYCbYGG8lARKjB/c=;
X-YMail-OSG: zF6aUkEVM1l8ktWclZY8.wEwMCAVi0zuQXyzjXw0ek.BIMB
 L5ZAbs0_szeOCFFac0qUaDS3izcO0CDlmUPF48JGnH3g.4Tcvik4dD0i8JhY
 5bEuQcdBMXkhnXAz64wFh5FVPipTGM8Rp9VDgOJgxhwUWmJ1KcnSOpxjCztu
 .dbKPbjCzrAv6HmSvptTHIKObp0rrWrCnM8FNIXM2P_Pj.Xk092AzRYCXTQq
 W.1Hac96qch8XcMXi8DHlVIKBVCT8r6yFX7ras5W68jHPSt92PGxpVoOirvS
 qHLUp3fJXcXm8V96eXRuglchr.oLGb4aHu0lXsyRQajv7A0oArQnVbf4Gxar
 kSFsupOPraqvh3qT8gmf_0wzlLV5Y_5OXFpzT8u0gGDt5HqCwszQoIMbmQd_
 MjHDAGee8A__xCJkBv5ycQhaUs.LN6o9L2MR_wduXqTmNhJ283U5aGLkcnMQ
 .pC6XjUSmfrTnRf5Mp2Q3e6RCIzflm7Wp.KedGmNqQRdkbg2tQ9F7omDTZd3
 cDY9Pm2DAb6AVxH15g91K2cqTADwhRYY3IzYZAy_sw1j5CUCpXX40lNVpv35
 4wWDnUht35YSYrz94kI.5dvGaw5t880k9O8Pj.RIZpYKT.UwYVVbFqIjwekT
 2keD1bQ89PYda8zzQxWuv
Received: from [195.22.241.18] by web121905.mail.ne1.yahoo.com via HTTP; Fri, 07 Dec 2012 07:56:19 PST
X-Rocket-MIMEInfo: 001.001,SGVyZSBpcyBteSB3b3JraW5nIGNvbmZpZ3VyYXRpb24gLcKgaHR0cGQgcHJveHkgKGFsc28gb24gUkhFTCA1KQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tCsKgIFNTTFByb3h5RW5naW5lIE9uCsKgIDxQcm94eSBiYWxhbmNlcjovL3RvbWNhdF9jbHVzdGVyPgrCoCDCoCBCYWxhbmNlck1lbWJlciBodHRwczovLzEwLjEwLjEwLjExOjg0NDPCoArCoCDCoCBCYWxhbmNlck1lbWJlciBodHRwczovLzEwLjEwLjEwLjEyOjg0NDPCoArCoCA8L1Byb3h5PgoKCsKgICMgUGFzcyByZXF1ZXN0cyB0byBiYWxhbmNlcgrCoCABMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
Message-ID: <1354895779.35863.YahooMailNeo@web121905.mail.ne1.yahoo.com>
Date: Fri, 7 Dec 2012 07:56:19 -0800 (PST)
From: Vladimir Girnet <vgirnetz@yahoo.com>
Reply-To: Vladimir Girnet <vgirnetz@yahoo.com>
Subject: Re: mod_proxy SSL protocol support for balancermember
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Here is my working configuration -=A0httpd proxy (also on RHEL 5)=0A-------=
---------------=0A=A0 SSLProxyEngine On=0A=A0 <Proxy balancer://tomcat_clus=
ter>=0A=A0 =A0 BalancerMember https://10.10.10.11:8443=A0=0A=A0 =A0 Balance=
rMember https://10.10.10.12:8443=A0=0A=A0 </Proxy>=0A=0A=0A=A0 # Pass reque=
sts to balancer=0A=A0 ProxyPass / balancer://tomcat_cluster/=0A=A0 ProxyPas=
sReverse / balancer://tomcat_cluster/=0A---------------------=0A=0A--=0AVla=
dimir Girnet=0A=0A=0A=0A----- Original Message -----=0AFrom: Arunkumar Jana=
rthanan <arunkumar.webadmin@gmail.com>=0ATo: Tomcat Users List <users@tomca=
t.apache.org>=0ACc: =0ASent: Friday, December 7, 2012 5:49 PM=0ASubject: mo=
d_proxy SSL protocol support for balancermember=0A=0AHi,=0A=0AI am using Ap=
ache 2.2.22 version on RHEL5 and there are instances runs for=0Acredit card=
 data processing, now that the communication between Apache and=0ATomcat th=
rough proxy balancing uses AJP protocol for the communication and=0Adata tr=
anfer.=0A=0AI was wondering if there is a way we can use HTTPS protocol in =
Apache=0Abalancer member after enabling SSL on tomcat engine.=0A=0AI did en=
able https on balancer configuration which doesn't work for me got=0Aa 500 =
error without any appropriate error message on Apache logs.=0A=0APlease adv=
ice.=0A=0AThanks,=0AArun Janarthanan=0A

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 15:59:04 2012
Return-Path: <users-return-238477-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DDAC8DEC0
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 15:59:04 +0000 (UTC)
Received: (qmail 25435 invoked by uid 500); 7 Dec 2012 15:59:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25382 invoked by uid 500); 7 Dec 2012 15:59:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25373 invoked by uid 99); 7 Dec 2012 15:59:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:59:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [194.232.133.234] (HELO mx04.apa.at) (194.232.133.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 15:58:52 +0000
Received: from mx182.apa.at (mx182.apa.at [194.232.133.220])
	by mx04.apa.at (Postfix) with ESMTP id 09C3BF1FC1
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 16:58:31 +0100 (CET)
X-AuditID: c2e885dc-b7f3f6d000004b6f-4e-50c212260e19
Received: from smtp.apanet.at (mx03.apa.at [194.232.133.233])
	by mx182.apa.at (APA-IT Spamfilter) with SMTP id 1E.57.19311.62212C05; Fri,  7 Dec 2012 16:58:30 +0100 (CET)
Received: from S011.diepresse.at (mail.diepresse.com [193.22.82.32])
	by mx03.apa.at (Postfix) with ESMTP id ADB78F1F10
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 16:58:30 +0100 (CET)
Received: from s015.diepresse.at ([10.10.110.15]) by S011.diepresse.at with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 7 Dec 2012 16:58:30 +0100
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: AW: Tomcat 7: JSP unloading - NullPointerException
Date: Fri, 7 Dec 2012 16:58:30 +0100
Message-ID: <16702F2F4D271D408CB1E89E3C74B80E047690CC@s015.diepresse.at>
In-Reply-To: <16702F2F4D271D408CB1E89E3C74B80E0476908D@s015.diepresse.at>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Tomcat 7: JSP unloading - NullPointerException
Thread-Index: Ac3UgaiqdYVUsjEFTKeLFqwxeEAInAAAEXzQAANrvXA=
References: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at> <CABzHfV=L0u-zP-4f=_MLjwpnLy5Pr_Ht09-iyHtLGeFdVaR9EA@mail.gmail.com> <16702F2F4D271D408CB1E89E3C74B80E0476908D@s015.diepresse.at>
From: "Keszthelyi Laszlo" <laszlo.keszthelyi@diepresse.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-OriginalArrivalTime: 07 Dec 2012 15:58:30.0590 (UTC) FILETIME=[B3D3DDE0:01CDD493]
X-Brightmail-Tracker: H4sIAAAAAAAAA+NgFrrJLMWRmVeSWpSXmKPExsVy6EXrS101oUMBBq1zrC22fvzK6MDosfFZ
	N3MAYxSXTUpqTmZZapG+XQJXxufZR5gL2jQrVvStZ2pg/KzYxcjJISFgItF7qJ8ZwhaTuHBv
	PVsXIxeHkMAaRolfKxeyQDj7GSV2XPkE5fQzShw/9IoNokVPYtniKSwgNrOAlsSRS02MIDav
	gKDEyZlPoOIGEvcPdbBC2NoSyxa+BlsnLGAt8ejOCaB6Dg4WARWJbdujIVo9JHav2wRWwing
	KbHtwhlGiFWCEotm74G79N+uh2AniAjYSEw/tJwVwraSODp1LtQHpxglNl6bAVbEBrTr/925
	7BBFhhK9815DDQ2WWDn/P9sERrFZSF6YheSFWUhemIXkhQWMLKsYeXIrDC2M9BILEvUSSzYx
	QqLjzg7Gc3e1DzEKcDAq8fDuOHMgQIg1say4MvcQowQHs5II706OQwFCvCmJlVWpRfnxRaU5
	qcWHGJk4OKUaGBXNi5zYfvgVpP/pEDvaU8v9lzHuWnxyzJXbFbGbX6ufqgwJFe8ITmjyTVOe
	ePOhj4L5zSLLf49eTrxicUZje/eMaVec9/pVqkx3u7n306uD8pNbejo2Le8yMma5NOe8imjH
	sovVLNvmHPujyxLT9MsteuLP+ocHzp4Pu3ytbcqk6MbHj6vv2ymxFGckGmoxFxUnAgAOG1eJ
	bAIAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

It looks like the exception appears only when "maxLoadedJsps" and " =
jspIdleTimeout" are set to a value >0 in tomcat/conf/web.xml and ".tag" =
files are used with jsp- scriptlets.

Web.xml changes:
        <init-param>
            <param-name>maxLoadedJsps</param-name>
            <param-value>1000</param-value>
        </init-param>
        <init-param>
            <param-name>jspIdleTimeout</param-name>
            <param-value>5</param-value>
        </init-param>


The exception can be observed in the example "Tag Files" -> "Display =
Products Example" but you have to edit the =
WEB-INF/tags/displayProducts.tag and append the following example =
scriptlet:

<%
 String test =3D "this is =3D";
 if (normalPrice !=3D null)=20
  test =3D test + normalPrice + " something";
 else
  test =3D test + onSale + "=3D";
 StringBuilder tags=3Dnew StringBuilder(test);
 tags.append(".").append(test).append("..."); // change here
 test =3D tags.toString();
 request.setAttribute("test", test);
%>
<%=3Dtest %>

Start Tomcat and invoke the example jsp =
http://localhost:8080/examples/jsp/jsp2/tagfiles/products.jsp

Wait and observe the catalina.out (or tomcat output) for exceptions. =
Normaly the exception won't appear. Now edit the previously added =
scriplet in WEB-INF/tags/displayProducts.tag modifying any string in one =
of the append statements.
Call the example jsp again, tomcat should recompile the tag, wait and =
observe again your tomcat output.=20
Do not shutdown or restart tomcat between these steps! Tomcat should =
recompile the tag on the fly.

We were able to reproduce the exception on Tomcat 7.0.30, 7.0.32 and =
7.0.33 on different machines using the described steps.


Best regads
Laszlo

-----Urspr=FCngliche Nachricht-----
Von: Keszthelyi Laszlo [mailto:laszlo.keszthelyi@diepresse.com]=20
Gesendet: Freitag, 07. Dezember 2012 15:10
An: Tomcat Users List
Betreff: AW: Tomcat 7: JSP unloading - NullPointerException

Thank you for your fast reply, i will try to reproduce the problem with =
the example tag-files. Otherwise i will prepare a small web app to =
reproduce the bug and post it.

Best regards,
Laszlo

-----Urspr=FCngliche Nachricht-----
Von: Konstantin Kolinko [mailto:knst.kolinko@gmail.com]=20
Gesendet: Freitag, 07. Dezember 2012 14:49
An: Tomcat Users List
Betreff: Re: Tomcat 7: JSP unloading - NullPointerException

2012/12/7 Keszthelyi Laszlo <laszlo.keszthelyi@diepresse.com>:
>
> since Tomcat 7.0.30 (currently using version 7.0.33) I'm faced with =
the
> following NullPointerException:
>
> Dec 7, 2012 2:10:28 PM
> org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor
> processChildren
> SEVERE: Exception invoking periodic operation:
> java.lang.NullPointerException
>         at
> =
org.apache.jasper.util.FastRemovalDequeue$Entry.access$700(FastRemovalDe
> queue.java:254)
>         at
> =
org.apache.jasper.util.FastRemovalDequeue.remove(FastRemovalDequeue.java
> :177)
>         at
> =
org.apache.jasper.compiler.JspRuntimeContext.checkUnload(JspRuntimeConte
> xt.java:610)
>         at
> =
org.apache.jasper.servlet.JspServlet.periodicEvent(JspServlet.java:360)
>         at
> =
org.apache.catalina.core.StandardWrapper.backgroundProcess(StandardWrapp
> er.java:709)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1530)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.proc
> essChildren(ContainerBase.java:1540)
>         at
> =
org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(
> ContainerBase.java:1519)
>         at java.lang.Thread.run(Thread.java:662)
>
> I was able to debug and trace the exception and found that the =
Excpetion
> is caused by a '.tag', I'm including in my JSP, which has no
> UnloadHandle assigned when processed in
> org.apache.jasper.compiler.JspRuntimeContext.checkUnload() line 610:
> jspQueue.remove(jsw.getUnloadHandle());
>
> Because jsw.getUnloadHandle() returns null, jspQueue.remove() fails =
and
> is throwing the NullPointerException everytime, aborting the "unload".
>
> Does anyone have an idea how to solve this problem or is there already =
a
> fix?
>

Steps to reproduce =3D ?

Can you prepare a sample simple web application that demonstrates the
bug and file it into Bugzilla?

(Maybe it can be observed with the examples webapp? There are several
tags there.)

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:06:22 2012
Return-Path: <users-return-238478-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 69BFEDF50
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:06:22 +0000 (UTC)
Received: (qmail 60406 invoked by uid 500); 7 Dec 2012 16:06:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60176 invoked by uid 500); 7 Dec 2012 16:06:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60164 invoked by uid 99); 7 Dec 2012 16:06:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:06:18 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.86 as permitted sender)
Received: from [65.55.111.86] (HELO blu0-omc2-s11.blu0.hotmail.com) (65.55.111.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:06:09 +0000
Received: from BLU172-W23 ([65.55.111.72]) by blu0-omc2-s11.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 7 Dec 2012 08:05:48 -0800
X-Originating-IP: [209.144.63.76]
X-EIP: [uFkF149zHRABZVC4Q2oWyGqhCpNsoNQ0]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W238832D410113302A47D65AE440@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_c6cb8647-a81b-4ba5-aaea-eae3a3696b5b_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: mod_proxy SSL protocol support for balancermember
Date: Fri, 7 Dec 2012 11:05:48 -0500
Importance: Normal
In-Reply-To:
 <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
References:
 <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 07 Dec 2012 16:05:48.0920 (UTC) FILETIME=[B917B780:01CDD494]
X-Virus-Checked: Checked by ClamAV on apache.org

--_c6cb8647-a81b-4ba5-aaea-eae3a3696b5b_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


did you setJKLogLevel debug in httpd.conf? http://tomcat.apache.org/connect=
ors-doc/webserver_howto/apache.html
install the debug version of redirector (instead of release) quiesce TCboun=
ce Apachereboot TC
Martin=20
______________________________________________=20
Verzicht und Vertraulichkeitanmerkung=20
Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
 > Date: Fri=2C 7 Dec 2012 10:49:43 -0500
> Subject: mod_proxy SSL protocol support for balancermember
> From: arunkumar.webadmin@gmail.com
> To: users@tomcat.apache.org
>=20
> Hi=2C
>=20
> I am using Apache 2.2.22 version on RHEL5 and there are instances runs fo=
r
> credit card data processing=2C now that the communication between Apache =
and
> Tomcat through proxy balancing uses AJP protocol for the communication an=
d
> data tranfer.
>=20
> I was wondering if there is a way we can use HTTPS protocol in Apache
> balancer member after enabling SSL on tomcat engine.
>=20
> I did enable https on balancer configuration which doesn't work for me go=
t
> a 500 error without any appropriate error message on Apache logs.
>=20
> Please advice.
>=20
> Thanks=2C
> Arun Janarthanan
 		 	   		  =

--_c6cb8647-a81b-4ba5-aaea-eae3a3696b5b_--

From users-return-238479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:10:02 2012
Return-Path: <users-return-238479-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 337B2DF6C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:10:02 +0000 (UTC)
Received: (qmail 74376 invoked by uid 500); 7 Dec 2012 16:09:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74330 invoked by uid 500); 7 Dec 2012 16:09:58 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74300 invoked by uid 99); 7 Dec 2012 16:09:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:09:57 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:09:49 +0000
Received: from [192.168.245.129] (p549E90C4.dip0.t-ipconnect.de [84.158.144.196])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 36A423C0541
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 17:10:18 +0100 (CET)
Message-ID: <50C214B4.60104@ice-sa.com>
Date: Fri, 07 Dec 2012 17:09:24 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_proxy SSL protocol support for balancermember
References: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com> <1354895779.35863.YahooMailNeo@web121905.mail.ne1.yahoo.com>
In-Reply-To: <1354895779.35863.YahooMailNeo@web121905.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Vladimir,

on this list, the rule is to not "top post".
Post your answer below the original message, or below the question to which it refers.
This way, one can follow the conversation logically.

> 
> 
> ----- Original Message -----
> From: Arunkumar Janarthanan <arunkumar.webadmin@gmail.com>
> To: Tomcat Users List <users@tomcat.apache.org>
> Cc: 
> Sent: Friday, December 7, 2012 5:49 PM
> Subject: mod_proxy SSL protocol support for balancermember
> 
> Hi,
> 
> I am using Apache 2.2.22 version on RHEL5 and there are instances runs for
> credit card data processing, now that the communication between Apache and
> Tomcat through proxy balancing uses AJP protocol for the communication and
> data tranfer.
> 
> I was wondering if there is a way we can use HTTPS protocol in Apache
> balancer member after enabling SSL on tomcat engine.
> 
> I did enable https on balancer configuration which doesn't work for me got
> a 500 error without any appropriate error message on Apache logs.
> 
Vladimir Girnet wrote:
 > Here is my working configuration - httpd proxy (also on RHEL 5)
 > ----------------------
 >   SSLProxyEngine On
 >   <Proxy balancer://tomcat_cluster>
 >     BalancerMember https://10.10.10.11:8443
 >     BalancerMember https://10.10.10.12:8443
 >   </Proxy>
 >
 >
 >   # Pass requests to balancer
 >   ProxyPass / balancer://tomcat_cluster/
 >   ProxyPassReverse / balancer://tomcat_cluster/
 > ---------------------
 >
 > --

Yes, but this is not using the AJP protocol.
The AJP protocol does not support SSL (so using mod_proxy_AJP will not work, and mod_jk 
neither)
If you really need AJP, there are possibilities using SSL tunnels etc. Search the list 
archives for those.

But maybe a question first : the usual setup with a front-end load-balancer is to use 
HTTPS between the client browser and the front-end, but "terminate" HTTPS at the 
front-end, and make a normal connection from the front-end to the back-end tomcats, which 
tend to be in the same local network as the front-end anyway.
Having a first encryption-decryption and then a second encryption-decryption again 
introduces a significant overhead.
So, do you have a specific reason for which you want to do this ?





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:34:48 2012
Return-Path: <users-return-238480-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D897EB41
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:34:48 +0000 (UTC)
Received: (qmail 53856 invoked by uid 500); 7 Dec 2012 16:34:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53440 invoked by uid 500); 7 Dec 2012 16:34:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53403 invoked by uid 99); 7 Dec 2012 16:34:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:34:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of arunkumar.webadmin@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:34:38 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so1117865iac.18
        for <users@tomcat.apache.org>; Fri, 07 Dec 2012 08:34:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=GIWwsR3VBuClK1m7MNVIDXXSQNF+LF3U5zHUJSYNbZU=;
        b=L6KSGY2pOBHLk10HCDyPk92f2GHbutetjIPfHLL95DQmlirMvHsjR2FDGxd1DlBn04
         fV8ElelUOoimYFyuD77seXFSK3UwLPvLdAwej39JNpqknTcEYGwB93lYJsn41bLUDEi6
         0myZ29s1aALmUc1JxkWIcCRZ28K2ObnvGA/DEUdtmqtjL/aHEPCRBdZ1LbSkRfnNaAh2
         UpQWCqaVVqyic1cqB62vNbxP3qMKxMxQNr04eUnXaNQJqYKjicZsFA9XkbpUAX+BIBXh
         O1qNMDNL5xqKmCN4t9v+67qDBdhcP+3hKfZnSj+vU3RPF+1Gkv1WZlxofMyutoNJdc2N
         xsGQ==
MIME-Version: 1.0
Received: by 10.43.92.72 with SMTP id bp8mr4840049icc.49.1354898045824; Fri,
 07 Dec 2012 08:34:05 -0800 (PST)
Received: by 10.64.28.76 with HTTP; Fri, 7 Dec 2012 08:34:05 -0800 (PST)
In-Reply-To: <50C214B4.60104@ice-sa.com>
References: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com>
	<1354895779.35863.YahooMailNeo@web121905.mail.ne1.yahoo.com>
	<50C214B4.60104@ice-sa.com>
Date: Fri, 7 Dec 2012 11:34:05 -0500
Message-ID: <CALJ+eNJzZS+97GG0gv+RhCPBqsoiE7W49VGkS45y=xQAW-usHg@mail.gmail.com>
Subject: Re: mod_proxy SSL protocol support for balancermember
From: Arunkumar Janarthanan <arunkumar.webadmin@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec517c8c8ba6d3904d045c84b
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec517c8c8ba6d3904d045c84b
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks for the response Gentlemen, I am not really particular about the AJP
for secure communication as long as I can use https that should work for
me, the reason for specific secure communication between Apache and Tomcat
is the PCI compliance enforcing us not to have any other protocol other
than https.

Please let me know if you have any questions.

Thanks,
Arun Janarthanan

On Fri, Dec 7, 2012 at 11:09 AM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Vladimir,
>
> on this list, the rule is to not "top post".
> Post your answer below the original message, or below the question to
> which it refers.
> This way, one can follow the conversation logically.
>
>
>
>>
>> ----- Original Message -----
>> From: Arunkumar Janarthanan <arunkumar.webadmin@gmail.com>
>> To: Tomcat Users List <users@tomcat.apache.org>
>> Cc: Sent: Friday, December 7, 2012 5:49 PM
>> Subject: mod_proxy SSL protocol support for balancermember
>>
>> Hi,
>>
>> I am using Apache 2.2.22 version on RHEL5 and there are instances runs f=
or
>> credit card data processing, now that the communication between Apache a=
nd
>> Tomcat through proxy balancing uses AJP protocol for the communication a=
nd
>> data tranfer.
>>
>> I was wondering if there is a way we can use HTTPS protocol in Apache
>> balancer member after enabling SSL on tomcat engine.
>>
>> I did enable https on balancer configuration which doesn't work for me g=
ot
>> a 500 error without any appropriate error message on Apache logs.
>>
>>  Vladimir Girnet wrote:
> > Here is my working configuration - httpd proxy (also on RHEL 5)
> > ----------------------
> >   SSLProxyEngine On
> >   <Proxy balancer://tomcat_cluster>
> >     BalancerMember https://10.10.10.11:8443
> >     BalancerMember https://10.10.10.12:8443
> >   </Proxy>
> >
> >
> >   # Pass requests to balancer
> >   ProxyPass / balancer://tomcat_cluster/
> >   ProxyPassReverse / balancer://tomcat_cluster/
> > ---------------------
> >
> > --
>
> Yes, but this is not using the AJP protocol.
> The AJP protocol does not support SSL (so using mod_proxy_AJP will not
> work, and mod_jk neither)
> If you really need AJP, there are possibilities using SSL tunnels etc.
> Search the list archives for those.
>
> But maybe a question first : the usual setup with a front-end
> load-balancer is to use HTTPS between the client browser and the front-en=
d,
> but "terminate" HTTPS at the front-end, and make a normal connection from
> the front-end to the back-end tomcats, which tend to be in the same local
> network as the front-end anyway.
> Having a first encryption-decryption and then a second
> encryption-decryption again introduces a significant overhead.
> So, do you have a specific reason for which you want to do this ?
>
>
>
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec517c8c8ba6d3904d045c84b--

From users-return-238481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:48:55 2012
Return-Path: <users-return-238481-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 672E7EB8C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:48:55 +0000 (UTC)
Received: (qmail 94454 invoked by uid 500); 7 Dec 2012 16:48:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94217 invoked by uid 500); 7 Dec 2012 16:48:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94179 invoked by uid 99); 7 Dec 2012 16:48:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:48:50 +0000
X-ASF-Spam-Status: No, hits=4.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.148.246] (HELO nm11-vm7.bullet.mail.sg3.yahoo.com) (106.10.148.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:48:41 +0000
Received: from [106.10.166.123] by nm11.bullet.mail.sg3.yahoo.com with NNFMP; 07 Dec 2012 16:48:18 -0000
Received: from [106.10.151.218] by tm12.bullet.mail.sg3.yahoo.com with NNFMP; 07 Dec 2012 16:48:18 -0000
Received: from [127.0.0.1] by omp1016.mail.sg3.yahoo.com with NNFMP; 07 Dec 2012 16:48:18 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 129487.66395.bm@omp1016.mail.sg3.yahoo.com
Received: (qmail 73216 invoked by uid 60001); 7 Dec 2012 16:48:18 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354898898; bh=urUGhKPWYQjB2N9w1XBUi7kiCSIAYNumSwFcPR3no2I=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=RXKNoLSxdInSbhQZL3zl905SqSxakGDte4P29MSxVVKpk1or5ALEJZGr9DmX5c7Hgl6273yywDuz8Iy4N6gcXmvJiuGdXTBayxGu12wFVQRKHmUDb6zbWVvT9YBGug14IPZ95Awa08vNQxjgPf+jkS8r/HgzU69pz2hixD+lMLo=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=PZaDOLlmsH+lkGHBx5SDZ9kMpBhIwwb5T2B9iYM26YiMhuiIyYb8nkeJQw0+uokF+ObYgEN9SQ7FvWseoEqwRukCR0ROUYW47lhLzyq3RtJK2aXmrNAW3RYCIx6g8O6bjdE4b2Jhyv8rcXWVVcRE4nfgkKhHRhp692vqH17nVT0=;
X-YMail-OSG: xBs9f5oVM1mni3gzYQRQ7Jknmwo0B6B310txUHuvyXd7gOY
 7oQxsIUhspY.Y1pFdjL5AdM960S0BP9G_u3V4gNHxE_2G4qqwjD.zRsvvt3W
 zGqxzxRcjLbAWbG6_VsFxsJHdW4jQO5WI0GrInkKa4QQo3xahovVSkhFegKq
 og6MG8joJWaAmVFfh71H7kv_Ffm641mQKLhsihmfpFA18i2pB.r6.slWbDfd
 Q_GDWuuHf9T8J9kjuFqYn_SU.fc1CpcUlqGGu5sH2m7xY3JhVtyvDmw.0FUT
 CSYnKuCihJ_e4O_UhdNydzgToUzGEFnhIQ0fikoXWFvyVRtJL6yHdaVoYzkK
 o8iqTANVoh4Rld0l0HB5O7JIVZuthPe6kH_0Q4FTIh0SnK95MmtLe1bKzg3o
 ODWprHhO2rilppNFuvvs3NOFVvL7.YjTJ2SeT3bgzhmwuJv3VkDPGCyoQsNq
 NI9xYxBJ93NQAKA1zRciIg8IW.uS9X7M6TbJOdFN5
Received: from [180.151.36.169] by web193101.mail.sg3.yahoo.com via HTTP; Sat, 08 Dec 2012 00:48:17 SGT
X-Rocket-MIMEInfo: 001.001,SGkgR3V5cywKwqAKSSBoYXZlIGEgcmVxdWlyZW1lbnQgaW4gd2hpY2ggaSBuZWVkIHRvIGFkZCBjb3VwbGUgb2YgcHJvcGVydGllcyBmaWxlcyB0byB0b21jYXQgQ0xBU1NQQVRIIGFzIHRoZXNlIGFyZSBuZWVkZWQgZm9yIG15IGFwcGxpY2F0aW9uIGRlcGxveWVkIGluIFRvbWNhdCA2LjAuCsKgCk9uZcKgc3RyYW5nZSB0aGluZyBpcyB0aGF0LMKgaSBuZWVkIHRvIGFkZCB0aGUgYWxsIG15IHByb3BlcnRpZXMgZmlsZXMgdG8gIjxDQVRBTElOQV9CQVNFPi9iaW4iIGRpcmVjdG9yeSBlbHNlIHRoZXNlIGFsbCABMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
Message-ID: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
Date: Sat, 8 Dec 2012 00:48:17 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-886612536-352022526-1354898897=:39776"
X-Virus-Checked: Checked by ClamAV on apache.org

---886612536-352022526-1354898897=:39776
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi Guys,=0A=A0=0AI have a requirement in which i need to add couple of prop=
erties files to tomcat CLASSPATH as these are needed for my application dep=
loyed in Tomcat 6.0.=0A=A0=0AOne=A0strange thing is that,=A0i need to add t=
he all my properties files to "<CATALINA_BASE>/bin" directory else these al=
l wont get added to Tomcat classpath.=0A=A0=0AI just want to confirm that i=
s it by design that if i want to add any properties file to Tomcat CLASSPAT=
H then adding files to " <CATALINA_BASE>/bin " directory=0Ais the solution =
we have or something else we can also do ??? Please suggest=0A=A0=0AWhy can=
t we add files to " <CATALINA_BASE>/conf" directory so that it get added to=
 tomcat CLASSPATH=0A=A0=0AThanks=0AVicky
---886612536-352022526-1354898897=:39776--

From users-return-238482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:56:42 2012
Return-Path: <users-return-238482-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C4F79EBDF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:56:42 +0000 (UTC)
Received: (qmail 23748 invoked by uid 500); 7 Dec 2012 16:56:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 23710 invoked by uid 500); 7 Dec 2012 16:56:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 23683 invoked by uid 99); 7 Dec 2012 16:56:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:56:38 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:56:32 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id YdKV1k0071uE5Es5DgwAQ4; Fri, 07 Dec 2012 16:56:10 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id Ygw81k00M38FjT13cgw9iz; Fri, 07 Dec 2012 16:56:10 +0000
Message-ID: <50C21FA5.50907@christopherschultz.net>
Date: Fri, 07 Dec 2012 11:56:05 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <50C0B868.2030909@christopherschultz.net> <50C0BF78.8040602@ice-sa.com> <50C0EA5A.3050203@christopherschultz.net> <50C0F4B1.8050600@ice-sa.com> <50C1223F.30103@christopherschultz.net> <50C1AE0B.5060603@ice-sa.com>
In-Reply-To: <50C1AE0B.5060603@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354899370;
	bh=tQaMgeqEW5IFj2Q+jj+vYm8sPJws/DhlmXfJVMcodQs=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=MuVojN/KwUk+F1z7sOeRVHWHQdpKZ1DqyQPzxipPUrVRC053/xLwGKYwAkbm+vI1R
	 btVh7PwjUR2tS9EXtde1pjFlpKs0MI24WOlXoyeQhrECfSUc2UJknVMrfookvHEngN
	 s2HBg5Z+nLbh3l/wBFoHv/vLNYW0qJ0JHRDDEU4/YeGJJIKMptj2iga9lI4rWfxS5Q
	 qPL+jIII4JmkyWZf692Csn/7WONBUxTZzIuF1O0h3fUJx4XyHX1o5CUQvJzngFdU8L
	 fYjms5zIrZwYSxKg7XnZQUWQl5seVqUvx2G5ETrdti/AcdOB7v/mQdWDAFxiCcTtLH
	 jWD8tmRzywenA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/7/12 3:51 AM, AndrÃ© Warnier wrote:
> You are going to force me to disclose the details, and thus maybe
> lose my patenting opportunity, but oh well. I am not thinking of a
> regular ping which would run independently. What I am thinking of
> is this : - the front-end httpd server intercepts all requests for
> this application "early" (before mod_jk gets to see them). That's
> not a problem. - the interceptor at the front-end retrieves the
> jsession.jvmroute from the URL (or even the cookie), and
> reformulates a request to tomcat, substituting the real application
> path by the path of a "ping responder" servlet within the target
> application, adding the jsessionid.jvmroute back into this new
> path. It then makes an (internal) request to this URL. (In the
> meantime, the original request is held; that's not a problem
> either).

I knew this was what you were talking about. I was suggesting that
such a technique would be needlessly complex and would reduce
performance. Since "session expired" is an exception case, it should
be treated as such instead of as the norm. Tomcat can barf somewhat
normally when a session has expired and mod_jk can take appropriate
action. Namely: re-balance the request (if you'll allow such a loose
term) and strip the session id from the re-balanced request as it goes
to a (potentially different) back-end Tomcat.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCH6UACgkQ9CaO5/Lv0PDMoQCcC4nFzqLqR0DDHXz40oL2VFO1
bL0Ani/DUcUGqrHNOXSN4kdlLJmPmnJ7
=73HZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 16:59:45 2012
Return-Path: <users-return-238483-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 403BEEC09
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 16:59:45 +0000 (UTC)
Received: (qmail 35545 invoked by uid 500); 7 Dec 2012 16:59:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 35371 invoked by uid 500); 7 Dec 2012 16:59:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 35357 invoked by uid 99); 7 Dec 2012 16:59:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:59:41 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 16:59:34 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id YcND1k0050Fqzac55gzDPM; Fri, 07 Dec 2012 16:59:13 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id YgzD1k00538FjT13UgzDd6; Fri, 07 Dec 2012 16:59:13 +0000
Message-ID: <50C2205E.6080307@christopherschultz.net>
Date: Fri, 07 Dec 2012 11:59:10 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com> <50C1253B.9080708@christopherschultz.net> <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com> <50C1B3E3.5050804@ice-sa.com>
In-Reply-To: <50C1B3E3.5050804@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354899553;
	bh=YMVSgi6dHNXNVCnkYlPuaAhf3IWRTAN9nL+wMWhNGF8=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=CMO1U3P3sKmdy1sHH+IuVDZ5917uwKfOUe1eUpxJJksVyY5Y5ikbpYKxgmsdH0sEP
	 p45PhQU9eeOUJJK6cMvXtfy8AYNhwzhjthxSzd1fHdSMmJhvPq1yyVUCEBSaDtJFjf
	 d1gKXBSFAKyz0KuVicWji4nBZ8pp7c+ePfKLMdkEeyrs+5pIX/NdxehCisIeIAeyUr
	 e4fcQCRkpz8AEBSd+sXZwHy/qzzTD2/AGKcifu7zPlCp/hpmOrKit6RRyJmMao2zh6
	 I+I63yNMZnws62AIaxxEPDQPFXWK5aEpmGfnDgiyhZfpsWjM6yo5Ro9VbdXXskG4rV
	 yyq8dsAz90VVQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/7/12 4:16 AM, AndrÃ© Warnier wrote:
> Williams, Nick wrote:
>>> -----Original Message----- From: Christopher Schultz
>>> [mailto:chris@christopherschultz.net] Sent: Thursday, December
>>> 06, 2012 5:08 PM To: Tomcat Users List Subject: Re: Is it
>>> possible to expire jvmRoute cookie
>>> 
>>>> 2. How one additional user can be a problem in such a system?
>>>> If he accesses a heavy-loaded system the things will be slow
>>>> for him, but faster for all others, who close their browsers
>>>> regularly.
>>> Let's take a pathological example:
>>> 
>>> Assumptions: 1. Cluster has 3 nodes (A, B, C) 2. Users never
>>> close their browsers
>>> 
>>> Let's say that server A is rock-solid and never goes down.
>>> Servers B and C are running Gentoo Linux or Debian Sid or
>>> Microsoft Windows or have flaky hardware and so they crash or
>>> need to be  rebooted all the time; perhaps daily.
>>> 
>>> Users on nodes B and C will constantly fail-over to node A.
>>> 
>>> Those users will stick on node A pretty much forever.
>>> 
>>> Therefore node A always gets most of the traffic, and nodes B
>>> and C only get "new" users for a while before failing-over.
>>> Even if nodes B and C can handle 1/3 of the load, they will get
>>> much less than that, and node A will, over time, accumulate
>>> users without bound.
>>> 
>>> It would be nice to avoid this kind of situation.
>>> 
>>>> So one could recommend that if things go slow to close one's
>>>> browser, clean caches, or even reboot. ;)
>> 
>> "If I called tech support for a website and they told me I needed
>> to close my browser or reboot my computer to just to use their
>> website, I would assume that they were complete idiots. If I want
>> to be lied to about what the problem is, I'll call my home
>> broadband provider." <-- HAHAHA ... nice one.
>> 
>> I agree with Chris, here. It's not a "common" situation, but it
>> is a possible situation, and if it occurred, it could get ugly
>> quickly.
>> 
>> Earlier somebody (I'm sorry, I already deleted the email)
>> suggested Tomcat returning a 308 or 309 or similar to the load
>> balancer to trigger a "re-balance" if the session is expired. I
>> think this is the best idea I've heard yet, solves the problem
>> elegantly and simply, and seems (relatively) easy to achieve
>> (this coming from someone who has no knowledge of the code used
>> by mod_jk/isapi_redirector).
>> 
> 
> I must admit that this sounds more elegant (and efficient) than my 
> suggested interceptor module.
> 
> Alternatively, if one wanted to avoid touching mod_jk for this,
> maybe tomcat could return a 302 redirect to the starting page of
> this application, if known ? (without jsessionid.jvmroute of
> course).

That's definitely an idea worth pursuing: an expired session id could
return 302 *and* strip the jsessionid path parameter *and* send a
Set-Cookie JSESSIONID; expiration=0 header (which deletes the cookie).
The client would re-try and the balancer would re-balance.

Konstantin, what do you think? Obviously, this shouldn't be the
default operation of Tomcat, but perhaps a setting that could be
enabled on the session manager?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCIF4ACgkQ9CaO5/Lv0PDJoACgw9Ys1rnye8NK24fFCtZ6x8Dj
PKwAn0kws7TwyT6T4qURPbq3vtkXjxWI
=2vJC
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 17:03:30 2012
Return-Path: <users-return-238484-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 284EEEC52
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 17:03:30 +0000 (UTC)
Received: (qmail 49538 invoked by uid 500); 7 Dec 2012 17:03:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49478 invoked by uid 500); 7 Dec 2012 17:03:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49469 invoked by uid 99); 7 Dec 2012 17:03:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:03:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:03:19 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id YcVN1k0020mv7h05Dh2xxB; Fri, 07 Dec 2012 17:02:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id Yh2u1k00S38FjT13Xh2w8z; Fri, 07 Dec 2012 17:02:56 +0000
Message-ID: <50C2213C.8030900@christopherschultz.net>
Date: Fri, 07 Dec 2012 12:02:52 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: AW: Tomcat 7: JSP unloading - NullPointerException
References: <16702F2F4D271D408CB1E89E3C74B80E04769082@s015.diepresse.at> <CABzHfV=L0u-zP-4f=_MLjwpnLy5Pr_Ht09-iyHtLGeFdVaR9EA@mail.gmail.com> <16702F2F4D271D408CB1E89E3C74B80E0476908D@s015.diepresse.at> <16702F2F4D271D408CB1E89E3C74B80E047690CC@s015.diepresse.at>
In-Reply-To: <16702F2F4D271D408CB1E89E3C74B80E047690CC@s015.diepresse.at>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354899777;
	bh=bCZeXQL+MhahCzRrTDSDfM1Rrlov+ELmDrUqlC4CuEA=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=g7AVBxItbifiz2KRff2L09y8CzA21n20fYS+o6X68PW44cFcVy3JIMlaFqYGf+rP+
	 ZLdvcKotHZapOsYo9IkAuPCCfxabkVatz1cCPXthMwP42ZUldzCGs2Zeov3WO3Wlul
	 JLYvjHRAMSDqqwoGo6uyY8VbwAcDxNfGXVIc0oabcDvzG+U147aelLGguXLzw+Sg+x
	 0BacjCEvvkSWc4amdCj6wtC+p+foua08zkETpeyMPtVpbxIhwBUrzCxisqdYbqM4mM
	 StPGJGVyT6gK26E18w5+6do6lviSOzH8aTDHYSVqyt4/L7qKF3Sljrcx9KJVprN+7p
	 KfDtDXRzjKt0Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Laszlo,

On 12/7/12 10:58 AM, Keszthelyi Laszlo wrote:
> It looks like the exception appears only when "maxLoadedJsps" and "
> jspIdleTimeout" are set to a value >0 in tomcat/conf/web.xml and
> ".tag" files are used with jsp- scriptlets.

Thanks for the research. If you haven't already, please file this in
bugzilla with all the detail you have already provided here.

https://issues.apache.org/bugzilla/enter_bug.cgi?product=Tomcat%207

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCITsACgkQ9CaO5/Lv0PDT2gCdE5lXMArsLWvQxIu1EWfeWj3z
UCEAoL9G55OMXL6MwD6129nwAfe3kcbD
=qQum
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 17:08:19 2012
Return-Path: <users-return-238485-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7C4E2EC83
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 17:08:19 +0000 (UTC)
Received: (qmail 64897 invoked by uid 500); 7 Dec 2012 17:08:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64691 invoked by uid 500); 7 Dec 2012 17:08:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64667 invoked by uid 99); 7 Dec 2012 17:08:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:08:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:08:07 +0000
Received: from omta20.westchester.pa.mail.comcast.net ([76.96.62.71])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id YfRp1k0031YDfWL5Dh7l6R; Fri, 07 Dec 2012 17:07:45 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta20.westchester.pa.mail.comcast.net with comcast
	id Yh7j1k00S38FjT13gh7kKZ; Fri, 07 Dec 2012 17:07:45 +0000
Message-ID: <50C2225C.5000209@christopherschultz.net>
Date: Fri, 07 Dec 2012 12:07:40 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: mod_proxy SSL protocol support for balancermember
References: <CALJ+eNK9wS_02m-=x_FUYnvMEX0-qz59TfBtX1j-733bng8shQ@mail.gmail.com> <1354895779.35863.YahooMailNeo@web121905.mail.ne1.yahoo.com> <50C214B4.60104@ice-sa.com> <CALJ+eNJzZS+97GG0gv+RhCPBqsoiE7W49VGkS45y=xQAW-usHg@mail.gmail.com>
In-Reply-To: <CALJ+eNJzZS+97GG0gv+RhCPBqsoiE7W49VGkS45y=xQAW-usHg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354900065;
	bh=gZG6yORSpCa+PtYGirYBpqhuHGVY0JiWKiSikE6Sf+0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Wus8gh/zYRWmpHdx/tEenCDXxJWBGtMQrbuO5Bq6QDHWXkv4W1DraDqkiQqC0vDUR
	 rBXsgQrieYFss5/nYMjsun9ycsJGKJe6qBgC0+dJXcLegnj5/iQ/dtMlxng/erDjtF
	 sZVPasc/kr3p5QwdhR8A/G6lMv80nVLrnWSMlhZ21rVJuQ/V+jYAxIx1cPfnMgZmKB
	 OzSpGCAU2a4xA5TSvYUD2jMl5fGeicYZhpQQb1jDCgbOA4L/X+v/NsdJCfsBXSIhre
	 A58qq1arN/GobI5B9ug9+ev5mzLs5d+t3v9MFXYNh7jR3mR1ZN7uY2gg+Csu9FYd1x
	 j/v2IqEoDTQjQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Arun,

On 12/7/12 11:34 AM, Arunkumar Janarthanan wrote:
> Thanks for the response Gentlemen, I am not really particular about
> the AJP for secure communication as long as I can use https that
> should work for me, the reason for specific secure communication
> between Apache and Tomcat is the PCI compliance enforcing us not to
> have any other protocol other than https.

I didn't realize that PCI required HTTPS for all communications
(actually, I have a hard time believing that, since not all CC
communications even use HTTP... like over a dial-up device).

But, if you must use HTTPS, then you've going to have to abandon AJP.

The configuration posted by Vladimir is pretty much the simplest thing
you could possibly do. If you want to use a self-signed certificate
from httpd->Tomcat, you may have to make arrangements for httpd to
trust that certificate.

If you want to forward the original SSL information back to Tomcat,
you're going to have to read about the various configuration
environment variables for mod_proxy_http and set them appropriately.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCIlwACgkQ9CaO5/Lv0PCkhQCfXLyIyyiqlsSVoy3hl/avezBG
YigAoJOOoMTtr9GCpVbNghYqPWuXWbIf
=CcH7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 17:46:39 2012
Return-Path: <users-return-238486-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E08C0DEDA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 17:46:39 +0000 (UTC)
Received: (qmail 77301 invoked by uid 500); 7 Dec 2012 17:46:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77245 invoked by uid 500); 7 Dec 2012 17:46:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77216 invoked by uid 99); 7 Dec 2012 17:46:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:46:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 17:46:25 +0000
Received: from [192.168.245.129] (p549E90C4.dip0.t-ipconnect.de [84.158.144.196])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 5EFFA3C098F
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 18:46:54 +0100 (CET)
Message-ID: <50C22B58.8080308@ice-sa.com>
Date: Fri, 07 Dec 2012 18:46:00 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com> <50C1253B.9080708@christopherschultz.net> <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com> <50C1B3E3.5050804@ice-sa.com> <50C2205E.6080307@christopherschultz.net>
In-Reply-To: <50C2205E.6080307@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> AndrÃ©,
> 
> On 12/7/12 4:16 AM, AndrÃ© Warnier wrote:
>> Williams, Nick wrote:
>>>> -----Original Message----- From: Christopher Schultz
>>>> [mailto:chris@christopherschultz.net] Sent: Thursday, December
>>>> 06, 2012 5:08 PM To: Tomcat Users List Subject: Re: Is it
>>>> possible to expire jvmRoute cookie
>>>>
>>>>> 2. How one additional user can be a problem in such a system?
>>>>> If he accesses a heavy-loaded system the things will be slow
>>>>> for him, but faster for all others, who close their browsers
>>>>> regularly.
>>>> Let's take a pathological example:
>>>>
>>>> Assumptions: 1. Cluster has 3 nodes (A, B, C) 2. Users never
>>>> close their browsers
>>>>
>>>> Let's say that server A is rock-solid and never goes down.
>>>> Servers B and C are running Gentoo Linux or Debian Sid or
>>>> Microsoft Windows or have flaky hardware and so they crash or
>>>> need to be  rebooted all the time; perhaps daily.
>>>>
>>>> Users on nodes B and C will constantly fail-over to node A.
>>>>
>>>> Those users will stick on node A pretty much forever.
>>>>
>>>> Therefore node A always gets most of the traffic, and nodes B
>>>> and C only get "new" users for a while before failing-over.
>>>> Even if nodes B and C can handle 1/3 of the load, they will get
>>>> much less than that, and node A will, over time, accumulate
>>>> users without bound.
>>>>
>>>> It would be nice to avoid this kind of situation.
>>>>
>>>>> So one could recommend that if things go slow to close one's
>>>>> browser, clean caches, or even reboot. ;)
>>> "If I called tech support for a website and they told me I needed
>>> to close my browser or reboot my computer to just to use their
>>> website, I would assume that they were complete idiots. If I want
>>> to be lied to about what the problem is, I'll call my home
>>> broadband provider." <-- HAHAHA ... nice one.
>>>
>>> I agree with Chris, here. It's not a "common" situation, but it
>>> is a possible situation, and if it occurred, it could get ugly
>>> quickly.
>>>
>>> Earlier somebody (I'm sorry, I already deleted the email)
>>> suggested Tomcat returning a 308 or 309 or similar to the load
>>> balancer to trigger a "re-balance" if the session is expired. I
>>> think this is the best idea I've heard yet, solves the problem
>>> elegantly and simply, and seems (relatively) easy to achieve
>>> (this coming from someone who has no knowledge of the code used
>>> by mod_jk/isapi_redirector).
>>>
>> I must admit that this sounds more elegant (and efficient) than my 
>> suggested interceptor module.
>>
>> Alternatively, if one wanted to avoid touching mod_jk for this,
>> maybe tomcat could return a 302 redirect to the starting page of
>> this application, if known ? (without jsessionid.jvmroute of
>> course).
> 
> That's definitely an idea worth pursuing: an expired session id could
> return 302 *and* strip the jsessionid path parameter *and* send a
> Set-Cookie JSESSIONID; expiration=0 header (which deletes the cookie).
> The client would re-try and the balancer would re-balance.
> 
> Konstantin, what do you think? Obviously, this shouldn't be the
> default operation of Tomcat, but perhaps a setting that could be
> enabled on the session manager?
> 

By the way, that should work with mod_proxy_ajp too, which I suppose has a similar behaviour.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 18:22:52 2012
Return-Path: <users-return-238487-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A1088E03F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 18:22:52 +0000 (UTC)
Received: (qmail 1885 invoked by uid 500); 7 Dec 2012 18:22:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1829 invoked by uid 500); 7 Dec 2012 18:22:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1819 invoked by uid 99); 7 Dec 2012 18:22:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 18:22:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 18:22:42 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so914683vbi.18
        for <users@tomcat.apache.org>; Fri, 07 Dec 2012 10:22:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3/jfNVv20Bh8HaHsSaGiWaaQ7aqPe10QlMZGvY1c8Vg=;
        b=pkJRGnG2c0SbvypGAOro2T6K99iClmBbuFpF+/3kR8fLGn8NSsdWu5qq2XgVZKYONa
         T7pje3rTnHFi6+bZYTSo2xOzDjvAUP/qolKdhfBA9cgV4DD+OBzgPgtt3JH4UyFNY+Xk
         FUIJbVbTNp+iJoas0SowcruSghZFs1GJ/32dkdLNALcnoc8FG3yZvYj1RQhZRo9c223q
         TmGiTPU6EO6gBX16BZhYyVQpq15TjjIxyqHDjJGQYOOz4wD4JCEkcvULJkzshON9JK8D
         Hf4I2Sqz3ocfZdpQJ4ZdmreI5KrexSi9B8N3CTkm/Wz/wTpf0r+WF9L5qlOxHs/GNrEx
         y3aA==
MIME-Version: 1.0
Received: by 10.58.243.166 with SMTP id wz6mr4493211vec.28.1354904541914; Fri,
 07 Dec 2012 10:22:21 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Fri, 7 Dec 2012 10:22:21 -0800 (PST)
In-Reply-To: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
Date: Fri, 7 Dec 2012 22:22:21 +0400
Message-ID: <CABzHfVnuKu6yGh614c=3ScF2sTFuF8vLHZdxs3XnLN1Cq2J_ew@mail.gmail.com>
Subject: Re: Tomcat 6.0 CLASSPATH query
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/7 vicky <vicky007aggarwal@yahoo.co.in>:
> Hi Guys,
>
> I have a requirement in which i need to add couple of properties files to tomcat CLASSPATH as these are needed for my application deployed in Tomcat 6.0.
>
> One strange thing is that, i need to add the all my properties files to "<CATALINA_BASE>/bin" directory else these all wont get added to Tomcat classpath.
>
> I just want to confirm that is it by design that if i want to add any properties file to Tomcat CLASSPATH then adding files to " <CATALINA_BASE>/bin " directory
> is the solution we have or something else we can also do ??? Please suggest
>
> Why cant we add files to " <CATALINA_BASE>/conf" directory so that it get added to tomcat CLASSPATH
>

1. Have you studied the docs? There is a chapter on class loaders and
class paths.
2. Blindly adding the conf directory to the classpath will break logging.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 18:56:19 2012
Return-Path: <users-return-238488-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F772EC7B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 18:56:19 +0000 (UTC)
Received: (qmail 35006 invoked by uid 500); 7 Dec 2012 18:56:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34955 invoked by uid 500); 7 Dec 2012 18:56:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34943 invoked by uid 99); 7 Dec 2012 18:56:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 18:56:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 18:56:09 +0000
Received: from [192.168.245.129] (p549E90C4.dip0.t-ipconnect.de [84.158.144.196])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 4B1CD3C0A76
	for <users@tomcat.apache.org>; Fri,  7 Dec 2012 19:56:38 +0100 (CET)
Message-ID: <50C23BAF.3090000@ice-sa.com>
Date: Fri, 07 Dec 2012 19:55:43 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com> <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
In-Reply-To: <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Yuri E wrote:
>> 2012/12/6 Daniel Mikusa <dmikusa@vmware.com>:
>>> On Dec 6, 2012, at 11:19 AM, Yuri E wrote:
>>>
>>>> so I decided to install Tomcat through the .exe installer. First, I
> stopped
>>>> Tomcat by closing the console window opened in the startup, and then I
>>>> installed Tomcat as service using the .exe.
>>>> I restarted the computer, and Tomcat automatically started. Good. But
> when
>>>> I went to access my web app again using router's IP, I couldn't. Then, I
>>>> tried to access Tomcat's Welcome Page using Firefox (
> http://localhost:8080),
>>>> and everything was ok.
>>> If Tomcat's welcome page is accessible then Tomcat is up and running.
>  It's likely that you application failed to deploy.
>>> Have you looked at the server logs and your application logs to see if
> there were any problems?
>> +1
>>
>> The description above sounds like the OP installed a brand new fresh
>> copy of Tomcat, but have not deployed a copy his app on it.
>>
>> There is "manager" webapp available in the standard distributive, that
>> allows one to see what apps are deployed.
> 
> With Tomcat running as service, I tested my app with
> "localhost:8080/[myapp]/[servlet]", and it worked,
> 
> What basically happens is that I can't access Tomcat (running as service)
> from web (outside my router subnet) . In all other ways, the connection
> works.
> 

This may not be the type of answer that you are expecting.

I am relatively familiar with tomcat under Windows, and if your explanations of what works 
and what doesn't above are exact, then I don't know either.
It does not seem to make sense that you can connect to Tomcat from outside when Tomcat 
runs in a console, but not when the same Tomcat runs as a service.
The reason is probably not with Tomcat, but with something outside of Tomcat.
But it's not a firewall, because you can connect to tomcat when it runs in a console.
And this is Windows XP, so it cannot be p.i.t.a. UAC either.

Maybe check the following :
when Tomcat is running, in a separate command window enter the command
netstat -abn
It should show (in the "local" column), the ports on which something is listening, and in 
the last columns, the pid & name of the associated process.

Do this once when tomcat runs in a command window, and once when it runs as a service, and 
compare.

You should see at least a line like this :

as a service :
   TCP    0.0.0.0:8080           0.0.0.0:0              LISTEN         4028
   [tomcat6.exe]

in a command window :
   TCP    0.0.0.0:8080           0.0.0.0:0              LISTEN         2112
   [java.exe]

That will tell you if it is at least started each time, and listening on the same port.
You should also look each time in the tomcat logs of course.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 20:42:40 2012
Return-Path: <users-return-238489-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0960D2CC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 20:42:39 +0000 (UTC)
Received: (qmail 50583 invoked by uid 500); 7 Dec 2012 20:42:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50356 invoked by uid 500); 7 Dec 2012 20:42:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50347 invoked by uid 99); 7 Dec 2012 20:42:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 20:42:36 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 20:42:28 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id YdCB1k0011c6gX853ki5t8; Fri, 07 Dec 2012 20:42:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id Yki21k00i38FjT13jki4Fr; Fri, 07 Dec 2012 20:42:05 +0000
Message-ID: <50C25497.5060200@christopherschultz.net>
Date: Fri, 07 Dec 2012 15:41:59 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
In-Reply-To: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354912925;
	bh=DjhMZRCQ7AP4lFM8OyuAitOE9u2ritAx7fEyHt8FY8k=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=gOxqGmy1yy9SH0o34CJL2v7SJlbKv/fHQTiGKldp3DIxbZAtS9mGa2NAyMXVRZcIT
	 mlq9AokQBOdx/YKhP0jAmINP022nbTVXHjm/uDCx1DIVvoNdnkIwypDS8Vbpv0pDzB
	 h47ADM5OONoMnV5d5dLCK/TgagntE0/2pqxAcYP3VPZ9+3qn1Y7HRY9vnwQe/NiRv1
	 Udt2frhQn/G80ABhIknxjAtzgsKi0IvGeXydsV15/pi7llVcnmg7D+dtHt1W7bCmkP
	 rpN1vlmOKiuj3LrH2H1UFqiJnmMjHxq6KObBtNiXBOLXP3RVGPsycGagPjxNx7wez3
	 lKHDdLJ4vI65Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/7/12 11:48 AM, vicky wrote:
> I have a requirement in which i need to add couple of properties 
> files to tomcat CLASSPATH as these are needed for my application 
> deployed in Tomcat 6.0.
> 
> One strange thing is that, i need to add the all my properties
> files to "<CATALINA_BASE>/bin" directory else these all wont get
> added to Tomcat classpath.

Where does the code live that attempts to load those properties files?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCVJcACgkQ9CaO5/Lv0PBTogCgoXLXbB5jx///m6qC+ZxO0f20
xO8An2SZPU8E0LuiPpQRCZPVw8v/T66L
=Jmvq
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 21:56:11 2012
Return-Path: <users-return-238490-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 057C8E287
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 21:56:11 +0000 (UTC)
Received: (qmail 66818 invoked by uid 500); 7 Dec 2012 21:56:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66767 invoked by uid 500); 7 Dec 2012 21:56:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66757 invoked by uid 99); 7 Dec 2012 21:56:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 21:56:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 21:56:01 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id YcFD1k0011uE5Es51lvf3c; Fri, 07 Dec 2012 21:55:39 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id Ylvf1k00938FjT13clvfm7; Fri, 07 Dec 2012 21:55:39 +0000
Message-ID: <50C265D9.50305@christopherschultz.net>
Date: Fri, 07 Dec 2012 16:55:37 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com> <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com> <50C23BAF.3090000@ice-sa.com>
In-Reply-To: <50C23BAF.3090000@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1354917339;
	bh=wJp8nqvAHHD8mvr9cUqZvFRYjVSQgSgdkkUFiZ2q6xo=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=e9IUV/9zvDPwxMQjp/3PbvYz4Ld8P9HMqpAALEQcUomwPL89vvwB5vDzwoYh7ReYS
	 eswU3X35JLzehPAcgSDol8StFb0wtXodb8g5tyBYn/nHMn9AM0fsI3Q4zWQu9vb4wm
	 JcSJZS48UraP3TUDg064MrwJoDrfvwGkFF8HZB8IdhGZGT7Bbpq7dMkZb2zu8jyAEZ
	 VoPbetNTMnDOIfQYiFr7eO+xfFCJg1Q+qZecZhbjBdY3oKdd3tnpU4wDNtdzK+qXfM
	 U3vCXSXQeig2Et++ZInsWxZANQd51ivKBu0Jkf3fAWNPBUjo9D70Nwg/TOlieQw/O8
	 FMkdxice1tFLA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/7/12 1:55 PM, AndrÃ© Warnier wrote:
> I am relatively familiar with tomcat under Windows, and if your 
> explanations of what works and what doesn't above are exact, then
> I don't know either.

One possibility: during the installation, the user chose to bind only
to localhost instead of 0.0.0.0.

> Maybe check the following : when Tomcat is running, in a separate
> command window enter the command netstat -abn

+1

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDCZdkACgkQ9CaO5/Lv0PCm0gCgmKx2kbhnce9828Jgfhmkl/Km
jOUAn0ikUmua8AW6xQg13NtBQVh84qW/
=8nsJ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 23:05:55 2012
Return-Path: <users-return-238491-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 43DEDD462
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 23:05:55 +0000 (UTC)
Received: (qmail 77250 invoked by uid 500); 7 Dec 2012 23:05:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77201 invoked by uid 500); 7 Dec 2012 23:05:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77192 invoked by uid 99); 7 Dec 2012 23:05:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:05:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:05:44 +0000
Received: from [192.168.245.129] (p549E17E6.dip0.t-ipconnect.de [84.158.23.230])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id ADDC73C085F
	for <users@tomcat.apache.org>; Sat,  8 Dec 2012 00:06:13 +0100 (CET)
Message-ID: <50C2762E.6000508@ice-sa.com>
Date: Sat, 08 Dec 2012 00:05:18 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com> <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com> <50C23BAF.3090000@ice-sa.com> <50C265D9.50305@christopherschultz.net>
In-Reply-To: <50C265D9.50305@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> AndrÃ©,
> 
> On 12/7/12 1:55 PM, AndrÃ© Warnier wrote:
>> I am relatively familiar with tomcat under Windows, and if your 
>> explanations of what works and what doesn't above are exact, then
>> I don't know either.
> 
> One possibility: during the installation, the user chose to bind only
> to localhost instead of 0.0.0.0.

Aaaah. Yes, and that choice probably only exists in the Service installer.
That would fit.
And he would see that with netstat.

> 
>> Maybe check the following : when Tomcat is running, in a separate
>> command window enter the command netstat -abn
> 
> +1
> 
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
> 
> iEYEAREIAAYFAlDCZdkACgkQ9CaO5/Lv0PCm0gCgmKx2kbhnce9828Jgfhmkl/Km
> jOUAn0ikUmua8AW6xQg13NtBQVh84qW/
> =8nsJ
> -----END PGP SIGNATURE-----
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 23:07:25 2012
Return-Path: <users-return-238492-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1782DD477
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 23:07:25 +0000 (UTC)
Received: (qmail 83896 invoked by uid 500); 7 Dec 2012 23:07:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83650 invoked by uid 500); 7 Dec 2012 23:07:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83637 invoked by uid 99); 7 Dec 2012 23:07:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:07:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Jan.Kostelansky@aerosoftsys.com designates 64.34.225.229 as permitted sender)
Received: from [64.34.225.229] (HELO mail1.aerosoftsys.com) (64.34.225.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:07:13 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CDD4CF.8B1C0FFD"
Subject: Word.Applicaiton acvivex components & tomcat & Windows 7
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Fri, 7 Dec 2012 18:06:51 -0500
Message-ID: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Word.Applicaiton acvivex components & tomcat & Windows 7
thread-index: Ac3Uz4jeFfCvqipMSGC4FfCwEn/eNw==
From: "Jan Kostelansky" <Jan.Kostelansky@aerosoftsys.com>
To: <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CDD4CF.8B1C0FFD
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

=20

I am experiencing problems running vb script under tomcat.

=20

More information.

=20

The script

Creates instance of Word.Applicaiton ActiveX component=20

Opens document

Prints to dedicated printer

=20

I created simple java program which

Creates new process

Executes vb script

=20

I created servlet which does precisely the same as simple java program.

=20

If I run simple program - everything is fine

If I run servlet in tomcat7 under Win XP - everything is fine

If I run servlet in tomcat7 under Win 7 64 bit - program stops when
Word.Applicaiton ActiveX component opens docx document.

=20

This is not tomcat error precisely as it works on XP. I have a feeling
enhanced Windows7 security causes this issues.

However I hope somebody from tomcat community solved this issue.

=20

Thank you in advance,=20

Jan

=20

=20


------_=_NextPart_001_01CDD4CF.8B1C0FFD--

From users-return-238493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec  7 23:49:56 2012
Return-Path: <users-return-238493-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 70171E296
	for <apmail-tomcat-users-archive@www.apache.org>; Fri,  7 Dec 2012 23:49:56 +0000 (UTC)
Received: (qmail 7598 invoked by uid 500); 7 Dec 2012 23:49:53 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7553 invoked by uid 500); 7 Dec 2012 23:49:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7544 invoked by uid 99); 7 Dec 2012 23:49:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:49:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 07 Dec 2012 23:49:43 +0000
Received: from [192.168.245.129] (p549E0A7E.dip0.t-ipconnect.de [84.158.10.126])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 4FFCB3C085F
	for <users@tomcat.apache.org>; Sat,  8 Dec 2012 00:50:13 +0100 (CET)
Message-ID: <50C2807D.2000102@ice-sa.com>
Date: Sat, 08 Dec 2012 00:49:17 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Word.Applicaiton acvivex components & tomcat & Windows 7
References: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom>
In-Reply-To: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Jan Kostelansky wrote:
> Hi,
> 
>  
> 
> I am experiencing problems running vb script under tomcat.
> 
>  
> 
> More information.
> 
>  
> 
> The script
> 
> Creates instance of Word.Applicaiton ActiveX component 
> 
> Opens document
> 
> Prints to dedicated printer
> 
>  
> 
> I created simple java program which
> 
> Creates new process
> 
> Executes vb script
> 
>  
> 
> I created servlet which does precisely the same as simple java program.
> 
>  
> 
> If I run simple program - everything is fine
> 
> If I run servlet in tomcat7 under Win XP - everything is fine
> 
> If I run servlet in tomcat7 under Win 7 64 bit - program stops when
> Word.Applicaiton ActiveX component opens docx document.
> 
>  
> 
> This is not tomcat error precisely as it works on XP. I have a feeling
> enhanced Windows7 security causes this issues.
> 
> However I hope somebody from tomcat community solved this issue.
> 
>  
It may be that Tomcat - which is open-source software - just does not like these 
proprietary programs.  So it stops when you try.
That may also be revenge, for all the times Windows stops working when you try to run 
open-source programs on it.

Now some serious questions :
- when you have this problem, is Tomcat running as a Windows Service ?
- where is the document that you are trying to open ? on a local disk of the Tomcat host, 
or on a network drive ?
- what version of Java is running Tomcat ? a 32-bit or 64-bit version ?

And then a note : if you are having this issue when Tomcat is running as a Service :

Microsoft explicitly warns that Microsoft Office components are /not/ supported for 
running "as a Windows Service", and that they may not work or cause strange errors.
That is because Microsoft Office programs expect to be running in a process that has a 
console, and Services do not have one (among other reasons).

See this : http://support.microsoft.com/default.aspx?scid=kb;EN-US;q257757#kb2

Of course, it may also be because they like to sell their programs on a "per-workstation" 
base, and running as a Service usually means that you are using them for more than one 
user. (They even say so in that article, see the licensing part).

Note that I do not work for Microsoft and I do not necessarily agree with what they say or 
the reasons that they give.  But I have tried similar things myself, and I know that it is 
very difficult, and not guaranteed to be stable, to run this in a service context.
You /do/ get strange errors, you get errors in Word that you do not get in Excel and 
vice-versa, you get problems under Windows7 that you do not get under Windows XP and 
vice-versa.  Just like what you are seeing.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 00:57:03 2012
Return-Path: <users-return-238494-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29484D313
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 00:57:03 +0000 (UTC)
Received: (qmail 86659 invoked by uid 500); 8 Dec 2012 00:56:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86596 invoked by uid 500); 8 Dec 2012 00:56:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86586 invoked by uid 99); 8 Dec 2012 00:56:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 00:56:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Jan.Kostelansky@aerosoftsys.com designates 64.34.225.229 as permitted sender)
Received: from [64.34.225.229] (HELO mail1.aerosoftsys.com) (64.34.225.229)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 00:56:53 +0000
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Word.Applicaiton acvivex components & tomcat & Windows 7
X-MimeOLE: Produced By Microsoft Exchange V6.5
Date: Fri, 7 Dec 2012 19:56:31 -0500
Message-ID: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5B@lemur.aerosoft.dom>
In-Reply-To: <50C2807D.2000102@ice-sa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Word.Applicaiton acvivex components & tomcat & Windows 7
thread-index: Ac3U1Y+kacWx+hgGRcSqyLL7mhzUCwACLm1Q
References: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom> <50C2807D.2000102@ice-sa.com>
From: "Jan Kostelansky" <Jan.Kostelansky@aerosoftsys.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you Andr=E9,

here are details for your questions
- when you have this problem, is Tomcat running as a Windows Service ?
Yes it is running as service. I tried to run under local system account, =
and my account, which can open MS WORD, behavior is the same
- where is the document that you are trying to open ? on a local disk of =
the Tomcat host, or on a network drive ?
The file is on local HDD of tomcat host, outside of program files =
directory.
- what version of Java is running Tomcat ? a 32-bit or 64-bit version ?
It is Windows 7 64 bit release.

Thank you, Jan
-----Original Message-----
From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
Sent: Friday, December 07, 2012 6:49 PM
To: Tomcat Users List
Subject: Re: Word.Applicaiton acvivex components & tomcat & Windows 7

Jan Kostelansky wrote:
> Hi,
>=20
> =20
>=20
> I am experiencing problems running vb script under tomcat.
>=20
> =20
>=20
> More information.
>=20
> =20
>=20
> The script
>=20
> Creates instance of Word.Applicaiton ActiveX component
>=20
> Opens document
>=20
> Prints to dedicated printer
>=20
> =20
>=20
> I created simple java program which
>=20
> Creates new process
>=20
> Executes vb script
>=20
> =20
>=20
> I created servlet which does precisely the same as simple java =
program.
>=20
> =20
>=20
> If I run simple program - everything is fine
>=20
> If I run servlet in tomcat7 under Win XP - everything is fine
>=20
> If I run servlet in tomcat7 under Win 7 64 bit - program stops when=20
> Word.Applicaiton ActiveX component opens docx document.
>=20
> =20
>=20
> This is not tomcat error precisely as it works on XP. I have a feeling =

> enhanced Windows7 security causes this issues.
>=20
> However I hope somebody from tomcat community solved this issue.
>=20
> =20
It may be that Tomcat - which is open-source software - just does not =
like these proprietary programs.  So it stops when you try.
That may also be revenge, for all the times Windows stops working when =
you try to run open-source programs on it.

Now some serious questions :
- when you have this problem, is Tomcat running as a Windows Service ?
- where is the document that you are trying to open ? on a local disk of =
the Tomcat host, or on a network drive ?
- what version of Java is running Tomcat ? a 32-bit or 64-bit version ?

And then a note : if you are having this issue when Tomcat is running as =
a Service :

Microsoft explicitly warns that Microsoft Office components are /not/ =
supported for running "as a Windows Service", and that they may not work =
or cause strange errors.
That is because Microsoft Office programs expect to be running in a =
process that has a console, and Services do not have one (among other =
reasons).

See this : =
http://support.microsoft.com/default.aspx?scid=3Dkb;EN-US;q257757#kb2

Of course, it may also be because they like to sell their programs on a =
"per-workstation"=20
base, and running as a Service usually means that you are using them for =
more than one user. (They even say so in that article, see the licensing =
part).

Note that I do not work for Microsoft and I do not necessarily agree =
with what they say or the reasons that they give.  But I have tried =
similar things myself, and I know that it is very difficult, and not =
guaranteed to be stable, to run this in a service context.
You /do/ get strange errors, you get errors in Word that you do not get =
in Excel and vice-versa, you get problems under Windows7 that you do not =
get under Windows XP and vice-versa.  Just like what you are seeing.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 03:29:45 2012
Return-Path: <users-return-238495-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F10E3D45D
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 03:29:44 +0000 (UTC)
Received: (qmail 7865 invoked by uid 500); 8 Dec 2012 03:29:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7567 invoked by uid 500); 8 Dec 2012 03:29:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7499 invoked by uid 99); 8 Dec 2012 03:29:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 03:29:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.149.133] (HELO nm20-vm6.bullet.mail.sg3.yahoo.com) (106.10.149.133)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 03:29:30 +0000
Received: from [106.10.166.125] by nm20.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 03:29:07 -0000
Received: from [106.10.166.104] by tm14.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 03:29:07 -0000
Received: from [127.0.0.1] by smtp106-mob.biz.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 03:29:07 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354937347; bh=jDDYQzmcYsB6w2U848LENgsIBTPAZRDl/IFxVvAHAQA=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:References:Mime-Version:In-Reply-To:Content-Type:Content-Transfer-Encoding:Message-Id:Cc:X-Mailer:From:Subject:Date:To; b=0G0evwbNf9WlWBgKgt/E+MvTFyh90wwK/8/gDQRaiQGOngWxHSlTl3LSETVRINJ8tO/ub8Th+eHcQtxRQgMRQOzZhvjn+EzLS/0hr+CBl7i/EjqX3ZULs9MLz1YbRtF5agIlp8hydP1Kb0pqzlBwM84KqkoBTdS4mxUk3Up7LcE=
X-Yahoo-Newman-Id: 805811.65424.bm@smtp106-mob.biz.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: rrrhsgQVM1nto8rYQw9.s0yf7n2d5Ns1RPecNURm50VCp3E
 QDaoRKGU3iwBUjVgK1BARdNjotY5G.qFcooKAHx_ySSqCaqAktydK4lRxBeC
 eT36V0PNtdDeub9jloNFgw.PcgS5Evg3J3B66IcAQvlOANg7LJIT9zidaNPL
 asIdPtrM9zyXH8LQauenNWYcIC2aEQ9_eDam08DfT2yGo0zDoZBMiZQ5zYbC
 tKMM7LM0CGDXWRpM7FtN_ZmqBrrFeP5V.KrQUpAeeKRnWRwu0NgbDdnBUG3I
 onveFH6uaNpxBHiaicZXEUmq_B1o1mkLdYOcJUWi5bYLhNjatP53FUu0kBfL
 emvh63hKR7UYm9sa7IndzeBbukvbQ3AnU7o48kmsYazFmiu3KmXRqeYcZHko
 MUDZezH7WhVkKaqDt8Ez6lLLVKuRsbfabnSy6HgJJ2ek4wsVy51yKtiprG72
 LGdH3xQiTetUxoKBzOVWpnO60Ih68JLZiXZO8LsLhY3NQzwHcdZZUcO1T4eT
 O3Ym2IGXEzcKFl6Kd_65tezj1AE9WomXPB43COvRX263c
X-Yahoo-SMTP: ajpxA4uswBBx5xUesqpGwIxhJ2rBVD6Wr1LeDLQ-
Received: from [223.227.214.198] (vicky007aggarwal@223.227.214.198 with xymcookie)
        by smtp106-mob.biz.mail.sg3.yahoo.com with SMTP; 08 Dec 2012 03:29:07 +0000 UTC
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net>
Mime-Version: 1.0 (1.0)
In-Reply-To: <50C25497.5060200@christopherschultz.net>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-Id: <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
Cc: Tomcat Users List <users@tomcat.apache.org>
X-Mailer: iPhone Mail (10A403)
From: vicky007aggarwal@yahoo.co.in
Subject: Re: Tomcat 6.0 CLASSPATH query
Date: Sat, 8 Dec 2012 08:59:00 +0530
To: Tomcat Users List <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Application is deployed under tomcat webapps directory . It tries to refer t=
o application specific properties file from tomcat classpath, for that we co=
pied it under tomcat bin directory.=20

My query is that does this is the right way to add properties file to tomcat=
 classpath?

Thanks for ur help,
Vicky



On Dec 8, 2012, at 2:11 AM, Christopher Schultz <chris@christopherschultz.ne=
t> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>=20
> Vicky,
>=20
> On 12/7/12 11:48 AM, vicky wrote:
>> I have a requirement in which i need to add couple of properties=20
>> files to tomcat CLASSPATH as these are needed for my application=20
>> deployed in Tomcat 6.0.
>>=20
>> One strange thing is that, i need to add the all my properties
>> files to "<CATALINA_BASE>/bin" directory else these all wont get
>> added to Tomcat classpath.
>=20
> Where does the code live that attempts to load those properties files?
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>=20
> iEYEAREIAAYFAlDCVJcACgkQ9CaO5/Lv0PBTogCgoXLXbB5jx///m6qC+ZxO0f20
> xO8An2SZPU8E0LuiPpQRCZPVw8v/T66L
> =3DJmvq
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 11:00:11 2012
Return-Path: <users-return-238496-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 95D3CD083
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 11:00:11 +0000 (UTC)
Received: (qmail 91795 invoked by uid 500); 8 Dec 2012 11:00:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91677 invoked by uid 500); 8 Dec 2012 11:00:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91652 invoked by uid 99); 8 Dec 2012 11:00:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 11:00:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of raf.news@gmail.com designates 209.85.210.45 as permitted sender)
Received: from [209.85.210.45] (HELO mail-da0-f45.google.com) (209.85.210.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 10:59:58 +0000
Received: by mail-da0-f45.google.com with SMTP id w4so586373dam.18
        for <users@tomcat.apache.org>; Sat, 08 Dec 2012 02:59:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8bItVv0LASSx/o6AasTS5/zYBEC1hNKwsQ+NEIIlqQQ=;
        b=TLf35M+PpByGfokJ/T+U9iwDZiXZCWj+OR2UK4JVBBDqyhu/sZiq3Qqg61C90+i8A9
         cIyWzWb3cc1MgJZUn+VYeTvb/Xvn5xTjX+aUkPYEc03B+QzgRWUhu3GnBO0SYykWQTQK
         89V7LsoPxyfYeYu2FbW5Hr7Srq+GHxucxkTi84EU+1CeZvV7hYsWCQq3Y5xMXWaxENJ8
         kpQ+d6VjX45pXodgJLp4w+0x510NudPrIWCD9AYTLcmxbEpSrMsqnF7fYSGTWQ5WycPX
         kOv/EHHTN95pitOwkdVZLALEuzLfD2sC54OG+nS8qYC2EDK9jJle8+C7iUDq0zNrGZxh
         hunw==
MIME-Version: 1.0
Received: by 10.68.225.201 with SMTP id rm9mr23168222pbc.124.1354964377802;
 Sat, 08 Dec 2012 02:59:37 -0800 (PST)
Received: by 10.68.57.209 with HTTP; Sat, 8 Dec 2012 02:59:37 -0800 (PST)
In-Reply-To: <CANizyADZNzwtbq+dBXBfoeV2DK+n72egzmxZywDMgWM+3jXQOg@mail.gmail.com>
References: <CANizyADZNzwtbq+dBXBfoeV2DK+n72egzmxZywDMgWM+3jXQOg@mail.gmail.com>
Date: Sat, 8 Dec 2012 11:59:37 +0100
Message-ID: <CANizyADmWB_2Hznv7XUY+-Wwvc65tGj3bRe83=Q3wf9gLGcoSw@mail.gmail.com>
Subject: Fwd: Tomcat users
From: Raf Roger <raf.news@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7b2ede336c171904d0553ae2
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b2ede336c171904d0553ae2
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Where can i find a very good documentation or tutorial/video about users
and roles for tomcat 7.x ?
i'm new and i must say i'm a little bit confused :(
thx

-- 
Alain
-----------------------------------------------------------
Windows 7 x64 / Fedora 17 x64
MySQL 5.5.28
Apache 2.4.3 / OpenSSL 1.0.1c
Tomcat 7.17
PHP 5.4.8




-- 
Alain
-----------------------------------------------------------
Windows 7 x64 / Fedora 17 x64
MySQL 5.5.28
Apache 2.4.3 / OpenSSL 1.0.1c
Tomcat 7.17
PHP 5.4.8

--047d7b2ede336c171904d0553ae2--

From users-return-238497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 12:01:59 2012
Return-Path: <users-return-238497-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3AE24D396
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 12:01:59 +0000 (UTC)
Received: (qmail 89533 invoked by uid 500); 8 Dec 2012 12:01:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89375 invoked by uid 500); 8 Dec 2012 12:01:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89335 invoked by uid 99); 8 Dec 2012 12:01:53 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 12:01:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 12:01:45 +0000
Received: from [192.168.245.129] (p549E936D.dip0.t-ipconnect.de [84.158.147.109])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id D5CFC3C0803
	for <users@tomcat.apache.org>; Sat,  8 Dec 2012 13:02:14 +0100 (CET)
Message-ID: <50C32C0F.9010300@ice-sa.com>
Date: Sat, 08 Dec 2012 13:01:19 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Word.Applicaiton acvivex components & tomcat & Windows 7
References: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom> <50C2807D.2000102@ice-sa.com> <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5B@lemur.aerosoft.dom>
In-Reply-To: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5B@lemur.aerosoft.dom>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Jan Kostelansky wrote:
> Thank you André,
> 
> here are details for your questions
> - when you have this problem, is Tomcat running as a Windows Service ?
> Yes it is running as service. I tried to run under local system account, and my account, which can open MS WORD, behavior is the same
> - where is the document that you are trying to open ? on a local disk of the Tomcat host, or on a network drive ?
> The file is on local HDD of tomcat host, outside of program files directory.
> - what version of Java is running Tomcat ? a 32-bit or 64-bit version ?
> It is Windows 7 64 bit release.
> 

Well, then you are probable having exactly the kind of problem that is described in the 
Microsoft KB article.
And there is nothing that the people on the Tomcat list can do to help.  It is not a 
problem related to Tomcat or Java.  It is a problem related to running Microsoft Office 
"Interop" modules in the context of a Windows Service.

As an easy way to verify this :
Instead of running Tomcat as a Service, run it as an application in a command window.
For that, you will need to download the "zip" version of tomcat, and unzip it in your 
Tomcat directory (or somewhere else).  Then use the "startup.bat" file to start Tomcat as 
an application in the console. And then try your application again.
It then it works without problems, it confirms the diagnostic above.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 16:22:06 2012
Return-Path: <users-return-238498-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 48B9DD4AA
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 16:22:06 +0000 (UTC)
Received: (qmail 86333 invoked by uid 500); 8 Dec 2012 16:22:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86043 invoked by uid 500); 8 Dec 2012 16:22:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85994 invoked by uid 99); 8 Dec 2012 16:21:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 16:21:58 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=5.0
	tests=LOCALPART_IN_SUBJECT,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.132 as permitted sender)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 16:21:50 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-14.tower-45.messagelabs.com!1354983688!30713696!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 30225 invoked from network); 8 Dec 2012 16:21:28 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-14.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 8 Dec 2012 16:21:28 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sat, 8 Dec 2012 10:21:27 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sat, 8 Dec
 2012 10:21:27 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sat, 8 Dec 2012 10:21:46 -0600
Subject: RE: Tomcat users
Thread-Topic: Tomcat users
Thread-Index: Ac3VMzdV2SIpnOKkSfWjYJsZsd0ghQAK41hQ
Message-ID: <99C8B2929B39C24493377AC7A121E21FC495002EAC@USEA-EXCH8.na.uis.unisys.com>
References: <CANizyADZNzwtbq+dBXBfoeV2DK+n72egzmxZywDMgWM+3jXQOg@mail.gmail.com>
 <CANizyADmWB_2Hznv7XUY+-Wwvc65tGj3bRe83=Q3wf9gLGcoSw@mail.gmail.com>
In-Reply-To: <CANizyADmWB_2Hznv7XUY+-Wwvc65tGj3bRe83=Q3wf9gLGcoSw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Raf Roger [mailto:raf.news@gmail.com]=20
> Subject: Fwd: Tomcat users

> Where can i find a very good documentation or tutorial/video about users
> and roles for tomcat 7.x ?

Step 1: read the servlet spec:
http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/
with emphasis on Chapter 13.

Step 2: read the Tomcat doc:
http://tomcat.apache.org/tomcat-7.0-doc/realm-howto.html

Step 3: look in the How To part of the FAQ for related topics:
http://wiki.apache.org/tomcat/HowTo

Step 4: ask specific questions if the above doesn't answer them

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 17:02:50 2012
Return-Path: <users-return-238499-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E078CE2B4
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 17:02:49 +0000 (UTC)
Received: (qmail 83406 invoked by uid 500); 8 Dec 2012 17:02:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83295 invoked by uid 500); 8 Dec 2012 17:02:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83258 invoked by uid 99); 8 Dec 2012 17:02:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:02:44 +0000
X-ASF-Spam-Status: No, hits=0.0 required=5.0
	tests=LOCALPART_IN_SUBJECT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.219.45 as permitted sender)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:02:39 +0000
Received: by mail-oa0-f45.google.com with SMTP id i18so1862507oag.18
        for <users@tomcat.apache.org>; Sat, 08 Dec 2012 09:02:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=wKG4svJlRtj6vam5D0HIe6Dgc+ygJfKgLv8518w7LYw=;
        b=a+tgJlh+mVtg8l1rzls/qiXTg4s5PT0MeQosTKbxMJWbX/dRURzKRTXHwKHoZteO04
         8Sh1mRu3IBhW+uk+8IPVugIGiHcNtfRj7phajBVQ2etiKGytEM3X4Lw3CpCNKx92RqkJ
         NinZYZuX/Obz/I3vj0UpLRJaYBh9lUAfOJRbs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=wKG4svJlRtj6vam5D0HIe6Dgc+ygJfKgLv8518w7LYw=;
        b=fxHtgTEwsvxQzwpyfASMsdTNEyrDvhfhcMR09x8hjKyukpfv6VlCDW0imrCmShs71S
         f6CqzN8gywg8OU6CZ4NXMQnwLenXB0nid0WR8KQghWANswewUpq4xZR8Lzu5b3Wm1hPj
         2Pg8WDy2dOzO4GOP+rSoz8X3Xj5XnQtq3+YStwN4KDYhjSvOBai4vLy2YZOyjyAsUZdM
         1d0m8ERht8QrhqyBGKoIHLD6oa6bkr4Mj+qLAUVC+hXr0Q2lUTegUEt+L20eQS4CUCLa
         x21B/tBEIetABrmfiPY6OVh2C+1k1giX/qOHlFTLfjamBzTJCsLsPeCmMPXd+vWV2Tj2
         GBqw==
Received: by 10.60.30.167 with SMTP id t7mr5186250oeh.44.1354986137054; Sat,
 08 Dec 2012 09:02:17 -0800 (PST)
References: <CANizyADZNzwtbq+dBXBfoeV2DK+n72egzmxZywDMgWM+3jXQOg@mail.gmail.com>
 <CANizyADmWB_2Hznv7XUY+-Wwvc65tGj3bRe83=Q3wf9gLGcoSw@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CANizyADmWB_2Hznv7XUY+-Wwvc65tGj3bRe83=Q3wf9gLGcoSw@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Sat, 8 Dec 2012 17:02:18 +0000
Message-ID: <-1395233822166881717@unknownmsgid>
Subject: Re: Tomcat users
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQkidj2rABFGfWaNPs1GB2ios7m4iPSCvLtepjbehIMI4FzwV7wqtSI2ob6YfQsiw34bM6D7
X-Virus-Checked: Checked by ClamAV on apache.org

On 8 Dec 2012, at 11:00, Raf Roger <raf.news@gmail.com> wrote:

> Hi,
>
> Where can i find a very good documentation or tutorial/video about users
> and roles for tomcat 7.x ?
> i'm new and i must say i'm a little bit confused :(
> thx
>
> --
> Alain
> -----------------------------------------------------------
> Windows 7 x64 / Fedora 17 x64
> MySQL 5.5.28
> Apache 2.4.3 / OpenSSL 1.0.1c
> Tomcat 7.17

Don't use this version, (presumably you meant 7.0.17), use the latest
version. 7.0.33 or 7.0.34 depending on when you read this.


p


> PHP 5.4.8
>
>
>
>
> --
> Alain
> -----------------------------------------------------------
> Windows 7 x64 / Fedora 17 x64
> MySQL 5.5.28
> Apache 2.4.3 / OpenSSL 1.0.1c
> Tomcat 7.17
> PHP 5.4.8

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 17:05:08 2012
Return-Path: <users-return-238500-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A5E69E2BD
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 17:05:08 +0000 (UTC)
Received: (qmail 89944 invoked by uid 500); 8 Dec 2012 17:05:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89895 invoked by uid 500); 8 Dec 2012 17:05:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89885 invoked by uid 99); 8 Dec 2012 17:05:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:05:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.219.45 as permitted sender)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:04:59 +0000
Received: by mail-oa0-f45.google.com with SMTP id i18so1863937oag.18
        for <users@tomcat.apache.org>; Sat, 08 Dec 2012 09:04:38 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=6zOVPBsQrfCmuf8I/67UofG+2X2l9uxQhkr1dcRKzD0=;
        b=MCVyq3dBwq01BYQZyywoA6tYCiHGXbRZig7AXmJDAJZIeGnZnEx1QZpP/1FnQMhRTG
         7DQzFE1g9Fw7s6xSKCTYVmvfseAIsiocHkwiFY/hA7gj4Zi/EeyvLW4VRte65Y2zr84X
         hIUAn++UaOLuiZS35CZKr2HiwysnJjbq/Cc2g=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=6zOVPBsQrfCmuf8I/67UofG+2X2l9uxQhkr1dcRKzD0=;
        b=bIhlwEmklJy8J8vmaMah1vC0ZMPpGB32pxKSXjCNwIt6JJXJi+8cMymwEZLCsN4K/S
         B0yJuXPltYBaHqMyRVYpOTXJXPDHfPzpBuWbZQ2n/e5mVJvae1rVc7ynnMRtNtSJDKGJ
         qKsjqj77Ct+VslcGWKj7bv2nSgOdAUYDoLBf6LsduqaDcVxbXff0P9FCLUTtSuVoGRVM
         Ov8qW6puVQ1bCAqiBB5aVmrC29Oavy7x0Nt8Q7Xnlo2BOwKu8KVh+AedjWxdSSSELgXY
         w/tC0+UbyVKzjQWvfB0kJPpy2UQWp2Aetle9/z+yumdddlWfSXl9QWPz/hkV1N1R78J3
         sacw==
Received: by 10.60.31.206 with SMTP id c14mr4920834oei.88.1354986278035; Sat,
 08 Dec 2012 09:04:38 -0800 (PST)
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
Mime-Version: 1.0 (1.0)
Date: Sat, 8 Dec 2012 17:04:39 +0000
Message-ID: <-1575792619315605313@unknownmsgid>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQm/lXRvZAz4pyr+7QYOfaTZ+HOu0w0Z/kQeLHXAC01VYrbdtXV2+MMV1jHqaQEn9m+VnaH2
X-Virus-Checked: Checked by ClamAV on apache.org

On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
<vicky007aggarwal@yahoo.co.in> wrote:

> Application is deployed under tomcat webapps directory . It tries to refer to application specific properties file from tomcat classpath, for that we copied it under tomcat bin directory.
>
> My query is that does this is the right way to add properties file to tomcat classpath?

Did you try putting it in tomcat/lib?


p



>
> Thanks for ur help,
> Vicky
>
>
>
> On Dec 8, 2012, at 2:11 AM, Christopher Schultz <chris@christopherschultz.net> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA256
>>
>> Vicky,
>>
>> On 12/7/12 11:48 AM, vicky wrote:
>>> I have a requirement in which i need to add couple of properties
>>> files to tomcat CLASSPATH as these are needed for my application
>>> deployed in Tomcat 6.0.
>>>
>>> One strange thing is that, i need to add the all my properties
>>> files to "<CATALINA_BASE>/bin" directory else these all wont get
>>> added to Tomcat classpath.
>>
>> Where does the code live that attempts to load those properties files?
>>
>> - -chris
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
>> Comment: GPGTools - http://gpgtools.org
>> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>>
>> iEYEAREIAAYFAlDCVJcACgkQ9CaO5/Lv0PBTogCgoXLXbB5jx///m6qC+ZxO0f20
>> xO8An2SZPU8E0LuiPpQRCZPVw8v/T66L
>> =Jmvq
>> -----END PGP SIGNATURE-----
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 17:12:54 2012
Return-Path: <users-return-238501-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 28192E2F4
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 17:12:54 +0000 (UTC)
Received: (qmail 8067 invoked by uid 500); 8 Dec 2012 17:12:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7970 invoked by uid 500); 8 Dec 2012 17:12:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7950 invoked by uid 99); 8 Dec 2012 17:12:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:12:50 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:12:45 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so1771199obc.18
        for <users@tomcat.apache.org>; Sat, 08 Dec 2012 09:12:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=W7CHwbvq+8Sm8k3xnYqkfvNlVPU5cGWecGv+UwVe5lw=;
        b=fw1P9/335HGNoCfiPQBRyLo/uRiWAOYDTQNY76WyxNeG631N0vSoMJdUsOjEJekh9c
         Y9/b1PUFapNLFkcEHrvPoB6/eLaNwc6MGhBMiYc++DKSycya/GMMGQPLeBUddmMxTinT
         hNfXAkP8ThWcMWuSgqCuvms7ITe/ykONMYqOQ=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=W7CHwbvq+8Sm8k3xnYqkfvNlVPU5cGWecGv+UwVe5lw=;
        b=VE5a2MTQe1o8t1fuYDJ9ekzV1Tkzz1/ueqMcp1MiRlsoRjo6gW1HQtDxkVKaqTRhd1
         BMcLulNTha1qUIBhOGJrkmtLZnxmozu6wU/1K+1wjgdtrTKScmMNT38UqLprEo6su9KE
         lATRSmXvj9SSH/adrdkz59XwuhOMvCg68eUopTDwrKnH+p6UqIRb+cxpSDi4cMcxlenv
         /tX3V7jUryWvtzOvxj2pQoW3aTFhqZczn6xD2ZKKOgM1O5dFzSUUzZaMDEs7ToVUp0dG
         2a7OzfIKdPB3COvvhnH/PQS2zACY6lxPyL13XgQbCmhOTPOfelf+1MYCzpwipEgWeftZ
         Bakw==
Received: by 10.60.170.148 with SMTP id am20mr5205953oec.60.1354986744789;
 Sat, 08 Dec 2012 09:12:24 -0800 (PST)
References: <E64AA402048FD34AA7372D4512D6F1596398018BD0@C8PC015101.am.munichre.com>
 <50C0B9DC.2090804@ice-sa.com> <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <E64AA402048FD34AA7372D4512D6F1596398018BE1@C8PC015101.am.munichre.com>
Mime-Version: 1.0 (1.0)
Date: Sat, 8 Dec 2012 17:12:25 +0000
Message-ID: <-7948846793535650330@unknownmsgid>
Subject: Re: Z/OS CICS Support
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQnPd2agD36PJpLZtzjoXJ4hEd+wKi/lj1sAhIAldlT1CwbpRFtitF9GYBtESlpR9JlAx+Rp
X-Virus-Checked: Checked by ClamAV on apache.org

On 6 Dec 2012, at 15:33, Shaik Jani - Cincinnati-AMIG <JShaik@amig.com> wro=
te:

> What I meant was can we access mainframe resources in Tomcat?

Depending on how those resources are really exposed, the usual answer is ye=
s.

Sometimes those resources are really exposed using web services or JMS
queues, in which case the standard means of accessing those resources
is the same as it would be if they were not on a mainframe.

Alternatively you might just need to use the Java library provided by
the vendor.


p


>
>
> -----Original Message-----
> From: Andr=C3=A9 Warnier [mailto:aw@ice-sa.com]
> Sent: Thursday, December 06, 2012 10:30 AM
> To: Tomcat Users List
> Subject: Re: Z/OS CICS Support
>
> Shaik Jani - Cincinnati-AMIG wrote:
>> Hi,
>>
>>
>>
>> We are replacing websphere application server, so would like to know whe=
ther tomcat has CICS support to access mainframe resources.
>
> Should you not be asking IBM for this ?
> (that's only after Googling for "CICS Support")
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 17:59:13 2012
Return-Path: <users-return-238502-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C6449D312
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 17:59:13 +0000 (UTC)
Received: (qmail 5005 invoked by uid 500); 8 Dec 2012 17:59:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 4942 invoked by uid 500); 8 Dec 2012 17:59:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 4922 invoked by uid 99); 8 Dec 2012 17:59:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:59:10 +0000
X-ASF-Spam-Status: No, hits=4.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.151.127] (HELO nm37-vm8.bullet.mail.sg3.yahoo.com) (106.10.151.127)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 17:59:02 +0000
Received: from [106.10.166.61] by nm37.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 17:58:39 -0000
Received: from [106.10.150.27] by tm18.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 17:58:39 -0000
Received: from [127.0.0.1] by omp1028.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 17:58:39 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 325600.53012.bm@omp1028.mail.sg3.yahoo.com
Received: (qmail 24976 invoked by uid 60001); 8 Dec 2012 17:58:39 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354989519; bh=Deom9PjZ4Jo0+8kD5hVkix4TfmH4ciMhmkkyPqQPBfw=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=S58EvGQ3J3CHdfZV6z4m77S8ROtJxogSTob4nWdWTYhWV3mSOwecb9W1Z0erqYoC8dGHscOFajv1qqiM1ZDYEZR23z0T09G3zRo1AbcIg97QcoqkAPNLLVc0mD4akYQdrlEi+dBfiNp+6dbOd0rT8FERVaXj5vnHSiBubxSOZCc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=zxXH70xIAXksQLaI5Cv2diYyQRpYj5Y9X/atdWHw37xgJIb7PfeKsgwK7cyTO8pvs0QOXWwlNfVdy9hcCcM9A9bGaMoFlF16X4/27xVks6aYPaUB4Rg1lM3DnyAkb26baos80WT7pEWtLlimrD1ROaM7HHDMuvdUI0kAKPozYnM=;
X-YMail-OSG: 5BdJGg8VM1ntiS5Jzjp48hwRbuuXcPW3.XejADdbNYrAGCU
 vqIrEm2uXylOGzZr7UCtoH71z3gZxMj3HlonFppV7SX28R7eHcFdhUH8pxoy
 blW1ZDSu73phWwJehcUF5mBkyNt3ytL74H_nJaIRLCzNKZgHkbbIhMoV7Bzp
 Pe5h4FSaibtA2qkBP.Cb5ji0ahoEWLzTNKGoswMk9jCfEUKYXmcSVozkRadM
 yBZQv10GMul7xxQH.YCL28yKwL7Hez_MudUEuFlTaKwW6iGnKpzY2PM93H2T
 8SofvEDhU8dR1R7YBiuqswCk_0juG9MdeNo48uQoRjZvq90y4vg3tGoM4Unc
 H1iN0ToGptKKBmyhLWQX4vBhAW1Pv0N_lS01EnyTRkqB1j5HPHJpOXb6dkum
 aUvDQWFBubzd5gZZL8nqdpBtbPWBvLLDpqXeT1zUdhQMBWWxz.9pI6hCRZcB
 nFYJBPMhspDLLKHEZag_VKSm5qIL_.RHzdjxW6VOawSuXqvln8uO8k1820zl
 prOJMA7ljuZ4e.EFAkC8LDNTKPThnx3r0oltrxUNWjtAH9kJzn8uCj_k0oa.
 vkaz80XuS.Btdc0dhrLgEc88j.ItuGT_9g8l.6R6caZiIxyP1VMY-
Received: from [180.151.36.169] by web193101.mail.sg3.yahoo.com via HTTP; Sun, 09 Dec 2012 01:58:38 SGT
X-Rocket-MIMEInfo: 001.001,CkkgaGF2ZSByZWFkIHRoZSBUb21jYXQgNi4wIGNsYXNzbG9hZGVyIGRvY3VtZW50YXRpb24oYmVsb3cgbGluayksIGZyb20gdGhpcyB3aGF0IGkgdW5kZXJzdG9vZCBpcyB0aGF0IHRoZSAiY2xhc3Nlcy9qYXIvcmVzb3VyY2UvcHJvcGVydGllcyBmaWxlIgpnZXQgbG9hZGVkwqAgZnJvbSB0aGUgZm9sbG93aW5nIGxvY2F0aW9ucwoKMS5Cb290c3RyYXAgY2xhc3NlcyBvZiB5b3VyIEpWTcKgICgkSkFWQV9IT01FL2pyZS9saWIvZXh0KS4gCjIuU3lzdGVtIGNsYXNzIGxvYWRlciBjbGFzc2VzwqAgKCBBZGQgYm8BMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid>
Message-ID: <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
Date: Sun, 9 Dec 2012 01:58:38 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <-1575792619315605313@unknownmsgid>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-886612536-1195229236-1354989518=:16977"
X-Virus-Checked: Checked by ClamAV on apache.org

---886612536-1195229236-1354989518=:16977
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0AI have read the Tomcat 6.0 classloader documentation(below link), from t=
his what i understood is that the "classes/jar/resource/properties file"=0A=
get loaded=A0 from the following locations=0A=0A1.Bootstrap classes of your=
 JVM=A0 ($JAVA_HOME/jre/lib/ext). =0A2.System class loader classes=A0 ( Add=
 bootstrap.jar & tomcat-juli.jar to CLASSPATH variable)=0A3.Common class lo=
ader classes ( refers $CATALINA_BASE/lib=A0 & $CATALINA_HOME/lib ) & uses $=
CATALINA_BASE/conf/catalina.properties=0A4. /WEB-INF/classes of your web ap=
plication =0A5. /WEB-INF/lib/*.jar of your web application =0A=A0=0AThe thi=
ng which is still puzzling me is that how my "resource/properties files" ge=
t loaded to Tomcat CLASSPATH=0Awhen i add them to "$CATALINA_BASE/bin" dire=
ctory & When i move the same files to $CATALINA_BASE/conf directory then it=
 doesn't get added to Tomcat CLASSPATH.=0A=A0=0AMy deployed applications ne=
ed"properties/resource files ", Can someone please help me in understand th=
e optimal way of adding these files to =0ATomcat CLASSPATH. Does placing th=
e files under <CATALINA_BASE>/bin is the right approach.Please suggest=0A=
=A0=0AIn my organisation i cannot add anything to "$CATALINA_HOME/lib or bi=
n" location ,these are read only directories=0A=0Ahttp://tomcat.apache.org/=
tomcat-6.0-doc/class-loader-howto.html=0AThanks for your help=0AVicky=0A =
=0A=0A________________________________=0A From: Pid * <pid@pidster.com>=0AT=
o: Tomcat Users List <users@tomcat.apache.org> =0ASent: Saturday, 8 Decembe=
r 2012 10:34 PM=0ASubject: Re: Tomcat 6.0 CLASSPATH query=0A  =0AOn 8 Dec 2=
012, at 03:29, "vicky007aggarwal@yahoo.co.in"=0A<vicky007aggarwal@yahoo.co.=
in> wrote:=0A=0A> Application is deployed under tomcat webapps directory . =
It tries to refer to application specific properties file from tomcat class=
path, for that we copied it under tomcat bin directory.=0A>=0A> My query is=
 that does this is the right way to add properties file to tomcat classpath=
?=0A=0ADid you try putting it in tomcat/lib?=0A=0A=0Ap=0A=0A=0A=0A>=0A> Tha=
nks for ur help,=0A> Vicky=0A>=0A>=0A>=0A> On Dec 8, 2012, at 2:11 AM, Chri=
stopher Schultz <chris@christopherschultz.net> wrote:=0A>=0A>> -----BEGIN P=
GP SIGNED MESSAGE-----=0A>> Hash: SHA256=0A>>=0A>> Vicky,=0A>>=0A>> On 12/7=
/12 11:48 AM, vicky wrote:=0A>>> I have a requirement in which i need to ad=
d couple of properties=0A>>> files to tomcat CLASSPATH as these are needed =
for my application=0A>>> deployed in Tomcat 6.0.=0A>>>=0A>>> One strange th=
ing is that, i need to add the all my properties=0A>>> files to "<CATALINA_=
BASE>/bin" directory else these all wont get=0A>>> added to Tomcat classpat=
h.=0A>>=0A>> Where does the code live that attempts to load those propertie=
s files?=0A>>=0A>> - -chris=0A>> -----BEGIN PGP SIGNATURE-----=0A>> Version=
: GnuPG/MacGPG2 v2.0.17 (Darwin)=0A>> Comment: GPGTools - http://gpgtools.o=
rg/=0A>> Comment: Using GnuPG with undefined - http://www.enigmail.net/=0A>=
>=0A>> iEYEAREIAAYFAlDCVJcACgkQ9CaO5/Lv0PBTogCgoXLXbB5jx///m6qC+ZxO0f20=0A>=
> xO8An2SZPU8E0LuiPpQRCZPVw8v/T66L=0A>> =3DJmvq=0A>> -----END PGP SIGNATURE=
-----=0A>>=0A>> -----------------------------------------------------------=
----------=0A>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=
=0A>> For additional commands, e-mail: users-help@tomcat.apache.org=0A>=0A>=
 ---------------------------------------------------------------------=0A> =
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org=0A> For additio=
nal commands, e-mail: users-help@tomcat.apache.org=0A>=0A=0A---------------=
------------------------------------------------------=0ATo unsubscribe, e-=
mail: users-unsubscribe@tomcat.apache.org=0AFor additional commands, e-mail=
: users-help@tomcat.apache.org
---886612536-1195229236-1354989518=:16977--

From users-return-238503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 18:55:26 2012
Return-Path: <users-return-238503-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A25ED626
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 18:55:26 +0000 (UTC)
Received: (qmail 34054 invoked by uid 500); 8 Dec 2012 18:55:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33864 invoked by uid 500); 8 Dec 2012 18:55:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33855 invoked by uid 99); 8 Dec 2012 18:55:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 18:55:23 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.138.229.112] (HELO nm36-vm0.bullet.mail.ne1.yahoo.com) (98.138.229.112)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 18:55:17 +0000
Received: from [98.138.90.53] by nm36.bullet.mail.ne1.yahoo.com with NNFMP; 08 Dec 2012 18:54:56 -0000
Received: from [98.138.84.38] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 08 Dec 2012 18:54:56 -0000
Received: from [127.0.0.1] by smtp106.mail.ne1.yahoo.com with NNFMP; 08 Dec 2012 18:54:56 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354992896; bh=ks9+qC5wphZxlScToOsMcDi7OIokN6eqrifr9LFTSsg=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=iscLZKihnJ5WxX5Qitc7rNK9mKCFkyAnLGMtZYr+u/9zisK8lTLWKba0plmzlzv0oLqomiweRN6gPvf7Fp3S9UbTTp5+ZUZA0cKE8y2nfws+BKBjCMkogDY9/paDe/NcCJHivEub4ovPNlmOzUeSKPz7PjOFfIZPlJofKwKBy4k=
X-Yahoo-Newman-Id: 160598.47786.bm@smtp106.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: d9VBU5UVM1mSyypGDafbIB7sFnf5DFb5eKCJiVbWUPHN.Aq
 D6KdIjrCHuz_Hg_vUaix7My5oci69UOs2UqV4MNFVm._kH9dpoTPPwUfU2VP
 VFN9UGCB8nY_u7mj.L9ijjAnekBX31v11sF3cfG.kf30IaCuxOrZcldEWX0D
 bgxHE4BC.PCalB98stUcJt6a_28I1.KdBE_3borshgIVudXG9e8hyHEu0YPK
 hxBu.lY7k7u3b9OqkuUCwF1ofnnLv8tmQb.3AXG7oWlLrDMlhTk0qKZFMBZd
 qvcY.QUSchxOC6oKwB1MIf1zAUeRREtO_flcUchIZjcf8j1SGSd7nZbHpPrR
 qCQnXeL.zwfPjpYLCrBnwKf7vguPyh0yPcaAZ4AUXD8EtQJ6b4Sgp_7u6hvj
 etFmfsEfA76oIGOMPC5IsOkMT6o3iCHdp0LFv1ay1FQyb01kEcSGCx9MHtIs
 ZyHvc2ZUiulc-
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp106.mail.ne1.yahoo.com with SMTP; 08 Dec 2012 10:54:55 -0800 PST
Message-ID: <50C38CC6.4060608@yahoo.com>
Date: Sat, 08 Dec 2012 10:53:58 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
In-Reply-To: <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Comments inline below (a bit fuzzy from the move yet).

On 12/8/2012 9:58 AM, vicky wrote:
>
> I have read the Tomcat 6.0 classloader documentation(below link),
> from this what i understood is that the
> "classes/jar/resource/properties file" get loaded  from the following
> locations
>
> 1.Bootstrap classes of your JVM  ($JAVA_HOME/jre/lib/ext). 2.System
> class loader classes  ( Add bootstrap.jar & tomcat-juli.jar to
> CLASSPATH variable) 3.Common class loader classes ( refers
> $CATALINA_BASE/lib  & $CATALINA_HOME/lib ) & uses
> $CATALINA_BASE/conf/catalina.properties 4. /WEB-INF/classes of your
> web application 5. /WEB-INF/lib/*.jar of your web application
>
> The thing which is still puzzling me is that how my
> "resource/properties files" get loaded to Tomcat CLASSPATH when i add
> them to "$CATALINA_BASE/bin" directory & When i move the same files
> to $CATALINA_BASE/conf directory then it doesn't get added to Tomcat
> CLASSPATH.
>
> My deployed applications need"properties/resource files ", Can
> someone please help me in understand the optimal way of adding these
> files to Tomcat CLASSPATH. Does placing the files under
> <CATALINA_BASE>/bin is the right approach.Please suggest
>

Why in the world are you adding these resource files to Tomcat's 
CLASSPATH? If the resources are application - specific, you don't need 
to do this at all.

Just add the files to your local application. In Maven, there's a 
special directory for that:

src/main/resources

In NetBeans, I normally create a separate package for all of my 
configuration files.

I think in Eclipse you'll have to make a subdirectory under 
WEB-INF/classes and copy the files there. That's unpleasant. Eclipse 
will include that in the build of the WAR file when you do an "export".

Then, just do the following in your code to reference the resource.

InputStream in =
     this.getClass().getClassLoader().getResourceAsStream(configfile);

Where configfile is the complete classpath to your resource.

This is nice. It works in exploded WARs, it works in WAR files, it works 
in JARs.

No mucking about with CLASSPATH. No polluting other applications or 
Tomcat with spurious application - specific resources. This enables you 
to run several copies of the same web application in the same container, 
all with different configurations.

Just search for getResourceAsStream() for more explanation.

> In my organisation i cannot add anything to "$CATALINA_HOME/lib or
> bin" location ,these are read only directories
>
> http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html
> Thanks for your help Vicky

Not needed.

>
>
> ________________________________ From: Pid * <pid@pidster.com> To:
> Tomcat Users List <users@tomcat.apache.org> Sent: Saturday, 8
> December 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH query
>
> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
> <vicky007aggarwal@yahoo.co.in> wrote:
>
>> Application is deployed under tomcat webapps directory . It tries
>> to refer to application specific properties file from tomcat
>> classpath, for that we copied it under tomcat bin directory.
>>
>> My query is that does this is the right way to add properties file
>> to tomcat classpath?
>
> Did you try putting it in tomcat/lib?
>
>
> p

>
>
>
>>
>> Thanks for ur help, Vicky
>>
>>
>>
>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz
>> <chris@christopherschultz.net> wrote:
>>
>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>
>>> Vicky,
>>>
>>> On 12/7/12 11:48 AM, vicky wrote:
>>>> I have a requirement in which i need to add couple of
>>>> properties files to tomcat CLASSPATH as these are needed for my
>>>> application deployed in Tomcat 6.0.
>>>>
>>>> One strange thing is that, i need to add the all my properties
>>>> files to "<CATALINA_BASE>/bin" directory else these all wont
>>>> get added to Tomcat classpath.
>>>
>>> Where does the code live that attempts to load those properties
>>> files?
>>>
>>> - -chris

. . . just my (I hate moving) 2 cents
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 19:51:59 2012
Return-Path: <users-return-238504-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B3D18E3D9
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 19:51:59 +0000 (UTC)
Received: (qmail 51164 invoked by uid 500); 8 Dec 2012 19:51:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 51095 invoked by uid 500); 8 Dec 2012 19:51:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 51084 invoked by uid 99); 8 Dec 2012 19:51:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 19:51:56 +0000
X-ASF-Spam-Status: No, hits=4.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_BL_SPAMCOP_NET,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.149.3] (HELO nm12-vm3.bullet.mail.sg3.yahoo.com) (106.10.149.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 19:51:48 +0000
Received: from [106.10.166.124] by nm12.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 19:51:24 -0000
Received: from [106.10.151.15] by tm13.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 19:51:24 -0000
Received: from [127.0.0.1] by omp1020.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 19:51:24 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 896846.14842.bm@omp1020.mail.sg3.yahoo.com
Received: (qmail 66957 invoked by uid 60001); 8 Dec 2012 19:51:24 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1354996284; bh=pZpYzjpD7JQnQhlvPrSL2LVFg/wyDKdACtENytqDjpM=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=nZNI++mXTe42jQP8O5pZfYCCEyOCrlXPMjFWk+4FsnNCkjiL2CDmQcQI41yAB/6V4gr38QPMHK+i7wc2v9JmpnvoeyTNb2/HZ4N4MmDMIzNbc4KAx7etT93+YuQoTNYYpK7eOvhYh8A1fhbSGKCa9unmkuqb5t1PV/2xKbHNjsk=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=2REKRXW/cgbrdUqikIWK1maiKqBdRZqNb8RGniuSjcIy+BsuIPQpG4MZTV8hWv1N0GhDG/3l56HS8uZ2CEfByF+vnY4QYry5xrospj0/wv2eQLeLMjdlqM+n3UpKW7zvJzKuuqy84TFRSu5RfQe0/9m1VtwG7uSUTLSPLHvH1vs=;
X-YMail-OSG: ya7RzEQVM1nEYjV4B85My5WTHf4XQN1zKqsnjZCNU.4L94F
 2M9pB18dNvX9IHgg6Yh2KQSk7KHzKqaKB1NkxVFK1ttyXHa.cKrWDi.TDaOw
 MUD6lwqhfpqVuBc1t6YkxKK1jjUy0lYIHtXkWjepGUxNMWa.Ykz2CkdjPxjD
 xgG_T7ebq3E2wfr1JEOt0tiBCnL0n5TtY6jDSENz8nNOPqied.TZztZ6Lj4s
 GAQTU5ZCh3fgDtrbq4nSvti2xBZWgvVa.CcOiiJjPL7.zXzVQr7T2FH6GqDF
 9YRnmxyk3v7gg1_puE6aekz4fZeNqAIuREfari2_YLTenSULkCNiJMQeb21I
 ._nvw1Ho3zbxXNZfiHo592f0sfbYj2Nwv8.VFsPHDXYlMrMnQZeuWstSs9rW
 0VrFuRiRKRFMHKYgLBd8izCNMw9NrmIa8qdP.tmyWdAf6KCXA_i_4qrepjkO
 lFOybrsRK8OoI40yb009X..1a.sQWazehGwbPSrgRq.domBXNPmyR5F7fg7N
 l
Received: from [180.151.36.169] by web193102.mail.sg3.yahoo.com via HTTP; Sun, 09 Dec 2012 03:51:24 SGT
X-Rocket-MIMEInfo: 001.001,VGhhbmtzIE1hcmsgZm9yIHlvdXIgdmFsdWFibGUgc3VnZ2VzdGlvbnMuCsKgCkJ1dCBpbiBteSBwcm9qZWN0IGkgaGF2ZSBhIHJlcXVpcmVtZW50IHRvIHNoYXJlIG9uZSAicmVzb3VyY2UvcHJvcGVydGllcyBmaWxlICIgYWNyb3NzwqAxMCBhcHBsaWNhdGlvbnMgZGVwbG95ZWQgb24gc2luZ2xlIHRvbWNhdCBpbnN0YW5jZQrCoApXZSBjYW5ub3QgYWZmb3JkIHRvIGFkZCB0aGUgc2FtZSBwcm9wZXJ0aWVzIGZpbGUgdG8gYWxsIGFyY2hpdmVzIGFzIGl0cyBjb250ZW50cyBrZWVwIGNoYW5naW5nLgrCoApBbm8BMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com>
Message-ID: <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
Date: Sun, 9 Dec 2012 03:51:24 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50C38CC6.4060608@yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1355684428-2009224955-1354996284=:64515"
X-Virus-Checked: Checked by ClamAV on apache.org

--1355684428-2009224955-1354996284=:64515
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Mark for your valuable suggestions.=0A=A0=0ABut in my project i have=
 a requirement to share one "resource/properties file " across=A010 applica=
tions deployed on single tomcat instance=0A=A0=0AWe cannot afford to add th=
e same properties file to all archives as its contents keep changing.=0A=A0=
=0AAnother restriction which i have is that i cannot place any file under "=
$CATALINA_HOME" directories , these are read only for us.=0A=A0=0ABased on =
afore said concerns, do you have any better way out ..please suggest.=0A=A0=
=0AAppreciated all of your help=0A=A0=0AThanks for ur time =0AVicky=0A =0A=
=0A________________________________=0A From: Mark Eggers <its_toasted@yahoo=
.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Sunday, 9 =
December 2012 12:23 AM=0ASubject: Re: Tomcat 6.0 CLASSPATH query=0A  =0ACom=
ments inline below (a bit fuzzy from the move yet).=0A=0AOn 12/8/2012 9:58 =
AM, vicky wrote:=0A>=0A> I have read the Tomcat 6.0 classloader documentati=
on(below link),=0A> from this what i understood is that the=0A> "classes/ja=
r/resource/properties file" get loaded=A0 from the following=0A> locations=
=0A>=0A> 1.Bootstrap classes of your JVM=A0 ($JAVA_HOME/jre/lib/ext). 2.Sys=
tem=0A> class loader classes=A0 ( Add bootstrap.jar & tomcat-juli.jar to=0A=
> CLASSPATH variable) 3.Common class loader classes ( refers=0A> $CATALINA_=
BASE/lib=A0 & $CATALINA_HOME/lib ) & uses=0A> $CATALINA_BASE/conf/catalina.=
properties 4. /WEB-INF/classes of your=0A> web application 5. /WEB-INF/lib/=
*.jar of your web application=0A>=0A> The thing which is still puzzling me =
is that how my=0A> "resource/properties files" get loaded to Tomcat CLASSPA=
TH when i add=0A> them to "$CATALINA_BASE/bin" directory & When i move the =
same files=0A> to $CATALINA_BASE/conf directory then it doesn't get added t=
o Tomcat=0A> CLASSPATH.=0A>=0A> My deployed applications need"properties/re=
source files ", Can=0A> someone please help me in understand the optimal wa=
y of adding these=0A> files to Tomcat CLASSPATH. Does placing the files und=
er=0A> <CATALINA_BASE>/bin is the right approach.Please suggest=0A>=0A=0AWh=
y in the world are you adding these resource files to Tomcat's =0ACLASSPATH=
? If the resources are application - specific, you don't need =0Ato do this=
 at all.=0A=0AJust add the files to your local application. In Maven, there=
's a =0Aspecial directory for that:=0A=0Asrc/main/resources=0A=0AIn NetBean=
s, I normally create a separate package for all of my =0Aconfiguration file=
s.=0A=0AI think in Eclipse you'll have to make a subdirectory under =0AWEB-=
INF/classes and copy the files there. That's unpleasant. Eclipse =0Awill in=
clude that in the build of the WAR file when you do an "export".=0A=0AThen,=
 just do the following in your code to reference the resource.=0A=0AInputSt=
ream in =3D=0A=A0 =A0  this.getClass().getClassLoader().getResourceAsStream=
(configfile);=0A=0AWhere configfile is the complete classpath to your resou=
rce.=0A=0AThis is nice. It works in exploded WARs, it works in WAR files, i=
t works =0Ain JARs.=0A=0ANo mucking about with CLASSPATH. No polluting othe=
r applications or =0ATomcat with spurious application - specific resources.=
 This enables you =0Ato run several copies of the same web application in t=
he same container, =0Aall with different configurations.=0A=0AJust search f=
or getResourceAsStream() for more explanation.=0A=0A> In my organisation i =
cannot add anything to "$CATALINA_HOME/lib or=0A> bin" location ,these are =
read only directories=0A>=0A> http://tomcat.apache.org/tomcat-6.0-doc/class=
-loader-howto.html=0A> Thanks for your help Vicky=0A=0ANot needed.=0A=0A>=
=0A>=0A> ________________________________ From: Pid * <pid@pidster.com> To:=
=0A> Tomcat Users List <users@tomcat.apache.org> Sent: Saturday, 8=0A> Dece=
mber 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH query=0A>=0A> On 8 Dec=
 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"=0A> <vicky007aggarwal@yahoo=
.co.in> wrote:=0A>=0A>> Application is deployed under tomcat webapps direct=
ory . It tries=0A>> to refer to application specific properties file from t=
omcat=0A>> classpath, for that we copied it under tomcat bin directory.=0A>=
>=0A>> My query is that does this is the right way to add properties file=
=0A>> to tomcat classpath?=0A>=0A> Did you try putting it in tomcat/lib?=0A=
>=0A>=0A> p=0A=0A>=0A>=0A>=0A>>=0A>> Thanks for ur help, Vicky=0A>>=0A>>=0A=
>>=0A>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz=0A>> <chris@christo=
pherschultz.net> wrote:=0A>>=0A>>> -----BEGIN PGP SIGNED MESSAGE----- Hash:=
 SHA256=0A>>>=0A>>> Vicky,=0A>>>=0A>>> On 12/7/12 11:48 AM, vicky wrote:=0A=
>>>> I have a requirement in which i need to add couple of=0A>>>> propertie=
s files to tomcat CLASSPATH as these are needed for my=0A>>>> application d=
eployed in Tomcat 6.0.=0A>>>>=0A>>>> One strange thing is that, i need to a=
dd the all my properties=0A>>>> files to "<CATALINA_BASE>/bin" directory el=
se these all wont=0A>>>> get added to Tomcat classpath.=0A>>>=0A>>> Where d=
oes the code live that attempts to load those properties=0A>>> files?=0A>>>=
=0A>>> - -chris=0A=0A. . . just my (I hate moving) 2 cents=0A/mde/=0A=0A---=
------------------------------------------------------------------=0ATo uns=
ubscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AFor additional comm=
ands, e-mail: users-help@tomcat.apache.org
--1355684428-2009224955-1354996284=:64515--

From users-return-238505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 20:40:37 2012
Return-Path: <users-return-238505-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D589D3C3
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 20:40:37 +0000 (UTC)
Received: (qmail 46805 invoked by uid 500); 8 Dec 2012 20:40:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46763 invoked by uid 500); 8 Dec 2012 20:40:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46754 invoked by uid 99); 8 Dec 2012 20:40:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 20:40:33 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.218.228] (HELO nm8-vm5.bullet.mail.gq1.yahoo.com) (98.136.218.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 20:40:28 +0000
Received: from [98.137.12.190] by nm8.bullet.mail.gq1.yahoo.com with NNFMP; 08 Dec 2012 20:40:07 -0000
Received: from [98.136.185.41] by tm11.bullet.mail.gq1.yahoo.com with NNFMP; 08 Dec 2012 20:40:07 -0000
Received: from [127.0.0.1] by smtp102.mail.gq1.yahoo.com with NNFMP; 08 Dec 2012 20:40:08 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1354999208; bh=FiFZofQrPZi9dsfLCQHAnIXrctQBfTCQwRT9Ld3HXF8=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=RJkNhitTiQIw4ohlWZmQ3M5pmITuPJz1zkNB6fyloAesr0aeE9RFyzFpE8Ho2WWLwNrFkDiX+8r9TZ/dBQCKQXXpBVLff4EJanJJoirt3F0kjt1DJf70kVSHzVVWHRG7Q3P8sVt49zoK0l/Hy1/lhoCZ/lmeeQTTueKB4Xrk8kE=
X-Yahoo-Newman-Id: 976332.4944.bm@smtp102.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: _pzmH7EVM1lfLyjuWYOywJMuIMFT4Vui7NImBkHuvrTJ.KA
 UjFa5_QldoYun2qEDnLmjNobQ03gkgdGZNSidji0zxmn3QtbyKs_4B9gaBZc
 bOe2hAQ3YkibT5YjK12UVRodY7kkb7ISnEEPmNVWSkvUy3JWMTBUnvfwtWsJ
 MC2kfE7p7qkK1p0WlNXqX4MScPndlU1FvjWGVdNC7owzlEqArDd1v5as3vhp
 wVK2V1cdaBfBc5EMNFIWLDWpVC7hvFj48wtORNFA_SBLkp1ZsvfKEJKWEZzj
 dUUjP6W2hNuRpL149iLxZUKvdwGEy6mdrGgoXEQZl3.18dTQuK.v5pbOvBwc
 _S366KMSItE4_q6sBIIRPMCpWql7R3sETpc9XKdaJo6CJ.o.V3O97pdAqOAX
 7c9AUkoFb5R_crH1obuXcqy.7gabVRvsWcdYpiVEJPdiuUurQTAuLdhfemuE
 u6KJUSo6XRv7rlQtpuTyj5JCeBMeJaQ05e5ahxkFlufiLSxcEJUbSEbinHgO
 1
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp102.mail.gq1.yahoo.com with SMTP; 08 Dec 2012 20:40:08 +0000 UTC
Message-ID: <50C3A56B.4060407@yahoo.com>
Date: Sat, 08 Dec 2012 12:39:07 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
In-Reply-To: <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

See at the end for a truly spectacularly bad potential solution. Note 
that I have not tried this, so your mileage may vary.

On 12/8/2012 11:51 AM, vicky wrote:
> Thanks Mark for your valuable suggestions.
>
> But in my project i have a requirement to share one
> "resource/properties file " across 10 applications deployed on single
> tomcat instance
>
> We cannot afford to add the same properties file to all archives as
> its contents keep changing.
>
> Another restriction which i have is that i cannot place any file
> under "$CATALINA_HOME" directories , these are read only for us.
>
> Based on afore said concerns, do you have any better way out ..please
> suggest.
>
> Appreciated all of your help
>
> Thanks for ur time Vicky
>
>
> ________________________________ From: Mark Eggers
> <its_toasted@yahoo.com> To: Tomcat Users List
> <users@tomcat.apache.org> Sent: Sunday, 9 December 2012 12:23 AM
> Subject: Re: Tomcat 6.0 CLASSPATH query
>
> Comments inline below (a bit fuzzy from the move yet).
>
> On 12/8/2012 9:58 AM, vicky wrote:
>>
>> I have read the Tomcat 6.0 classloader documentation(below link),
>> from this what i understood is that the
>> "classes/jar/resource/properties file" get loaded  from the
>> following locations
>>
>> 1.Bootstrap classes of your JVM  ($JAVA_HOME/jre/lib/ext).
>> 2.System class loader classes  ( Add bootstrap.jar &
>> tomcat-juli.jar to CLASSPATH variable) 3.Common class loader
>> classes ( refers $CATALINA_BASE/lib  & $CATALINA_HOME/lib ) & uses
>> $CATALINA_BASE/conf/catalina.properties 4. /WEB-INF/classes of
>> your web application 5. /WEB-INF/lib/*.jar of your web application
>>
>> The thing which is still puzzling me is that how my
>> "resource/properties files" get loaded to Tomcat CLASSPATH when i
>> add them to "$CATALINA_BASE/bin" directory & When i move the same
>> files to $CATALINA_BASE/conf directory then it doesn't get added to
>> Tomcat CLASSPATH.
>>
>> My deployed applications need"properties/resource files ", Can
>> someone please help me in understand the optimal way of adding
>> these files to Tomcat CLASSPATH. Does placing the files under
>> <CATALINA_BASE>/bin is the right approach.Please suggest
>>
>
> Why in the world are you adding these resource files to Tomcat's
> CLASSPATH? If the resources are application - specific, you don't
> need to do this at all.
>
> Just add the files to your local application. In Maven, there's a
> special directory for that:
>
> src/main/resources
>
> In NetBeans, I normally create a separate package for all of my
> configuration files.
>
> I think in Eclipse you'll have to make a subdirectory under
> WEB-INF/classes and copy the files there. That's unpleasant. Eclipse
> will include that in the build of the WAR file when you do an
> "export".
>
> Then, just do the following in your code to reference the resource.
>
> InputStream in =
> this.getClass().getClassLoader().getResourceAsStream(configfile);
>
> Where configfile is the complete classpath to your resource.
>
> This is nice. It works in exploded WARs, it works in WAR files, it
> works in JARs.
>
> No mucking about with CLASSPATH. No polluting other applications or
> Tomcat with spurious application - specific resources. This enables
> you to run several copies of the same web application in the same
> container, all with different configurations.
>
> Just search for getResourceAsStream() for more explanation.
>
>> In my organisation i cannot add anything to "$CATALINA_HOME/lib or
>> bin" location ,these are read only directories
>>
>> http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html
>> Thanks for your help Vicky
>
> Not needed.
>
>>
>>
>> ________________________________ From: Pid * <pid@pidster.com> To:
>> Tomcat Users List <users@tomcat.apache.org> Sent: Saturday, 8
>> December 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH query
>>
>> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
>> <vicky007aggarwal@yahoo.co.in> wrote:
>>
>>> Application is deployed under tomcat webapps directory . It
>>> tries to refer to application specific properties file from
>>> tomcat classpath, for that we copied it under tomcat bin
>>> directory.
>>>
>>> My query is that does this is the right way to add properties
>>> file to tomcat classpath?
>>
>> Did you try putting it in tomcat/lib?
>>
>>
>> p
>
>>
>>
>>
>>>
>>> Thanks for ur help, Vicky
>>>
>>>
>>>
>>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz
>>> <chris@christopherschultz.net> wrote:
>>>
>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>>
>>>> Vicky,
>>>>
>>>> On 12/7/12 11:48 AM, vicky wrote:
>>>>> I have a requirement in which i need to add couple of
>>>>> properties files to tomcat CLASSPATH as these are needed for
>>>>> my application deployed in Tomcat 6.0.
>>>>>
>>>>> One strange thing is that, i need to add the all my
>>>>> properties files to "<CATALINA_BASE>/bin" directory else
>>>>> these all wont get added to Tomcat classpath.
>>>>
>>>> Where does the code live that attempts to load those
>>>> properties files?
>>>>
>>>> - -chris
>
> . . . just my (I hate moving) 2 cents /mde/

Vicky,

So let me now understand your requirements.

1. Properties files to be read by web applications
2. 10 web applications on one Tomcat instance
3. All 10 web applications read identical files
4. Property files change frequently
5. $CATALINA_HOME and $CATALINA_BASE are read-only
6. $CATALINA_BASE/lib and $CATALINA_BASE/bin are read-only

In the future it would be a good idea to list all of your requirements 
and restrictions at once, rather than having the list extract it by 
recommending solutions which fail one or more requirements.

The approach (placing resource files on the CLASSPATH) is probably not a 
good one given the requirements as you've stated them.

If you're wedded to reading resources from a CLASSPATH, the only 
reasonable way to live with the above requirements is to use files in 
WEB-INF/classes. Then the application will have to be changed each time 
you update the resource files. This all can be scripted so that 
operations won't have too big of a burden.

Placing the resources in a JAR somewhere on Tomcat's CLASSPATH poses 
several problems.

1. You cannot modify the directories where Tomcat reads JARs
2. A change to the resource will require a Tomcat restart

One of the only ways I can see around this is as follows.

1. create a setenv.sh in $CATALINA_BASE/bin (or setenv.bat)

I realize you do not have write access to this, but maybe operations can 
create that file.

2. In that setenv.sh, add the following:

CLASSPATH=/place/where/your/jar/is.jar
EXPORT CLASSPATH

3. Make the /place/where/your/jar/is.jar readable

This JAR file must be readable by the user running Tomcat

4. In is.jar add all your configuration files

This is a pretty spectacularly bad solution for several reasons.

1. You're reading a file outside of Tomcat's directory structure
2. Eunning under the security manager would be challenging
3. Tomcat restart for changing the JAR with the properties files

At this point, I would seriously look at scripting the 10 web 
application updates, or loading the properties files in a database and 
access them via JNDI.

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec  8 20:57:42 2012
Return-Path: <users-return-238506-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 862A7D421
	for <apmail-tomcat-users-archive@www.apache.org>; Sat,  8 Dec 2012 20:57:42 +0000 (UTC)
Received: (qmail 84378 invoked by uid 500); 8 Dec 2012 20:57:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84317 invoked by uid 500); 8 Dec 2012 20:57:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84307 invoked by uid 99); 8 Dec 2012 20:57:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 20:57:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.96] (HELO nm25-vm1.bullet.mail.sg3.yahoo.com) (106.10.151.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 08 Dec 2012 20:57:33 +0000
Received: from [106.10.166.122] by nm25.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 20:57:09 -0000
Received: from [106.10.167.111] by tm11.bullet.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 20:57:09 -0000
Received: from [127.0.0.1] by smtp113-mob.biz.mail.sg3.yahoo.com with NNFMP; 08 Dec 2012 20:57:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355000229; bh=v2ty6M3qeHYmVO8/AfsNMDkLGboG5JPoARYYwm7tyPU=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:References:Mime-Version:In-Reply-To:Content-Type:Content-Transfer-Encoding:Message-Id:Cc:X-Mailer:From:Subject:Date:To; b=j6l01J7DYpJT2nkt57Mix0UdQbe5I2Tp9IuW+8LH6StCRIl0BTHQCryj9HvnX2om8iM+YeU0ZBvBnjcbLnsUQavEIW6mPTp2IX/h//ctl6KLy9fPhSJPbLFL+2FjzkDvIYOIc3SZAT6IS1RrK3vNK2J4NW+xPQkcCmtnqszmkRY=
X-Yahoo-Newman-Id: 627230.1807.bm@smtp113-mob.biz.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: x7qBNikVM1komfBp9bzrfi1buKduVoiwnGxgnOZBDjtGZ7I
 aJwJ1ZYJtYfGX0gER._OnNwxAIW4BKnueQTdV2IOStc71.f1tQ7uQ.1UCctX
 QUe77Trapkdz9_x3.9jzXVv0ClValF8mAFkhaAns7mwt1Vix.I3vvVpGThOb
 vbpkYwdCpbPbnryGgjZOW_tw_yJHb40fyERMGZa_gf1i9yLwLt2MUSmgP2IE
 qUeGiTMHgJSJWLtjIr3qqT_HmNp0.BiS3a.Hf0cSUb8bLP3X0BpyLwPnuVxy
 rmxHjggpaz5M_avwcm_SC9ji.Nvc_ysltl8Gih.kgEIQyLavF2zfuMhshaxn
 P4HJRlmenzOHw9CQS.PBro.VxGb8mnHYDcBaQVtZV8J9T79y_D6I3GTL3Fk7
 4hS4xlmYcmeZuw9ANzy.bWbz2M0spGnBLGYZnkyfA08BoN615UYhoSUvYf2d
 YiMuTheVyXNVHodzIXglCoSzAt65IDaSfOI.wggy0uho-
X-Yahoo-SMTP: ajpxA4uswBBx5xUesqpGwIxhJ2rBVD6Wr1LeDLQ-
Received: from [223.237.203.39] (vicky007aggarwal@223.237.203.39 with xymcookie)
        by smtp113-mob.biz.mail.sg3.yahoo.com with SMTP; 08 Dec 2012 20:57:09 +0000 UTC
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com>
Mime-Version: 1.0 (1.0)
In-Reply-To: <50C3A56B.4060407@yahoo.com>
Content-Type: text/plain;
	charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Message-Id: <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
Cc: Tomcat Users List <users@tomcat.apache.org>
X-Mailer: iPhone Mail (10A403)
From: vicky007aggarwal@yahoo.co.in
Subject: Re: Tomcat 6.0 CLASSPATH query
Date: Sun, 9 Dec 2012 02:27:03 +0530
To: Tomcat Users List <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Mark

Sorry for the confusion i created related to my requirements.
5 Out of 6  requirements you stated below are correct. The last point i.e $C=
ATALINA_BASE is writable. I can manipulate/write files to this location.
So now do you have anything more to add to your proposed solution as you sug=
gested below=20



Thanks,
Vicky



On Dec 9, 2012, at 2:09 AM, Mark Eggers <its_toasted@yahoo.com> wrote:

> See at the end for a truly spectacularly bad potential solution. Note that=
 I have not tried this, so your mileage may vary.
>=20
> On 12/8/2012 11:51 AM, vicky wrote:
>> Thanks Mark for your valuable suggestions.
>>=20
>> But in my project i have a requirement to share one
>> "resource/properties file " across 10 applications deployed on single
>> tomcat instance
>>=20
>> We cannot afford to add the same properties file to all archives as
>> its contents keep changing.
>>=20
>> Another restriction which i have is that i cannot place any file
>> under "$CATALINA_HOME" directories , these are read only for us.
>>=20
>> Based on afore said concerns, do you have any better way out ..please
>> suggest.
>>=20
>> Appreciated all of your help
>>=20
>> Thanks for ur time Vicky
>>=20
>>=20
>> ________________________________ From: Mark Eggers
>> <its_toasted@yahoo.com> To: Tomcat Users List
>> <users@tomcat.apache.org> Sent: Sunday, 9 December 2012 12:23 AM
>> Subject: Re: Tomcat 6.0 CLASSPATH query
>>=20
>> Comments inline below (a bit fuzzy from the move yet).
>>=20
>> On 12/8/2012 9:58 AM, vicky wrote:
>>>=20
>>> I have read the Tomcat 6.0 classloader documentation(below link),
>>> from this what i understood is that the
>>> "classes/jar/resource/properties file" get loaded  from the
>>> following locations
>>>=20
>>> 1.Bootstrap classes of your JVM  ($JAVA_HOME/jre/lib/ext).
>>> 2.System class loader classes  ( Add bootstrap.jar &
>>> tomcat-juli.jar to CLASSPATH variable) 3.Common class loader
>>> classes ( refers $CATALINA_BASE/lib  & $CATALINA_HOME/lib ) & uses
>>> $CATALINA_BASE/conf/catalina.properties 4. /WEB-INF/classes of
>>> your web application 5. /WEB-INF/lib/*.jar of your web application
>>>=20
>>> The thing which is still puzzling me is that how my
>>> "resource/properties files" get loaded to Tomcat CLASSPATH when i
>>> add them to "$CATALINA_BASE/bin" directory & When i move the same
>>> files to $CATALINA_BASE/conf directory then it doesn't get added to
>>> Tomcat CLASSPATH.
>>>=20
>>> My deployed applications need"properties/resource files ", Can
>>> someone please help me in understand the optimal way of adding
>>> these files to Tomcat CLASSPATH. Does placing the files under
>>> <CATALINA_BASE>/bin is the right approach.Please suggest
>>=20
>> Why in the world are you adding these resource files to Tomcat's
>> CLASSPATH? If the resources are application - specific, you don't
>> need to do this at all.
>>=20
>> Just add the files to your local application. In Maven, there's a
>> special directory for that:
>>=20
>> src/main/resources
>>=20
>> In NetBeans, I normally create a separate package for all of my
>> configuration files.
>>=20
>> I think in Eclipse you'll have to make a subdirectory under
>> WEB-INF/classes and copy the files there. That's unpleasant. Eclipse
>> will include that in the build of the WAR file when you do an
>> "export".
>>=20
>> Then, just do the following in your code to reference the resource.
>>=20
>> InputStream in =3D
>> this.getClass().getClassLoader().getResourceAsStream(configfile);
>>=20
>> Where configfile is the complete classpath to your resource.
>>=20
>> This is nice. It works in exploded WARs, it works in WAR files, it
>> works in JARs.
>>=20
>> No mucking about with CLASSPATH. No polluting other applications or
>> Tomcat with spurious application - specific resources. This enables
>> you to run several copies of the same web application in the same
>> container, all with different configurations.
>>=20
>> Just search for getResourceAsStream() for more explanation.
>>=20
>>> In my organisation i cannot add anything to "$CATALINA_HOME/lib or
>>> bin" location ,these are read only directories
>>>=20
>>> http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html
>>> Thanks for your help Vicky
>>=20
>> Not needed.
>>=20
>>>=20
>>>=20
>>> ________________________________ From: Pid * <pid@pidster.com> To:
>>> Tomcat Users List <users@tomcat.apache.org> Sent: Saturday, 8
>>> December 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH query
>>>=20
>>> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
>>> <vicky007aggarwal@yahoo.co.in> wrote:
>>>=20
>>>> Application is deployed under tomcat webapps directory . It
>>>> tries to refer to application specific properties file from
>>>> tomcat classpath, for that we copied it under tomcat bin
>>>> directory.
>>>>=20
>>>> My query is that does this is the right way to add properties
>>>> file to tomcat classpath?
>>>=20
>>> Did you try putting it in tomcat/lib?
>>>=20
>>>=20
>>> p
>>=20
>>>=20
>>>=20
>>>=20
>>>>=20
>>>> Thanks for ur help, Vicky
>>>>=20
>>>>=20
>>>>=20
>>>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz
>>>> <chris@christopherschultz.net> wrote:
>>>>=20
>>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>>>=20
>>>>> Vicky,
>>>>>=20
>>>>> On 12/7/12 11:48 AM, vicky wrote:
>>>>>> I have a requirement in which i need to add couple of
>>>>>> properties files to tomcat CLASSPATH as these are needed for
>>>>>> my application deployed in Tomcat 6.0.
>>>>>>=20
>>>>>> One strange thing is that, i need to add the all my
>>>>>> properties files to "<CATALINA_BASE>/bin" directory else
>>>>>> these all wont get added to Tomcat classpath.
>>>>>=20
>>>>> Where does the code live that attempts to load those
>>>>> properties files?
>>>>>=20
>>>>> - -chris
>>=20
>> . . . just my (I hate moving) 2 cents /mde/
>=20
> Vicky,
>=20
> So let me now understand your requirements.
>=20
> 1. Properties files to be read by web applications
> 2. 10 web applications on one Tomcat instance
> 3. All 10 web applications read identical files
> 4. Property files change frequently
> 5. $CATALINA_HOME and $CATALINA_BASE are read-only
> 6. $CATALINA_BASE/lib and $CATALINA_BASE/bin are read-only
>=20
> In the future it would be a good idea to list all of your requirements and=
 restrictions at once, rather than having the list extract it by recommendin=
g solutions which fail one or more requirements.
>=20
> The approach (placing resource files on the CLASSPATH) is probably not a g=
ood one given the requirements as you've stated them.
>=20
> If you're wedded to reading resources from a CLASSPATH, the only reasonabl=
e way to live with the above requirements is to use files in WEB-INF/classes=
. Then the application will have to be changed each time you update the reso=
urce files. This all can be scripted so that operations won't have too big o=
f a burden.
>=20
> Placing the resources in a JAR somewhere on Tomcat's CLASSPATH poses sever=
al problems.
>=20
> 1. You cannot modify the directories where Tomcat reads JARs
> 2. A change to the resource will require a Tomcat restart
>=20
> One of the only ways I can see around this is as follows.
>=20
> 1. create a setenv.sh in $CATALINA_BASE/bin (or setenv.bat)
>=20
> I realize you do not have write access to this, but maybe operations can c=
reate that file.
>=20
> 2. In that setenv.sh, add the following:
>=20
> CLASSPATH=3D/place/where/your/jar/is.jar
> EXPORT CLASSPATH
>=20
> 3. Make the /place/where/your/jar/is.jar readable
>=20
> This JAR file must be readable by the user running Tomcat
>=20
> 4. In is.jar add all your configuration files
>=20
> This is a pretty spectacularly bad solution for several reasons.
>=20
> 1. You're reading a file outside of Tomcat's directory structure
> 2. Eunning under the security manager would be challenging
> 3. Tomcat restart for changing the JAR with the properties files
>=20
> At this point, I would seriously look at scripting the 10 web application u=
pdates, or loading the properties files in a database and access them via JN=
DI.
>=20
> . . . . just my two cents.
> /mde/
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 09:30:19 2012
Return-Path: <users-return-238507-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EC640D18D
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 09:30:19 +0000 (UTC)
Received: (qmail 16942 invoked by uid 500); 9 Dec 2012 09:30:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16739 invoked by uid 500); 9 Dec 2012 09:30:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16699 invoked by uid 99); 9 Dec 2012 09:30:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 09:30:14 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 09:30:10 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so2128157obc.18
        for <users@tomcat.apache.org>; Sun, 09 Dec 2012 01:29:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=0ARk+vuIyVWRafwYgp58CDJWNGWaOAabtGiN3Jrwdps=;
        b=kPRLluRL+ije8LY8pTSOCLXfj83pTMdbwMB6xDXRSm8NsMA266fU9lTAFiBUPYSZlC
         CJfKHLlafvPcfngUJElDJeAUTFQF5CyjK1+5x+b+4+LKQm/B0i5QzCE2stMAFpR3ReND
         4y5Ot3fYW410FKem53X4hbQ342dyC/4FgcSbE=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=0ARk+vuIyVWRafwYgp58CDJWNGWaOAabtGiN3Jrwdps=;
        b=jGzuOFonY5C1vcYgmsLe7aXkJ0m26klVFrt460ryJMrP4Kj8k5bEQ1UwoMXMoC2HmW
         2a1CVSndkbWmHoFNAbBJR4jfgAgzJQMVqXNoIMQQHMW7iweJR6BSEPbXdA0OdnQ4Ygl+
         ijKIG0FJT/atxD7MactmeZglEEC8qoN3FMqZKEAxtVIQRKgU4egTeKq6i+wpLxISlil9
         HtyKGsUZAdE25L+ID8o1wtgG7411kgbjbfA1fDVG1gdpd4ch2dGtKVQZxZY9TAqTxw09
         MWNh3L7T00HhIctOv/hwcXWJs9R7VmsE8ck8iTJ2/Q2KrJdq/ID2qM57jwf2gZBcGXVj
         6WPg==
Received: by 10.182.98.19 with SMTP id ee19mr5684573obb.90.1355045389319; Sun,
 09 Dec 2012 01:29:49 -0800 (PST)
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
 <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
 <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
Mime-Version: 1.0 (1.0)
Date: Sun, 9 Dec 2012 09:31:30 +0000
Message-ID: <7833845704254080649@unknownmsgid>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQlZGXIEQBq8YCZbqfzBa8/Wq8lnnX/dlcpPdWhNDog9ASmUtIIGGvPakA5VYptfjhW7HMV9
X-Virus-Checked: Checked by ClamAV on apache.org

On 8 Dec 2012, at 20:57, "vicky007aggarwal@yahoo.co.in"
<vicky007aggarwal@yahoo.co.in> wrote:

> Thanks Mark
>
> Sorry for the confusion i created related to my requirements.
> 5 Out of 6  requirements you stated below are correct. The last point i.e=
 $CATALINA_BASE is writable. I can manipulate/write files to this location.
> So now do you have anything more to add to your proposed solution as you =
suggested below

1. Please stop top-posting.
2. Put your resources in CATALINA_BASE/lib


p




>
>
>
> Thanks,
> Vicky
>
>
>
> On Dec 9, 2012, at 2:09 AM, Mark Eggers <its_toasted@yahoo.com> wrote:
>
>> See at the end for a truly spectacularly bad potential solution. Note th=
at I have not tried this, so your mileage may vary.
>>
>> On 12/8/2012 11:51 AM, vicky wrote:
>>> Thanks Mark for your valuable suggestions.
>>>
>>> But in my project i have a requirement to share one
>>> "resource/properties file " across 10 applications deployed on single
>>> tomcat instance
>>>
>>> We cannot afford to add the same properties file to all archives as
>>> its contents keep changing.
>>>
>>> Another restriction which i have is that i cannot place any file
>>> under "$CATALINA_HOME" directories , these are read only for us.
>>>
>>> Based on afore said concerns, do you have any better way out ..please
>>> suggest.
>>>
>>> Appreciated all of your help
>>>
>>> Thanks for ur time Vicky
>>>
>>>
>>> ________________________________ From: Mark Eggers
>>> <its_toasted@yahoo.com> To: Tomcat Users List
>>> <users@tomcat.apache.org> Sent: Sunday, 9 December 2012 12:23 AM
>>> Subject: Re: Tomcat 6.0 CLASSPATH query
>>>
>>> Comments inline below (a bit fuzzy from the move yet).
>>>
>>> On 12/8/2012 9:58 AM, vicky wrote:
>>>>
>>>> I have read the Tomcat 6.0 classloader documentation(below link),
>>>> from this what i understood is that the
>>>> "classes/jar/resource/properties file" get loaded  from the
>>>> following locations
>>>>
>>>> 1.Bootstrap classes of your JVM  ($JAVA_HOME/jre/lib/ext).
>>>> 2.System class loader classes  ( Add bootstrap.jar &
>>>> tomcat-juli.jar to CLASSPATH variable) 3.Common class loader
>>>> classes ( refers $CATALINA_BASE/lib  & $CATALINA_HOME/lib ) & uses
>>>> $CATALINA_BASE/conf/catalina.properties 4. /WEB-INF/classes of
>>>> your web application 5. /WEB-INF/lib/*.jar of your web application
>>>>
>>>> The thing which is still puzzling me is that how my
>>>> "resource/properties files" get loaded to Tomcat CLASSPATH when i
>>>> add them to "$CATALINA_BASE/bin" directory & When i move the same
>>>> files to $CATALINA_BASE/conf directory then it doesn't get added to
>>>> Tomcat CLASSPATH.
>>>>
>>>> My deployed applications need"properties/resource files ", Can
>>>> someone please help me in understand the optimal way of adding
>>>> these files to Tomcat CLASSPATH. Does placing the files under
>>>> <CATALINA_BASE>/bin is the right approach.Please suggest
>>>
>>> Why in the world are you adding these resource files to Tomcat's
>>> CLASSPATH? If the resources are application - specific, you don't
>>> need to do this at all.
>>>
>>> Just add the files to your local application. In Maven, there's a
>>> special directory for that:
>>>
>>> src/main/resources
>>>
>>> In NetBeans, I normally create a separate package for all of my
>>> configuration files.
>>>
>>> I think in Eclipse you'll have to make a subdirectory under
>>> WEB-INF/classes and copy the files there. That's unpleasant. Eclipse
>>> will include that in the build of the WAR file when you do an
>>> "export".
>>>
>>> Then, just do the following in your code to reference the resource.
>>>
>>> InputStream in =3D
>>> this.getClass().getClassLoader().getResourceAsStream(configfile);
>>>
>>> Where configfile is the complete classpath to your resource.
>>>
>>> This is nice. It works in exploded WARs, it works in WAR files, it
>>> works in JARs.
>>>
>>> No mucking about with CLASSPATH. No polluting other applications or
>>> Tomcat with spurious application - specific resources. This enables
>>> you to run several copies of the same web application in the same
>>> container, all with different configurations.
>>>
>>> Just search for getResourceAsStream() for more explanation.
>>>
>>>> In my organisation i cannot add anything to "$CATALINA_HOME/lib or
>>>> bin" location ,these are read only directories
>>>>
>>>> http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html
>>>> Thanks for your help Vicky
>>>
>>> Not needed.
>>>
>>>>
>>>>
>>>> ________________________________ From: Pid * <pid@pidster.com> To:
>>>> Tomcat Users List <users@tomcat.apache.org> Sent: Saturday, 8
>>>> December 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH query
>>>>
>>>> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
>>>> <vicky007aggarwal@yahoo.co.in> wrote:
>>>>
>>>>> Application is deployed under tomcat webapps directory . It
>>>>> tries to refer to application specific properties file from
>>>>> tomcat classpath, for that we copied it under tomcat bin
>>>>> directory.
>>>>>
>>>>> My query is that does this is the right way to add properties
>>>>> file to tomcat classpath?
>>>>
>>>> Did you try putting it in tomcat/lib?
>>>>
>>>>
>>>> p
>>>
>>>>
>>>>
>>>>
>>>>>
>>>>> Thanks for ur help, Vicky
>>>>>
>>>>>
>>>>>
>>>>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz
>>>>> <chris@christopherschultz.net> wrote:
>>>>>
>>>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>>>>
>>>>>> Vicky,
>>>>>>
>>>>>> On 12/7/12 11:48 AM, vicky wrote:
>>>>>>> I have a requirement in which i need to add couple of
>>>>>>> properties files to tomcat CLASSPATH as these are needed for
>>>>>>> my application deployed in Tomcat 6.0.
>>>>>>>
>>>>>>> One strange thing is that, i need to add the all my
>>>>>>> properties files to "<CATALINA_BASE>/bin" directory else
>>>>>>> these all wont get added to Tomcat classpath.
>>>>>>
>>>>>> Where does the code live that attempts to load those
>>>>>> properties files?
>>>>>>
>>>>>> - -chris
>>>
>>> . . . just my (I hate moving) 2 cents /mde/
>>
>> Vicky,
>>
>> So let me now understand your requirements.
>>
>> 1. Properties files to be read by web applications
>> 2. 10 web applications on one Tomcat instance
>> 3. All 10 web applications read identical files
>> 4. Property files change frequently
>> 5. $CATALINA_HOME and $CATALINA_BASE are read-only
>> 6. $CATALINA_BASE/lib and $CATALINA_BASE/bin are read-only
>>
>> In the future it would be a good idea to list all of your requirements a=
nd restrictions at once, rather than having the list extract it by recommen=
ding solutions which fail one or more requirements.
>>
>> The approach (placing resource files on the CLASSPATH) is probably not a=
 good one given the requirements as you've stated them.
>>
>> If you're wedded to reading resources from a CLASSPATH, the only reasona=
ble way to live with the above requirements is to use files in WEB-INF/clas=
ses. Then the application will have to be changed each time you update the =
resource files. This all can be scripted so that operations won't have too =
big of a burden.
>>
>> Placing the resources in a JAR somewhere on Tomcat's CLASSPATH poses sev=
eral problems.
>>
>> 1. You cannot modify the directories where Tomcat reads JARs
>> 2. A change to the resource will require a Tomcat restart
>>
>> One of the only ways I can see around this is as follows.
>>
>> 1. create a setenv.sh in $CATALINA_BASE/bin (or setenv.bat)
>>
>> I realize you do not have write access to this, but maybe operations can=
 create that file.
>>
>> 2. In that setenv.sh, add the following:
>>
>> CLASSPATH=3D/place/where/your/jar/is.jar
>> EXPORT CLASSPATH
>>
>> 3. Make the /place/where/your/jar/is.jar readable
>>
>> This JAR file must be readable by the user running Tomcat
>>
>> 4. In is.jar add all your configuration files
>>
>> This is a pretty spectacularly bad solution for several reasons.
>>
>> 1. You're reading a file outside of Tomcat's directory structure
>> 2. Eunning under the security manager would be challenging
>> 3. Tomcat restart for changing the JAR with the properties files
>>
>> At this point, I would seriously look at scripting the 10 web applicatio=
n updates, or loading the properties files in a database and access them vi=
a JNDI.
>>
>> . . . . just my two cents.
>> /mde/
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 12:06:30 2012
Return-Path: <users-return-238508-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 358C5D105
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 12:06:30 +0000 (UTC)
Received: (qmail 30290 invoked by uid 500); 9 Dec 2012 12:06:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30248 invoked by uid 500); 9 Dec 2012 12:06:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30221 invoked by uid 99); 9 Dec 2012 12:06:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 12:06:26 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,WEIRD_QUOTING
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.166] (HELO nm29-vm7.bullet.mail.sg3.yahoo.com) (106.10.151.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 12:06:18 +0000
Received: from [106.10.166.112] by nm29.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 12:05:54 -0000
Received: from [106.10.150.29] by tm1.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 12:05:54 -0000
Received: from [127.0.0.1] by omp1030.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 12:05:54 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 349925.57162.bm@omp1030.mail.sg3.yahoo.com
Received: (qmail 2468 invoked by uid 60001); 9 Dec 2012 12:05:54 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355054754; bh=YCj+7520Mnsz4v5o9tDxe1pjNQArXAfQfVRtB1wYrLY=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=YC1y6MV+c1lzKdEGhmb9X+ntRpc5+/GQIo+gdggHJemybymaDHtkssnEcAAMBoTLT7bbxw5uah5PtetT3USak8sEVuKAH87AkmJRL6LRub4AYYZ7t/XeRDsRji1K7KdWM1oO9HlftaFFak/dgc7FgX99mgobSOrx6uPPRGWKdj4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=wNz063vO98jIkJfWzOltnF0vPzTiTRvJiqaaijNHc8KC0/RdYL+Q3kl0eZ1pb/n8Ms/G7SVDmvMuJgbD23AaGFZr1CD5uNrfcvb93gx0Z0Hw/oldKoggOZIivAt8LPcD9rbMD80T0hL/Pf+L8ZZaNwPbIFn55USbIo1wuPIIupI=;
X-YMail-OSG: I7PoHQMVM1kpGQSQfKVSolW8qbwp_BujvQgH2IBpns2YAiY
 5xpEyq_Gyq3rwDxHnLM_oiyrYeBL1VhWEgYyFLY.mrMJUajSmu06bH7qTApQ
 202bK9Wm6r.jgw.wzOn7_lex9HGEiPdwSbGCHtD5fdsJp3SjA9deK2sw5qsF
 F6GvHPWKBY1EI2ZuJ5ztgbw7Ir1RD.icmRP.Z1a7wpkNjEu5JGpg1RJV.TIf
 yS.0aLUKN9Nw8amKdJgu1e9heaZ6z1QnF9G8uAb8Bj7L0tQqPEmTU3iaL78M
 cWF6l2xVIKixrzWsjRa82od_KZdsuTrtA9IFlsGU_3J1W8mJfERgA1EGSWdW
 Ya4rRnOSkGK730e8B2za32tBrlAcyY0VqoR4PItHlFnGRLoroTkMPSv3ecOf
 rOOq.T.x_ESuK1jfUgGzNhEmMm5uWHlEOJBKvn0tAoUOG2_tlv97Q2eB_66M
 3PS1pU4MtrjTxPX.EylWVLaQQbuA0s7PKMulJGP5kidNqOq8LzcYelL30w4O
 cubdDu1zRvwkKrDrKVhZ8LEOmGX5g8tqGT70XV_eLosDxkytvP6EcQnZXfDt
 ayjDewss-
Received: from [180.151.36.169] by web193106.mail.sg3.yahoo.com via HTTP; Sun, 09 Dec 2012 20:05:53 SGT
X-Rocket-MIMEInfo: 001.001,SGVsbG8gR3V5cywKwqAKSSBhbSB0cnlpbmcgdG8gZ2F0aGVyIHN0YXRpc3RpY2FsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBudW1iZXIgb2YgcmVxdWVzdHMgc2VydmVkIGJ5IG15IHRvbWNhdMKgKGZvcndhcmRlZCBmcm9tIEFwYWNoZSBNUE0gd29ya2VyKcKgJiBmb3IgdGhpcyBpIGFtIHVzaW5nIApQU0ktUFJvYmUgKGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9wc2ktcHJvYmUvKSBhcHBsaWNhdGlvbi4gSSBoYXZlIGVuY2xvc2VkIHRoZSAiUFJPQkUgc2NyZWVuc2hvdCIgYXMgd2VsbCBmb3IgeW91ciByZWYBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
Message-ID: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com>
Date: Sun, 9 Dec 2012 20:05:53 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: PSI-PROBE query
To: Tomcat Users List <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="4813690-741578062-1355054753=:91997"
X-Virus-Checked: Checked by ClamAV on apache.org

--4813690-741578062-1355054753=:91997
Content-Type: multipart/alternative; boundary="4813690-665178168-1355054753=:91997"

--4813690-665178168-1355054753=:91997
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hello Guys,=0A=A0=0AI am trying to gather statistical information about the=
 number of requests served by my tomcat=A0(forwarded from Apache MPM worker=
)=A0& for this i am using =0APSI-PRobe (http://code.google.com/p/psi-probe/=
) application. I have enclosed the "PROBE screenshot" as well for your refe=
rence,=0Ain this "Request Time "," Processing Time " values=A0 for=A0 http-=
8080=A0 connector are keep on increasing even when no one is accessing the =
application.=0A=A0=0AI am wondering how can i get the report of number of r=
equests which all are served by my tomcat instance, i am not able to relate=
 to the=0Anumbers which all are getting displayed in the Probe Application.=
 Does i am doing something wrong in interpreting the Probe Application outp=
ut =0A=A0=0A""" Thanks a lot to all=A0 who all are replying to my naive que=
ries , i really learnt a lot about tomcat after subscribing to this email l=
ist """""=0A=A0=0A=A0=0AThanks Again=0AVicky
--4813690-665178168-1355054753=:91997
Content-Type: text/html; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

<html><body><div style=3D"color:#000; background-color:#fff; font-family:ti=
mes new roman, new york, times, serif;font-size:12pt"><div><i><font color=
=3D"#ff4040" face=3D"comic sans ms">Hello Guys,</font></i></div><div><em><f=
ont color=3D"#ff4040" face=3D"Comic Sans MS"></font></em>&nbsp;</div><div><=
em><font color=3D"#ff4040" face=3D"Comic Sans MS">I am trying to gather sta=
tistical information about the number of requests served by my tomcat&nbsp;=
(forwarded from Apache MPM worker)&nbsp;&amp; for this i am using </font></=
em></div><div><em><font color=3D"#ff4040" face=3D"Comic Sans MS">PSI-PRobe =
(<a href=3D"http://code.google.com/p/psi-probe/">http://code.google.com/p/p=
si-probe/</a>) application. I have enclosed the "PROBE screenshot" as well =
for your reference,</font></em></div><div><em><font color=3D"#ff4040" face=
=3D"Comic Sans MS">in this "Request Time "," Processing Time " values&nbsp;=
 for&nbsp; <span style=3D'font: bold 12px/20px "Trebuchet MS", Arial, Helve=
tica, sans-serif;
 text-align: left; color: rgb(68, 68, 68); text-transform: none; text-inden=
t: 0px; letter-spacing: 1px; word-spacing: 0px; float: none; display: inlin=
e !important; white-space: normal; orphans: 2; widows: 2; background-color:=
 rgb(242, 249, 255); -webkit-text-size-adjust: auto; -webkit-text-stroke-wi=
dth: 0px;'>http-8080&nbsp; connector </span>are keep on increasing even whe=
n no one is accessing the application.</font></em></div><div><em><font colo=
r=3D"#ff4040" face=3D"Comic Sans MS"></font></em>&nbsp;</div><div><em><font=
 color=3D"#ff4040" face=3D"Comic Sans MS">I am wondering how can i get the =
report of number of requests which all are served by my tomcat instance, i =
am not able to relate to the</font></em></div><div style=3D"color: rgb(255,=
 64, 64); font-family: Comic Sans MS; font-size: 15.99px; font-style: itali=
c; background-color: transparent;">numbers which all are getting displayed =
in the Probe Application. Does i am doing something wrong in interpreting t=
he
 Probe Application output </div><div style=3D"color: rgb(255, 64, 64); font=
-family: Comic Sans MS; font-size: 15.99px; font-style: italic; background-=
color: transparent;">&nbsp;</div><div style=3D"color: rgb(255, 64, 64); fon=
t-family: Comic Sans MS; font-size: 15.99px; font-style: italic; background=
-color: transparent;">""" Thanks a lot to all&nbsp; who all are replying to=
 my naive queries , i really learnt a lot about tomcat after subscribing to=
 this email list """""</div><div style=3D"color: rgb(255, 64, 64); font-fam=
ily: Comic Sans MS; font-size: 15.99px; font-style: italic; background-colo=
r: transparent;">&nbsp;</div><div style=3D"color: rgb(255, 64, 64); font-fa=
mily: Comic Sans MS; font-size: 15.99px; font-style: italic; background-col=
or: transparent;">&nbsp;</div><div style=3D"color: rgb(255, 64, 64); font-f=
amily: Comic Sans MS; font-size: 15.99px; font-style: italic; background-co=
lor: transparent;">Thanks Again</div><div style=3D"color: rgb(255, 64, 64);
 font-family: Comic Sans MS; font-size: 15.99px; font-style: italic; backgr=
ound-color: transparent;">Vicky<var id=3D"yui-ie-cursor"></var></div></div>=
</body></html>
--4813690-665178168-1355054753=:91997--

--4813690-741578062-1355054753=:91997
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--4813690-741578062-1355054753=:91997--

From users-return-238509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 16:55:36 2012
Return-Path: <users-return-238509-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E477EE4F3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 16:55:35 +0000 (UTC)
Received: (qmail 29236 invoked by uid 500); 9 Dec 2012 16:55:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28981 invoked by uid 500); 9 Dec 2012 16:55:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28944 invoked by uid 99); 9 Dec 2012 16:55:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 16:55:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 16:55:21 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id ZSwB1k0071HzFnQ51Uv0Lg; Sun, 09 Dec 2012 16:55:00 +0000
Received: from Christophers-MacBook-Pro.local ([72.84.138.119])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id ZUsf1k00S2akyQ83aUsli5; Sun, 09 Dec 2012 16:52:55 +0000
Message-ID: <50C4C1DE.4000406@christopherschultz.net>
Date: Sun, 09 Dec 2012 11:52:46 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid>
In-Reply-To: <-1575792619315605313@unknownmsgid>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355072100;
	bh=A2ewQ0G1TCfxaf8eC4Ys1C85lDD+HyzLFNVC3w6sNYQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=JGLnLmv9hEXx7oKEeH0sPyRs4wKa9pZ+z5/dcIavkGCiA/XOJ61MBvb26TYf2hg57
	 QD2slAMZTRdv/WV1jrKvJxBLNubLdC2c2lcexO/sCXJzmY9O0mx93x9ET/SmYL0DKq
	 zbfP2uvXdC/PRBejxg9YNTgEpDkWAbn6hv9+d+mjmmTL+WurWgN97n/r5eTL2BQ2+S
	 p3EgsmawJ4tbA1RNyP5IMxNLNvTQS1dwPqjZ8Nb7C5BPTppOv+Wh6DQ2NQjNbfzl/u
	 30YIK0AP+l/SNrj0JIeU9X/iYIk9srSvuYe1SDTgLOiKDJEJbwCGnc6eLInJTAoleg
	 QkzytqNvYU95A==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Pid,

On 12/8/12 12:04 PM, Pid * wrote:
> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in" 
> <vicky007aggarwal@yahoo.co.in> wrote:
> 
>> Application is deployed under tomcat webapps directory . It tries
>> to refer to application specific properties file from tomcat
>> classpath, for that we copied it under tomcat bin directory.
>> 
>> My query is that does this is the right way to add properties
>> file to tomcat classpath?
> 
> Did you try putting it in tomcat/lib?

Better yet: did you try putting it in WEB-INF/classes? That's where it
*should* be.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDEwd4ACgkQ9CaO5/Lv0PCWDwCgqOtUlVhyWeZMrWqI99GMVpsj
daoAnR6K97x0tjVOm2q1hKAPzcuSFnrP
=I4EZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 16:58:22 2012
Return-Path: <users-return-238510-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCB7BE501
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 16:58:22 +0000 (UTC)
Received: (qmail 39185 invoked by uid 500); 9 Dec 2012 16:58:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38836 invoked by uid 500); 9 Dec 2012 16:58:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38822 invoked by uid 99); 9 Dec 2012 16:58:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 16:58:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 16:58:11 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ZSgf1k00C17dt5G53Uxqfb; Sun, 09 Dec 2012 16:57:50 +0000
Received: from Christophers-MacBook-Pro.local ([72.84.138.119])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id ZUvU1k00z2akyQ83ZUvajf; Sun, 09 Dec 2012 16:55:45 +0000
Message-ID: <50C4C287.4050100@christopherschultz.net>
Date: Sun, 09 Dec 2012 11:55:35 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in> <7833845704254080649@unknownmsgid>
In-Reply-To: <7833845704254080649@unknownmsgid>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355072270;
	bh=OtTlKIwPIEfMG9Tz8rYr+OvcxGus+jiqgvLP7OeCWCU=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=FiRudT+p+GjLOegvJvR+4T2vWf2tYIscqoz3Nvlhz5lLn4DmlANz/xE2DzEtz9qMQ
	 3i3YF7spU02nM9z+7JNz+Ba8im8RbOYQ0AvaueK9ooOLIwl9Cj7L2cNtAkN2+gvWNI
	 YmuBWJDcPk2ThoEAVcrtgkIndcHzfE5fXRei7CKh+uxmOMAJpAMu34MTb/rytIAizj
	 m1ihx5O+EowNP0yEIxcc+MKL7C59KvWzwVT2Wl3PBt60RRIIpYLY7rnYD6/zPWIwj8
	 FCzCk49EiJz0xZLbCco5H2nmLJewdk4xFBUoqksyZNqOCKKzvcY/JF+zAZU2ThWb+U
	 Y6qlVesqf7QKw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Pid,

On 12/9/12 4:31 AM, Pid * wrote:
> On 8 Dec 2012, at 20:57, "vicky007aggarwal@yahoo.co.in" 
> <vicky007aggarwal@yahoo.co.in> wrote:
> 
>> Thanks Mark
>> 
>> Sorry for the confusion i created related to my requirements. 5
>> Out of 6  requirements you stated below are correct. The last
>> point i.e $CATALINA_BASE is writable. I can manipulate/write
>> files to this location. So now do you have anything more to add
>> to your proposed solution as you suggested below
> 
> 1. Please stop top-posting. 2. Put your resources in
> CATALINA_BASE/lib

Another option is to use a VirtualClassLoader and add some random path
(/etc/myawesomewebapps/) to it in all webapps.

Honestly, I think there are better ways to load shared configuration
than trying to share a .properties file on the disk.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDEwocACgkQ9CaO5/Lv0PDc7gCfUvtH3K16UuRR/PlRzjfeMYin
jbcAoMB15SHyQq/MDRnwr7Ws8CpWoY6h
=E9GV
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 17:02:07 2012
Return-Path: <users-return-238511-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5791E52B
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 17:02:07 +0000 (UTC)
Received: (qmail 47208 invoked by uid 500); 9 Dec 2012 17:02:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46891 invoked by uid 500); 9 Dec 2012 17:02:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46870 invoked by uid 99); 9 Dec 2012 17:02:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:02:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:01:56 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id ZUrx1k0010bG4ec5AV1b5j; Sun, 09 Dec 2012 17:01:35 +0000
Received: from Christophers-MacBook-Pro.local ([72.84.138.119])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id ZUzE1k00S2akyQ83PUzLq7; Sun, 09 Dec 2012 16:59:30 +0000
Message-ID: <50C4C369.40509@christopherschultz.net>
Date: Sun, 09 Dec 2012 11:59:21 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PSI-PROBE query
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com>
In-Reply-To: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355072495;
	bh=B0fm86Lw0zpKX6pj3EhULX3hUj952UBQBAgQ9VMQ7fw=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=rL/RRac3fDcl/aRuKOHSyO+TJzvEI6tT95KdQn6z2LgvT8wRX55hO0r8xsuwsprRO
	 7UZM4CyUmeu7jCrY/qUVue/BFNs+0DOFaBR13qDgK/QGSDvHAWcTTh+XtcCMwoIg+m
	 9BuIyjthnyhtF12PSI4QUBnkNTA2mkhOLrytfIb1+oU7VN/dZJnevTsKtbykfSazRw
	 9jh0VlKqMNi0yJ0F2zcHMSNEplAZYj+OWmvvS+5z0bKg4Fd2l0ywr4j3XeEOCWWGhc
	 WmZHA8OawmO9XmELMnylQHEmo+PrQ/4Os4Un2tZGOuqwmq7b9Ha76ePNb9nhV9W8Ym
	 ku7HNX1J/jO0A==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/9/12 7:05 AM, vicky wrote:
> I am trying to gather statistical information about the number of 
> requests served by my tomcat (forwarded from Apache MPM worker) &
> for this i am using /PSI-PRobe
> (http://code.google.com/p/psi-probe/) application. I have enclosed
> the "PROBE screenshot" as well for your reference,

Sorry, this list strips attachments. Please copy/paste the numbers
into a followup post.

> in this "Request Time "," Processing Time " values  for  http-8080
>  connector are keep on increasing even when no one is accessing
> the application.

Are you sure nobody is accessing the application? Do you have an
AccessLogValve (or Filter) enabled?

> I am wondering how can i get the report of number of requests which
> all are served by my tomcat instance, i am not able to relate to
> the numbers which all are getting displayed in the Probe
> Application. Does i am doing something wrong in interpreting the
> Probe Application output

If you want to know which requests are taking a long time, configure
(or re-configure) an AccessLogValve to include the total time for the
request. Then sort your log file by response-time and start at the
longest response to see what's going on.

Psi Probe likely uses JMX (or maybe gets the data directly from Tomcat
in the same way that the JMX beans get their data), so all that same
data is available the JMX. Attach to Tomcat using jconsole, jvisualvm,
etc. and poke around: there's a lot of good information in there.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDEw2kACgkQ9CaO5/Lv0PCrswCgh1e7HpCS7uLtr9jiq9Qg+q1Y
7EQAn2+z7X/0mEBdzL5nZazdJh/D4SAh
=1U+/
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 17:07:12 2012
Return-Path: <users-return-238512-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6C82E53F
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 17:07:11 +0000 (UTC)
Received: (qmail 58343 invoked by uid 500); 9 Dec 2012 17:07:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58229 invoked by uid 500); 9 Dec 2012 17:07:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58219 invoked by uid 99); 9 Dec 2012 17:07:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:07:08 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:07:01 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id ZSKR1k0020bG4ec55V6hMC; Sun, 09 Dec 2012 17:06:41 +0000
Received: from Christophers-MacBook-Pro.local ([72.84.138.119])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id ZV4K1k00x2akyQ83PV4Rs2; Sun, 09 Dec 2012 17:04:36 +0000
Message-ID: <50C4C49A.9010803@christopherschultz.net>
Date: Sun, 09 Dec 2012 12:04:26 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Word.Applicaiton acvivex components & tomcat & Windows 7
References: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom>
In-Reply-To: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355072801;
	bh=SyPraU+vWxph28YWGwJPauxeuUYB6gVopo+CEuhnAU0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=sst+XBagZTyCl3nGSw0RVyRsRh0yLOMRSrceQb77Q5EjNDoH9AeXJ7p3m/w8HsiMa
	 A84n37GIQ4IxsHt591vfcraQiZUaJhhjPExMKQVO+rNZwsT//CftgE/6zTCkFus8Ub
	 xA+C22aBFZvCjnih7h128N7eMM1T6UU+1/GaZR9F9jBaVLm++TR+vhMeWefcLw8wSz
	 dOAUySErjR3gKIrKHz5xrta6homnDHQQm/g4ox7zbfhP5xYip1ubGL6H1DxRuqczrF
	 Yzr0g671VGYq+/kIH4/4deeFmeR3SIn0lTVbePbejeH43QnTvPzYruj2uRItEHitVN
	 c7nSlXYTvT/Mw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Jan,

On 12/7/12 6:06 PM, Jan Kostelansky wrote:
> I am experiencing problems running vb script under tomcat.
> 
> [...]
> 
> I created servlet which does precisely the same as simple java
> program.

If it's on the server side, there are a whole bunch of issues you
could be encountering. Please post the Java code you are using to
launch the script on the server.

> If I run servlet in tomcat7 under Win XP - everything is fine
> 
> If I run servlet in tomcat7 under Win 7 64 bit - program stops
> when Word.Applicaiton ActiveX component opens docx document.

Do you mean that the thread blocks and you never get a response from
Tomcat? You are probably not managing your streams -- or the
underlying process -- properly.

Or, AndrÃ©'s suggestion is right that Microsoft Office has lots of
failure modes when running under a Service.

> This is not tomcat error precisely as it works on XP. I have a
> feeling enhanced Windows7 security causes this issues.

Possibly. Are there any log messages (catalina.log, etc.) or error
events in the Windows event viewer?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDExJoACgkQ9CaO5/Lv0PBb1gCfXepZI+bWDYSfJbB1Ruv5ugmk
L4sAn3n58QoDhCsfGolXlRSfRa/DYbwa
=Fs9b
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 17:14:00 2012
Return-Path: <users-return-238513-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DE25CE553
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 17:14:00 +0000 (UTC)
Received: (qmail 72904 invoked by uid 500); 9 Dec 2012 17:13:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71963 invoked by uid 500); 9 Dec 2012 17:13:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71909 invoked by uid 99); 9 Dec 2012 17:13:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:13:53 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.229.113] (HELO nm36-vm1.bullet.mail.ne1.yahoo.com) (98.138.229.113)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:13:46 +0000
Received: from [98.138.90.57] by nm36.bullet.mail.ne1.yahoo.com with NNFMP; 09 Dec 2012 17:13:24 -0000
Received: from [98.138.226.131] by tm10.bullet.mail.ne1.yahoo.com with NNFMP; 09 Dec 2012 17:13:24 -0000
Received: from [127.0.0.1] by smtp218.mail.ne1.yahoo.com with NNFMP; 09 Dec 2012 17:13:24 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355073204; bh=pSFzQk8tg2dA9tQqk1f1OIwefj9EL5IVtIGo09HcgSY=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=y3blOOQj2dAiFBWFx3SrVB6/ITF1OjNFiyC2bBAUlPAJ2+Oxkh1CX56nuC+FyOpHXaC9hzw5dZgIwJOnWFwG/YiE9yRf43krerJML23VsoSWEo+Z6nI8CgUpQTm2xAxD7NNxiY9uBwgV15PITFJjo9laji2orLXEc+E3MxTfljE=
X-Yahoo-Newman-Id: 557610.74209.bm@smtp218.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: PakYePEVM1lN70rQrFeqmbfzMkzUachi8Y4_f6OPTHaxJyQ
 mVPu5F7VPS63cbmgzxyd0pnxh_Z_qnpqtZaCBB7oKV0ccRv1XWHP5SEVOFVX
 dypkZGcLdJTCY4DJnjcxNHF0Armez8_2OuYnjl9joKfqRe6VGm3_Y3_NzOEg
 wxmKPuYCFgXmKBWEg61MZ.h0yf.8yfWN1_zbcVyk961yb1zF4j21FtvZzTnk
 undGt56OPRUIgdOEkVS.b93oKpvF4s5.H.Gv2I6jSCfKmXDONS82im9QTg80
 86EimcP5wbAsr6Pn9yySeoafWDYnhBSnBJY7Hcs2U_uGO26MeKuoxoV9jaBB
 _j9F9AcQHpSEeuC5o4acwE3rfgEx6SPOU66HVIY.0lUeDkcVF9W0tkB.KuBI
 YfQCNRuAgVLWC1R.SGdFk.hOE8DxPCXLlAd8UUxkhXlM_wxZIdMPZTgGYJEY
 dV2exrsgJ7gUmiXJkfrPGbc8JrD1XNktpPl1kZU.13d.hzYX_h3TJOoNrBLX
 5
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp218.mail.ne1.yahoo.com with SMTP; 09 Dec 2012 09:13:24 -0800 PST
Message-ID: <50C4C6B3.9080604@yahoo.com>
Date: Sun, 09 Dec 2012 09:13:23 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
In-Reply-To: <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Reply is inline. Please do not top post. I had to read your response and 
then scroll to the bottom to remember what I wrote.
On 12/8/2012 12:57 PM, vicky007aggarwal@yahoo.co.in wrote:
> Thanks Mark
>
> Sorry for the confusion i created related to my requirements. 5 Out
> of 6  requirements you stated below are correct. The last point i.e
> $CATALINA_BASE is writable. I can manipulate/write files to this
> location. So now do you have anything more to add to your proposed
> solution as you suggested below
>
>
>
> Thanks, Vicky
>

Make a directory under $CATALINA_BASE. Call it Resources. Then add in 
$CATALINA_BASE/bin/setenv.sh something like the following:

CLASSPATH=$CATALINA_BASE/Resouces/your-resource.jar
export CLASSPATH

Again, I've not done this so who knows if it will work.

As Chris and I (and others) have said, these resources really belong in 
WEB-INF/classes. I have described how you can include those in your 
build environment.

I understand that you have 10 web applications and the configuration 
files change frequently. At that point, if you don't want to 
continuously bounce your web applications (or Tomcat), I would look at 
an alternative way for reading resources. I suggested a database and JNDI.

. . . . just my two cents
/mde/

>
> On Dec 9, 2012, at 2:09 AM, Mark Eggers <its_toasted@yahoo.com>
> wrote:
>
>> See at the end for a truly spectacularly bad potential solution.
>> Note that I have not tried this, so your mileage may vary.
>>
>> On 12/8/2012 11:51 AM, vicky wrote:
>>> Thanks Mark for your valuable suggestions.
>>>
>>> But in my project i have a requirement to share one
>>> "resource/properties file " across 10 applications deployed on
>>> single tomcat instance
>>>
>>> We cannot afford to add the same properties file to all archives
>>> as its contents keep changing.
>>>
>>> Another restriction which i have is that i cannot place any file
>>> under "$CATALINA_HOME" directories , these are read only for us.
>>>
>>> Based on afore said concerns, do you have any better way out
>>> ..please suggest.
>>>
>>> Appreciated all of your help
>>>
>>> Thanks for ur time Vicky
>>>
>>>
>>> ________________________________ From: Mark Eggers
>>> <its_toasted@yahoo.com> To: Tomcat Users List
>>> <users@tomcat.apache.org> Sent: Sunday, 9 December 2012 12:23 AM
>>> Subject: Re: Tomcat 6.0 CLASSPATH query
>>>
>>> Comments inline below (a bit fuzzy from the move yet).
>>>
>>> On 12/8/2012 9:58 AM, vicky wrote:
>>>>
>>>> I have read the Tomcat 6.0 classloader documentation(below
>>>> link), from this what i understood is that the
>>>> "classes/jar/resource/properties file" get loaded  from the
>>>> following locations
>>>>
>>>> 1.Bootstrap classes of your JVM  ($JAVA_HOME/jre/lib/ext).
>>>> 2.System class loader classes  ( Add bootstrap.jar &
>>>> tomcat-juli.jar to CLASSPATH variable) 3.Common class loader
>>>> classes ( refers $CATALINA_BASE/lib  & $CATALINA_HOME/lib ) &
>>>> uses $CATALINA_BASE/conf/catalina.properties 4.
>>>> /WEB-INF/classes of your web application 5. /WEB-INF/lib/*.jar
>>>> of your web application
>>>>
>>>> The thing which is still puzzling me is that how my
>>>> "resource/properties files" get loaded to Tomcat CLASSPATH when
>>>> i add them to "$CATALINA_BASE/bin" directory & When i move the
>>>> same files to $CATALINA_BASE/conf directory then it doesn't get
>>>> added to Tomcat CLASSPATH.
>>>>
>>>> My deployed applications need"properties/resource files ", Can
>>>> someone please help me in understand the optimal way of adding
>>>> these files to Tomcat CLASSPATH. Does placing the files under
>>>> <CATALINA_BASE>/bin is the right approach.Please suggest
>>>
>>> Why in the world are you adding these resource files to Tomcat's
>>> CLASSPATH? If the resources are application - specific, you
>>> don't need to do this at all.
>>>
>>> Just add the files to your local application. In Maven, there's
>>> a special directory for that:
>>>
>>> src/main/resources
>>>
>>> In NetBeans, I normally create a separate package for all of my
>>> configuration files.
>>>
>>> I think in Eclipse you'll have to make a subdirectory under
>>> WEB-INF/classes and copy the files there. That's unpleasant.
>>> Eclipse will include that in the build of the WAR file when you
>>> do an "export".
>>>
>>> Then, just do the following in your code to reference the
>>> resource.
>>>
>>> InputStream in =
>>> this.getClass().getClassLoader().getResourceAsStream(configfile);
>>>
>>>
>>>
Where configfile is the complete classpath to your resource.
>>>
>>> This is nice. It works in exploded WARs, it works in WAR files,
>>> it works in JARs.
>>>
>>> No mucking about with CLASSPATH. No polluting other applications
>>> or Tomcat with spurious application - specific resources. This
>>> enables you to run several copies of the same web application in
>>> the same container, all with different configurations.
>>>
>>> Just search for getResourceAsStream() for more explanation.
>>>
>>>> In my organisation i cannot add anything to "$CATALINA_HOME/lib
>>>> or bin" location ,these are read only directories
>>>>
>>>> http://tomcat.apache.org/tomcat-6.0-doc/class-loader-howto.html
>>>>
>>>>
Thanks for your help Vicky
>>>
>>> Not needed.
>>>
>>>>
>>>>
>>>> ________________________________ From: Pid * <pid@pidster.com>
>>>> To: Tomcat Users List <users@tomcat.apache.org> Sent: Saturday,
>>>> 8 December 2012 10:34 PM Subject: Re: Tomcat 6.0 CLASSPATH
>>>> query
>>>>
>>>> On 8 Dec 2012, at 03:29, "vicky007aggarwal@yahoo.co.in"
>>>> <vicky007aggarwal@yahoo.co.in> wrote:
>>>>
>>>>> Application is deployed under tomcat webapps directory . It
>>>>> tries to refer to application specific properties file from
>>>>> tomcat classpath, for that we copied it under tomcat bin
>>>>> directory.
>>>>>
>>>>> My query is that does this is the right way to add
>>>>> properties file to tomcat classpath?
>>>>
>>>> Did you try putting it in tomcat/lib?
>>>>
>>>>
>>>> p
>>>
>>>>
>>>>
>>>>
>>>>>
>>>>> Thanks for ur help, Vicky
>>>>>
>>>>>
>>>>>
>>>>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz
>>>>> <chris@christopherschultz.net> wrote:
>>>>>
>>>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>>>>
>>>>>> Vicky,
>>>>>>
>>>>>> On 12/7/12 11:48 AM, vicky wrote:
>>>>>>> I have a requirement in which i need to add couple of
>>>>>>> properties files to tomcat CLASSPATH as these are needed
>>>>>>> for my application deployed in Tomcat 6.0.
>>>>>>>
>>>>>>> One strange thing is that, i need to add the all my
>>>>>>> properties files to "<CATALINA_BASE>/bin" directory else
>>>>>>> these all wont get added to Tomcat classpath.
>>>>>>
>>>>>> Where does the code live that attempts to load those
>>>>>> properties files?
>>>>>>
>>>>>> - -chris
>>>
>>> . . . just my (I hate moving) 2 cents /mde/
>>
>> Vicky,
>>
>> So let me now understand your requirements.
>>
>> 1. Properties files to be read by web applications 2. 10 web
>> applications on one Tomcat instance 3. All 10 web applications read
>> identical files 4. Property files change frequently 5.
>> $CATALINA_HOME and $CATALINA_BASE are read-only 6.
>> $CATALINA_BASE/lib and $CATALINA_BASE/bin are read-only
>>
>> In the future it would be a good idea to list all of your
>> requirements and restrictions at once, rather than having the list
>> extract it by recommending solutions which fail one or more
>> requirements.
>>
>> The approach (placing resource files on the CLASSPATH) is probably
>> not a good one given the requirements as you've stated them.
>>
>> If you're wedded to reading resources from a CLASSPATH, the only
>> reasonable way to live with the above requirements is to use files
>> in WEB-INF/classes. Then the application will have to be changed
>> each time you update the resource files. This all can be scripted
>> so that operations won't have too big of a burden.
>>
>> Placing the resources in a JAR somewhere on Tomcat's CLASSPATH
>> poses several problems.
>>
>> 1. You cannot modify the directories where Tomcat reads JARs 2. A
>> change to the resource will require a Tomcat restart
>>
>> One of the only ways I can see around this is as follows.
>>
>> 1. create a setenv.sh in $CATALINA_BASE/bin (or setenv.bat)
>>
>> I realize you do not have write access to this, but maybe
>> operations can create that file.
>>
>> 2. In that setenv.sh, add the following:
>>
>> CLASSPATH=/place/where/your/jar/is.jar EXPORT CLASSPATH
>>
>> 3. Make the /place/where/your/jar/is.jar readable
>>
>> This JAR file must be readable by the user running Tomcat
>>
>> 4. In is.jar add all your configuration files
>>
>> This is a pretty spectacularly bad solution for several reasons.
>>
>> 1. You're reading a file outside of Tomcat's directory structure 2.
>> Eunning under the security manager would be challenging 3. Tomcat
>> restart for changing the JAR with the properties files
>>
>> At this point, I would seriously look at scripting the 10 web
>> application updates, or loading the properties files in a database
>> and access them via JNDI.
>>
>> . . . . just my two cents. /mde/


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 17:18:20 2012
Return-Path: <users-return-238514-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B2FDBE568
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 17:18:20 +0000 (UTC)
Received: (qmail 88142 invoked by uid 500); 9 Dec 2012 17:18:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 88048 invoked by uid 500); 9 Dec 2012 17:18:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 88029 invoked by uid 99); 9 Dec 2012 17:18:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:18:16 +0000
X-ASF-Spam-Status: No, hits=1.0 required=5.0
	tests=FREEMAIL_REPLY,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.217.221] (HELO nm18-vm6.bullet.mail.gq1.yahoo.com) (98.136.217.221)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 17:18:09 +0000
Received: from [98.137.12.175] by nm18.bullet.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 17:17:49 -0000
Received: from [208.71.42.197] by tm14.bullet.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 17:17:49 -0000
Received: from [127.0.0.1] by smtp208.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 17:17:49 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355073469; bh=EFsu4it2qkzUHST87iA8g+psXL8Gpa56/f0JHFomkhY=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=twnX6PyePLCHTDZB3j1K+eslhTC4cTdcu20Yvk00rb9NYzMldTr3wsK29p5sONAsrlJFMR515VXIPrpnvonVz96p3aMJfNzzTsw8gJEs7ariXdg6D+PE63/qc50bhwID+W2pFfEmMpiLgbVuZk5Hlo0KLDc8iOAca8hIL0SzDJE=
X-Yahoo-Newman-Id: 262794.66328.bm@smtp208.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 82yAKTYVM1niwPLwJ279H7E0pErBx5DBNwVa1c5NxVYopgC
 yXiniQezXUMTijkbP9uJl2yqopgXqzISV9.Nxil4LXnAw_wi9a7IIr3oJxg9
 VVxKoMTCft0mh22QAO7xAYp9BKITT2jFMQjKXxvSoqqaDGIoZQb2nkh4MLbh
 EENnSi4WYRMmhajdX5CABWl1fX.UuJnDWshlj4sMhfC1fAq4hxRzDJkk50gE
 LJs1ZDpwcaLexCdWM1W_DvHQu.B_jf.J0tSVmu4j1RWpxZ0CuRSFvanBDxSf
 996smORZtN6x5sDHCPbhvSNVUyyJYoyyZXcg.tJH_LtpEvdfX79Es79PZObB
 UjBNXrrvgE8dSpNmlhdRMgT6ViMA4_JYr_dg_99w2_S6IrJblZbUvhBhRIBe
 vjSP6xh_22BfD76ThIxM8n0lv5Kc2zL5BttTNT_W_1C4cjJ0HsRsC5cYvLuT
 b8pf3Mo92sMti5AJnvJYXO4UBI_9KTw--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp208.mail.gq1.yahoo.com with SMTP; 09 Dec 2012 09:17:49 -0800 PST
Message-ID: <50C4C7BC.6090402@yahoo.com>
Date: Sun, 09 Dec 2012 09:17:48 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in> <7833845704254080649@unknownmsgid> <50C4C287.4050100@christopherschultz.net>
In-Reply-To: <50C4C287.4050100@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/9/2012 8:55 AM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Pid,
>
> On 12/9/12 4:31 AM, Pid * wrote:
>> On 8 Dec 2012, at 20:57, "vicky007aggarwal@yahoo.co.in"
>> <vicky007aggarwal@yahoo.co.in> wrote:
>>
>>> Thanks Mark
>>>
>>> Sorry for the confusion i created related to my requirements. 5
>>> Out of 6  requirements you stated below are correct. The last
>>> point i.e $CATALINA_BASE is writable. I can manipulate/write
>>> files to this location. So now do you have anything more to add
>>> to your proposed solution as you suggested below
>>
>> 1. Please stop top-posting. 2. Put your resources in
>> CATALINA_BASE/lib
>
> Another option is to use a VirtualClassLoader and add some random path
> (/etc/myawesomewebapps/) to it in all webapps.
>

That's only available in Tomcat 7, yes?

> Honestly, I think there are better ways to load shared configuration
> than trying to share a .properties file on the disk.
>

+1


> - -chris

/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 18:56:57 2012
Return-Path: <users-return-238515-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E539EE4D3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 18:56:57 +0000 (UTC)
Received: (qmail 14049 invoked by uid 500); 9 Dec 2012 18:56:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13980 invoked by uid 500); 9 Dec 2012 18:56:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13969 invoked by uid 99); 9 Dec 2012 18:56:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 18:56:54 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.164] (HELO nm29-vm5.bullet.mail.sg3.yahoo.com) (106.10.151.164)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 18:56:48 +0000
Received: from [106.10.166.120] by nm29.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 18:56:24 -0000
Received: from [106.10.151.122] by tm9.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 18:56:23 -0000
Received: from [127.0.0.1] by omp1004.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 18:56:23 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 664503.16367.bm@omp1004.mail.sg3.yahoo.com
Received: (qmail 46105 invoked by uid 60001); 9 Dec 2012 18:56:23 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355079383; bh=qSrlghc70QSU/+bbdFH5Nau6p5ChCnsOxU7OWpX90qQ=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=4nnGjkmXmR/rU1QaoVn0BxIYtUxXmtkkoJfRDUUP98TkuLHTzNWteNEI3bmbjhOBxF6tTNbPNghx3X4k91QzDZfUSCXOTs1T2j2LWZNpM5oGUZSlkfm4MkL3Lbj7ZsajXxwmxUdGNbkQjNVVvOB7bWTn50KhVtlqVAenBKkZ49U=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=4MYZ9/SmY8IVIgY6muQqv67jHHu0NNAtTLGq/BL43iKv6alnstGCWMXv3uzpxWaW144K57r4AHpsgSp+CSirqgoJtPvVHnwLTG0LPOBTS5AzlYkr5ILLFjZF0oSg2Qtf4zYv3gMm7mezSt0ZjTLMSFkVWp4QhLOpQ3/wWcMgjv4=;
X-YMail-OSG: U_6RF7kVM1mnjNEc1tXSeGSrQRmwNeS5v0rQfQqzeFtXHKc
 XCfO2LcP1Snz6QX9Kyk.vYCqwVkL375m8Ae43jrBvjpwFuBuRQ5cLU9gp7th
 FJB.Dr4vBXZR5GmlfEhHw18CjlGzro7Ba4IHNgqMVXTT7R2_SFxh9gLuN3Zo
 lfR8re4t7Fitsgm5HVyLbdo.erRoXYNk_NBHLns3PwOC6AlWEnplTLTgYjZx
 WDs6L5AQoC3caSk5ORJPZByz.m.DiVa6w7Io9Jyk93rhZs0D_uFyi0e0TWw2
 CcwNY4lAco4jbSFKDnciymRez8ywbvTGwLsPmoRzdlapMEvEQblDaVpIF3jW
 0xjxegdMx6AnRG.ByuA55P1gN3CEx2NxOly2sle.Ci_Jo92cgrPVgphu2Cvg
 W.wqdkma7RtRSLKULMk.Rp6YIdca259E.t1RJ4fJ.6XcrWpUffqzOjZAv99z
 LRyT4u.Ru857Jw3964V9sPaZ_thewfqJRXjCmG4flS5TaA8hicnMh2OGd_Wc
 zmR0iltfcnmZBowLpftV6iFhxnkSGRhqIRb76suALBUI3v67gqbaIcyxYmQT
 1mCKRWFTDqW5OTw9PGpctZNlFDippKa4tvAAkTJNmR9KSCR8YNAVXwhvNZJP
 gn76iD89IdI_ViOuEClN1YhhmzWPJmyxbt2tPGZAlT.qy6ven9fOchbFmeXb
 BIg--
Received: from [180.151.36.169] by web193103.mail.sg3.yahoo.com via HTTP; Mon, 10 Dec 2012 02:56:23 SGT
X-Rocket-MIMEInfo: 001.001,WWVzIENocmlzLCBpIGFtIHByZXR0eSBzdXJlIHRoYXQgbm9ib2R5IGlzIGFjY2Vzc2luZyB0aGUgYXBwbGljYXRpb24uCgpUaGUgbW9tZW50IGkgc3RhcnQgbXkgVG9tY2F0IHRoZSAiUmVxdWVzdCBDb3VudCAiIHJlYWNoZXMgdmFsdWVzIG9mIDQwMCsgd2l0aGluIGZldyBzZWNvbmRzLCB0aGlzIHZhbHVlIGlzIGdldHRpbmcgaW5jcmVtZW50ZWQgYnkgNiBldmVyeXRpbWUgKGVnOiA2LDEyLDE4LDI0LDMwKQoKV2hlcmVhcyBteSBBSlAgQ29ubmVjdG9yICJSZXF1ZXN0IENvdW50IiDCoGlzIHNob3dpbmcgdGgBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com> <50C4C369.40509@christopherschultz.net>
Message-ID: <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com>
Date: Mon, 10 Dec 2012 02:56:23 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: PSI-PROBE query
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50C4C369.40509@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-814770868-484098786-1355079383=:45352"
X-Virus-Checked: Checked by ClamAV on apache.org

---814770868-484098786-1355079383=:45352
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Yes Chris, i am pretty sure that nobody is accessing the application.=0A=0A=
The moment i start my Tomcat the "Request Count " reaches values of 400+ wi=
thin few seconds, this value is getting incremented by 6 everytime (eg: 6,1=
2,18,24,30)=0A=0AWhereas my AJP Connector "Request Count" =A0is showing the=
 correct numbers depending =A0on the requests which all are redirected from=
 APache.=0A=0AAs of now i have not configured the "AccessLogValve" , but wi=
ll try out this option=A0definitely=0A=0APlease suggest=A0=0A=0AThanks=0AVi=
cky=0A=0A=0A________________________________=0A From: Christopher Schultz <=
chris@christopherschultz.net>=0ATo: Tomcat Users List <users@tomcat.apache.=
org> =0ASent: Sunday, 9 December 2012 10:29 PM=0ASubject: Re: PSI-PROBE que=
ry=0A =0A-----BEGIN PGP SIGNED MESSAGE-----=0AHash: SHA256=0A=0AVicky,=0A=
=0AOn 12/9/12 7:05 AM, vicky wrote:=0A> I am trying to gather statistical i=
nformation about the number of =0A> requests served by my tomcat (forwarded=
 from Apache MPM worker) &=0A> for this i am using /PSI-PRobe=0A> (http://c=
ode.google.com/p/psi-probe/) application. I have enclosed=0A> the "PROBE sc=
reenshot" as well for your reference,=0A=0ASorry, this list strips attachme=
nts. Please copy/paste the numbers=0Ainto a followup post.=0A=0A> in this "=
Request Time "," Processing Time " values=A0 for=A0 http-8080=0A>=A0 connec=
tor are keep on increasing even when no one is accessing=0A> the applicatio=
n.=0A=0AAre you sure nobody is accessing the application? Do you have an=0A=
AccessLogValve (or Filter) enabled?=0A=0A> I am wondering how can i get the=
 report of number of requests which=0A> all are served by my tomcat instanc=
e, i am not able to relate to=0A> the numbers which all are getting display=
ed in the Probe=0A> Application. Does i am doing something wrong in interpr=
eting the=0A> Probe Application output=0A=0AIf you want to know which reque=
sts are taking a long time, configure=0A(or re-configure) an AccessLogValve=
 to include the total time for the=0Arequest. Then sort your log file by re=
sponse-time and start at the=0Alongest response to see what's going on.=0A=
=0APsi Probe likely uses JMX (or maybe gets the data directly from Tomcat=
=0Ain the same way that the JMX beans get their data), so all that same=0Ad=
ata is available the JMX. Attach to Tomcat using jconsole, jvisualvm,=0Aetc=
. and poke around: there's a lot of good information in there.=0A=0A- -chri=
s=0A-----BEGIN PGP SIGNATURE-----=0AVersion: GnuPG/MacGPG2 v2.0.17 (Darwin)=
=0AComment: GPGTools - http://gpgtools.org=0AComment: Using GnuPG with unde=
fined - http://www.enigmail.net/=0A=0AiEYEAREIAAYFAlDEw2kACgkQ9CaO5/Lv0PCrs=
wCgh1e7HpCS7uLtr9jiq9Qg+q1Y=0A7EQAn2+z7X/0mEBdzL5nZazdJh/D4SAh=0A=3D1U+/=0A=
-----END PGP SIGNATURE-----=0A=0A------------------------------------------=
---------------------------=0ATo unsubscribe, e-mail: users-unsubscribe@tom=
cat.apache.org=0AFor additional commands, e-mail: users-help@tomcat.apache.=
org
---814770868-484098786-1355079383=:45352--

From users-return-238516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 19:06:34 2012
Return-Path: <users-return-238516-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7F6EFE532
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 19:06:34 +0000 (UTC)
Received: (qmail 40536 invoked by uid 500); 9 Dec 2012 19:06:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40364 invoked by uid 500); 9 Dec 2012 19:06:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40352 invoked by uid 99); 9 Dec 2012 19:06:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 19:06:31 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,WEIRD_QUOTING
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.126] (HELO nm37-vm7.bullet.mail.sg3.yahoo.com) (106.10.151.126)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 19:06:25 +0000
Received: from [106.10.166.116] by nm37.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 19:06:02 -0000
Received: from [106.10.151.155] by tm5.bullet.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 19:06:02 -0000
Received: from [127.0.0.1] by omp1009.mail.sg3.yahoo.com with NNFMP; 09 Dec 2012 19:06:02 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 96221.53716.bm@omp1009.mail.sg3.yahoo.com
Received: (qmail 51446 invoked by uid 60001); 9 Dec 2012 19:06:02 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355079961; bh=8vsvNCbDjC+oqPpel39lbq3QcPCXhI6OKYg/2kOaw/Y=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=c1xnAMXkQLZyVXuAgUGxgw69G3B/OYkYDqy+fzLYasFa8ffEWnljt7SzQlKk+OqNyXB37MWTZ7pojKwShJXSDRoPqVoHRZUNlKBHZg931hacEE8eCjEgTz5nXH9OZe0/abq8JKz+2roKqZuH8SOb30WD/IIIci9o4Gagr5oZiDc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=DwTSnBMP8wQ4hk3V0HPzRt6OWGZgBQeJRW3nKqbgoywrdNGVOnFZ9xCFdaecVXRdLuaLrCfm4ag9pZB2Sn6TJMyMsz1+rGtW4WFVoYsI/iBjc8GSeEQ8KnTqRTRSVdUjAWfRtmBEoUHSgHcGjie8YZSGUaUYV2q7qSwbQGwiefs=;
X-YMail-OSG: h5aaKPsVM1m7HyewpXc34kVJdrLucYQeXvyQklLlB6PrUDy
 UO48.2yMab4yCtvnubLrCYhTTzzNNpG5pursH9ZOY4yqR.FkitqBzQwjrVZu
 .7wzVn3TOBVwET1tCMspJpJLGhDV07PdOGoBZXk40ZCfT.3j0zW6Txpn1hHr
 6CF9sQLkheA6kDRTN_m2Z9pxSmwMR6LorOxhKtRPdQfh7AuEpGGZ9lyk9CwG
 lKRMP9iyQdd9rVFt6KTrhzf5wiNlc5YJ_38KI1HNuzxAJtIsv2mT9Z.BKh5Y
 WxRq3IMbWBLuFxKHsPfO8SpGIcKvLN3e3ofxTJnFzTEzUZJQ3V_UlFh8dETX
 ZUXRRwWDCLR77V8GktnCff577yw2SThU808SyV2KZhrkC7LuypvjogI7mQDt
 Z0BHL0ARH8WiEol6lcAm7Cj2qjPn0nGEe9tnupGzMeo7pugQ5ohF8dWYdTYn
 ck15ZmH1OkSihpk3OVRYlWyvCYqpDDysJzkgyE8Vk6ktZhXGsiUtdQAyH.SR
 4nPFvddId_HdNzg2thoov8ZXZTM1FPIrqVTXOG7JwZ4OmCI3RZGYCOw796LX
 7vg7IDbuK29UkhDUn9ulLZy.e9Lx9DDI-
Received: from [180.151.36.169] by web193103.mail.sg3.yahoo.com via HTTP; Mon, 10 Dec 2012 03:06:01 SGT
X-Rocket-MIMEInfo: 001.001,CgpUaGFua3MgTUFSSy9DSFJJUyDCoGZvciBhbGwgZWFybmVzdCByZXBsaWVzLCBpIHJlYWxseSBvd2UgeW91IGd1eXMgZm9yIHlvdXIgcmVwbGllcy4KCkV4cG9ydGluZ8KgQ0xBU1NQQVRIIHdvbnQgd29yayBhZCBpIGJlbGlldmUgdGhhdCBUb21jYXQgImNhdGFsaW5hLnNoICIgd2lsbCBpZ25vcmUgaXQuCgpBbnl3YXkgaSBhbSBhYmxlIHRvIGZldGNoIHRoZSAicmVzb3VyY2UvcHJvcGVydGllcyBmaWxlICIgY29udGVudHMgwqBpZiBpIHBsYWNlIGluICIkQ0FUQUxJTkFfQkFTRS9iaW4iIGRpcmVjdG9yeS4BMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in> <50C4C6B3.9080604@yahoo.com>
Message-ID: <1355079961.51340.YahooMailNeo@web193103.mail.sg3.yahoo.com>
Date: Mon, 10 Dec 2012 03:06:01 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50C4C6B3.9080604@yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-814770868-1297317489-1355079961=:51340"
X-Virus-Checked: Checked by ClamAV on apache.org

---814770868-1297317489-1355079961=:51340
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

=0A=0AThanks MARK/CHRIS =A0for all earnest replies, i really owe you guys f=
or your replies.=0A=0AExporting=A0CLASSPATH wont work ad i believe that Tom=
cat "catalina.sh " will ignore it.=0A=0AAnyway i am able to fetch the "reso=
urce/properties file " contents =A0if i place in "$CATALINA_BASE/bin" direc=
tory.=0A=0AActually i read the documentation but no where its been written =
that by =A0adding resource files to=A0"$CATALINA_BASE/bin"=A0, tomcat will =
make them=A0available=A0in its CLASSPATH=0A=0AThis is weird for me to under=
stand, if you have any thoughts on this=A0behavior=A0then please share """"=
 else we can close this email thread""""=0A=0AThanks,=0AVIcky=0A=0A=0A_____=
___________________________=0A From: Mark Eggers <its_toasted@yahoo.com>=0A=
To: Tomcat Users List <users@tomcat.apache.org> =0ASent: Sunday, 9 December=
 2012 10:43 PM=0ASubject: Re: Tomcat 6.0 CLASSPATH query=0A =0AReply is inl=
ine. Please do not top post. I had to read your response and =0Athen scroll=
 to the bottom to remember what I wrote.=0AOn 12/8/2012 12:57 PM, vicky007a=
ggarwal@yahoo.co.in wrote:=0A> Thanks Mark=0A>=0A> Sorry for the confusion =
i created related to my requirements. 5 Out=0A> of 6=A0 requirements you st=
ated below are correct. The last point i.e=0A> $CATALINA_BASE is writable. =
I can manipulate/write files to this=0A> location. So now do you have anyth=
ing more to add to your proposed=0A> solution as you suggested below=0A>=0A=
>=0A>=0A> Thanks, Vicky=0A>=0A=0AMake a directory under $CATALINA_BASE. Cal=
l it Resources. Then add in =0A$CATALINA_BASE/bin/setenv.sh something like =
the following:=0A=0ACLASSPATH=3D$CATALINA_BASE/Resouces/your-resource.jar=
=0Aexport CLASSPATH=0A=0AAgain, I've not done this so who knows if it will =
work.=0A=0AAs Chris and I (and others) have said, these resources really be=
long in =0AWEB-INF/classes. I have described how you can include those in y=
our =0Abuild environment.=0A=0AI understand that you have 10 web applicatio=
ns and the configuration =0Afiles change frequently. At that point, if you =
don't want to =0Acontinuously bounce your web applications (or Tomcat), I w=
ould look at =0Aan alternative way for reading resources. I suggested a dat=
abase and JNDI.=0A=0A. . . . just my two cents=0A/mde/=0A=0A>=0A> On Dec 9,=
 2012, at 2:09 AM, Mark Eggers <its_toasted@yahoo.com>=0A> wrote:=0A>=0A>> =
See at the end for a truly spectacularly bad potential solution.=0A>> Note =
that I have not tried this, so your mileage may vary.=0A>>=0A>> On 12/8/201=
2 11:51 AM, vicky wrote:=0A>>> Thanks Mark for your valuable suggestions.=
=0A>>>=0A>>> But in my project i have a requirement to share one=0A>>> "res=
ource/properties file " across 10 applications deployed on=0A>>> single tom=
cat instance=0A>>>=0A>>> We cannot afford to add the same properties file t=
o all archives=0A>>> as its contents keep changing.=0A>>>=0A>>> Another res=
triction which i have is that i cannot place any file=0A>>> under "$CATALIN=
A_HOME" directories , these are read only for us.=0A>>>=0A>>> Based on afor=
e said concerns, do you have any better way out=0A>>> ..please suggest.=0A>=
>>=0A>>> Appreciated all of your help=0A>>>=0A>>> Thanks for ur time Vicky=
=0A>>>=0A>>>=0A>>> ________________________________ From: Mark Eggers=0A>>>=
 <its_toasted@yahoo.com> To: Tomcat Users List=0A>>> <users@tomcat.apache.o=
rg> Sent: Sunday, 9 December 2012 12:23 AM=0A>>> Subject: Re: Tomcat 6.0 CL=
ASSPATH query=0A>>>=0A>>> Comments inline below (a bit fuzzy from the move =
yet).=0A>>>=0A>>> On 12/8/2012 9:58 AM, vicky wrote:=0A>>>>=0A>>>> I have r=
ead the Tomcat 6.0 classloader documentation(below=0A>>>> link), from this =
what i understood is that the=0A>>>> "classes/jar/resource/properties file"=
 get loaded=A0 from the=0A>>>> following locations=0A>>>>=0A>>>> 1.Bootstra=
p classes of your JVM=A0 ($JAVA_HOME/jre/lib/ext).=0A>>>> 2.System class lo=
ader classes=A0 ( Add bootstrap.jar &=0A>>>> tomcat-juli.jar to CLASSPATH v=
ariable) 3.Common class loader=0A>>>> classes ( refers $CATALINA_BASE/lib=
=A0 & $CATALINA_HOME/lib ) &=0A>>>> uses $CATALINA_BASE/conf/catalina.prope=
rties 4.=0A>>>> /WEB-INF/classes of your web application 5. /WEB-INF/lib/*.=
jar=0A>>>> of your web application=0A>>>>=0A>>>> The thing which is still p=
uzzling me is that how my=0A>>>> "resource/properties files" get loaded to =
Tomcat CLASSPATH when=0A>>>> i add them to "$CATALINA_BASE/bin" directory &=
 When i move the=0A>>>> same files to $CATALINA_BASE/conf directory then it=
 doesn't get=0A>>>> added to Tomcat CLASSPATH.=0A>>>>=0A>>>> My deployed ap=
plications need"properties/resource files ", Can=0A>>>> someone please help=
 me in understand the optimal way of adding=0A>>>> these files to Tomcat CL=
ASSPATH. Does placing the files under=0A>>>> <CATALINA_BASE>/bin is the rig=
ht approach.Please suggest=0A>>>=0A>>> Why in the world are you adding thes=
e resource files to Tomcat's=0A>>> CLASSPATH? If the resources are applicat=
ion - specific, you=0A>>> don't need to do this at all.=0A>>>=0A>>> Just ad=
d the files to your local application. In Maven, there's=0A>>> a special di=
rectory for that:=0A>>>=0A>>> src/main/resources=0A>>>=0A>>> In NetBeans, I=
 normally create a separate package for all of my=0A>>> configuration files=
.=0A>>>=0A>>> I think in Eclipse you'll have to make a subdirectory under=
=0A>>> WEB-INF/classes and copy the files there. That's unpleasant.=0A>>> E=
clipse will include that in the build of the WAR file when you=0A>>> do an =
"export".=0A>>>=0A>>> Then, just do the following in your code to reference=
 the=0A>>> resource.=0A>>>=0A>>> InputStream in =3D=0A>>> this.getClass().g=
etClassLoader().getResourceAsStream(configfile);=0A>>>=0A>>>=0A>>>=0AWhere =
configfile is the complete classpath to your resource.=0A>>>=0A>>> This is =
nice. It works in exploded WARs, it works in WAR files,=0A>>> it works in J=
ARs.=0A>>>=0A>>> No mucking about with CLASSPATH. No polluting other applic=
ations=0A>>> or Tomcat with spurious application - specific resources. This=
=0A>>> enables you to run several copies of the same web application in=0A>=
>> the same container, all with different configurations.=0A>>>=0A>>> Just =
search for getResourceAsStream() for more explanation.=0A>>>=0A>>>> In my o=
rganisation i cannot add anything to "$CATALINA_HOME/lib=0A>>>> or bin" loc=
ation ,these are read only directories=0A>>>>=0A>>>> http://tomcat.apache.o=
rg/tomcat-6.0-doc/class-loader-howto.html=0A>>>>=0A>>>>=0AThanks for your h=
elp Vicky=0A>>>=0A>>> Not needed.=0A>>>=0A>>>>=0A>>>>=0A>>>> ______________=
__________________ From: Pid * <pid@pidster.com>=0A>>>> To: Tomcat Users Li=
st <users@tomcat.apache.org> Sent: Saturday,=0A>>>> 8 December 2012 10:34 P=
M Subject: Re: Tomcat 6.0 CLASSPATH=0A>>>> query=0A>>>>=0A>>>> On 8 Dec 201=
2, at 03:29, "vicky007aggarwal@yahoo.co.in"=0A>>>> <vicky007aggarwal@yahoo.=
co.in> wrote:=0A>>>>=0A>>>>> Application is deployed under tomcat webapps d=
irectory . It=0A>>>>> tries to refer to application specific properties fil=
e from=0A>>>>> tomcat classpath, for that we copied it under tomcat bin=0A>=
>>>> directory.=0A>>>>>=0A>>>>> My query is that does this is the right way=
 to add=0A>>>>> properties file to tomcat classpath?=0A>>>>=0A>>>> Did you =
try putting it in tomcat/lib?=0A>>>>=0A>>>>=0A>>>> p=0A>>>=0A>>>>=0A>>>>=0A=
>>>>=0A>>>>>=0A>>>>> Thanks for ur help, Vicky=0A>>>>>=0A>>>>>=0A>>>>>=0A>>=
>>> On Dec 8, 2012, at 2:11 AM, Christopher Schultz=0A>>>>> <chris@christop=
herschultz.net> wrote:=0A>>>>>=0A>>>>>> -----BEGIN PGP SIGNED MESSAGE----- =
Hash: SHA256=0A>>>>>>=0A>>>>>> Vicky,=0A>>>>>>=0A>>>>>> On 12/7/12 11:48 AM=
, vicky wrote:=0A>>>>>>> I have a requirement in which i need to add couple=
 of=0A>>>>>>> properties files to tomcat CLASSPATH as these are needed=0A>>=
>>>>> for my application deployed in Tomcat 6.0.=0A>>>>>>>=0A>>>>>>> One st=
range thing is that, i need to add the all my=0A>>>>>>> properties files to=
 "<CATALINA_BASE>/bin" directory else=0A>>>>>>> these all wont get added to=
 Tomcat classpath.=0A>>>>>>=0A>>>>>> Where does the code live that attempts=
 to load those=0A>>>>>> properties files?=0A>>>>>>=0A>>>>>> - -chris=0A>>>=
=0A>>> . . . just my (I hate moving) 2 cents /mde/=0A>>=0A>> Vicky,=0A>>=0A=
>> So let me now understand your requirements.=0A>>=0A>> 1. Properties file=
s to be read by web applications 2. 10 web=0A>> applications on one Tomcat =
instance 3. All 10 web applications read=0A>> identical files 4. Property f=
iles change frequently 5.=0A>> $CATALINA_HOME and $CATALINA_BASE are read-o=
nly 6.=0A>> $CATALINA_BASE/lib and $CATALINA_BASE/bin are read-only=0A>>=0A=
>> In the future it would be a good idea to list all of your=0A>> requireme=
nts and restrictions at once, rather than having the list=0A>> extract it b=
y recommending solutions which fail one or more=0A>> requirements.=0A>>=0A>=
> The approach (placing resource files on the CLASSPATH) is probably=0A>> n=
ot a good one given the requirements as you've stated them.=0A>>=0A>> If yo=
u're wedded to reading resources from a CLASSPATH, the only=0A>> reasonable=
 way to live with the above requirements is to use files=0A>> in WEB-INF/cl=
asses. Then the application will have to be changed=0A>> each time you upda=
te the resource files. This all can be scripted=0A>> so that operations won=
't have too big of a burden.=0A>>=0A>> Placing the resources in a JAR somew=
here on Tomcat's CLASSPATH=0A>> poses several problems.=0A>>=0A>> 1. You ca=
nnot modify the directories where Tomcat reads JARs 2. A=0A>> change to the=
 resource will require a Tomcat restart=0A>>=0A>> One of the only ways I ca=
n see around this is as follows.=0A>>=0A>> 1. create a setenv.sh in $CATALI=
NA_BASE/bin (or setenv.bat)=0A>>=0A>> I realize you do not have write acces=
s to this, but maybe=0A>> operations can create that file.=0A>>=0A>> 2. In =
that setenv.sh, add the following:=0A>>=0A>> CLASSPATH=3D/place/where/your/=
jar/is.jar EXPORT CLASSPATH=0A>>=0A>> 3. Make the /place/where/your/jar/is.=
jar readable=0A>>=0A>> This JAR file must be readable by the user running T=
omcat=0A>>=0A>> 4. In is.jar add all your configuration files=0A>>=0A>> Thi=
s is a pretty spectacularly bad solution for several reasons.=0A>>=0A>> 1. =
You're reading a file outside of Tomcat's directory structure 2.=0A>> Eunni=
ng under the security manager would be challenging 3. Tomcat=0A>> restart f=
or changing the JAR with the properties files=0A>>=0A>> At this point, I wo=
uld seriously look at scripting the 10 web=0A>> application updates, or loa=
ding the properties files in a database=0A>> and access them via JNDI.=0A>>=
=0A>> . . . . just my two cents. /mde/=0A=0A=0A----------------------------=
-----------------------------------------=0ATo unsubscribe, e-mail: users-u=
nsubscribe@tomcat.apache.org=0AFor additional commands, e-mail: users-help@=
tomcat.apache.org
---814770868-1297317489-1355079961=:51340--

From users-return-238517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 19:34:35 2012
Return-Path: <users-return-238517-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BEAF0D537
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 19:34:35 +0000 (UTC)
Received: (qmail 7141 invoked by uid 500); 9 Dec 2012 19:34:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6959 invoked by uid 500); 9 Dec 2012 19:34:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6950 invoked by uid 99); 9 Dec 2012 19:34:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 19:34:32 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 19:34:23 +0000
Received: from [192.168.245.129] (p549E0405.dip0.t-ipconnect.de [84.158.4.5])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id CCD1B3C0BA4
	for <users@tomcat.apache.org>; Sun,  9 Dec 2012 20:34:53 +0100 (CET)
Message-ID: <50C4E7A5.4090800@ice-sa.com>
Date: Sun, 09 Dec 2012 20:33:57 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Word.Applicaiton acvivex components & tomcat & Windows 7
References: <04C72FC3C4DD6745AC7F27BA745DA7BBB85F5A@lemur.aerosoft.dom> <50C4C49A.9010803@christopherschultz.net>
In-Reply-To: <50C4C49A.9010803@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> Jan,
> 
> On 12/7/12 6:06 PM, Jan Kostelansky wrote:
>> I am experiencing problems running vb script under tomcat.
>>
>> [...]
>>
>> I created servlet which does precisely the same as simple java
>> program.
> 
> If it's on the server side, there are a whole bunch of issues you
> could be encountering. Please post the Java code you are using to
> launch the script on the server.
> 
>> If I run servlet in tomcat7 under Win XP - everything is fine
>>
>> If I run servlet in tomcat7 under Win 7 64 bit - program stops
>> when Word.Applicaiton ActiveX component opens docx document.
> 
> Do you mean that the thread blocks and you never get a response from
> Tomcat? You are probably not managing your streams -- or the
> underlying process -- properly.
> 
> Or, AndrÃ©'s suggestion is right that Microsoft Office has lots of
> failure modes when running under a Service.
> 
>> This is not tomcat error precisely as it works on XP. I have a
>> feeling enhanced Windows7 security causes this issues.
> 
> Possibly. Are there any log messages (catalina.log, etc.) or error
> events in the Windows event viewer?
> 
 From personal experience : it has not much to do with Windows 7 security, rather more 
with the slightly different way in which Windows 7 runs services, as compared to XP.
There will probably not be any error in the logs of Tomcat (apart maybe from an error 
related to the bad end of the process).  The errors will happen in the MS-Office software 
itself, and will typically be of the types listed in the MS article earlier mentioned.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 20:27:06 2012
Return-Path: <users-return-238518-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65474E5EC
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 20:27:06 +0000 (UTC)
Received: (qmail 19065 invoked by uid 500); 9 Dec 2012 20:27:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18814 invoked by uid 500); 9 Dec 2012 20:27:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18805 invoked by uid 99); 9 Dec 2012 20:27:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 20:27:02 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.132 as permitted sender)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 20:26:52 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-4.tower-45.messagelabs.com!1355084789!30869497!4
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 13744 invoked from network); 9 Dec 2012 20:26:30 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-4.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 9 Dec 2012 20:26:30 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Sun, 9 Dec 2012 14:26:29 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Sun, 9 Dec
 2012 14:26:29 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Sun, 9 Dec 2012 14:26:48 -0600
Subject: RE: Tomcat 6.0 CLASSPATH query
Thread-Topic: Tomcat 6.0 CLASSPATH query
Thread-Index: Ac3WMTGzXnQNlG7aRPeuEJOa+Lo6OgAGeTuw
Message-ID: <99C8B2929B39C24493377AC7A121E21FC49635E52D@USEA-EXCH8.na.uis.unisys.com>
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C25497.5060200@christopherschultz.net>
 <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
 <-1575792619315605313@unknownmsgid>
 <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C38CC6.4060608@yahoo.com>
 <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
 <50C3A56B.4060407@yahoo.com>
 <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
 <7833845704254080649@unknownmsgid> <50C4C287.4050100@christopherschultz.net>
 <50C4C7BC.6090402@yahoo.com>
In-Reply-To: <50C4C7BC.6090402@yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Mark Eggers [mailto:its_toasted@yahoo.com]=20
> Subject: Re: Tomcat 6.0 CLASSPATH query

> > Another option is to use a VirtualClassLoader and add some random path
> > (/etc/myawesomewebapps/) to it in all webapps.

> That's only available in Tomcat 7, yes?

Presumably, Chris was referring to VirtualWebappLoader, which has been avai=
lable in Tomcat for ages.  However, it wasn't properly documented until Tom=
cat 7.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 21:20:30 2012
Return-Path: <users-return-238519-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4F802E456
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 21:20:30 +0000 (UTC)
Received: (qmail 45901 invoked by uid 500); 9 Dec 2012 21:20:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45698 invoked by uid 500); 9 Dec 2012 21:20:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45678 invoked by uid 99); 9 Dec 2012 21:20:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 21:20:26 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 21:20:21 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so2538668vbi.18
        for <users@tomcat.apache.org>; Sun, 09 Dec 2012 13:20:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=GYwBJjCoAiALbAkYLjobzON5uFQwLAochhg3APWEUek=;
        b=xv5k2KjB9nibTOLKwMmHGpUByCeL8mvl4nS1Ubm9htn3EhjXZmJznFa46DwXwKS7J5
         +XzXMmShmTWfz9jRmMWH00zEBwKDs5RBHfIzj5Vx9PQqZ54RF/Ogaa9q98z0U7hphriU
         pbOARCd4fnFB9SVfooENHZBEKxmsak2BAG/X6bmSavej8MTxrNKt3+mIdPHxQscqI7+p
         A3Yf7xSwxdchb3xjEdaKRCMRQ77GuVkMw9/xR8ID6l88cZ8vvaU0iAp/xwqYu0RqhyC5
         aX8gPu8K25C29KlqE4L1cunn230DOn+0iNEORYQ8n4VHqFsJRubbfBTm4V2j2RK+r7Dz
         84KA==
MIME-Version: 1.0
Received: by 10.52.97.230 with SMTP id ed6mr2098671vdb.90.1355088000744; Sun,
 09 Dec 2012 13:20:00 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Sun, 9 Dec 2012 13:20:00 -0800 (PST)
In-Reply-To: <50C2205E.6080307@christopherschultz.net>
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
	<CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
	<50C1253B.9080708@christopherschultz.net>
	<7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com>
	<50C1B3E3.5050804@ice-sa.com>
	<50C2205E.6080307@christopherschultz.net>
Date: Mon, 10 Dec 2012 01:20:00 +0400
Message-ID: <CABzHfV=NHUBsMqkjGTy3=WUD-zFCmRH=WYr1CCKB_h5_AFYkmw@mail.gmail.com>
Subject: Re: Is it possible to expire jvmRoute cookie
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/7 Christopher Schultz <chris@christopherschultz.net>:
> On 12/7/12 4:16 AM, Andr=E9 Warnier wrote:
>> Williams, Nick wrote:
>>>> -----Original Message----- From: Christopher Schultz
>>> (...)
>>>
>>> Earlier somebody (I'm sorry, I already deleted the email)
>>> suggested Tomcat returning a 308 or 309 or similar to the load
>>> balancer to trigger a "re-balance" if the session is expired. I
>>> think this is the best idea I've heard yet, solves the problem
>>> elegantly and simply, and seems (relatively) easy to achieve
>>> (this coming from someone who has no knowledge of the code used
>>> by mod_jk/isapi_redirector).
>>>
>>
>> I must admit that this sounds more elegant (and efficient) than my
>> suggested interceptor module.
>>
>> Alternatively, if one wanted to avoid touching mod_jk for this,
>> maybe tomcat could return a 302 redirect to the starting page of
>> this application, if known ? (without jsessionid.jvmroute of
>> course).
>
> That's definitely an idea worth pursuing: an expired session id could
> return 302 *and* strip the jsessionid path parameter *and* send a
> Set-Cookie JSESSIONID; expiration=3D0 header (which deletes the cookie).
> The client would re-try and the balancer would re-balance.
>
> Konstantin, what do you think? Obviously, this shouldn't be the
> default operation of Tomcat, but perhaps a setting that could be
> enabled on the session manager?
>

If anybody want to experiment with such a feature,
it is easy to write your own Filter or Valve that implements this.

Something like
if (request.getSession(false) =3D=3D null &&
request.getRequestedSessionId() !=3D null) {
response.sendRedirect(...);
return;
}

Things to be cautious
1. Different web applications may have different session ids. When a
browser sends us the session id cookie, there is no indication to what
web application it belongs.

2. I would check the value of request.getMethod().

3. I would do nothing if jvmRoute in requested session id belongs to a
different server.
See also  org.apache.catalina.ha.session.JvmRouteBinderValve,
http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-valve.html


Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 22:07:41 2012
Return-Path: <users-return-238520-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A37A7D4EB
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 22:07:41 +0000 (UTC)
Received: (qmail 54247 invoked by uid 500); 9 Dec 2012 22:07:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53998 invoked by uid 500); 9 Dec 2012 22:07:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53983 invoked by uid 99); 9 Dec 2012 22:07:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 22:07:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.216.208] (HELO nm31-vm1.bullet.mail.gq1.yahoo.com) (98.136.216.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 22:07:29 +0000
Received: from [98.137.12.189] by nm31.bullet.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 22:07:09 -0000
Received: from [208.71.42.202] by tm10.bullet.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 22:07:09 -0000
Received: from [127.0.0.1] by smtp213.mail.gq1.yahoo.com with NNFMP; 09 Dec 2012 22:07:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355090829; bh=VSghGiaYWCAbxrPOt+tr6TE/XiLCt9pDWKE856vknCw=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=pYdJ05LuKiiKsyQ57c61C8d3czagzhTOwU+Q4/gFOizFznrCIa7Mdb+9OBDiips2BuB2506G0ucjpnf9OSQS+Mk5O0XGQrua6ATXSGxJNtAWL4kVpihKKJvvKpBgfVyRjaIJfH21YEJq9u70Op4439KAMGNbEnip/m6f8lEYgRA=
X-Yahoo-Newman-Id: 34721.78619.bm@smtp213.mail.gq1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: a3FzbAUVM1knDAf4U3UbdQqjLSqyCXhfZeSVe4aDVJUM26p
 Lqrn8nZG3mbz80yr48HvO9oRR.AA4SKvsxP7_bb6ZCy90KeBr0.YxUzwzWNt
 dEpAu5a.7TTLXC8n78rf0xhy5U45UlFvdHeyeDsKjuN2WAotT.k1qyX3AiMY
 7IOOjjAIpb_s.UUdEIfCdScTG_ciZ6pJNkOGqW7T0n0GfL8MYBrT.2v44r2E
 WCZv1yyRa.DomIYrF5FK2icnDsB4rrQxSHc6AF4ogJfmr5MD972y7vPGyhrA
 Dd8ngQRbjhzfBl5tBuS1UR.j_jqlCyXPTK7fWrc.nH8ndHV1oK6mjzGa_x79
 Csjg27mE_Q2o.XVbm9TupDTE.mw2_OGVF7rtHh37aM3Qb16b.vEVXqqxMOin
 dV80NTvuph2F1PEebKnIJEBUZeiKJ.t0MD0jNyzw5UO4aGlaYlvzbjDS8AEW
 5_YmhOFUvc6ULzKClzJoQclAVyJSbaA--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp213.mail.gq1.yahoo.com with SMTP; 09 Dec 2012 14:07:08 -0800 PST
Message-ID: <50C50B69.3030908@yahoo.com>
Date: Sun, 09 Dec 2012 14:06:33 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in> <7833845704254080649@unknownmsgid> <50C4C287.4050100@christopherschultz.net> <50C4C7BC.6090402@yahoo.com> <99C8B2929B39C24493377AC7A121E21FC49635E52D@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC49635E52D@USEA-EXCH8.na.uis.unisys.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/9/2012 12:26 PM, Caldarale, Charles R wrote:
>> From: Mark Eggers [mailto:its_toasted@yahoo.com]
>> Subject: Re: Tomcat 6.0 CLASSPATH query
>
>>> Another option is to use a VirtualClassLoader and add some random path
>>> (/etc/myawesomewebapps/) to it in all webapps.
>
>> That's only available in Tomcat 7, yes?
>
> Presumably, Chris was referring to VirtualWebappLoader, which has been available in Tomcat for ages.  However, it wasn't properly documented until Tomcat 7.
>
>   - Chuck

I found the docs for Tomcat 7, and didn't see them for Tomcat 6. I 
should have trawled through the source (still getting settled after the 
move).

I suppose I could look at the source, pattern the docs off of those from 
Tomcat 7, and submit a patch.

. . . . just my two cents
/mde/


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec  9 22:09:51 2012
Return-Path: <users-return-238521-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C768CD5DA
	for <apmail-tomcat-users-archive@www.apache.org>; Sun,  9 Dec 2012 22:09:51 +0000 (UTC)
Received: (qmail 64856 invoked by uid 500); 9 Dec 2012 22:09:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64690 invoked by uid 500); 9 Dec 2012 22:09:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64681 invoked by uid 99); 9 Dec 2012 22:09:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 22:09:48 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 09 Dec 2012 22:09:44 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so2478113obc.18
        for <users@tomcat.apache.org>; Sun, 09 Dec 2012 14:09:22 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=d2rmlV4pLjvvJO0rVCx0IYxadrJSEi/jD4tl6/vkH8c=;
        b=XBrH/MOhfDTijUTYjm+v1KQEw6YqGf/FeLLPv0jEiYH5bIspXly8JW5W+u2WLchGfC
         Q0AQeNHtqy0+8AkimyI+/fz4GgL7xBzrJlp0PW+IuNjAr6cArEuUgcuVmdmrw3KM26FR
         hxptcjbPJhFyRhcPKt9gMLvCr9KPOxc15oSO8=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=d2rmlV4pLjvvJO0rVCx0IYxadrJSEi/jD4tl6/vkH8c=;
        b=j8H5tps33rAaFxbqXEEmPYI6wukK0xWdmhCjDTSyrk8yJ6+V3GXfFgS/gr8QuWxhet
         w0elVreC17gYhzuwRT6xZTYsV6PjjYxzpsinfY5yo9mFIots+7U3iPXl5J2mzFUviQGL
         VKPMjswxm2uoy7pvDdQ1Z8//2rFKso7sECU1chKBRhp8ZUymxz3bdgcoqjDObTAe9get
         Ob0gf4E4LcvwoMhwlOOWAYiwlDcxT7UOUPgwQpSC43jroRWomLmNBxP0zQkt0HAvxc3j
         JN3/3kJUCLiJk4kopkTv/Oi7iD9MI1Uz0OeKOgMRu5a3hzcJ7VE1QWbQoTO5GY4O1qcn
         cHWA==
Received: by 10.60.30.167 with SMTP id t7mr6729651oeh.44.1355090961975; Sun,
 09 Dec 2012 14:09:21 -0800 (PST)
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in>
 <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com>
 <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com>
 <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in>
 <7833845704254080649@unknownmsgid> <50C4C287.4050100@christopherschultz.net>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <50C4C287.4050100@christopherschultz.net>
Mime-Version: 1.0 (1.0)
Date: Sun, 9 Dec 2012 22:09:24 +0000
Message-ID: <8108038635036391225@unknownmsgid>
Subject: Re: Tomcat 6.0 CLASSPATH query
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQnlXTV64TOCBPIfCrSD0bW7epqd1yb453wCcwDwjwwT7cAZXcOombfnYuR4PU0L0C4RqCcm
X-Virus-Checked: Checked by ClamAV on apache.org

On 9 Dec 2012, at 16:58, Christopher Schultz
<chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Pid,
>
> On 12/9/12 4:31 AM, Pid * wrote:
>> On 8 Dec 2012, at 20:57, "vicky007aggarwal@yahoo.co.in"
>> <vicky007aggarwal@yahoo.co.in> wrote:
>>
>>> Thanks Mark
>>>
>>> Sorry for the confusion i created related to my requirements. 5
>>> Out of 6  requirements you stated below are correct. The last
>>> point i.e $CATALINA_BASE is writable. I can manipulate/write
>>> files to this location. So now do you have anything more to add
>>> to your proposed solution as you suggested below
>>
>> 1. Please stop top-posting. 2. Put your resources in
>> CATALINA_BASE/lib
>
> Another option is to use a VirtualClassLoader and add some random path
> (/etc/myawesomewebapps/) to it in all webapps.
>
> Honestly, I think there are better ways to load shared configuration
> than trying to share a .properties file on the disk.

If the OP is able to edit files in CATALINA_BASE/lib, then editing
catalina.properties and appending a fixed path to common.loader in
each instance would also work.


p


> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDEwocACgkQ9CaO5/Lv0PDc7gCfUvtH3K16UuRR/PlRzjfeMYin
> jbcAoMB15SHyQq/MDRnwr7Ws8CpWoY6h
> =E9GV
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 14:20:41 2012
Return-Path: <users-return-238523-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 55E3BE1E8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 14:20:41 +0000 (UTC)
Received: (qmail 46504 invoked by uid 500); 10 Dec 2012 14:20:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46113 invoked by uid 500); 10 Dec 2012 14:20:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46083 invoked by uid 99); 10 Dec 2012 14:20:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:20:36 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [81.169.162.220] (HELO h1611079.stratoserver.net) (81.169.162.220)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:20:30 +0000
Received: by h1611079.stratoserver.net (Postfix, from userid 5001)
	id CB85F4948032; Mon, 10 Dec 2012 15:20:07 +0100 (CET)
X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on
	h1611079.stratoserver.net
X-Spam-Level: 
Received: from www.internetallee.de (localhost.localdomain [127.0.0.1])
	by h1611079.stratoserver.net (Postfix) with ESMTPA id A84334948029
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 15:20:00 +0100 (CET)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8;
 format=flowed
Content-Transfer-Encoding: 8bit
Date: Mon, 10 Dec 2012 15:20:00 +0100
From: Felix Schumacher <felix.schumacher@internetallee.de>
To: <users@tomcat.apache.org>
Subject: Re: PSI-PROBE query
In-Reply-To: <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com>
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com>
 <50C4C369.40509@christopherschultz.net>
 <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com>
Message-ID: <1fc437de3ccb271cbaa6d7127e183c31@www.internetallee.de>
X-Sender: felix.schumacher@internetallee.de
User-Agent: RoundCube Webmail/0.5-beta
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-2.9 required=5.0 tests=ALL_TRUSTED,BAYES_00
	autolearn=ham version=3.3.1

Hi Vicky,

Am 09.12.2012 19:56, schrieb vicky:
> Yes Chris, i am pretty sure that nobody is accessing the application.
>
> The moment i start my Tomcat the "Request Count " reaches values of
> 400+ within few seconds, this value is getting incremented by 6
> everytime (eg: 6,12,18,24,30)
which port do you use to connect to psi-probe itself? We often use the 
http-connector, which would be 8080 in your case.

Regards
  Felix
>
> Whereas my AJP Connector "Request Count" Â is showing the correct
> numbers depending Â on the requests which all are redirected from
> APache.
>
> As of now i have not configured the "AccessLogValve" , but will try
> out this optionÂ definitely
>
> Please suggestÂ 
>
> Thanks
> Vicky
>
>
> ________________________________
>  From: Christopher Schultz <chris@christopherschultz.net>
> To: Tomcat Users List <users@tomcat.apache.org>
> Sent: Sunday, 9 December 2012 10:29 PM
> Subject: Re: PSI-PROBE query
>
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Vicky,
>
> On 12/9/12 7:05 AM, vicky wrote:
>> I am trying to gather statistical information about the number of
>> requests served by my tomcat (forwarded from Apache MPM worker) &
>> for this i am using /PSI-PRobe
>> (http://code.google.com/p/psi-probe/) application. I have enclosed
>> the "PROBE screenshot" as well for your reference,
>
> Sorry, this list strips attachments. Please copy/paste the numbers
> into a followup post.
>
>> in this "Request Time "," Processing Time " valuesÂ  forÂ  http-8080
>>Â  connector are keep on increasing even when no one is accessing
>> the application.
>
> Are you sure nobody is accessing the application? Do you have an
> AccessLogValve (or Filter) enabled?
>
>> I am wondering how can i get the report of number of requests which
>> all are served by my tomcat instance, i am not able to relate to
>> the numbers which all are getting displayed in the Probe
>> Application. Does i am doing something wrong in interpreting the
>> Probe Application output
>
> If you want to know which requests are taking a long time, configure
> (or re-configure) an AccessLogValve to include the total time for the
> request. Then sort your log file by response-time and start at the
> longest response to see what's going on.
>
> Psi Probe likely uses JMX (or maybe gets the data directly from 
> Tomcat
> in the same way that the JMX beans get their data), so all that same
> data is available the JMX. Attach to Tomcat using jconsole, 
> jvisualvm,
> etc. and poke around: there's a lot of good information in there.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDEw2kACgkQ9CaO5/Lv0PCrswCgh1e7HpCS7uLtr9jiq9Qg+q1Y
> 7EQAn2+z7X/0mEBdzL5nZazdJh/D4SAh
> =1U+/
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 14:44:14 2012
Return-Path: <users-return-238524-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CC433D212
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 14:44:14 +0000 (UTC)
Received: (qmail 9869 invoked by uid 500); 10 Dec 2012 14:44:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 9813 invoked by uid 500); 10 Dec 2012 14:44:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 9789 invoked by uid 99); 10 Dec 2012 14:44:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:44:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:44:02 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id ZodF1k0011uE5Es54qjg0w; Mon, 10 Dec 2012 14:43:40 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id Zqjf1k00n38FjT13cqjgW8; Mon, 10 Dec 2012 14:43:40 +0000
Message-ID: <50C5F526.30803@christopherschultz.net>
Date: Mon, 10 Dec 2012 09:43:50 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PSI-PROBE query
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com> <50C4C369.40509@christopherschultz.net> <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com>
In-Reply-To: <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355150620;
	bh=2UZdl9q+JNPsac0ZnfRWyKMXIk7i92OjPlmd/tfZCoA=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=bt2sFabO/yWIhw6vz6PeX0X8DJ5z7MT6VJKZFns1E6SLqxHLFBzBnRA6heob5it3F
	 HV5foUou7XbgTHDUx5pCOL7gg3JgzELsbBxN2mLVcH1Vc146O00ga/VFuuh/aVjbGP
	 qTzQybC8mDaEz3iYL5ORM45qolB4fgeB9Tl8Dlw4uwflWNz9PEVgEeaygLtp513w3J
	 yj5JbKwgTsbu/IooseIFEzwaNKLc+8TVPWW0TMpIrT5PXD/wzy4aFSYJpe1bS7D2Qu
	 xCDVY+ZjQDna8l7PxGAvC0fHRwGFg7cfV65OLOVlDdKF6O/0kvTPnGKVS914lre0C+
	 RLOtvZ2lUgc4w==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/9/12 1:56 PM, vicky wrote:
> Yes Chris, i am pretty sure that nobody is accessing the 
> application.
> 
> The moment i start my Tomcat the "Request Count " reaches values
> of 400+ within few seconds, this value is getting incremented by 6 
> everytime (eg: 6,12,18,24,30)
> 
> Whereas my AJP Connector "Request Count"  is showing the correct 
> numbers depending  on the requests which all are redirected from 
> APache.

Let me guess: you are accessing PsiProbe via HTTP from your web
browser. Every request you make to get a page probably has some other
dependencies (images, stylesheets, etc.). Try enabling your
request-logger on the client (Firefox and Chrome have these built-into
the browser) and look at the traffic.


I'll bet you are being scared of your own shadow.

> As of now i have not configured the "AccessLogValve" , but will
> try out this option definitely

You must configure this in order to figure out what is happening.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDF9SYACgkQ9CaO5/Lv0PCVFQCcCeLt9llY0/X2mrbdfWnq86PU
BHYAn09OOgS99sgTQ6YBvllQfrTsQ7g+
=/Q41
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 14:50:44 2012
Return-Path: <users-return-238525-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 79CA1D272
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 14:50:44 +0000 (UTC)
Received: (qmail 31439 invoked by uid 500); 10 Dec 2012 14:50:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31383 invoked by uid 500); 10 Dec 2012 14:50:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31373 invoked by uid 99); 10 Dec 2012 14:50:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:50:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,WEIRD_QUOTING
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:50:33 +0000
Received: from omta17.westchester.pa.mail.comcast.net ([76.96.62.89])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id Zokl1k0091vXlb853qqCL5; Mon, 10 Dec 2012 14:50:12 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta17.westchester.pa.mail.comcast.net with comcast
	id ZqqA1k00P38FjT13dqqB3Q; Mon, 10 Dec 2012 14:50:12 +0000
Message-ID: <50C5F6AC.50900@christopherschultz.net>
Date: Mon, 10 Dec 2012 09:50:20 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 CLASSPATH query
References: <1354898897.39776.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C25497.5060200@christopherschultz.net> <55AC0819-C0BB-445E-8689-A4D8E839D364@yahoo.co.in> <-1575792619315605313@unknownmsgid> <1354989518.16977.YahooMailNeo@web193101.mail.sg3.yahoo.com> <50C38CC6.4060608@yahoo.com> <1354996284.64515.YahooMailNeo@web193102.mail.sg3.yahoo.com> <50C3A56B.4060407@yahoo.com> <ED691861-BD1E-49FC-BA4F-DD1461B3DB35@yahoo.co.in> <50C4C6B3.9080604@yahoo.com> <1355079961.51340.YahooMailNeo@web193103.mail.sg3.yahoo.com>
In-Reply-To: <1355079961.51340.YahooMailNeo@web193103.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355151012;
	bh=Wk13NOQ2LfYVHPnh/SXePbIK/sbkhE0BdjlM2E1uAF4=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=RBC9H5UD7HV42LraZuVp30jPIVV7RJA2hktYuC+qwIlLMyAXZyXSW43nlfbCW5Hoo
	 yHj5bFHkTjpJw2bKHbQqvcQiFE8D5AgX50Z+xcd/BbBGn7tQCOSpxtQx/5mju1zAsZ
	 vyCtSUymC5yYBfv4wJsr6L77lptkH8V9D1MS9B0oBaVBuqlbG92hKC5MER04Lr0Vxf
	 6CjYOiHiKBMOGpif3PgstjAgbQFW3Dkyo8joomkIGWTHQKtphX378IoIAExbjGuD3a
	 QSbzmk/Xl6Jcst4pm3JehFCPgOhyqHFEpjHOCko/qSB2/yHcxohYRwzY7JTMrbClAL
	 YKONzYcB/hgrg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/9/12 2:06 PM, vicky wrote:
> Thanks MARK/CHRIS  for all earnest replies, i really owe you guys
> for your replies.
> 
> Exporting CLASSPATH wont work ad i believe that Tomcat "catalina.sh
> " will ignore it.
> 
> Anyway i am able to fetch the "resource/properties file " contents 
> if i place in "$CATALINA_BASE/bin" directory.

That is surprising to me. How does your code load the properties file?
I'll bet you aren't even using the ClassLoader (and you *should* be).

> Actually i read the documentation but no where its been written
> that by  adding resource files to "$CATALINA_BASE/bin" , tomcat
> will make them available in its CLASSPATH

I don't believe it's true, so it shouldn't be in the documentation.

> This is weird for me to understand, if you have any thoughts on
> this behavior then please share """" else we can close this email 
> thread""""

Nobody should be using CATALINA_BASE/bin for anything: it's for Tomcat's
bootstrap classes only.

I'm fairly sure that simply dropping a file in there won't do anything
at all, unless you have modified Tomcat from its original configuration.

If you want something to be globally available, use CATALINA_BASE/lib or
configure a shared.loader in catalina.properties. Oh, and write your
code properly to load from the class path.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDF9qwACgkQ9CaO5/Lv0PDwQwCeKVZkWejHUXb7R2uQX92IsSi7
MyQAnjG0iuGjhZcRjDULuDKt94d+cuXr
=0hHZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 14:51:02 2012
Return-Path: <users-return-238522-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C3E2D27A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 14:51:02 +0000 (UTC)
Received: (qmail 57798 invoked by uid 500); 10 Dec 2012 13:49:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57569 invoked by uid 500); 10 Dec 2012 13:48:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57533 invoked by uid 99); 10 Dec 2012 13:48:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 13:48:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goelenv@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 13:48:51 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3351103vbi.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 05:48:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8cf0/tEf2EYJZk29VxqNXQHr/TmKJKhY8QYtolKL1b4=;
        b=VDMV+9k9bmc8P4R9peSf3AKs+O2tg4E9yckq8bwBE/3mzSpTlWRWYiwid3m8UUd2Eo
         xFP0UI8PslHXDRAbSSvrEAG85OqHxjI7H4cPTOa8vrJ7DaYRSeUN+IY676u/aiXa5Id4
         rSWH7C8FalQvmPlMePlpn5ot8W1fshUwAGoVsvxmU1waWnG/7bFxAB2Xd2YMcWxsR+rO
         zWyjW9AfavYQtVIQvrYf3O09lJBepJAEG/fmDktjbUC1tKd7qEuvA23DNmYwDnZIiDcP
         V21XVznypTHu/B3yCk9FmIHxzmDN3BZygIdHy0VBCagSexO8sqhjaudG7LIVjbg5Y1cD
         IWjw==
MIME-Version: 1.0
Received: by 10.52.68.46 with SMTP id s14mr7714189vdt.103.1355147310409; Mon,
 10 Dec 2012 05:48:30 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Mon, 10 Dec 2012 05:48:30 -0800 (PST)
In-Reply-To: <BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>
References: <C45352600C954650B20BA82D82D1315D@HP6910P>
	<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
	<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>
	<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
	<D29BD2074E4E418399AFF7462E353635@HP6910P>
	<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
	<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>
Date: Mon, 10 Dec 2012 14:48:30 +0100
Message-ID: <CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec50165b70e292204d07fd250
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec50165b70e292204d07fd250
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

There are no 2 different webapps to be clear.. It's one app that gives
problems when there are parallel connections with the same client..

2012/12/6 Martin Gainty <mgainty@hotmail.com>

>
> can you split the 2 webapps to run on 2 completely different Tomcat
> instances running on 2 completely different <Connection> configured in
> server.xml The connection causing the TCP RST is on one tomcat instance a=
nd
> doesnt enable or use the other connections (and does not cause a Session
> Invalidate) as SSLConnection is disable
>
> the second webapp enables the SSLConnection and does not interact with an=
y
> other TCP connections as any other TCP or HTTP connections are not enable=
d
> in the second TC instance
> if you run the simple curl script implementing the keys, password and
> CACert do you see a key exchange?
> (that is the behaviour you want to emulate in your Servlet code)
> Martin
> ______________________________________________
> Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidentialit=
=E9
>
> Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede unbefugt=
e
> Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht
> dient lediglich dem Austausch von Informationen und entfaltet keine
> rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
> E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=EAt=
es pas le
> destinataire pr=E9vu, nous te demandons avec bont=E9 que pour satisfaire
> informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e ou la=
 copie
> de ceci est interdite. Ce message sert =E0 l'information seulement et n'a=
ura
> pas n'importe quel effet l=E9galement obligatoire. =C9tant donn=E9 que le=
s email
> peuvent facilement =EAtre sujets =E0 la manipulation, nous ne pouvons acc=
epter
> aucune responsabilit=E9 pour le contenu fourni.
>
>  > Date: Thu, 6 Dec 2012 11:12:26 +0100
> > Subject: Re: Tomcat 7 SSL Session ID
> > From: goelenv@gmail.com
> > To: users@tomcat.apache.org
> >
> > Hey,
> > I'm completely aware that a RST always terminates a TCP connections..
> > But in my case, there's an TCP rst from a connection thats already
> finished
> > it's job causing problems for the active connection! At least that's
> what I
> > think is going on here..
> > As you can see in the screenshot of my wireshark capture, the TCP rst
> there
> > is not from the connection that's writing application data..
> >
> > The session get's invalidates here because of an unexpected close of th=
e
> > connection which is completely normal regarding the SSL specs.
> >
> > grts,
> > Vincent
> >
> > 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
> >
> > > Vincent
> > >
> > > RST always terminates a TCP connection. The question is really why wa=
s
> it
> > > *sent.* The usual reason is writing to a connection that has already
> been
> > > closed by the peer. Is there an incoming close_notify higher up in th=
e
> SSL
> > > log? I suppose not otherwise an SSLException would have been thrown.
> > >
> > > Re loss of the SSL session, I suppose it is plausible that SSL
> discards it
> > > on security grounds because of the broken connection.
> > >
> > > EJP
> > >
> > >   _____
> > >
> > > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > > Sent: Wednesday, 5 December 2012 9:19 PM
> > > To: Esmond Pitt
> > > Subject: Re: Tomcat 7 SSL Session ID
> > >
> > >
> > >
> > > http-bio-8443-exec-21, READ: TLSv1 Application Data, length =3D 32
> > > http-bio-8443-exec-21, READ: TLSv1 Application Data, length =3D 432
> > > http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length =3D 32
> > > http-bio-8443-exec-20, WRITE: TLSv1 Application Data, length =3D 976
> > > http-bio-8443-exec-20, handling exception: java.net.SocketException:
> Broken
> > > pipe
> > > %% Invalidated:  [Session-1, TLS_RSA_WITH_AES_256_CBC_SHA]
> > > http-bio-8443-exec-20, SEND TLSv1 ALERT:  fatal, description =3D
> > > unexpected_message
> > > http-bio-8443-exec-20, WRITE: TLSv1 Alert, length =3D 32
> > > http-bio-8443-exec-20, Exception sending alert:
> java.net.SocketException:
> > > Broken pipe
> > > http-bio-8443-exec-20, called closeSocket()
> > > http-bio-8443-exec-20, called close()
> > > http-bio-8443-exec-20, called closeInternal(true)
> > >
> > >
> > > This is what I get in the SSL debug logs.. It seems to happen when th=
e
> tcp
> > > connection is closed while the application data is being sent.. I thi=
nk
> > > this
> > > is a security thing to prevent SSL truncation attacks which sounds
> quite
> > > normal to me.
> > >
> > > The issue is, why does my tcp connection close there:
> > >
> > >
> http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015.0=
9.5
> > > 6.png<
> http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015.0=
9.56.png
> >
> > >
> > > The screenshot above is one from where things go wrong when I analyse
> the
> > > traffic, the tcp rst is one from the connection that was used by the
> > > previous request.. But why can that rst packet terminate the current
> active
> > > tcp connection?
> > >
> > >
> > > 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
> > >
> > >
> > > Yes but he *already has* an SSL session which he states is being
> > > invalidated. To the limited extent to which I could make sense of you=
r
> > > incomprehensible post, it appears to be 100% irrelevant.
> > >
> > >
> > > -----Original Message-----
> > > From: Martin Gainty [mailto:mgainty@hotmail.com]
> > > Sent: Wednesday, 5 December 2012 11:27 AM
> > > To: Tomcat Users List; goelenv@gmail.com
> > > Subject: RE: Tomcat 7 SSL Session ID
> > >
> > >
> > >
> > > yes but he needs to achieve a reliable connection between himself and
> the
> > > SSLServer (at least until key negotiation has completed) broken
> pipe(s) are
> > > a bear to debug but you have a few tools available to you:
> > >
> > > netstat  SSLServerIP
> > > -- if you see ANY intervening nodes hanging more than 4 sec drop from
> arp
> > > cache generally by arp -d ServerIP
> > > assuming your ServerIP is is 157.55.85.212 and the physical address o=
f
> the
> > > network you want to connect to is 00-aa-00-62-c6-09  (check with
> net-admin
> > > for the physical-address or eth-addr to use) > arp -s 157.55.85.212
> > > 00-aa-00-62-c6-09  .... Adds a static entry.
> > >  > arp -a                                    .... Displays the arp
> table.
> > > route print will display the routes between you and the SSLServer if
> you
> > > dont see a route referencing the server you may want to add in your o=
wn
> > > route with
> > > route add DESTINATION MASK Mask  METRIC NoOfHops Interface
> > >
> > > InterfaceNumbercheck with net-admin DESTINATION is generally the
> > > dotted.quad.of.SSLServercheck with net-admin generally Mask
> =3D255.255.255.0
> > > will docheck with net admin about which Interface to use..avoid
> 127.0.0.1
> > > (unless testing locally)check with net admin on NoOfHops param
> ..generally
> > >
> > > the lower the better use curl (command line url) to check the validit=
y
> of
> > >
> > > the certificate, keys and passwordscurl -1 --cacert [file] --key
> > >
> > > PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey
> > > PublicKey.jks-1
> > >
> > > says use TLSv1check the type of key most keys start out as PEM PEM ke=
y
> ends
> > >
> > > with .PEM extension ...DER key with .DER... ENG key ends with
> > >
> > > .ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to
> > > achieve
> > >
> > > a Key Exchange you will have a valid SSL Connection..remember binarie=
s
> have
> > > lower CPU so test with a reliable binary first then start debugging
> your
> > > code (i assume you added your CA cert into your local truststore)
> enough
> > > pollution?
> > > Martin
> > > ______________________________________________
> > > Verzicht und Vertraulichkeitanmerkung
> > > Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> > > Empfaenger sein, so bitten wir hoeflich um eine Mitteilung. Jede
> unbefugte
> > > Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese
> Nachricht
> > > dient lediglich dem Austausch von Informationen und entfaltet keine
> > > rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit v=
on
> > > E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> > >
> > >
> > >  > From: esmond.pitt@bigpond.com
> > > > To: goelenv@gmail.com; users@tomcat.apache.org
> > > > Subject: RE: Tomcat 7 SSL Session ID
> > > > Date: Wed, 5 Dec 2012 09:57:38 +1100
> > > >
> > > > Broken pipes don't invalidate the SSL session. They just break the
> TCP
> > > > connection. The SSL session persists, across multiple TCP
> connections,
> > > > until it is specifically invalidated by someone: for example, timed
> > > > out by the SSLSessionContext.
> > > >
> > > > EJP
> > > >
> > > >   _____
> > > >
> > > > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > > > Sent: Wednesday, 5 December 2012 1:15 AM
> > > > To: Tomcat Users List
> > > > Subject: Re: Tomcat 7 SSL Session ID
> > > >
> > > >
> > > > Hey,
> > > >
> > > > thanks for the help!
> > > >
> > > > To be clear, I do not want a 0ms timeout... I'm doing research abou=
t
> > > > how "usable" the SSL session tracking option is for session
> management...
> > > > With the standard settings it seems very unstable to me, when sendi=
ng
> > > > alot of parallel requests I get a broken socket error invalidating
> the
> > > > ssl session and making the session with this id disappear. In this
> > > > case it would seem to me that it's easy to create Denial of Service
> > > > attacks by just sending alot of requests so the user loses his
> session.
> > > >
> > > > By playing with the timeouts I found out this problem doesn't occur
> > > > when I set the timeout to 0, just by playing with the settings.
> > > > Perhaps because this disables the possibility of too many parallel
> > > > connections? I can't find the reason of this in the Tomcat or SSL
> > > specs...
> > > >
> > > > I've added a screenshot of a capture where things go wrong without
> > > > setting a keepAlive.. So I send alot of requests to the server, the
> > > > first clientHello (pck 38943) and the following packets everything
> > > > goes ok, when the application data is being send I get a tcp rst fr=
om
> > > > port 54195 (this is the connection that was used for the transactio=
ns
> > > > before the current one) ... At this moment my session gets
> invalidates
> > > > making the next SSL handshake a full one with new ID (pckt 40361,
> ...)
> > > >
> > > >
> > > >
> > > >
> > > > 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
> > > >
> > > >
> > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > Hash: SHA1
> > > >
> > > > Vincent,
> > > >
> > > >
> > > > On 11/28/12 3:14 AM, Vincent Goelen wrote:
> > > > > When the keepAliveTimeout is not set to "0" I can see in the SSL
> > > > > debug logs the SSL session get's invalidated after some requests
> > > > > with a Broken Pipe exception. Is this because there are too many
> > > > > open connections during the keepAliveTimeout?
> > > >
> > > >
> > > > It's probably because of your pathological keepAliveTimeout. 0ms
> > > > seems, er, low. Why did you choose 0ms?
> > > >
> > > > I haven't looked at the code, so I'm not sure if the elapsed timer
> > > > starts when the last request is completed (which seems reasonable) =
or
> > > > when the last request started. I suspect the latter. 0ms is awfully
> > > > short. Are you sure that your client is capable of accepting the
> > > > response to the previous request and turn-around and make another
> > > > request across the same channel before 0ms passes?
> > > >
> > > >
> > > > > It also only happens when processing the requests takes some time
> > > > > (fe. storing items in database) or when I put the threat to sleep
> > > > > for testing purpose.
> > > >
> > > >
> > > > So if you have a trivial request (say, HEAD for a static resource),
> > > > you can never get a failure?
> > > >
> > > >
> > > > > When inspecting the traffic I see some tcp-rst packages (problem =
is
> > > > > here?) from previous connections while the current one is being
> > > > > processed.
> > > >
> > > >
> > > > When you say "current one" what do you mean? If you are using a
> single
> > > > connection with HTTP keepalive, then there is only one connection t=
o
> > > > talk about: you can't get RSTs from "previous connections". You may
> be
> > > > getting TCP RST as the server closes the connection while the clien=
t
> > > > is trying to write. Is that what you are experiencing?
> > > >
> > > >
> > > > > My question is why these SSL Sessions get invalidated after alot =
of
> > > > > quick requests to the server since this gives a problem with my S=
SL
> > > > > Session tracking since the id changes then.
> > > >
> > > >
> > > > Maybe if you can explain why you want a 0ms keepalive timeout it
> would
> > > > be helpful. If you want to disable keep alives, set
> > > > maxKeepAliveRequests=3D"1". If you want to allow an infinite timeou=
t,
> > > > try using keepAliveTimeout=3D"-1" as the documentation states.
> > > >
> > > > - -chris
> > > > -----BEGIN PGP SIGNATURE-----
> > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > Comment: GPGTools - http://gpgtools.org
> > > > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> > > >
> > > > iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> > > > tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> > > > =3DJ7dz
> > > > -----END PGP SIGNATURE-----
> > > >
> > > > -------------------------------------------------------------------=
--
> > > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > > For additional commands, e-mail: users-help@tomcat.apache.org
> > > >
> > > >
> > > >
> > > >
> > >
> > >
> > >
> > >
> > >
> > >
>
>

--bcaec50165b70e292204d07fd250--

From users-return-238526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 14:57:42 2012
Return-Path: <users-return-238526-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 654BBD2C6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 14:57:42 +0000 (UTC)
Received: (qmail 59462 invoked by uid 500); 10 Dec 2012 14:57:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59281 invoked by uid 500); 10 Dec 2012 14:57:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59267 invoked by uid 99); 10 Dec 2012 14:57:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:57:38 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 14:57:32 +0000
Received: from omta12.westchester.pa.mail.comcast.net ([76.96.62.44])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id ZouF1k00B0xGWP855qxBxt; Mon, 10 Dec 2012 14:57:11 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta12.westchester.pa.mail.comcast.net with comcast
	id Zqx81k00L38FjT13Yqx976; Mon, 10 Dec 2012 14:57:11 +0000
Message-ID: <50C5F84E.8070702@christopherschultz.net>
Date: Mon, 10 Dec 2012 09:57:18 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com> <50C1253B.9080708@christopherschultz.net> <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com> <50C1B3E3.5050804@ice-sa.com> <50C2205E.6080307@christopherschultz.net> <CABzHfV=NHUBsMqkjGTy3=WUD-zFCmRH=WYr1CCKB_h5_AFYkmw@mail.gmail.com>
In-Reply-To: <CABzHfV=NHUBsMqkjGTy3=WUD-zFCmRH=WYr1CCKB_h5_AFYkmw@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355151431;
	bh=sTGbxOT5f26jEr5OVNqEASm9WCOulOOLiKxSJjrd0Qk=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=NkTvFad7lVtKp1UnUPHDCX9rzfuhclQC3Wwou00xuArJ0ICnARgdQJg7FTDG2elpZ
	 o/Kq92qjWPz5VXuP5UInl2AkQh6a/zOcDNEJ6uaLNUNL4zKJY9fAu6USc2WaIBKSSs
	 5BEvNM16QvK8yVwpNHw153XnA9nMWA1yAeALsqXaa2g4WoIXoMlrVR7UgkK/bPCjLT
	 15GZd3hfecSJtQTTkJBDE4K5j6Q0Z5i8BXan1DBvWNcEM879c5VZZ/GDF5Smbuq471
	 3XbHnxdpvKuUEYurQjEmXt0A1gOzg1cYRB/hirCbwYlTac/d09plJkrZ7yDPHKW+em
	 afMsaYMKWflXQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Konstantin,

On 12/9/12 4:20 PM, Konstantin Kolinko wrote:
> 2012/12/7 Christopher Schultz <chris@christopherschultz.net>:
>> On 12/7/12 4:16 AM, AndrÃ© Warnier wrote:
>>> Williams, Nick wrote:
>>>>> -----Original Message----- From: Christopher Schultz
>>>> (...)
>>>> 
>>>> Earlier somebody (I'm sorry, I already deleted the email) 
>>>> suggested Tomcat returning a 308 or 309 or similar to the
>>>> load balancer to trigger a "re-balance" if the session is
>>>> expired. I think this is the best idea I've heard yet, solves
>>>> the problem elegantly and simply, and seems (relatively) easy
>>>> to achieve (this coming from someone who has no knowledge of
>>>> the code used by mod_jk/isapi_redirector).
>>>> 
>>> 
>>> I must admit that this sounds more elegant (and efficient) than
>>> my suggested interceptor module.
>>> 
>>> Alternatively, if one wanted to avoid touching mod_jk for
>>> this, maybe tomcat could return a 302 redirect to the starting
>>> page of this application, if known ? (without
>>> jsessionid.jvmroute of course).
>> 
>> That's definitely an idea worth pursuing: an expired session id
>> could return 302 *and* strip the jsessionid path parameter *and*
>> send a Set-Cookie JSESSIONID; expiration=0 header (which deletes
>> the cookie). The client would re-try and the balancer would
>> re-balance.
>> 
>> Konstantin, what do you think? Obviously, this shouldn't be the 
>> default operation of Tomcat, but perhaps a setting that could be 
>> enabled on the session manager?
>> 
> 
> If anybody want to experiment with such a feature, it is easy to
> write your own Filter or Valve that implements this.
> 
> Something like if (request.getSession(false) == null && 
> request.getRequestedSessionId() != null) { 
> response.sendRedirect(...); return; }

Can you see a reason not to delete the JSESSIONID cookie and
explicitly remove the ;jsessionid parameter at this point? I believe
if we don't do that, we'll end up in a redirect loop.

> Things to be cautious 1. Different web applications may have
> different session ids. When a browser sends us the session id
> cookie, there is no indication to what web application it belongs.

If the Valve is configured at the Engine or Host level, will the call
to getSession know what webapp's session should be fetched? Obviously,
Tomcat figures this out eventually, but I was wondering if that
resolution has been done before the host- or engine-level valves are
invoked.

> 2. I would check the value of request.getMethod().

Yes. Redirecting PUT, POST, etc. can be ... problematic.

> 3. I would do nothing if jvmRoute in requested session id belongs
> to a different server.

+1

> See also  org.apache.catalina.ha.session.JvmRouteBinderValve, 
> http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-valve.html

I think that may be the right place for this to ultimately live, but
developing separately probably makes sense for now.

Mitchell, would you be willing to test a few proofs-of-concept if we
build them?

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDF+E4ACgkQ9CaO5/Lv0PC4jACgnQ1t/d4WBDc9B4iruRNFu+xU
IPMAmgMmGBNzmJPQw3fww31L6XKcWN42
=Fp1q
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 15:23:19 2012
Return-Path: <users-return-238527-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 796F0D4D9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 15:23:19 +0000 (UTC)
Received: (qmail 46774 invoked by uid 500); 10 Dec 2012 15:23:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46597 invoked by uid 500); 10 Dec 2012 15:23:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46550 invoked by uid 99); 10 Dec 2012 15:23:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:23:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.103 as permitted sender)
Received: from [65.55.111.103] (HELO blu0-omc2-s28.blu0.hotmail.com) (65.55.111.103)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:23:06 +0000
Received: from BLU172-W7 ([65.55.111.71]) by blu0-omc2-s28.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 10 Dec 2012 07:22:45 -0800
X-Originating-IP: [209.144.63.76]
X-EIP: [5LeXdZvxwqBZKB08EIB7VUwh0GBZHUJ/]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_aab482bc-3b77-4888-84bd-18384ae86c04_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat 7 SSL Session ID
Date: Mon, 10 Dec 2012 10:22:44 -0500
Importance: Normal
In-Reply-To:
 <CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>
References:
 <C45352600C954650B20BA82D82D1315D@HP6910P>,<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>,<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>,<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>,<D29BD2074E4E418399AFF7462E353635@HP6910P>,<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>,<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>,<CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 10 Dec 2012 15:22:45.0278 (UTC) FILETIME=[345C7BE0:01CDD6EA]
X-Virus-Checked: Checked by ClamAV on apache.org

--_aab482bc-3b77-4888-84bd-18384ae86c04_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


we need to get your architect into this discussion
Why is your code implementing 2 different Connections to accomplish this fu=
nctionality when one Connection at a time will suffice? Martin ____________=
__________________________________=20
Verzicht und Vertraulichkeitanmerkung
=20
Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene Empfaeng=
er sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbefugte Weiter=
leitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachricht dient l=
ediglich dem Austausch von Informationen und entfaltet keine rechtliche Bin=
dungswirkung. Aufgrund der leichten Manipulierbarkeit von E-Mails koennen w=
ir keine Haftung fuer den Inhalt uebernehmen.
 > Date: Mon=2C 10 Dec 2012 14:48:30 +0100
> Subject: Re: Tomcat 7 SSL Session ID
> From: goelenv@gmail.com
> To: users@tomcat.apache.org
>=20
> There are no 2 different webapps to be clear.. It's one app that gives
> problems when there are parallel connections with the same client..
>=20
> 2012/12/6 Martin Gainty <mgainty@hotmail.com>
>=20
> >
> > can you split the 2 webapps to run on 2 completely different Tomcat
> > instances running on 2 completely different <Connection> configured in
> > server.xml The connection causing the TCP RST is on one tomcat instance=
 and
> > doesnt enable or use the other connections (and does not cause a Sessio=
n
> > Invalidate) as SSLConnection is disable
> >
> > the second webapp enables the SSLConnection and does not interact with =
any
> > other TCP connections as any other TCP or HTTP connections are not enab=
led
> > in the second TC instance
> > if you run the simple curl script implementing the keys=2C password and
> > CACert do you see a key exchange?
> > (that is the behaviour you want to emulate in your Servlet code)
> > Martin
> > ______________________________________________
> > Verzicht und Vertraulichkeitanmerkung/Note de d=E9ni et de confidential=
it=E9
> >
> > Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> > Empfaenger sein=2C so bitten wir hoeflich um eine Mitteilung. Jede unbe=
fugte
> > Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese Nachric=
ht
> > dient lediglich dem Austausch von Informationen und entfaltet keine
> > rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit von
> > E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> > Ce message est confidentiel et peut =EAtre privil=E9gi=E9. Si vous n'=
=EAtes pas le
> > destinataire pr=E9vu=2C nous te demandons avec bont=E9 que pour satisfa=
ire
> > informez l'exp=E9diteur. N'importe quelle diffusion non autoris=E9e ou =
la copie
> > de ceci est interdite. Ce message sert =E0 l'information seulement et n=
'aura
> > pas n'importe quel effet l=E9galement obligatoire. =C9tant donn=E9 que =
les email
> > peuvent facilement =EAtre sujets =E0 la manipulation=2C nous ne pouvons=
 accepter
> > aucune responsabilit=E9 pour le contenu fourni.
> >
> >  > Date: Thu=2C 6 Dec 2012 11:12:26 +0100
> > > Subject: Re: Tomcat 7 SSL Session ID
> > > From: goelenv@gmail.com
> > > To: users@tomcat.apache.org
> > >
> > > Hey=2C
> > > I'm completely aware that a RST always terminates a TCP connections..
> > > But in my case=2C there's an TCP rst from a connection thats already
> > finished
> > > it's job causing problems for the active connection! At least that's
> > what I
> > > think is going on here..
> > > As you can see in the screenshot of my wireshark capture=2C the TCP r=
st
> > there
> > > is not from the connection that's writing application data..
> > >
> > > The session get's invalidates here because of an unexpected close of =
the
> > > connection which is completely normal regarding the SSL specs.
> > >
> > > grts=2C
> > > Vincent
> > >
> > > 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
> > >
> > > > Vincent
> > > >
> > > > RST always terminates a TCP connection. The question is really why =
was
> > it
> > > > *sent.* The usual reason is writing to a connection that has alread=
y
> > been
> > > > closed by the peer. Is there an incoming close_notify higher up in =
the
> > SSL
> > > > log? I suppose not otherwise an SSLException would have been thrown=
.
> > > >
> > > > Re loss of the SSL session=2C I suppose it is plausible that SSL
> > discards it
> > > > on security grounds because of the broken connection.
> > > >
> > > > EJP
> > > >
> > > >   _____
> > > >
> > > > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > > > Sent: Wednesday=2C 5 December 2012 9:19 PM
> > > > To: Esmond Pitt
> > > > Subject: Re: Tomcat 7 SSL Session ID
> > > >
> > > >
> > > >
> > > > http-bio-8443-exec-21=2C READ: TLSv1 Application Data=2C length =3D=
 32
> > > > http-bio-8443-exec-21=2C READ: TLSv1 Application Data=2C length =3D=
 432
> > > > http-bio-8443-exec-20=2C WRITE: TLSv1 Application Data=2C length =
=3D 32
> > > > http-bio-8443-exec-20=2C WRITE: TLSv1 Application Data=2C length =
=3D 976
> > > > http-bio-8443-exec-20=2C handling exception: java.net.SocketExcepti=
on:
> > Broken
> > > > pipe
> > > > %% Invalidated:  [Session-1=2C TLS_RSA_WITH_AES_256_CBC_SHA]
> > > > http-bio-8443-exec-20=2C SEND TLSv1 ALERT:  fatal=2C description =
=3D
> > > > unexpected_message
> > > > http-bio-8443-exec-20=2C WRITE: TLSv1 Alert=2C length =3D 32
> > > > http-bio-8443-exec-20=2C Exception sending alert:
> > java.net.SocketException:
> > > > Broken pipe
> > > > http-bio-8443-exec-20=2C called closeSocket()
> > > > http-bio-8443-exec-20=2C called close()
> > > > http-bio-8443-exec-20=2C called closeInternal(true)
> > > >
> > > >
> > > > This is what I get in the SSL debug logs.. It seems to happen when =
the
> > tcp
> > > > connection is closed while the application data is being sent.. I t=
hink
> > > > this
> > > > is a security thing to prevent SSL truncation attacks which sounds
> > quite
> > > > normal to me.
> > > >
> > > > The issue is=2C why does my tcp connection close there:
> > > >
> > > >
> > http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015=
.09.5
> > > > 6.png<
> > http://users.telenet.be/goelenv/Schermafbeelding%202012-12-04%20om%2015=
.09.56.png
> > >
> > > >
> > > > The screenshot above is one from where things go wrong when I analy=
se
> > the
> > > > traffic=2C the tcp rst is one from the connection that was used by =
the
> > > > previous request.. But why can that rst packet terminate the curren=
t
> > active
> > > > tcp connection?
> > > >
> > > >
> > > > 2012/12/5 Esmond Pitt <esmond.pitt@bigpond.com>
> > > >
> > > >
> > > > Yes but he *already has* an SSL session which he states is being
> > > > invalidated. To the limited extent to which I could make sense of y=
our
> > > > incomprehensible post=2C it appears to be 100% irrelevant.
> > > >
> > > >
> > > > -----Original Message-----
> > > > From: Martin Gainty [mailto:mgainty@hotmail.com]
> > > > Sent: Wednesday=2C 5 December 2012 11:27 AM
> > > > To: Tomcat Users List=3B goelenv@gmail.com
> > > > Subject: RE: Tomcat 7 SSL Session ID
> > > >
> > > >
> > > >
> > > > yes but he needs to achieve a reliable connection between himself a=
nd
> > the
> > > > SSLServer (at least until key negotiation has completed) broken
> > pipe(s) are
> > > > a bear to debug but you have a few tools available to you:
> > > >
> > > > netstat  SSLServerIP
> > > > -- if you see ANY intervening nodes hanging more than 4 sec drop fr=
om
> > arp
> > > > cache generally by arp -d ServerIP
> > > > assuming your ServerIP is is 157.55.85.212 and the physical address=
 of
> > the
> > > > network you want to connect to is 00-aa-00-62-c6-09  (check with
> > net-admin
> > > > for the physical-address or eth-addr to use) > arp -s 157.55.85.212
> > > > 00-aa-00-62-c6-09  .... Adds a static entry.
> > > >  > arp -a                                    .... Displays the arp
> > table.
> > > > route print will display the routes between you and the SSLServer i=
f
> > you
> > > > dont see a route referencing the server you may want to add in your=
 own
> > > > route with
> > > > route add DESTINATION MASK Mask  METRIC NoOfHops Interface
> > > >
> > > > InterfaceNumbercheck with net-admin DESTINATION is generally the
> > > > dotted.quad.of.SSLServercheck with net-admin generally Mask
> > =3D255.255.255.0
> > > > will docheck with net admin about which Interface to use..avoid
> > 127.0.0.1
> > > > (unless testing locally)check with net admin on NoOfHops param
> > ..generally
> > > >
> > > > the lower the better use curl (command line url) to check the valid=
ity
> > of
> > > >
> > > > the certificate=2C keys and passwordscurl -1 --cacert [file] --key
> > > >
> > > > PrivateKey.jks --pass PrivateKeyPass --key-type PEM --pubkey
> > > > PublicKey.jks-1
> > > >
> > > > says use TLSv1check the type of key most keys start out as PEM PEM =
key
> > ends
> > > >
> > > > with .PEM extension ...DER key with .DER... ENG key ends with
> > > >
> > > > .ENGhttp://curl.haxx.se/docs/sslcerts.html once you've been able to
> > > > achieve
> > > >
> > > > a Key Exchange you will have a valid SSL Connection..remember binar=
ies
> > have
> > > > lower CPU so test with a reliable binary first then start debugging
> > your
> > > > code (i assume you added your CA cert into your local truststore)
> > enough
> > > > pollution?
> > > > Martin
> > > > ______________________________________________
> > > > Verzicht und Vertraulichkeitanmerkung
> > > > Diese Nachricht ist vertraulich. Sollten Sie nicht der vorgesehene
> > > > Empfaenger sein=2C so bitten wir hoeflich um eine Mitteilung. Jede
> > unbefugte
> > > > Weiterleitung oder Fertigung einer Kopie ist unzulaessig. Diese
> > Nachricht
> > > > dient lediglich dem Austausch von Informationen und entfaltet keine
> > > > rechtliche Bindungswirkung. Aufgrund der leichten Manipulierbarkeit=
 von
> > > > E-Mails koennen wir keine Haftung fuer den Inhalt uebernehmen.
> > > >
> > > >
> > > >  > From: esmond.pitt@bigpond.com
> > > > > To: goelenv@gmail.com=3B users@tomcat.apache.org
> > > > > Subject: RE: Tomcat 7 SSL Session ID
> > > > > Date: Wed=2C 5 Dec 2012 09:57:38 +1100
> > > > >
> > > > > Broken pipes don't invalidate the SSL session. They just break th=
e
> > TCP
> > > > > connection. The SSL session persists=2C across multiple TCP
> > connections=2C
> > > > > until it is specifically invalidated by someone: for example=2C t=
imed
> > > > > out by the SSLSessionContext.
> > > > >
> > > > > EJP
> > > > >
> > > > >   _____
> > > > >
> > > > > From: Vincent Goelen [mailto:goelenv@gmail.com]
> > > > > Sent: Wednesday=2C 5 December 2012 1:15 AM
> > > > > To: Tomcat Users List
> > > > > Subject: Re: Tomcat 7 SSL Session ID
> > > > >
> > > > >
> > > > > Hey=2C
> > > > >
> > > > > thanks for the help!
> > > > >
> > > > > To be clear=2C I do not want a 0ms timeout... I'm doing research =
about
> > > > > how "usable" the SSL session tracking option is for session
> > management...
> > > > > With the standard settings it seems very unstable to me=2C when s=
ending
> > > > > alot of parallel requests I get a broken socket error invalidatin=
g
> > the
> > > > > ssl session and making the session with this id disappear. In thi=
s
> > > > > case it would seem to me that it's easy to create Denial of Servi=
ce
> > > > > attacks by just sending alot of requests so the user loses his
> > session.
> > > > >
> > > > > By playing with the timeouts I found out this problem doesn't occ=
ur
> > > > > when I set the timeout to 0=2C just by playing with the settings.
> > > > > Perhaps because this disables the possibility of too many paralle=
l
> > > > > connections? I can't find the reason of this in the Tomcat or SSL
> > > > specs...
> > > > >
> > > > > I've added a screenshot of a capture where things go wrong withou=
t
> > > > > setting a keepAlive.. So I send alot of requests to the server=2C=
 the
> > > > > first clientHello (pck 38943) and the following packets everythin=
g
> > > > > goes ok=2C when the application data is being send I get a tcp rs=
t from
> > > > > port 54195 (this is the connection that was used for the transact=
ions
> > > > > before the current one) ... At this moment my session gets
> > invalidates
> > > > > making the next SSL handshake a full one with new ID (pckt 40361=
=2C
> > ...)
> > > > >
> > > > >
> > > > >
> > > > >
> > > > > 2012/11/29 Christopher Schultz <chris@christopherschultz.net>
> > > > >
> > > > >
> > > > > -----BEGIN PGP SIGNED MESSAGE-----
> > > > > Hash: SHA1
> > > > >
> > > > > Vincent=2C
> > > > >
> > > > >
> > > > > On 11/28/12 3:14 AM=2C Vincent Goelen wrote:
> > > > > > When the keepAliveTimeout is not set to "0" I can see in the SS=
L
> > > > > > debug logs the SSL session get's invalidated after some request=
s
> > > > > > with a Broken Pipe exception. Is this because there are too man=
y
> > > > > > open connections during the keepAliveTimeout?
> > > > >
> > > > >
> > > > > It's probably because of your pathological keepAliveTimeout. 0ms
> > > > > seems=2C er=2C low. Why did you choose 0ms?
> > > > >
> > > > > I haven't looked at the code=2C so I'm not sure if the elapsed ti=
mer
> > > > > starts when the last request is completed (which seems reasonable=
) or
> > > > > when the last request started. I suspect the latter. 0ms is awful=
ly
> > > > > short. Are you sure that your client is capable of accepting the
> > > > > response to the previous request and turn-around and make another
> > > > > request across the same channel before 0ms passes?
> > > > >
> > > > >
> > > > > > It also only happens when processing the requests takes some ti=
me
> > > > > > (fe. storing items in database) or when I put the threat to sle=
ep
> > > > > > for testing purpose.
> > > > >
> > > > >
> > > > > So if you have a trivial request (say=2C HEAD for a static resour=
ce)=2C
> > > > > you can never get a failure?
> > > > >
> > > > >
> > > > > > When inspecting the traffic I see some tcp-rst packages (proble=
m is
> > > > > > here?) from previous connections while the current one is being
> > > > > > processed.
> > > > >
> > > > >
> > > > > When you say "current one" what do you mean? If you are using a
> > single
> > > > > connection with HTTP keepalive=2C then there is only one connecti=
on to
> > > > > talk about: you can't get RSTs from "previous connections". You m=
ay
> > be
> > > > > getting TCP RST as the server closes the connection while the cli=
ent
> > > > > is trying to write. Is that what you are experiencing?
> > > > >
> > > > >
> > > > > > My question is why these SSL Sessions get invalidated after alo=
t of
> > > > > > quick requests to the server since this gives a problem with my=
 SSL
> > > > > > Session tracking since the id changes then.
> > > > >
> > > > >
> > > > > Maybe if you can explain why you want a 0ms keepalive timeout it
> > would
> > > > > be helpful. If you want to disable keep alives=2C set
> > > > > maxKeepAliveRequests=3D"1". If you want to allow an infinite time=
out=2C
> > > > > try using keepAliveTimeout=3D"-1" as the documentation states.
> > > > >
> > > > > - -chris
> > > > > -----BEGIN PGP SIGNATURE-----
> > > > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > > > Comment: GPGTools - http://gpgtools.org
> > > > > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> > > > >
> > > > > iEYEARECAAYFAlC3w6YACgkQ9CaO5/Lv0PDX/QCfcPmdRD/FSyDB51QdOqgqwGbI
> > > > > tLwAmweVvlGCGqU2eAdYtrzezwkEPhZF
> > > > > =3DJ7dz
> > > > > -----END PGP SIGNATURE-----
> > > > >
> > > > > -----------------------------------------------------------------=
----
> > > > > To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> > > > > For additional commands=2C e-mail: users-help@tomcat.apache.org
> > > > >
> > > > >
> > > > >
> > > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> > > >
> >
> >
 		 	   		  =

--_aab482bc-3b77-4888-84bd-18384ae86c04_--

From users-return-238528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 15:31:00 2012
Return-Path: <users-return-238528-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DF0F6D69F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 15:30:59 +0000 (UTC)
Received: (qmail 76644 invoked by uid 500); 10 Dec 2012 15:30:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 76599 invoked by uid 500); 10 Dec 2012 15:30:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76572 invoked by uid 99); 10 Dec 2012 15:30:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:30:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.45 as permitted sender)
Received: from [209.85.216.45] (HELO mail-qa0-f45.google.com) (209.85.216.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:30:50 +0000
Received: by mail-qa0-f45.google.com with SMTP id j15so2119809qaq.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 07:30:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=OQveUgbsFogQ/3BKhnQIhHyd+p8z83JuvZO11NbfvY0=;
        b=P9BYZFEXPlOCv97ODGolPyT+ce43FA03/aPY3CvNJhzP3rKl1ZxecoHXW4ZQqFc3vf
         3eo9HF40VMWIS97S1/A0qCWilnPqr44prbF8kqHFEu2u4ZohgIEgoF1jB4khzQ1UjRjq
         Ofc4PuZf5l5Thm3sOrvJsHOnXSP52wGIQUnBX1M4kg9ZutlNQvywetHk6JE99quwRHtm
         D9jfwVuIZdy2cOpKwIgBqQ/H6r1MgnEUB5pkkysk3O2ojduLMzLJyuA+yOmWo0IC7+Wj
         C5xTbs5zoc/B8YQpPdvyy/CB0Hq2RUHCrhpNph7F5Oep99mawceJbJblLAq9GV4dFeFf
         c1BA==
MIME-Version: 1.0
Received: by 10.49.121.38 with SMTP id lh6mr31446201qeb.7.1355153429883; Mon,
 10 Dec 2012 07:30:29 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Mon, 10 Dec 2012 07:30:29 -0800 (PST)
In-Reply-To: <50C2762E.6000508@ice-sa.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
	<50C23BAF.3090000@ice-sa.com>
	<50C265D9.50305@christopherschultz.net>
	<50C2762E.6000508@ice-sa.com>
Date: Mon, 10 Dec 2012 13:30:29 -0200
Message-ID: <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc9a92cdeac404d0813eb3
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc9a92cdeac404d0813eb3
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/12/7 Andr=E9 Warnier <aw@ice-sa.com>

> Christopher Schultz wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA256
>>
>> Andr=E9,
>>
>> On 12/7/12 1:55 PM, Andr=E9 Warnier wrote:
>>
>>> I am relatively familiar with tomcat under Windows, and if your
>>> explanations of what works and what doesn't above are exact, then
>>> I don't know either.
>>>
>>
>> One possibility: during the installation, the user chose to bind only
>> to localhost instead of 0.0.0.0.
>>
>
> Aaaah. Yes, and that choice probably only exists in the Service installer=
.
> That would fit.
> And he would see that with netstat.
>
>>
>>
"netstat -abn" results:

--

running Tomcat on console:


TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       3844
[java.exe]

TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       3844
[java.exe]

TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       3844
[java.exe]

--

running Tomcat as Service:

TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       488
[Tomcat7.exe]

TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       488
[Tomcat7.exe]

TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       488
[Tomcat7.exe]

--047d7bdc9a92cdeac404d0813eb3--

From users-return-238529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 15:43:11 2012
Return-Path: <users-return-238529-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DA830D710
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 15:43:10 +0000 (UTC)
Received: (qmail 13289 invoked by uid 500); 10 Dec 2012 15:43:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 13236 invoked by uid 500); 10 Dec 2012 15:43:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 13221 invoked by uid 99); 10 Dec 2012 15:43:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:43:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hanriseldon@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 15:43:02 +0000
Received: by mail-we0-f173.google.com with SMTP id z2so1576147wey.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 07:42:41 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=OEadda3poP1lICklDpgJc2Jk6yOPwEA9vljgA7m5zlc=;
        b=cCsadJiDqkghDPB4k8d7V/DVijJ0yAKCzhD2GCfR5dBrLIhdkxpErBIDh1v1mQWFz9
         6M5rvbtou7yYcUPk1ePfJbHRmWOdNbWrLcdHKglr2Y4hnmAXfPMlb7ECCcTBQJTXbsE4
         g5gEqecIpNcSIeBOSQXRhSGpEnXMsp9WvF94Ol860FsQwpSPIGjjHArlSQhQWh9jORoY
         zRFnvdzJMx2SDVTr8VJE4oQougGSf/N1bvUVxCM4kfFv3aXGJOezrWaBhjfCLO0hEfLj
         zVsWU2ivphrj7cRblbLE0GwTKvMN20Ce1RYNvGIYqG2qN+4xF63ky4nczy3ovZxtfsBm
         aQJA==
MIME-Version: 1.0
Received: by 10.194.81.228 with SMTP id d4mr9617wjy.22.1355154161016; Mon, 10
 Dec 2012 07:42:41 -0800 (PST)
Received: by 10.217.56.70 with HTTP; Mon, 10 Dec 2012 07:42:40 -0800 (PST)
Date: Mon, 10 Dec 2012 17:42:40 +0200
Message-ID: <CA+A8vzHm7iGd8EfqsYW8+8xGL-HKaYPkOdk4-Pb_NwWVJaBvtg@mail.gmail.com>
Subject: Tomcat 7 servlet library
From: Eugen Paraschiv <hanriseldon@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7bea452862205704d0816ae9
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bea452862205704d0816ae9
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I have a quick question about the exact version of the servlet library
packaged with Tomcat 7, and maybe the overall servlet spec.
Tomcat comes with it's own, custom build jar, published here on Maven
central:
http://search.maven.org/#browse|555734385
Is there a separation between the implementation of the spec and the
contract? More to the point - is there a way Tomcat could use a standard
version of the servlet jar (for which it has it's own internal
implementation)?
Thanks.
Eugen.

-- 
Eugen Paraschiv
Senior Java Programmer, Optaros
Mobile: +40728896170
Blog: www.baeldung.com
Twitter: https://twitter.com/baeldung

--047d7bea452862205704d0816ae9--

From users-return-238530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 16:28:42 2012
Return-Path: <users-return-238530-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 87DF2D3C6
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 16:28:42 +0000 (UTC)
Received: (qmail 63100 invoked by uid 500); 10 Dec 2012 16:28:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 63013 invoked by uid 500); 10 Dec 2012 16:28:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62987 invoked by uid 99); 10 Dec 2012 16:28:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:28:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:28:31 +0000
Received: from [192.168.245.129] (p549E9088.dip0.t-ipconnect.de [84.158.144.136])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id A466E3C0B07
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 17:29:01 +0100 (CET)
Message-ID: <50C60D96.701@ice-sa.com>
Date: Mon, 10 Dec 2012 17:28:06 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>	<50C23BAF.3090000@ice-sa.com>	<50C265D9.50305@christopherschultz.net>	<50C2762E.6000508@ice-sa.com> <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
In-Reply-To: <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Yuri E wrote:
> 2012/12/7 André Warnier <aw@ice-sa.com>
> 
>> Christopher Schultz wrote:
>>
>>> -----BEGIN PGP SIGNED MESSAGE-----
>>> Hash: SHA256
>>>
>>> André,
>>>
>>> On 12/7/12 1:55 PM, André Warnier wrote:
>>>
>>>> I am relatively familiar with tomcat under Windows, and if your
>>>> explanations of what works and what doesn't above are exact, then
>>>> I don't know either.
>>>>
>>> One possibility: during the installation, the user chose to bind only
>>> to localhost instead of 0.0.0.0.
>>>
>> Aaaah. Yes, and that choice probably only exists in the Service installer.
>> That would fit.
>> And he would see that with netstat.
>>
>>>
> "netstat -abn" results:
> 
> --
> 
> running Tomcat on console:
> 
> 
> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       3844
> [java.exe]
> 
> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       3844
> [java.exe]
> 
> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       3844
> [java.exe]
> 
> --
> 
> running Tomcat as Service:
> 
> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       488
> [Tomcat7.exe]
> 
> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       488
> [Tomcat7.exe]
> 
> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       488
> [Tomcat7.exe]
> 

Well, Chris, that was a worthy guess, but apparently it is not the reason here.

Didactic section :

In both cases above (running in a console window and running as a Service), we have Tomcat 
listening :
- on port 8080, all interfaces, all IP addresses.  That's the HTTP Connector
    (see in server.xml)
- on port 8009, all interfaces, all IP addresses.  That's the AJP Connector
    (see in server.xml) (and maybe you don't need that one, and can comment it out)
- on port 8005, only on the "localhost" address.  That is the "shutdown port", which is 
limited to listening for calls originating from the same physical host, for security 
reasons (so that nobody can shut down your Tomcat from the internet e.g.)

And the reason why in one case the process is "Tomcat7.exe" and in the other case it is 
"java.exe" :
- when Tomcat runs as a Service, there is a "service wrapper" involved, which "wraps 
around" the java process (and Tomcat in it), and which provides the special functions that 
Windows Services must provide for Windows (like listening to Windows "star/stop service" 
messages etc..).  This wrapper is a copy of the procrun.exe program, renamed to 
"tomcat7.exe" for convenience.
So when you run Tomcat as a Service, Windows really starts "tomcat7.exe", and tomcat7.exe 
runs java.exe which runs tomcat.

-- end of didactic section --


To summarise what is happening now :

1) Tomcat running in a console window :
    a) can be accessed from a browser running on the same machine
    b) can be accessed from a browser running on another machine

2) Tomcat running as a Windows Service :
    a) can be accessed from a browser running on the same machine
    b) but cannot be accessed from a browser running on another machine

while in both cases it is listening to 0.0.0.0:8080

It it was a DNS issue, then both 1-b and 2-b wouldn't work. But only 2-b doesn't work.
If it was a firewall issue or similar, we'd have the same.
If it was an issue of the java parameters or others used when starting tomcat as a 
service, then both 2-a and 2-b would not work. But 2-a works.

Some weird MS security rule, applying to services but not to regular processes ?

Yuri, can you repeat for us which exact URL's you are using to access Tomcat, in each of 
the cases above ?

1-a :
1-b :
2-a :
2-b :

and how the problem shows up, when "it does not work" ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 16:33:13 2012
Return-Path: <users-return-238531-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 23D83DB13
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 16:33:13 +0000 (UTC)
Received: (qmail 77916 invoked by uid 500); 10 Dec 2012 16:33:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77827 invoked by uid 500); 10 Dec 2012 16:33:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77810 invoked by uid 99); 10 Dec 2012 16:33:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:33:09 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:33:03 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3602109vbi.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 08:32:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=LmDFBXX1MAVCptxoFWmA2WhTOf9LO3yeUuOEoIDzZY4=;
        b=rlcZHRsht3S7gfPeeB2R7ITwFAGoxW6EbYWOU+q+pV7FHeFiYa6zVqPF7QUAkfztr1
         deiMgwSvupqkJAQpj3wa+I9USb/rrf+uYzI3ss8aub/EMlJT4eKitNB20HzcUb23HeZa
         FpQG7b8HCX6a+rp9iCrkRU5w0Thqcrm+VFcDI1F/3mK1/b3L89PzzaEkROD2GYTo1mdv
         jBihkxqs1m4wQmAWkY2W5c7C7Bsf81XzJJbCLZjqeSWFwzqPlhXw0ZglKlOfHWWj/ToZ
         t7BEMBjPy24/Z971swaGvq4y3Uod5gjLtsQMpLWPGm5JDT3eMlswrvUveKCT8Bhg0J7B
         jTgw==
MIME-Version: 1.0
Received: by 10.220.205.198 with SMTP id fr6mr9239020vcb.63.1355157162363;
 Mon, 10 Dec 2012 08:32:42 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Mon, 10 Dec 2012 08:32:42 -0800 (PST)
In-Reply-To: <CA+A8vzHm7iGd8EfqsYW8+8xGL-HKaYPkOdk4-Pb_NwWVJaBvtg@mail.gmail.com>
References: <CA+A8vzHm7iGd8EfqsYW8+8xGL-HKaYPkOdk4-Pb_NwWVJaBvtg@mail.gmail.com>
Date: Mon, 10 Dec 2012 20:32:42 +0400
Message-ID: <CABzHfVkxMYU7s_6iNwtOo6d6cQhTeCqfoyeddtu2+9FzFuf=MQ@mail.gmail.com>
Subject: Re: Tomcat 7 servlet library
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/10 Eugen Paraschiv <hanriseldon@gmail.com>:
> Hi,
> I have a quick question about the exact version of the servlet library
> packaged with Tomcat 7, and maybe the overall servlet spec.
> Tomcat comes with it's own, custom build jar, published here on Maven
> central:
> http://search.maven.org/#browse|555734385
> Is there a separation between the implementation of the spec and the
> contract? More to the point - is there a way Tomcat could use a standard
> version of the servlet jar (for which it has it's own internal
> implementation)?


> is there a way Tomcat could use a standard version of the servlet jar

1. No.

See ch.15.2.1 of the Servlet 3.0 specification. The Sevlet API classes
are provided by the container (Tomcat). You are not allowed to provide
a different implementation of them in your web application.

(If you attempt to bundle a different version of Servlet API classes,
the relevant JAR will be ignored and a warning will be logged).

2. The current versions of Tomcat 7 implement Servlet Specification 3.0 Rev. a.
(JSR 315 Maintenance Release, 06 Feb, 2011)

3. Official Tomcat downloads are at http://tomcat.apache.org/
The jars at Maven are just a convenience.

Tomcat source code includes classes in several javax.* packages. The
jar in question is built from those.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 16:39:01 2012
Return-Path: <users-return-238532-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5F972DB3C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 16:39:01 +0000 (UTC)
Received: (qmail 97912 invoked by uid 500); 10 Dec 2012 16:38:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 97670 invoked by uid 500); 10 Dec 2012 16:38:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 97643 invoked by uid 99); 10 Dec 2012 16:38:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:38:57 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.131 as permitted sender)
Received: from [216.82.249.131] (HELO mail28.messagelabs.com) (216.82.249.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:38:46 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-15.tower-28.messagelabs.com!1355157498!25665718!6
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 17699 invoked from network); 10 Dec 2012 16:38:24 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-15.tower-28.messagelabs.com with RC4-SHA encrypted SMTP; 10 Dec 2012 16:38:24 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Mon, 10 Dec 2012 10:38:21 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Mon, 10 Dec
 2012 10:38:21 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Mon, 10 Dec 2012 10:38:39 -0600
Subject: RE: I can only access Tomcat 7 when running via console
 (startup.bat)
Thread-Topic: I can only access Tomcat 7 when running via console
 (startup.bat)
Thread-Index: Ac3W82wYkVIAZ+0DSe2R7yoKEbyB9AAAJczg
Message-ID: <99C8B2929B39C24493377AC7A121E21FC49635EE5F@USEA-EXCH8.na.uis.unisys.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
	<50C23BAF.3090000@ice-sa.com>	<50C265D9.50305@christopherschultz.net>
	<50C2762E.6000508@ice-sa.com>
 <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
 <50C60D96.701@ice-sa.com>
In-Reply-To: <50C60D96.701@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
> Subject: Re: I can only access Tomcat 7 when running via console (startup=
.bat)

> If it was a firewall issue or similar, we'd have the same.

Not necessarily.

> Some weird MS security rule, applying to services but not to regular proc=
esses ?

Some protection mechanisms (not just MS) only allow specific, registered pr=
ocesses to use the NIC.  If that were in place, it's quite possible that "j=
ava.exe" is registered, but "Tomcat7.exe" is not.  127.0.0.1 does not use t=
he NIC, so this might explain why the service is unreachable from outside t=
he box.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 16:39:29 2012
Return-Path: <users-return-238533-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1393DB44
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 16:39:29 +0000 (UTC)
Received: (qmail 1990 invoked by uid 500); 10 Dec 2012 16:39:26 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1910 invoked by uid 500); 10 Dec 2012 16:39:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1884 invoked by uid 99); 10 Dec 2012 16:39:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:39:25 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 16:39:20 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 4A77528642
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 08:39:00 -0800 (PST)
Received: from zcs-prod-mta-2.vmware.com (zcs-prod-mta-2.vmware.com [10.113.163.64])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 468D318357
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 08:39:00 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-2.vmware.com (Postfix) with ESMTP id 362E6E07E6
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 08:39:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-2.vmware.com
Received: from zcs-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id GRZexu8tMCby for <users@tomcat.apache.org>;
	Mon, 10 Dec 2012 08:39:00 -0800 (PST)
Received: from [10.113.232.144] (unknown [10.113.160.14])
	by zcs-prod-mta-2.vmware.com (Postfix) with ESMTPSA id AD149E07ED
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 08:38:59 -0800 (PST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <50C60D96.701@ice-sa.com>
Date: Mon, 10 Dec 2012 11:38:57 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>	<50C23BAF.3090000@ice-sa.com>	<50C265D9.50305@christopherschultz.net>	<50C2762E.6000508@ice-sa.com> <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com> <50C60D96.701@ice-sa.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 10, 2012, at 11:28 AM, Andr=E9 Warnier wrote:

> Yuri E wrote:
>> 2012/12/7 Andr=E9 Warnier <aw@ice-sa.com>
>>> Christopher Schultz wrote:
>>>=20
>>>> -----BEGIN PGP SIGNED MESSAGE-----
>>>> Hash: SHA256
>>>>=20
>>>> Andr=E9,
>>>>=20
>>>> On 12/7/12 1:55 PM, Andr=E9 Warnier wrote:
>>>>=20
>>>>> I am relatively familiar with tomcat under Windows, and if your
>>>>> explanations of what works and what doesn't above are exact, then
>>>>> I don't know either.
>>>>>=20
>>>> One possibility: during the installation, the user chose to bind =
only
>>>> to localhost instead of 0.0.0.0.
>>>>=20
>>> Aaaah. Yes, and that choice probably only exists in the Service =
installer.
>>> That would fit.
>>> And he would see that with netstat.
>>>=20
>>>>=20
>> "netstat -abn" results:
>> --
>> running Tomcat on console:
>> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       =
3844
>> [java.exe]
>> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       =
3844
>> [java.exe]
>> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       =
3844
>> [java.exe]
>> --
>> running Tomcat as Service:
>> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING       =
488
>> [Tomcat7.exe]
>> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING       =
488
>> [Tomcat7.exe]
>> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING       =
488
>> [Tomcat7.exe]
>=20
> Well, Chris, that was a worthy guess, but apparently it is not the =
reason here.
>=20
> Didactic section :
>=20
> In both cases above (running in a console window and running as a =
Service), we have Tomcat listening :
> - on port 8080, all interfaces, all IP addresses.  That's the HTTP =
Connector
>   (see in server.xml)
> - on port 8009, all interfaces, all IP addresses.  That's the AJP =
Connector
>   (see in server.xml) (and maybe you don't need that one, and can =
comment it out)
> - on port 8005, only on the "localhost" address.  That is the =
"shutdown port", which is limited to listening for calls originating =
from the same physical host, for security reasons (so that nobody can =
shut down your Tomcat from the internet e.g.)
>=20
> And the reason why in one case the process is "Tomcat7.exe" and in the =
other case it is "java.exe" :
> - when Tomcat runs as a Service, there is a "service wrapper" =
involved, which "wraps around" the java process (and Tomcat in it), and =
which provides the special functions that Windows Services must provide =
for Windows (like listening to Windows "star/stop service" messages =
etc..).  This wrapper is a copy of the procrun.exe program, renamed to =
"tomcat7.exe" for convenience.
> So when you run Tomcat as a Service, Windows really starts =
"tomcat7.exe", and tomcat7.exe runs java.exe which runs tomcat.
>=20
> -- end of didactic section --
>=20
>=20
> To summarise what is happening now :
>=20
> 1) Tomcat running in a console window :
>   a) can be accessed from a browser running on the same machine
>   b) can be accessed from a browser running on another machine
>=20
> 2) Tomcat running as a Windows Service :
>   a) can be accessed from a browser running on the same machine
>   b) but cannot be accessed from a browser running on another machine
>=20
> while in both cases it is listening to 0.0.0.0:8080
>=20
> It it was a DNS issue, then both 1-b and 2-b wouldn't work. But only =
2-b doesn't work.
> If it was a firewall issue or similar, we'd have the same.
> If it was an issue of the java parameters or others used when starting =
tomcat as a service, then both 2-a and 2-b would not work. But 2-a =
works.
>=20
> Some weird MS security rule, applying to services but not to regular =
processes ?
>=20
> Yuri, can you repeat for us which exact URL's you are using to access =
Tomcat, in each of the cases above ?
>=20
> 1-a :
> 1-b :
> 2-a :
> 2-b :
>=20
> and how the problem shows up, when "it does not work" ?

Also, if you have a firewall running on the server, how is it =
configured?  Do you have a rule to allow tcp on port 8080?  I ask =
because some firewalls will restrict at the application level as well as =
the port level.  For example, only "java.exe" is allowed to listen on =
port 8080.

Dan


>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 17:13:56 2012
Return-Path: <users-return-238534-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C7A1DC79
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 17:13:56 +0000 (UTC)
Received: (qmail 98278 invoked by uid 500); 10 Dec 2012 17:13:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98237 invoked by uid 500); 10 Dec 2012 17:13:52 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98219 invoked by uid 99); 10 Dec 2012 17:13:52 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 17:13:52 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 17:13:51 +0000
Message-ID: <50C61850.2010507@apache.org>
Date: Mon, 10 Dec 2012 17:13:52 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 servlet library
References: <CA+A8vzHm7iGd8EfqsYW8+8xGL-HKaYPkOdk4-Pb_NwWVJaBvtg@mail.gmail.com>
In-Reply-To: <CA+A8vzHm7iGd8EfqsYW8+8xGL-HKaYPkOdk4-Pb_NwWVJaBvtg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 10/12/2012 15:42, Eugen Paraschiv wrote:
> Hi,
> I have a quick question about the exact version of the servlet library
> packaged with Tomcat 7, and maybe the overall servlet spec.
> Tomcat comes with it's own, custom build jar, published here on Maven
> central:
> http://search.maven.org/#browse|555734385
> Is there a separation between the implementation of the spec and the
> contract?

Yes. That JAR is the specification. The implementation is in (some of)
the other JARs.

> More to the point - is there a way Tomcat could use a standard
> version of the servlet jar (for which it has it's own internal
> implementation)?

In theory, you could replace servlet-api.jar with any other Servlet 3.0
JAR that passed the TCK. The question is why would you want to?

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 17:25:12 2012
Return-Path: <users-return-238535-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DCCF5D53A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 17:25:12 +0000 (UTC)
Received: (qmail 32490 invoked by uid 500); 10 Dec 2012 17:25:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32334 invoked by uid 500); 10 Dec 2012 17:25:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32312 invoked by uid 99); 10 Dec 2012 17:25:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 17:25:09 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.151.44] (HELO nm35-vm1.bullet.mail.sg3.yahoo.com) (106.10.151.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 17:25:01 +0000
Received: from [106.10.166.118] by nm35.bullet.mail.sg3.yahoo.com with NNFMP; 10 Dec 2012 17:24:37 -0000
Received: from [106.10.150.27] by tm7.bullet.mail.sg3.yahoo.com with NNFMP; 10 Dec 2012 17:24:37 -0000
Received: from [127.0.0.1] by omp1028.mail.sg3.yahoo.com with NNFMP; 10 Dec 2012 17:24:37 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 16750.38697.bm@omp1028.mail.sg3.yahoo.com
Received: (qmail 48708 invoked by uid 60001); 10 Dec 2012 17:24:36 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355160276; bh=24tnFe6ok8D74UnKNSVBkjQoTLdWbzdktnI7roz9fus=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=KD1cE6MGr9FgRj/8py23ANdQxVKZbMkd2e02pD9jzrOVvi020tLG/WF0iKEKH9kBZ31ESm7XE/D+fe/28qNK/QqekVCcqTPgyvXsKd62t5PjV1BN0th4WxN8oru6tG48I7rmkhM5fNYJZf5FGV8ls716xloApcNRS2BLj890boM=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=4uE7X85F4+TMCgzEhtJWFaC0MiBzCL836rJ3Z6HKgUrLFWJtA705W5tQxEpVGwWhtBCsXcNC7YEem30H9CMgKyrm6vIgSdfncXwvZA/TXTzLOc8pXkPZamD0bBfgX6H6Fcei3aoO8cMRl0HdJUcJCr03Hg4tGUSdSBPiazN5wQg=;
X-YMail-OSG: 76FqTcgVM1lyPl_1SGsWYLEi67ZZffetKfypUKZIM722W0v
 XTGq.LICf2p8d8WR4y_oZ17T2WzPMZYH4VnMUBsU.1JBnekoHNQPhc_oWRWF
 hXxLQMWrBfg87.mguqhu0J.0ml0LHm4k3QyiE6jNZR_lAcD.GjMkocx0OeIc
 Z2DA5ZWofAG1yOSv_AEvCEYyop8c01kr.utcOYxK3LSBjDn7yItHatT_S5o9
 rD78OeTzCy7bdScRDuynHwT9AbN2rT4OBd2sbT7nCw50ydQMAJyRFl1wFVFq
 JucDX8sqYxePEsF61pAkDPBk9jnohxodH_XkUS5pR_Vc1wLsXenGieBHr8VA
 cUQoJQYIAG6JjPUWPlRkp5jWOPP4C.Az5oyOlYEkHYmrLXU2ozOARkDZYV08
 t.u3Tbpgk0nxjTM7YbRenI5RyE1lmSqEWfWozUE8TsdUMJASgChK.0jZUxa.
 lm0ZoX.yp6NvyTXg8K2v32mRhHGyeUm7_2sbGxQGB7p0ePXxT.c2gFrd_XU5
 pfdA6QS57FjBlQ52UFZTZOV7tdkIONphBRWZMDdpWEZaByBBT12pCOATEnvs
 G8ZRLR6FWpwM0lcDe8WnPMIvuu9U.CYVU111rX6UlYLcnKBz.ZXk-
Received: from [180.151.36.169] by web193105.mail.sg3.yahoo.com via HTTP; Tue, 11 Dec 2012 01:24:36 SGT
X-Rocket-MIMEInfo: 001.001,Q2hyaXMsCsKgCllvdSB3YXMgcmlnaHQgYXMgdXN1YWwgOikKwqAKQSBsb3Qgb2YgICJ0byAmIGZybyAiIHJlcXVlc3RzIGFyZSBoYXBwZW5pbmcgZnJvbSBteSBicm93c2VyIHRvIHRoZSBQcm9iZSBhcHBsaWNhdGlvbiB3aGljaCBsb29rcyBsaWtlIHRoZSBBamF4IGNhbGxzICYgCmJlY2F1c2Ugb2YgdGhhdCB0aGUgcmVxdWVzdCBjb3VudCB2YWx1ZSBmb3IgbXkgImh0dHAtODA4MCAiIGNvbm5lY3RvcgppcyBrZWVwIG9uIGluY3JlYXNpbmcgZXZlbiB3aGVuIG5vYm9keSBpcyBhY2Nlc3NpbmcgaXQuVGhpcyABMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com> <50C4C369.40509@christopherschultz.net> <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com> <50C5F526.30803@christopherschultz.net>
Message-ID: <1355160276.44135.YahooMailNeo@web193105.mail.sg3.yahoo.com>
Date: Tue, 11 Dec 2012 01:24:36 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: PSI-PROBE query
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <50C5F526.30803@christopherschultz.net>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="2118110249-1795135258-1355160276=:44135"
X-Virus-Checked: Checked by ClamAV on apache.org

--2118110249-1795135258-1355160276=:44135
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Chris,=0A=A0=0AYou was right as usual :)=0A=A0=0AA lot of  "to & fro " requ=
ests are happening from my browser to the Probe application which looks lik=
e the Ajax calls & =0Abecause of that the request count value for my "http-=
8080 " connector=0Ais keep on increasing even when nobody is accessing it.T=
his all i came to know =0Aafter installing =A0"TAMPER-DATA" which is a fire=
fox extension (for request logging).Thanks for making me aware about this =
=0A=A0=0AI am accessing the PSI-PROBE application over HTTP port=A0 eg:- ht=
tp://localhost:8080/probe/connectors.htm=0A=A0=0A=A0=0ANow my question is t=
hat how we can monitor the request counts which all coming to my=0AHTTP con=
nector specifically for my application. ???=0A=A0=0AIs there a way by which=
 i can configure two HTTP connector's one for PROBE application & one for m=
y own application.???=0A=A0=0Aor do you have any better solution . Please s=
uggest =0A=A0=0AThanks=0AVivek=A0 =0A=0A________________________________=0A=
 From: Christopher Schultz <chris@christopherschultz.net>=0ATo: Tomcat User=
s List <users@tomcat.apache.org> =0ASent: Monday, 10 December 2012 8:13 PM=
=0ASubject: Re: PSI-PROBE query=0A  =0A-----BEGIN PGP SIGNED MESSAGE-----=
=0AHash: SHA256=0A=0AVicky,=0A=0AOn 12/9/12 1:56 PM, vicky wrote:=0A> Yes C=
hris, i am pretty sure that nobody is accessing the =0A> application.=0A> =
=0A> The moment i start my Tomcat the "Request Count " reaches values=0A> o=
f 400+ within few seconds, this value is getting incremented by 6 =0A> ever=
ytime (eg: 6,12,18,24,30)=0A> =0A> Whereas my AJP Connector "Request Count"=
=A0 is showing the correct =0A> numbers depending=A0 on the requests which =
all are redirected from =0A> APache.=0A=0ALet me guess: you are accessing P=
siProbe via HTTP from your web=0Abrowser. Every request you make to get a p=
age probably has some other=0Adependencies (images, stylesheets, etc.). Try=
 enabling your=0Arequest-logger on the client (Firefox and Chrome have thes=
e built-into=0Athe browser) and look at the traffic.=0A=0A=0AI'll bet you a=
re being scared of your own shadow.=0A=0A> As of now i have not configured =
the "AccessLogValve" , but will=0A> try out this option definitely=0A=0AYou=
 must configure this in order to figure out what is happening.=0A=0A- -chri=
s=0A-----BEGIN PGP SIGNATURE-----=0AVersion: GnuPG/MacGPG2 v2.0.17 (Darwin)=
=0AComment: GPGTools - http://gpgtools.org/=0AComment: Using GnuPG with und=
efined - http://www.enigmail.net/=0A=0AiEYEAREIAAYFAlDF9SYACgkQ9CaO5/Lv0PCV=
FQCcCeLt9llY0/X2mrbdfWnq86PU=0ABHYAn09OOgS99sgTQ6YBvllQfrTsQ7g+=0A=3D/Q41=
=0A-----END PGP SIGNATURE-----=0A=0A---------------------------------------=
------------------------------=0ATo unsubscribe, e-mail: users-unsubscribe@=
tomcat.apache.org=0AFor additional commands, e-mail: users-help@tomcat.apac=
he.org
--2118110249-1795135258-1355160276=:44135--

From users-return-238536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 20:38:08 2012
Return-Path: <users-return-238536-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D1FA4D0B2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 20:38:08 +0000 (UTC)
Received: (qmail 26467 invoked by uid 500); 10 Dec 2012 20:38:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26281 invoked by uid 500); 10 Dec 2012 20:38:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26269 invoked by uid 99); 10 Dec 2012 20:38:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 20:38:05 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 20:38:00 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so3914147vbi.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 12:37:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=lW94ZsfNh1DzueWycIOF/OhdQghpTM6elrDZNOGBchQ=;
        b=mu6D6vyHPdS0S3d/fhCkMjxLqtueQI9lVTrdT/chKj0IJm3jmPvXPPADPDMaT/IXEg
         x4M5r9tox9UQBTiFdCWjeqVXidrKGxJo72xQrJVDkrFAA7/MnL5mcRBjKk80rqrb5q8t
         rKdECP+T7v5mUBdxnHFbrSVxzLEGfKVKZfkwbnDoaLBnoUsq4MDWGV/L8lRn+qW9m9ok
         jMhOgYdHReXR07p21yr57ftMwRsxUpyn41UVP8KJ9SvFzNSumpK14rXAZaGIwXXgSPdR
         zCi0li7IDV7Q5PTJSqWQIakLe/+p3PjNqdcNHF4JuCxRhW9wktoepqO95gWd5gnZWujs
         D4sQ==
MIME-Version: 1.0
Received: by 10.52.18.147 with SMTP id w19mr8531931vdd.94.1355171859365; Mon,
 10 Dec 2012 12:37:39 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Mon, 10 Dec 2012 12:37:39 -0800 (PST)
In-Reply-To: <50C5F84E.8070702@christopherschultz.net>
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com>
	<CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com>
	<50C1253B.9080708@christopherschultz.net>
	<7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com>
	<50C1B3E3.5050804@ice-sa.com>
	<50C2205E.6080307@christopherschultz.net>
	<CABzHfV=NHUBsMqkjGTy3=WUD-zFCmRH=WYr1CCKB_h5_AFYkmw@mail.gmail.com>
	<50C5F84E.8070702@christopherschultz.net>
Date: Tue, 11 Dec 2012 00:37:39 +0400
Message-ID: <CABzHfV=mC+8siM9DA9GmWpr3n-iO063bD2g7uB--DOamn4SH+w@mail.gmail.com>
Subject: Re: Is it possible to expire jvmRoute cookie
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/10 Christopher Schultz <chris@christopherschultz.net>:
>
> If the Valve is configured at the Engine or Host level, will the call
> to getSession know what webapp's session should be fetched? Obviously,
> Tomcat figures this out eventually, but I was wondering if that
> resolution has been done before the host- or engine-level valves are
> invoked.

The Context to which the request maps to is known from requestURI +
mapper. (Regardless of where the valve is configured).

>> See also  org.apache.catalina.ha.session.JvmRouteBinderValve,
>> http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-valve.html
>
> I think that may be the right place for this to ultimately live, but
> developing separately probably makes sense for now.
>

I do not think such feature belongs to Tomcat itself. I think it'd be
better to do at the balancer (to ignore jvmRoute occasionally).  If
balancer sends request to a different Tomcat, tomcat can deal with it
thanks to JvmRouteBinderValve and like it deals with the usual
fail-over scenario.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 21:14:33 2012
Return-Path: <users-return-238537-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1B1BD2ED
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 21:14:33 +0000 (UTC)
Received: (qmail 67322 invoked by uid 500); 10 Dec 2012 21:14:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67149 invoked by uid 500); 10 Dec 2012 21:14:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67139 invoked by uid 99); 10 Dec 2012 21:14:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:14:30 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of juha.m.laiho@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:14:23 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so13679006iej.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 13:14:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        bh=9NnTHWyZAPB1NsSjf9acppIF7zCT9QmDLFa+ZHEG7yM=;
        b=u0VUm0Uq3il711q2g95pcFyWhfN1PhcIEl4hwOxZpkJCuBzeBBVdaW2Ozfcvif8Pf3
         U9PHVqmFr0+stzWsqWqqjkiQn2fol2Ov3NZQlViHePSGVb+ETx47hG0CBMIYA3BTpMLU
         0l0xgU5UbNPXLMU6z5RI1hEa8cHNxvnUGHKXyY6UIDofBPVWK4qJOgWnhA/P/0rXiMZP
         7/DzB7a6I9K3mkQp4+YyXDvZ8V/5YyyXKTLHRGsQAOcP+uGeicDmhPgiISPMF2Th4euE
         OKxUWwmKGtqXE6VXw8Vf4ZXzMrRgXUaOjytj+YQXfkZCt2wSl34EFd8mRKFdK3PUwRE9
         e3TQ==
MIME-Version: 1.0
Received: by 10.50.104.164 with SMTP id gf4mr8090216igb.1.1355174043313; Mon,
 10 Dec 2012 13:14:03 -0800 (PST)
Sender: juha.m.laiho@gmail.com
Received: by 10.64.100.169 with HTTP; Mon, 10 Dec 2012 13:14:03 -0800 (PST)
Date: Mon, 10 Dec 2012 23:14:03 +0200
X-Google-Sender-Auth: NQ9opT5EEi4-CWOUqGT5GXV0Yy4
Message-ID: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com>
Subject: Request dispatching oddity
From: Juha Laiho <Juha.Laiho@iki.fi>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

I encountered an odd situation with request dispatching.

Environment:
Java platform: Oracle 1.7 (7u9)
Tomcat platform: 7.0.32, 7.0.33
Operating systems: Linux, Windows (likely irrelevant)
Browser: Firefox 17

In short, if the same request is first redirected using servlet API
RequestDispatcher.forward(), and then via JSTL c:redirect using a
relative target, the end result seems incorrect.

So, consider a web app with /WEB-INF/web.xml as:

<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5" xmlns="http://java.sun.com/xml/ns/javaee"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd">
    <display-name>RedirT</display-name>
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
</web-app>


... and /sub/index.jsp as:

<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<%
RequestDispatcher rd = application.getRequestDispatcher("/");
rd.forward(request, response);
%>


... and /index.jsp as:

<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<c:redirect url="sub/page.jsp"/>


(sub/page.jsp contents omitted as irrelevant for now)

Then, consider a request to http://server/context/sub/index.jsp .
Looking at the above, I would expect:
- the request to be first processed by /sub/index.jsp (this happens)
- next by /index.jsp (this happens, too)
- ending with showing http://server/context/sub/page.jsp (this doesn't happen!)

Instead, the error is "The requested resource
(/RedirT/sub/sub/page.jsp) is not available.".
Note the "sub" path component being listed twice.

So, it is as if the first redirect (using the RequestDispatcher
manually, in /sub/index.jsp) fails to reset
the "current" location for the requested component from /sub to /, and
then subsequently, the c:redirect
in /index.jsp adds another "sub" to the request path.

If, on the other hand, the latter redirect is done with an address
bound to context root (i.e. /sub/page.jsp,
instead of sub/page.jsp), the request ends up in the expected place.
Also, if the first redirect is done with
<c:redirect> rather than the RequestDispatcher, the request ends up in
the expected place.

This structure looks admittedly odd, but part of that came from
producing this SSCCE; the original context
was that the initial RequestDispatcher.forward() was located inside a
filter class (but similarly, forwarded
a request targeted to a resource in a subdirectory to /index.jsp,
which in turn contains the c:redirect to
another resource within the same subdirectory. I encountered this when
moving an application from
a WebLogic 9.2 server (where this structure had worked without issues)
to a Tomcat server (where this
"not found" error appeared.

Any comments? Did I come across a but in Tomcat, or a "lucky bug" in
the application (i.e. something
that worked by luck in the previous container)? While I can (and did)
change the application so that the
c:redirect in /index.jsp now uses a context-absolute addressing, I'd
be interested in hearing the actual
verdict. I tried to read the servlet specification, but could not find
an exact description covering this case.

Thanks,
-- 
..Juha

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 21:23:13 2012
Return-Path: <users-return-238538-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C17B9D336
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 21:23:13 +0000 (UTC)
Received: (qmail 91540 invoked by uid 500); 10 Dec 2012 21:23:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91368 invoked by uid 500); 10 Dec 2012 21:23:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91359 invoked by uid 99); 10 Dec 2012 21:23:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:23:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bdhruva@gmail.com designates 209.85.213.173 as permitted sender)
Received: from [209.85.213.173] (HELO mail-ye0-f173.google.com) (209.85.213.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:23:03 +0000
Received: by mail-ye0-f173.google.com with SMTP id l5so638342yen.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 13:22:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=LYXmc35DHcryV6oKkjsrZ/adSvxnlKbb3atVw+tAg4Y=;
        b=CYmA0NH1b75XgYjVpz6sQO4vXeLREzQqBqyqOaHHmmueXVB/kPr6Vq6t7VUrymo6EQ
         1hINpc4FpJLf6VE1tjsP+Gh0f6aN6FAv3+ShW6qDS8kzo6uLVKJYm3ot0DxuRFEtrmg8
         m3H7AX9gS3UFzYgeDzZ0S5e2vziaMyyPbBbBDhn2VQaXz2gnLNPZOpp6wJs/BVqq5CXb
         Ro9QgUooyv05i8JDjpwR9L3eFp7PHaM8aIGRsYl35MF2evbcMTfwwvSJ9LHqH3J5pHAW
         GssA6Nd21bEE2vr7xImQuSt45QEuOD6pfCj0i6ngbhs5anfq2fXwwRasRzrBx1X2TmY9
         yO0w==
MIME-Version: 1.0
Received: by 10.236.118.16 with SMTP id k16mr23704252yhh.66.1355174563248;
 Mon, 10 Dec 2012 13:22:43 -0800 (PST)
Received: by 10.146.2.19 with HTTP; Mon, 10 Dec 2012 13:22:43 -0800 (PST)
Date: Mon, 10 Dec 2012 16:22:43 -0500
Message-ID: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com>
Subject: Running Tomcat Behind Apache HTTP Server
From: Dhruva Reddy <bdhruva@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=20cf301afb5773799304d0862a86
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf301afb5773799304d0862a86
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I have a question about running Tomcat behind Apache HTTP server.  I hope
this is not inappropriate for this list.

I am running a website on Tomcat 7.0.33, behind Apache 2.2.15, on CentOS
6.3 (using Tomcat connector 1.2.37).  I would like the user to go to our
base URL (http://www.example.com), but have the request served by a web
application running on Tomcat (I have the connector working, so that you
can access the application through http://www.example.com/application/).

I thought this could be accomplished through a rewrite rule on the HTTP
server, but I can't seem to get it to work, nor can I find much information
on it.  I can't really find any best practices around this, either.  Has
anyone done this successfully?

I have tried many things, but this is what I currently have in httpd.conf:

<Directory "/var/www/html">
    Options Indexes FollowSymLinks
    AllowOverride None
    Order allow,deny
    Allow from all
    RewriteEngine On
        <IfModule mod_rewrite>
        RewriteBase /
        RewriteRule ^/ application/ [NC]
        RewriteLog "/etc/httpd/logs/rewrite.log"
        RewriteLogLevel 9
    </IfModule>
</Directory>

I did confirm that the rewrite module is loaded.  Any insights would be
greatly appreciated.

Thanks,
Dhruva

--20cf301afb5773799304d0862a86--

From users-return-238539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 21:45:27 2012
Return-Path: <users-return-238539-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 26240D83F
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 21:45:27 +0000 (UTC)
Received: (qmail 89383 invoked by uid 500); 10 Dec 2012 21:45:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89184 invoked by uid 500); 10 Dec 2012 21:45:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89068 invoked by uid 99); 10 Dec 2012 21:45:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:45:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW
X-Spam-Check-By: apache.org
Received-SPF: unknown mxa (athena.apache.org: encountered unrecognized mechanism during SPF processing of domain of jeffb@cyberxape.com)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 21:45:14 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so4061214vcb.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 13:44:53 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:x-gm-message-state;
        bh=/cuF+nmonVqUb74oMpXKqYOi86cRoPz8lpxbAy9f2fc=;
        b=Ywq5x4WVbmZzBiegs+x/QxoT6u5FJPk2JXZRl3FYHUCqvH/3dloJYpi+IZKXvP48du
         mRAAYGPzLTZJETWTpU8xDETSHChC+A0zC71H27NkwfFOQfKBqqk37z0cu1M24qcYTVaE
         VljaC6/XCQ8ZV/NUGVwsO3RdKaQ+pCU2xpGSuwI07QKsqh2XXVusqBG0mSIPlEHJ8+7e
         u/DldRC1bF/4t6qYbzluQpHyM5tLs4PHandh5zFX8DJJ4QhvCQNAR3PVmPpxClmWQwC9
         oVt0NrzTg3wUc9MTqin9evd/c35mAU0aApXe+oGpT4oo/9HEHoLrTmoOFT7Y2uN/6QmX
         28+w==
MIME-Version: 1.0
Received: by 10.220.150.84 with SMTP id x20mr181945vcv.73.1355175893517; Mon,
 10 Dec 2012 13:44:53 -0800 (PST)
Received: by 10.58.143.104 with HTTP; Mon, 10 Dec 2012 13:44:53 -0800 (PST)
In-Reply-To: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com>
References: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com>
Date: Mon, 10 Dec 2012 14:44:53 -0700
Message-ID: <CAMf3F8GrNQiUqoP-hJ6TAuqS0-bYks8RvgVGdKMWhcZ0B_puMA@mail.gmail.com>
Subject: Re: Running Tomcat Behind Apache HTTP Server
From: Jeff Beard <jeffb@cyberxape.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d043c7c08bdc6ee04d0867915
X-Gm-Message-State: ALoCoQkmuQjqyioeyHIa0G5KM6QXIr2B/QAMieffhmOX0LEKK8uPuSQzVNUlc4SQt+KshCs+5rq3
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d043c7c08bdc6ee04d0867915
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Dec 10, 2012 at 2:22 PM, Dhruva Reddy <bdhruva@gmail.com> wrote:

> Hello,
>
> I have a question about running Tomcat behind Apache HTTP server.  I hope
> this is not inappropriate for this list.
>
> I am running a website on Tomcat 7.0.33, behind Apache 2.2.15, on CentOS
> 6.3 (using Tomcat connector 1.2.37).  I would like the user to go to our
> base URL (http://www.example.com), but have the request served by a web
> application running on Tomcat (I have the connector working, so that you
> can access the application through http://www.example.com/application/).
>
> I thought this could be accomplished through a rewrite rule on the HTTP
> server, but I can't seem to get it to work, nor can I find much information
> on it.  I can't really find any best practices around this, either.  Has
> anyone done this successfully?
>
> I have tried many things, but this is what I currently have in httpd.conf:
>
> <Directory "/var/www/html">
>     Options Indexes FollowSymLinks
>     AllowOverride None
>     Order allow,deny
>     Allow from all
>     RewriteEngine On
>         <IfModule mod_rewrite>
>         RewriteBase /
>         RewriteRule ^/ application/ [NC]
>         RewriteLog "/etc/httpd/logs/rewrite.log"
>         RewriteLogLevel 9
>     </IfModule>
> </Directory>
>
> I did confirm that the rewrite module is loaded.  Any insights would be
> greatly appreciated.
>
> Thanks,
> Dhruva
>


Dhruva,

Based on the snippet of configuration you've provided it isn't clear that
you've configured the Tomcat Connector. Perhaps there's more that you
haven't shown us? Anyway, most recently I've configured Apache much like
this document describes:

http://tomcat.apache.org/connectors-doc/generic_howto/quick.html


Cheers,

Jeff

--f46d043c7c08bdc6ee04d0867915--

From users-return-238540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:12:08 2012
Return-Path: <users-return-238540-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57E25DBC9
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:12:08 +0000 (UTC)
Received: (qmail 29457 invoked by uid 500); 10 Dec 2012 22:12:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29406 invoked by uid 500); 10 Dec 2012 22:12:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29396 invoked by uid 99); 10 Dec 2012 22:12:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:12:04 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:11:56 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id ZxyL1k0060mv7h05FyBYds; Mon, 10 Dec 2012 22:11:32 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id ZyBW1k00R38FjT13XyBXf4; Mon, 10 Dec 2012 22:11:32 +0000
Message-ID: <50C65E12.8000206@christopherschultz.net>
Date: Mon, 10 Dec 2012 17:11:30 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7 SSL Session ID
References: <C45352600C954650B20BA82D82D1315D@HP6910P>,<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>,<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>,<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>,<D29BD2074E4E418399AFF7462E353635@HP6910P>,<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>,<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>,<CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com> <BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>
In-Reply-To: <BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355177492;
	bh=RYXcrnzInn47c9+y7XOszIpsdP2bT459jqAm00WMg88=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=l8TBi8/nDqaDit8RNyVTeL1MtRLkqHjE4PQOSfK9e1Oz5MJim2VsDVXEov7KqZtmj
	 fyFzmi+KyYwLC3Y0iKKB7rkeuCjADNn7tct7zJ4xO9PBcGaLtsS534DnigNTSqhAtn
	 kwtpSDIXkYDWuC20hFzY+jgykE06uPc1KdNIIm93aaPxTSwnP/KYHl3hINnDKpgN21
	 q4eU4QpDZKfSItguIBSQcVdcmG+tYlPI+52SFlFe6pgY+lOD7F7qpiNoZ9AJB8qL/q
	 N71sfQlVIi196Mzg4JpNAogD/W7T6sCMlL3xk3cdGaggPVNn/ttvYusOfIaNNao5Oz
	 4AHJKx+9Nkqkw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Martin,

On 12/10/12 10:22 AM, Martin Gainty wrote:
> we need to get your architect into this discussion
> 
> Why is your code implementing 2 different Connections to
> accomplish this functionality when one Connection at a time will
> suffice?

You have no idea what you are talking about. There is only one
connection. There is only one connector. The OP is reporting that his
SSL session id expires long before he is expecting it to expire.

This has nothing to do with webapps and connectors except he happens
to have a connector and a webapp.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDGXhIACgkQ9CaO5/Lv0PDwtQCgk63c5ZUVojVhdgVpHpF5IMkX
3lYAoKPCpNeo8lEquukN/BRxPjuFfl1E
=tdIg
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:22:28 2012
Return-Path: <users-return-238541-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D0C2DC6D
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:22:28 +0000 (UTC)
Received: (qmail 84397 invoked by uid 500); 10 Dec 2012 22:22:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84269 invoked by uid 500); 10 Dec 2012 22:22:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84260 invoked by uid 99); 10 Dec 2012 22:22:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:22:24 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:22:17 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id Zowj1k0050vyq2s51yMwb6; Mon, 10 Dec 2012 22:21:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id ZyMu1k00238FjT13RyMvR6; Mon, 10 Dec 2012 22:21:56 +0000
Message-ID: <50C66081.8050906@christopherschultz.net>
Date: Mon, 10 Dec 2012 17:21:53 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: PSI-PROBE query
References: <1355054753.91997.YahooMailNeo@web193106.mail.sg3.yahoo.com> <50C4C369.40509@christopherschultz.net> <1355079383.45352.YahooMailNeo@web193103.mail.sg3.yahoo.com> <50C5F526.30803@christopherschultz.net> <1355160276.44135.YahooMailNeo@web193105.mail.sg3.yahoo.com>
In-Reply-To: <1355160276.44135.YahooMailNeo@web193105.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355178116;
	bh=DmATgfJ1e0jywxHnkd3Gnu8MEEjbLiY5Wp9fvE58CpQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=a3yDkvuiesDj7NV51r6/FaIvhZrCOFFzFhIAIpyJToshUvOWg2yuEapm0YYnylT79
	 oyWF05zK8hzvj83SuqwzyV2U1WsvNnPWt4Th7ECCvQfEDb4VRU35WNzy4SkPhJoLac
	 of5GF+zhivI6ORAf+vUfYEfGrA671veIQgYJowkkqO0fQaRQKceS3C+0IfQ7kUhBcI
	 fDCXKfXVxf4IWS0AhdXdOiB/J6t9M6oremI1Y3UPSDjJ2myJleKUHcyClriypLmVgZ
	 LI0+YcEoC/EiRiHYKSWHmNi+Tv2zbtlaoAZEfow46ujN58b6DQ5VWOQRhfYmdcR1ZO
	 R07DJV0ToLZjA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/10/12 12:24 PM, vicky wrote:
> A lot of "to & fro " requests are happening from my browser to the 
> Probe application which looks like the Ajax calls & because of that
> the request count value for my "http-8080 " connector is keep on
> increasing even when nobody is accessing it.This all i came to
> know after installing "TAMPER-DATA" which is a firefox extension
> (for request logging).Thanks for making me aware about this

FWIW, Firefox can do request logging without any additional
extensions. Just go to Tools | Web Developer | Web Console. By
default, it will lot all network activity like "GET
http://www.apache.org/" and show you the response code. You can also
configure it to get all the headers, etc for you if you double-click
on any log entry.

> I am accessing the PSI-PROBE application over HTTP port eg:- 
> http://localhost:8080/probe/connectors.htm
> 
> Now my question is that how we can monitor the request counts
> which all coming to my HTTP connector specifically for my
> application. ???

You can't really do that. Instead, you could install a secondary
connector on a different port (perhaps accessible only from localhost,
or at least with a firewall rule that requires a certain source
subnet) which is used exclusively for serving Psi-Probe requests.

Then you only run your metrics on the "primary" connector and ignore
the secondary connector.

> Is there a way by which i can configure two HTTP connector's one
> for PROBE application & one for my own application.???

See above.

If you want to make the webapps /inaccessible/ from the "other"
connector (so you can *only* access PsiProbe from one connector and
*only* access your webapp from the other), you'll need to define two
separate services, each with one <Connector>, one <Engine>, one
<Host>, and then only deploy one application to each <Host>.

I don't think it's worth it, though: you can use policy + firewall to
separate things such that you can't get to the secondary port, and you
can add a valve/filter that only allows access to PsiProbe from that
same source (IP, subnet, etc.).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDGYIEACgkQ9CaO5/Lv0PD7KgCbBzrKm3lon2v1ufQTHHEKB/HW
r0gAoI/K+VPRWSppJ/17k2RJ3srNXPd5
=gqq0
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:28:37 2012
Return-Path: <users-return-238542-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7E149D6F2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:28:37 +0000 (UTC)
Received: (qmail 7920 invoked by uid 500); 10 Dec 2012 22:28:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7870 invoked by uid 500); 10 Dec 2012 22:28:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7860 invoked by uid 99); 10 Dec 2012 22:28:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:28:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:28:27 +0000
Received: from omta11.westchester.pa.mail.comcast.net ([76.96.62.36])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id ZnPK1k0030mv7h051yU5zB; Mon, 10 Dec 2012 22:28:05 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta11.westchester.pa.mail.comcast.net with comcast
	id ZyU41k00s38FjT13XyU5by; Mon, 10 Dec 2012 22:28:05 +0000
Message-ID: <50C661F3.40809@christopherschultz.net>
Date: Mon, 10 Dec 2012 17:28:03 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Is it possible to expire jvmRoute cookie
References: <CAES7Jg8nyHhYYV3ORYH2UmRWrOk8bg_ewdJVrBWaXe6Bde4hjA@mail.gmail.com> <CABzHfV==Fe4MdW06pb2DMReOR6eUf9qOH2UGMaPqbEhiHOUb1g@mail.gmail.com> <50C1253B.9080708@christopherschultz.net> <7CF0788AAB53854AB15567D68F4196023824F5C4@CH1PRD0410MB369.namprd04.prod.outlook.com> <50C1B3E3.5050804@ice-sa.com> <50C2205E.6080307@christopherschultz.net> <CABzHfV=NHUBsMqkjGTy3=WUD-zFCmRH=WYr1CCKB_h5_AFYkmw@mail.gmail.com> <50C5F84E.8070702@christopherschultz.net> <CABzHfV=mC+8siM9DA9GmWpr3n-iO063bD2g7uB--DOamn4SH+w@mail.gmail.com>
In-Reply-To: <CABzHfV=mC+8siM9DA9GmWpr3n-iO063bD2g7uB--DOamn4SH+w@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355178485;
	bh=4+E+Fy3Usa9QJybrzbouZkJfObTkbX+GCp20pW3ZIeg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=eoMf07hwLkKa5vflXSQbWvJeGfTitSxJ6usdwZAIoLrrRdECNHFfVDnpY4mpne+qv
	 7g1q1kHTYWMM+AlPn25jYoFQcvL894VVzsAZHyUUrSIdsBQDCkmaRZj2Oaq/qxbIop
	 em+pQtX/xnGkRGxdPvK5rk+lVCXLIVXVUkbdhVITjkUbfCvxqjOzGvL1Kh4/+61gCW
	 e1Wji/ohV+3PuPqFy6Gj9biWQxFHzYPQNVjW+0PuXpsEIDdRWsZIk17mxCePNDCeTh
	 aF5+UW2RfS24YB/T03wzxC7kWYV8z6WKajcT0ZttFqZJXMr3y7ejUZzuy6jCXEJBah
	 aIYFsn3zD7KXQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Konstantin,

On 12/10/12 3:37 PM, Konstantin Kolinko wrote:
> 2012/12/10 Christopher Schultz <chris@christopherschultz.net>:
>> 
>> If the Valve is configured at the Engine or Host level, will the
>> call to getSession know what webapp's session should be fetched?
>> Obviously, Tomcat figures this out eventually, but I was
>> wondering if that resolution has been done before the host- or
>> engine-level valves are invoked.
> 
> The Context to which the request maps to is known from requestURI
> + mapper. (Regardless of where the valve is configured).

Great, thanks.

>>> See also  org.apache.catalina.ha.session.JvmRouteBinderValve, 
>>> http://tomcat.apache.org/tomcat-7.0-doc/config/cluster-valve.html
>>
>>
>>> 
I think that may be the right place for this to ultimately live, but
>> developing separately probably makes sense for now.
>> 
> 
> I do not think such feature belongs to Tomcat itself. I think it'd
> be better to do at the balancer (to ignore jvmRoute occasionally).

The problem is that the balancer (e.g. mod_jk) doesn't know if the
session id is valid without forwarding it to the Tomcat instance with
the specified jvmroute. If you haven't already done so, please take a
quick look back at the earlier posts in this thread to see the
evolution of this proposal.

Briefly, we were looking for something that would not require any
changes to the balancer software (specifically, mod_jk and
mod_proxy_ajp) so that it could be fixed in one version of one product
(Tomcat).

Fixing this in the balancer would require either a) a ping-style
session-checking message to be designed and implemented in both the
balancer and Tomcat or b) a custom HTTP response code from Tomcat that
would trigger a re-balance at the balancer level. I'm sure there are
other possibilities, but these were the ones I initially proposed.

> If balancer sends request to a different Tomcat, tomcat can deal
> with it thanks to JvmRouteBinderValve and like it deals with the
> usual fail-over scenario.

Of course. The Tomcat that eventually receives the (possibly
re-balanced) request should not behave any differently than now.

Thanks,
- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDGYfMACgkQ9CaO5/Lv0PDwtgCgj478uOry6qn3rBsGPzyZ5vAH
FvoAoLa+9iccQ6OE4+Sa02kBdQFotU+g
=GyP4
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:41:10 2012
Return-Path: <users-return-238543-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEC29DEAB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:41:10 +0000 (UTC)
Received: (qmail 44178 invoked by uid 500); 10 Dec 2012 22:41:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44124 invoked by uid 500); 10 Dec 2012 22:41:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44109 invoked by uid 99); 10 Dec 2012 22:41:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:41:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.96] (HELO qmta09.westchester.pa.mail.comcast.net) (76.96.62.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:41:01 +0000
Received: from omta13.westchester.pa.mail.comcast.net ([76.96.62.52])
	by qmta09.westchester.pa.mail.comcast.net with comcast
	id ZsP91k00417dt5G59yggsz; Mon, 10 Dec 2012 22:40:40 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta13.westchester.pa.mail.comcast.net with comcast
	id Zygd1k00t38FjT13ZygfVZ; Mon, 10 Dec 2012 22:40:40 +0000
Message-ID: <50C664E5.70901@christopherschultz.net>
Date: Mon, 10 Dec 2012 17:40:37 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Request dispatching oddity
References: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com>
In-Reply-To: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355179240;
	bh=FhWbZ1P7QCnrkzLaYnVo4w9vpzZdomWxZWA/8KRmop4=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=f3gZwEsXSlJVluXojFGnVlRaFvH2ZVP4u2uwmNpb5eUJymWffcjeAx5jCj7WLKxKX
	 WxJBYKx73GNihzV+NjIeZ/ETLARFjoP5o4uEnKmvp5x1bARea6h7cSnRUgg2ut6O4x
	 rArbdXXqpNnlopKza6s7kc0/BCw5JqLrsHREBP/bheDhLBYAw+fPzhz3p8Et6Ex8og
	 DYyv2TVrdiQeXQ55H41yEliT8EDj/aaQxzc8K6SDO2rC58o07mbMi+OrL+THSkiZZ8
	 dVWLffg11oxNDS+FFS1kgyXoTwBUquACp81lB9og5eS/xaNy0kgdlaNGbNZwO0pFpV
	 InLycWZdN1C9Q==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Juha,

On 12/10/12 4:14 PM, Juha Laiho wrote:
> I encountered an odd situation with request dispatching.
> 
> In short, if the same request is first redirected using servlet
> API RequestDispatcher.forward(), and then via JSTL c:redirect using
> a relative target, the end result seems incorrect.

Small nit: requests are not redirected when you call
RequestDispatcher.forward().

> So, consider a web app with /WEB-INF/web.xml as:
> 
> <?xml version="1.0" encoding="UTF-8"?> <web-app version="2.5"
> xmlns="http://java.sun.com/xml/ns/javaee" 
> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
> xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
> http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"> 
> <display-name>RedirT</display-name> <welcome-file-list> 
> <welcome-file>index.jsp</welcome-file> </welcome-file-list> 
> </web-app>
> 
> 
> ... and /sub/index.jsp as:
> 
> <%@page contentType="text/html" pageEncoding="UTF-8"%> <!DOCTYPE
> html> <% RequestDispatcher rd =
> application.getRequestDispatcher("/"); rd.forward(request,
> response); %>

I realize that this is probably a contrived example, but the above JSP
technically produces output. That can interfere with any container's
ability to forward a request to another resource. The response buffer
is probably big enough to avoid any such problems, but I felt it was
worth mentioning.

> ... and /index.jsp as:
> 
> <%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%> 
> <%@page contentType="text/html" pageEncoding="UTF-8"%> <!DOCTYPE
> html> <c:redirect url="sub/page.jsp"/>
> 
> (sub/page.jsp contents omitted as irrelevant for now)
> 
> Then, consider a request to http://server/context/sub/index.jsp . 
> Looking at the above, I would expect: - the request to be first
> processed by /sub/index.jsp (this happens) - next by /index.jsp
> (this happens, too) - ending with showing
> http://server/context/sub/page.jsp (this doesn't happen!)
> 
> Instead, the error is "The requested resource 
> (/RedirT/sub/sub/page.jsp) is not available.". Note the "sub" path
> component being listed twice.

You need to fully-qualify the url you use in your <c:redirect> tag.
Since you didn't start the URL with "/", you are getting this URL build:

http://host/context/sub/index.jsp - "index.jsp" + "sub/page.jsp"
=
http://host/context/sub/sub/page.jsp

> So, it is as if the first redirect (using the RequestDispatcher 
> manually, in /sub/index.jsp) fails to reset the "current" location
> for the requested component from /sub to /, and then subsequently,
> the c:redirect in /index.jsp adds another "sub" to the request
> path.

URLs are typically based upon the currently-executing request.
Performing a forward() does not change the context of the original
request (for better or worse) and thus is the problem, here.

You pretty much need to use fully-qualified URLs for *everything* /all
the time/.

Try:

<c:redirect url="/sub/page.jsp"/>

Note that the default "context" attribute for the <c:redirect> tag (I
assume you are using JSTL) is the current webapp. So, starting your
URL with "/" means that the URL will be relative to the current
context (webapp), not relative to the current host.

> If, on the other hand, the latter redirect is done with an address 
> bound to context root (i.e. /sub/page.jsp, instead of
> sub/page.jsp), the request ends up in the expected place. Also, if
> the first redirect is done with <c:redirect> rather than the
> RequestDispatcher, the request ends up in the expected place.

A redirect involves the client, and changes the URL context of the
request, so it will work.

> Any comments? Did I come across a but in Tomcat, or a "lucky bug"
> in the application (i.e. something that worked by luck in the
> previous container)?

Yeah, I think this probably should not have worked in WebLogic, but
it's possible that there is room for interpretation in the spec (it
certainly wouldn't be the first time).

> While I can (and did) change the application so that the c:redirect
> in /index.jsp now uses a context-absolute addressing, I'd be
> interested in hearing the actual verdict. I tried to read the
> servlet specification, but could not find an exact description
> covering this case.

I'll take a look. You definitely want to use URLs that start with "/"
in all cases to prevent this kind of ambiguity.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDGZOUACgkQ9CaO5/Lv0PDLHQCeOcR41slZ3Td92W/KIkkvTD7q
djEAoMN4lBVe0uLdz70tRcXhKRmQA0ue
=Pm2d
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:43:41 2012
Return-Path: <users-return-238544-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6D3CEDED7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:43:41 +0000 (UTC)
Received: (qmail 59485 invoked by uid 500); 10 Dec 2012 22:43:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59408 invoked by uid 500); 10 Dec 2012 22:43:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59394 invoked by uid 99); 10 Dec 2012 22:43:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:43:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:43:30 +0000
Received: from [192.168.245.129] (p549E119D.dip0.t-ipconnect.de [84.158.17.157])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 88C763C063B
	for <users@tomcat.apache.org>; Mon, 10 Dec 2012 23:44:00 +0100 (CET)
Message-ID: <50C66579.1060402@ice-sa.com>
Date: Mon, 10 Dec 2012 23:43:05 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Running Tomcat Behind Apache HTTP Server
References: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com> <CAMf3F8GrNQiUqoP-hJ6TAuqS0-bYks8RvgVGdKMWhcZ0B_puMA@mail.gmail.com>
In-Reply-To: <CAMf3F8GrNQiUqoP-hJ6TAuqS0-bYks8RvgVGdKMWhcZ0B_puMA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Jeff Beard wrote:
> On Mon, Dec 10, 2012 at 2:22 PM, Dhruva Reddy <bdhruva@gmail.com> wrote:
> 
>> Hello,
>>
>> I have a question about running Tomcat behind Apache HTTP server.  I hope
>> this is not inappropriate for this list.
>>
>> I am running a website on Tomcat 7.0.33, behind Apache 2.2.15, on CentOS
>> 6.3 (using Tomcat connector 1.2.37).  I would like the user to go to our
>> base URL (http://www.example.com), but have the request served by a web
>> application running on Tomcat (I have the connector working, so that you
>> can access the application through http://www.example.com/application/).
>>
>> I thought this could be accomplished through a rewrite rule on the HTTP
>> server, but I can't seem to get it to work, nor can I find much information
>> on it.  I can't really find any best practices around this, either.  Has
>> anyone done this successfully?
>>
>> I have tried many things, but this is what I currently have in httpd.conf:
>>
>> <Directory "/var/www/html">
>>     Options Indexes FollowSymLinks
>>     AllowOverride None
>>     Order allow,deny
>>     Allow from all
>>     RewriteEngine On
>>         <IfModule mod_rewrite>
>>         RewriteBase /
>>         RewriteRule ^/ application/ [NC]
>>         RewriteLog "/etc/httpd/logs/rewrite.log"
>>         RewriteLogLevel 9
>>     </IfModule>
>> </Directory>
>>
>> I did confirm that the rewrite module is loaded.  Any insights would be
>> greatly appreciated.
>>
>> Thanks,
>> Dhruva
>>
> 
> 
> Dhruva,
> 
> Based on the snippet of configuration you've provided it isn't clear that
> you've configured the Tomcat Connector. Perhaps there's more that you
> haven't shown us? Anyway, most recently I've configured Apache much like
> this document describes:
> 
> http://tomcat.apache.org/connectors-doc/generic_howto/quick.html
> 
> 

I have another couple of questions :
1) considering that you want that "^/" (the top of your Apache httpd's URL space) be 
forwarded to Tomcat, do you have anything that would /not/ be forwarded to Tomcat ?
If yes, where would that part live (in which directory/URL space of your httpd server) ?
If no, why do you even need the front-end Apache httpd ?
2) have you considered making your Tomcat application "/application" be the "/ROOT" 
default webapp of Tomcat ? Then it would be mapped to the path "/" in Tomcat also, and no 
rewriting would be required.

But, assuming for now that you need a front-end httpd and that you want to forward 
everything to "/application" in Tomcat, do this instead :

RewriteEngine On
RewriteLog "/etc/httpd/logs/rewrite.log"
RewriteLogLevel 9

<Location />
      Order allow,deny
      Allow from all
      RewriteRule (.*) /application/$1 [NC]
      SetHandler jakarta-servlet    <-- this is what forwards to Tomcat
</Location>

Explaining all the changes in detail would be a lot here, but here's a few notes :
1) SetHandler jakarta-servlet : replaces "JkMount" instructions, with similar effect. It 
tells Apache that for this, you want mod_jk (the Apache-Tomcat connector) to generate the 
response, which it does by forwarding the request to tomcat, and collecting tomcat's response.
2) removal of <IfModule> directives : you don't want them here, I guess. If mod_rewrite is 
not there, none of your Rewrite directives will be understood, and your Apache won't 
start. That is probably what you really want; you don't just want Apache to do something 
else then.
3) you can move the 3 first Rewrite* directives back into the <Location> section if you 
want.  But where they are, they will be inherited by it anyway.
4) I think (I am not 100% sure) that using a <Directory> section for this is already "a 
bit late" in the Apache cycle.  By the time Apache looks inside a <Directory> section, it 
has already parsed the URL, and mapped it to a disk directory. In this case, you don't 
want a disk directory (you may not even have one there). You want to catch this earlier, 
as soon as Apache is just looking at the URL. That's what <Location> sections are about.
5) Inside a <Directory> or <Location> section, the first element to the Rewrite rule is 
matched against what remains of the URL path, after stripping the portion which made this 
Directive being interpreted inside that section. So in
    <Location />
      RewriteRule (.*) /application/$1 [NC]
the "(.*)" matches everything after "/", and is captured in $1.
Then you re-inject that same $1 value in the rewritten path /application/$1.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 22:58:59 2012
Return-Path: <users-return-238545-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D5A8FDF61
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 22:58:59 +0000 (UTC)
Received: (qmail 10974 invoked by uid 500); 10 Dec 2012 22:58:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10915 invoked by uid 500); 10 Dec 2012 22:58:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10906 invoked by uid 99); 10 Dec 2012 22:58:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:58:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 22:58:48 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id Zv8j1k0041uE5Es5FyyTMe; Mon, 10 Dec 2012 22:58:27 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id ZyyQ1k00i38FjT13cyySeA; Mon, 10 Dec 2012 22:58:27 +0000
Message-ID: <50C6690F.2020505@christopherschultz.net>
Date: Mon, 10 Dec 2012 17:58:23 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Request dispatching oddity
References: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com> <50C664E5.70901@christopherschultz.net>
In-Reply-To: <50C664E5.70901@christopherschultz.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355180307;
	bh=3GIxkRrT/Dre6yilYKR/3x9bLUqaRaIuyPSt0tWhidg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=dnMWazs3Zv6EvhHFJj8BWAZH9roUZka0n/C5Xa+7WlWYJ1MopbCzflXiwerLzcC5N
	 IIEpjmBqYV08n1+EdlnlALQJiXj/AR2x93tRI26mWFqrCH/eIWyXp2seSip+BeBT0j
	 0x0Zl2c3Ce1xLWl9MPhBbqz9iKYfv60uQcj43oedh4/x3bnecgO2VFMxV8lyGr110M
	 FTSdiSJoXQPz1G439PA2jzXH7TKpsiqEqhgTja/3ZBKHWGWYN7pfVsmbHojKwN/+Ll
	 MSIgA0cIS9jvGq/XqWk7S4WvJwfbEn+pThdvYP7C8kRFgOv4zZdbhgsUE2k7/grUzj
	 MpNaeFl7anFWg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Juha,

On 12/10/12 5:40 PM, Christopher Schultz wrote:
> On 12/10/12 4:14 PM, Juha Laiho wrote:
> 
>> Any comments? Did I come across a but in Tomcat, or a "lucky
>> bug" in the application (i.e. something that worked by luck in
>> the previous container)?
> 
> Yeah, I think this probably should not have worked in WebLogic,
> but it's possible that there is room for interpretation in the spec
> (it certainly wouldn't be the first time).
> 
>> While I can (and did) change the application so that the
>> c:redirect in /index.jsp now uses a context-absolute addressing,
>> I'd be interested in hearing the actual verdict. I tried to read
>> the servlet specification, but could not find an exact
>> description covering this case.
> 
> I'll take a look. You definitely want to use URLs that start with
> "/" in all cases to prevent this kind of ambiguity.

So it looks like I'm wrong and there may in fact be a bug in Tomcat.

Servlet 3.0 has this to say about "forward" in section 9.4:

"
The path elements of the request object exposed to the target servlet
must reflect the path used to obtain the RequestDispatcher.
"

Your forward() code looks like this:

> RequestDispatcher rd = application.getRequestDispatcher("/"); 
> rd.forward(request, response);

So the path used to obtain the RequestDispatcher is "/" and URLs built
should be relative to that.

Are you using Tomcat's provided JSTL, or do you bundle one with your
own webapp?

Can you post a copy of the .java source generated from your JSP that
contains the <c:redirect>?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDGaQ8ACgkQ9CaO5/Lv0PD7bwCgk0mSZ2Pl61gS1ksZyjf4zgG6
04EAoLDuvvL//lYuscLwKOZM0fjtaWeg
=7H7K
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 23:10:12 2012
Return-Path: <users-return-238546-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 51269DFE8
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 23:10:12 +0000 (UTC)
Received: (qmail 44484 invoked by uid 500); 10 Dec 2012 23:10:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44431 invoked by uid 500); 10 Dec 2012 23:10:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44422 invoked by uid 99); 10 Dec 2012 23:10:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 23:10:08 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rtoor316@hotmail.com designates 65.54.190.76 as permitted sender)
Received: from [65.54.190.76] (HELO bay0-omc2-s1.bay0.hotmail.com) (65.54.190.76)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 23:09:57 +0000
Received: from BAY160-W22 ([65.54.190.123]) by bay0-omc2-s1.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 10 Dec 2012 15:09:36 -0800
X-Originating-IP: [204.50.113.29]
X-EIP: [y8nfkYIOXja7eevmGB5SA4lt1Katq57Q]
X-Originating-Email: [rtoor316@hotmail.com]
Message-ID: <BAY160-W2263E3501DABC38997BD618F490@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_9a609abf-ac60-413b-aa8f-700ceb01871e_"
From: Randy Toor <rtoor316@hotmail.com>
To: <users@tomcat.apache.org>
Subject: NPE when starting up Embedded tomcat7
Date: Mon, 10 Dec 2012 23:09:36 +0000
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 10 Dec 2012 23:09:36.0347 (UTC) FILETIME=[6C426AB0:01CDD72B]
X-Virus-Checked: Checked by ClamAV on apache.org

--_9a609abf-ac60-413b-aa8f-700ceb01871e_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hello all=2C

I have an existing server which uses the Embedded class which I am tasked w=
ith upgrading to tomcat7 (deprecated=2C but we'll be keeping it for the tim=
e being).  There were some small changes to the code to fix API breaks but =
the startup stuff is the same.  When I start up the container I am now seei=
ng this -

INFO: Starting tomcat server
org.apache.catalina.startup.Embedded||Dec 7=2C 2012 12:09:49 PM org.apache.=
catalina.startup.Embedded startInternal
INFO: Catalina naming disabled=1E
Dec 7=2C 2012 12:09:49 PM org.apache.catalina.core.StandardEngine startInte=
rnal=1E
INFO: Starting Servlet Engine: Apache Tomcat/7.0.32=1E
Dec 7=2C 2012 12:09:49 PM org.apache.catalina.util.LifecycleBase start=1E
INFO: The start() method was called on component [Realm[NullRealm]] after s=
tart() had already been called. The second call will be ignored.=1E
org.apache.catalina.util.LifecycleBase||Dec 7=2C 2012 12:09:49 PM org.apach=
e.catalina.util.LifecycleBase start
Dec 7=2C 2012 12:09:49 PM org.apache.catalina.core.ContainerBase startInter=
nal=1E
SEVERE: A child container failed during start=1E
java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleExcep=
tion: Failed to start component [StandardEngine[OSGiEngine].StandardHost[to=
mcathost].StandardContext[]]=1E
    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)=
=1E
    at java.util.concurrent.FutureTask.get(FutureTask.java:83)=1E
    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.j=
ava:1123)=1E
    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.jav=
a:800)=1E
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)=
=1E
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase=
.java:1559)=1E
    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase=
.java:1549)=1E
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)=
=1E
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)=1E
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExe=
cutor.java:886)=1E
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecuto=
r.java:908)=1E
    at java.lang.Thread.run(Thread.java:743)=1E
Caused by: org.apache.catalina.LifecycleException: Failed to start componen=
t [StandardEngine[OSGiEngine].StandardHost[tomcathost].StandardContext[]]=
=1E
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)=
=1E
    ... 7 more=1E
Caused by: java.lang.NullPointerException: while trying to invoke the metho=
d org.apache.catalina.Service.findConnectors() of an object loaded from loc=
al variable 's'=1E
    at org.apache.catalina.core.ApplicationContext.populateSessionTrackingM=
odes(ApplicationContext.java:1191)=1E
    at org.apache.catalina.core.ApplicationContext.<init>(ApplicationContex=
t.java:125)=1E
    at org.apache.catalina.core.StandardContext.getServletContext(StandardC=
ontext.java:2323)=1E
    at org.apache.catalina.core.StandardContext.postWorkDirectory(StandardC=
ontext.java:6062)=1E
    at org.apache.catalina.core.StandardContext.startInternal(StandardConte=
xt.java:5102)=1E
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)=
=1E
    ... 7 more=1E
org.apache.catalina.core.ContainerBase||Dec 7=2C 2012 12:09:49 PM org.apach=
e.catalina.core.ContainerBase startInternal


I looked into that particular line in ApplicationContext and I see this cod=
e is new in tomcat7 -

        Service s =3D ((Engine) context.getParent().getParent()).getService=
()=3B
        Connector[] connectors =3D s.findConnectors()=3B


Looking at the API docs for Engine=2C it indicates that a Service does not =
necessarily need to be associated with an Engine (from the docs - "Set the =
Service with which we are associated (if any).
").  Am I missing a step now to prevent this?  Or should there be a null ch=
eck here?

Thank you!

 		 	   		  =

--_9a609abf-ac60-413b-aa8f-700ceb01871e_--

From users-return-238547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 10 23:15:18 2012
Return-Path: <users-return-238547-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D895AD019
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 10 Dec 2012 23:15:17 +0000 (UTC)
Received: (qmail 65278 invoked by uid 500); 10 Dec 2012 23:15:14 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65222 invoked by uid 500); 10 Dec 2012 23:15:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 65212 invoked by uid 99); 10 Dec 2012 23:15:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 23:15:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of raf.news@gmail.com designates 209.85.220.45 as permitted sender)
Received: from [209.85.220.45] (HELO mail-pa0-f45.google.com) (209.85.220.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 10 Dec 2012 23:15:08 +0000
Received: by mail-pa0-f45.google.com with SMTP id bg2so2499667pad.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 15:14:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=4+/Rq3V7Go+6TOZFjXJxSKiyASdUvpt6sWf2rocQLNY=;
        b=YR1bx8OnmF7VIHCaAbJ8xeP8AhzSahQdY/8KnaLCxT6t8munziW5hZTFa0feVqO7eL
         P5Vz33VDJRx6RkTdD021NDMalx9eIVX5q1mBz16yADGZNog6U84fQookao1b4IfE3mqw
         BsgrDlWdmytYHBhwFh16xKLfwCUE/YQZf3Cf1i+qXVeR0ILXoJ5I2Px+CWqOqnxWsMha
         yuIfYBVnUpp6xxoi7I6p6phJzLisGgrr+uBwDIuh6t4gakGp1pS2P59itH09w5IV7+Wv
         OHUOr4VcbjPS6XL4FmRBLHDFN7OlIECFqJyPsVfJDbQzj7BZQKqEZSCFvVkVcGu2LH81
         sprA==
MIME-Version: 1.0
Received: by 10.68.230.234 with SMTP id tb10mr42995007pbc.71.1355181287545;
 Mon, 10 Dec 2012 15:14:47 -0800 (PST)
Received: by 10.68.57.209 with HTTP; Mon, 10 Dec 2012 15:14:47 -0800 (PST)
Date: Tue, 11 Dec 2012 00:14:47 +0100
Message-ID: <CANizyAApiPq3UszeAEN7c7s5A40n=Udu9SDH0VPcgUScEF6ASg@mail.gmail.com>
Subject: CATALINA_OPTS under windows 7
From: Raf Roger <raf.news@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7b339741401a9f04d087bbd2
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b339741401a9f04d087bbd2
Content-Type: text/plain; charset=ISO-8859-1

Hi,

i need to setup CATALINA_OPTS environment variable under windows 7.
I read that in directory *tomcatDir/bin/* should be a file named setenv.bat
for Windows in which i could define the  CATALINA_OPTS environment variable.

However after a fresh installation of Tomcat 7.0.33 i discovered that such
file doesn't exist.
is it normal ?

can i just create it ?
what should i take care to make it correctly ?
thx.

-- 
Alain
-----------------------------------------------------------
Windows 7 x64 / Fedora 17 x64
MySQL 5.5.28
Apache 2.4.3 / OpenSSL 1.0.1c
Tomcat 7.17
PHP 5.4.8

--047d7b339741401a9f04d087bbd2--

From users-return-238548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 01:43:55 2012
Return-Path: <users-return-238548-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1FA08D9B7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 01:43:55 +0000 (UTC)
Received: (qmail 84713 invoked by uid 500); 11 Dec 2012 01:43:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84660 invoked by uid 500); 11 Dec 2012 01:43:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84643 invoked by uid 99); 11 Dec 2012 01:43:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 01:43:51 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of smithh032772@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 01:43:43 +0000
Received: by mail-we0-f173.google.com with SMTP id z2so1823637wey.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 17:43:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=x5O0DIeVk3Z1GvQ4PafyQapItvgTGPVf+nGDFSDvCCc=;
        b=e52USjbEFTJDPZv06AGFnYTsmQeg3QKl15iwIGHouYyGLjCQPQQzttIWLuvVbFXlsd
         Mytq5g1hnQvCKwF4w52A3th+m1Qm+EZpXL+VLlsZfW4XC6PR+KOL+9GPrp3plJQr2oyI
         E9HL1oQFdrLcN+/yDo2FZbwcg/O7JGT7L514+uIsH/6uvwwghqufQCi2zsxhqggJnpm0
         dRTpMjTyr5VoCynfPiL8J0hYaWRRcTqjjM1yw2DXDtfi6h293/gZ6CuAvKkRcLW1CxKW
         gZ5WZYfOwWf5yWAgYQAIWMSCQKf8RMTlRRI+lBZzDJfX28PIaZaJ2KQ1p9/2IaIKUEcQ
         olvg==
MIME-Version: 1.0
Received: by 10.194.85.168 with SMTP id i8mr281447wjz.18.1355190203196; Mon,
 10 Dec 2012 17:43:23 -0800 (PST)
Received: by 10.194.137.37 with HTTP; Mon, 10 Dec 2012 17:43:23 -0800 (PST)
In-Reply-To: <CANizyAApiPq3UszeAEN7c7s5A40n=Udu9SDH0VPcgUScEF6ASg@mail.gmail.com>
References: <CANizyAApiPq3UszeAEN7c7s5A40n=Udu9SDH0VPcgUScEF6ASg@mail.gmail.com>
Date: Mon, 10 Dec 2012 20:43:23 -0500
Message-ID: <CAGV1rDJmHSf9DVZG0f-6rwNszK=c6Awnw6yaqXWRg6=TNXj8=A@mail.gmail.com>
Subject: Re: CATALINA_OPTS under windows 7
From: "Howard W. Smith, Jr." <smithh032772@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=089e010d7efcaa266104d089cef2
X-Virus-Checked: Checked by ClamAV on apache.org

--089e010d7efcaa266104d089cef2
Content-Type: text/plain; charset=ISO-8859-1

Are you trying to run tomcat7 as a Windows Service?


On Mon, Dec 10, 2012 at 6:14 PM, Raf Roger <raf.news@gmail.com> wrote:

> Hi,
>
> i need to setup CATALINA_OPTS environment variable under windows 7.
> I read that in directory *tomcatDir/bin/* should be a file named setenv.bat
> for Windows in which i could define the  CATALINA_OPTS environment
> variable.
>
> However after a fresh installation of Tomcat 7.0.33 i discovered that such
> file doesn't exist.
> is it normal ?
>
> can i just create it ?
> what should i take care to make it correctly ?
> thx.
>
> --
> Alain
> -----------------------------------------------------------
> Windows 7 x64 / Fedora 17 x64
> MySQL 5.5.28
> Apache 2.4.3 / OpenSSL 1.0.1c
> Tomcat 7.17
> PHP 5.4.8
>

--089e010d7efcaa266104d089cef2--

From users-return-238549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 04:22:44 2012
Return-Path: <users-return-238549-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E714AD0AC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 04:22:44 +0000 (UTC)
Received: (qmail 84765 invoked by uid 500); 11 Dec 2012 04:22:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84531 invoked by uid 500); 11 Dec 2012 04:22:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84438 invoked by uid 99); 11 Dec 2012 04:22:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 04:22:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.52 as permitted sender)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 04:22:32 +0000
Received: by mail-qa0-f52.google.com with SMTP id d13so3023754qak.18
        for <users@tomcat.apache.org>; Mon, 10 Dec 2012 20:22:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sbxxT/6My/On1JVaQjvlMeurK8dvHR/HtNYVsIagLnE=;
        b=WO0HpnPPpebVS8wgBBDY1lCdqW/Fz6v2CkGs6xiUwaSDIxpuE6DNlquJQInBApWyWM
         fooTyrFIt92qCP4L6V9248K3gcFdeQQZxA61Z06RjsmZR4GPqhjpqOmvBoZQJIg1Wmv1
         5diKHE8pRGsXiu/YR6mPrbrsvjkBa/qI3rSIL/h0txDEPtE1Ehn35chjz/6n/1Auz56t
         KfOQHAvO6E1XmeoPYNdgWL01VNBI51DkjXE4kEsHdE50K9TptVZ1KfeeyVWscEVjP07k
         xhT0+p7ETK6WamObxV56mlFr+DJZoFoaqd0Toz1sUbONuYb46Uvs99IXVwxGkRk71Up1
         1aeA==
MIME-Version: 1.0
Received: by 10.224.191.137 with SMTP id dm9mr31189053qab.40.1355199731500;
 Mon, 10 Dec 2012 20:22:11 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Mon, 10 Dec 2012 20:22:11 -0800 (PST)
In-Reply-To: <505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
	<50C23BAF.3090000@ice-sa.com>
	<50C265D9.50305@christopherschultz.net>
	<50C2762E.6000508@ice-sa.com>
	<CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
	<50C60D96.701@ice-sa.com>
	<505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>
Date: Tue, 11 Dec 2012 02:22:11 -0200
Message-ID: <CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3005dfa898878904d08c06fd
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3005dfa898878904d08c06fd
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/12/10 Daniel Mikusa <dmikusa@vmware.com>

> On Dec 10, 2012, at 11:28 AM, Andr=E9 Warnier wrote:
>
> > Yuri E wrote:
> >> 2012/12/7 Andr=E9 Warnier <aw@ice-sa.com>
> >>> Christopher Schultz wrote:
> >>>
> >>>> -----BEGIN PGP SIGNED MESSAGE-----
> >>>> Hash: SHA256
> >>>>
> >>>> Andr=E9,
> >>>>
> >>>> On 12/7/12 1:55 PM, Andr=E9 Warnier wrote:
> >>>>
> >>>>> I am relatively familiar with tomcat under Windows, and if your
> >>>>> explanations of what works and what doesn't above are exact, then
> >>>>> I don't know either.
> >>>>>
> >>>> One possibility: during the installation, the user chose to bind onl=
y
> >>>> to localhost instead of 0.0.0.0.
> >>>>
> >>> Aaaah. Yes, and that choice probably only exists in the Service
> installer.
> >>> That would fit.
> >>> And he would see that with netstat.
> >>>
> >>>>
> >> "netstat -abn" results:
> >> --
> >> running Tomcat on console:
> >> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING
> 3844
> >> [java.exe]
> >> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING
> 3844
> >> [java.exe]
> >> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING
> 3844
> >> [java.exe]
> >> --
> >> running Tomcat as Service:
> >> TCP    0.0.0.0:8009           0.0.0.0:0              LISTENING
> 488
> >> [Tomcat7.exe]
> >> TCP    0.0.0.0:8080           0.0.0.0:0              LISTENING
> 488
> >> [Tomcat7.exe]
> >> TCP    127.0.0.1:8005         0.0.0.0:0              LISTENING
> 488
> >> [Tomcat7.exe]
> >
> > Well, Chris, that was a worthy guess, but apparently it is not the
> reason here.
> >
> > Didactic section :
> >
> > In both cases above (running in a console window and running as a
> Service), we have Tomcat listening :
> > - on port 8080, all interfaces, all IP addresses.  That's the HTTP
> Connector
> >   (see in server.xml)
> > - on port 8009, all interfaces, all IP addresses.  That's the AJP
> Connector
> >   (see in server.xml) (and maybe you don't need that one, and can
> comment it out)
> > - on port 8005, only on the "localhost" address.  That is the "shutdown
> port", which is limited to listening for calls originating from the same
> physical host, for security reasons (so that nobody can shut down your
> Tomcat from the internet e.g.)
> >
> > And the reason why in one case the process is "Tomcat7.exe" and in the
> other case it is "java.exe" :
> > - when Tomcat runs as a Service, there is a "service wrapper" involved,
> which "wraps around" the java process (and Tomcat in it), and which
> provides the special functions that Windows Services must provide for
> Windows (like listening to Windows "star/stop service" messages etc..).
>  This wrapper is a copy of the procrun.exe program, renamed to
> "tomcat7.exe" for convenience.
> > So when you run Tomcat as a Service, Windows really starts
> "tomcat7.exe", and tomcat7.exe runs java.exe which runs tomcat.
> >
> > -- end of didactic section --
> >
> >
> > To summarise what is happening now :
> >
> > 1) Tomcat running in a console window :
> >   a) can be accessed from a browser running on the same machine
> >   b) can be accessed from a browser running on another machine
> >
> > 2) Tomcat running as a Windows Service :
> >   a) can be accessed from a browser running on the same machine
> >   b) but cannot be accessed from a browser running on another machine
> >
> > while in both cases it is listening to 0.0.0.0:8080
> >
> > It it was a DNS issue, then both 1-b and 2-b wouldn't work. But only 2-=
b
> doesn't work.
> > If it was a firewall issue or similar, we'd have the same.
> > If it was an issue of the java parameters or others used when starting
> tomcat as a service, then both 2-a and 2-b would not work. But 2-a works.
> >
> > Some weird MS security rule, applying to services but not to regular
> processes ?
> >
> > Yuri, can you repeat for us which exact URL's you are using to access
> Tomcat, in each of the cases above ?
> >
> > 1-a :
> > 1-b :
> > 2-a :
> > 2-b :
> >
> > and how the problem shows up, when "it does not work" ?
>
> Also, if you have a firewall running on the server, how is it configured?
>  Do you have a rule to allow tcp on port 8080?  I ask because some
> firewalls will restrict at the application level as well as the port leve=
l.
>  For example, only "java.exe" is allowed to listen on port 8080.
>
> Dan
>
>
> >
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
I couldn't access your answers at work today. Then I decided to make the
tests at home. I installed Tomcat exactly as the same manner as I installed
on my work PC. The problem was the same. But then I read the answers, and I
saw something that I've not tried yet. The Windows Firewall. I turned off
the Firewall, and everything worked very well. Now I have to test the same
solution on my work PC.

Thanks to everyone.

--20cf3005dfa898878904d08c06fd--

From users-return-238550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 12:31:25 2012
Return-Path: <users-return-238550-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB666DC2D
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 12:31:25 +0000 (UTC)
Received: (qmail 84291 invoked by uid 500); 11 Dec 2012 12:31:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83718 invoked by uid 500); 11 Dec 2012 12:31:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83684 invoked by uid 99); 11 Dec 2012 12:31:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 12:31:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of balteo@gmail.com designates 209.85.223.174 as permitted sender)
Received: from [209.85.223.174] (HELO mail-ie0-f174.google.com) (209.85.223.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 12:31:08 +0000
Received: by mail-ie0-f174.google.com with SMTP id c11so11558246ieb.19
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 04:30:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=zbfo6Te1m6hP2uy1lhdAHk7fiZt1VsBa473sB7B0F90=;
        b=0gLqWRSRLRt6M37+SZPrupMtMhTmN5EeMcxjUMd8So43fSFIuRPa96sXg7nZVqbU2I
         sRhA7foTIdQZcFQEjPk/8ExrCVGty++5fW9BKBDAmyLRn9wv+uPEEaS5979dx9/N4IRI
         bL5Pn49W+wMB/FbiXIRAkQRZqpHUD+kpFw0v7Mn1EobO7DL2O9Lob/RVimdxa+mz1X/O
         aiJMNlmvHPzEqH4XnGg+8HaH5V1T40jMHYEtuiKVdmy75VDjXXeU56v3imfEOAWLQL8W
         mAUxaljkxL6z402O3L4UhPwLp1JKGl0caX26e81RH9yTh//9dUPBvSENGa1qYM6Kypyy
         DkeA==
MIME-Version: 1.0
Received: by 10.50.15.134 with SMTP id x6mr9758919igc.27.1355229047189; Tue,
 11 Dec 2012 04:30:47 -0800 (PST)
Received: by 10.64.14.229 with HTTP; Tue, 11 Dec 2012 04:30:47 -0800 (PST)
Date: Tue, 11 Dec 2012 13:30:47 +0100
Message-ID: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com>
Subject: Why are Tomcat's threads more costly than background threads?
From: Julien Martin <balteo@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340c47f270bf04d092d918
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340c47f270bf04d092d918
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I am in reference to the following blog entry: Blog
entry<http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducing-servlet-3-async-support>
about Spring MVC 3.2 asynchronous support.

I understand Tomcat uses a thread pool in order to serve http/web requests.
Furthermore, the above article seems to indicate that Spring MVC
asynchronous support relieves Tomcat's thread pool and allows for better
concurrency in the webapp by using background threads for "heavy-lift"
operations.

Can anyone please provide informed advice as to why that is? Why is a
"front-end" thread taken from the tomcat thread pool more costly than a
background thread?

Regards,

J.

http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducing-servlet-3-async-support/

--14dae9340c47f270bf04d092d918--

From users-return-238551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 12:51:17 2012
Return-Path: <users-return-238551-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1E52ADCDE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 12:51:17 +0000 (UTC)
Received: (qmail 34112 invoked by uid 500); 11 Dec 2012 12:51:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33873 invoked by uid 500); 11 Dec 2012 12:51:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33834 invoked by uid 99); 11 Dec 2012 12:51:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 12:51:11 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.210.171 as permitted sender)
Received: from [209.85.210.171] (HELO mail-ia0-f171.google.com) (209.85.210.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 12:51:05 +0000
Received: by mail-ia0-f171.google.com with SMTP id k27so7818337iad.16
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 04:50:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=o3DqdVLfT+gASTYfYMW9eW6kLjZQsKJZGrWnjGbsr/Y=;
        b=SkZKfRYFm4XqvU/47MBKiF+52dMEqhe/NZIyfWWyauLRPbTLnJAP/alDZIMDyEoeyJ
         EtylrbixnO10r8T4r4AaRE779F9T9b+vfu/hz1b60U6CTxnXGG6NY9UjHUnPB7vz+3yj
         /Hn1gc2TVLLK9NnQbVuyasiy0aCN0+rqQCB04d+aX8Qni1HNmmTmbVGVbldcNqIQBjSO
         O+1pzRam42/FHGMzRIvPgFU+li63w0rgVPCSm9FS/+4xXctO2OYuQD8CKedGLvvniJGt
         tktJsJ3rmqpYgZK7vSG4wIKo322fl5MRZ8NeDij+QpPsFAgoCA2zRqYhGPnUTLy9XRW7
         nTMQ==
MIME-Version: 1.0
Received: by 10.50.236.104 with SMTP id ut8mr9726075igc.20.1355230244611; Tue,
 11 Dec 2012 04:50:44 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Tue, 11 Dec 2012 04:50:44 -0800 (PST)
Date: Tue, 11 Dec 2012 13:50:44 +0100
Message-ID: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
Subject: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,

In our tomcat, we use at the moment the JMXRemoteLifecycleListener
configured as :

<Listener className=3D"org.apache.catalina.mbeans.JmxRemoteLifecycleListene=
r"
          rmiRegistryPortPlatform=3D"10001"
rmiServerPortPlatform=3D"10002" useLocalPorts=3D"true" />

The configuration for the windows service is :

-Dcom.sun.management.jmxremote
-Dcom.sun.management.jmxremote.authenticate=3Dtrue
-Dcom.sun.management.jmxremote.password.file=3D${CATALINA_BASE}/conf/jmxrem=
ote.password
-Dcom.sun.management.jmxremote.access.file=3D${CATALINA_BASE}/conf/jmxremot=
e.access
-Dcom.sun.management.jmxremote.ssl=3Dfalse

with jmxremote.access being a textfile with:

nagios readonly

and jmxremote.password :

nagios nagios

Version and OS information :
 - Tomcat 6.0.35
 - Windows server 2003 32bit
 - jdk 1.6.36

Now for my problems or questions:
 - Apparently, the Jmx listener listens on 0.0.0.0 (confirmed by a
netstat) on the two ports configured for the listener, is it normal ?
I thought that useLocalPorts would restrain the listening only to
127.0.0.1.
As i can't seem to connect on that ports with a remote host, I think
it is normal but I would like some clarifications if possible.

 - with jvisualvm i am able to connect through jmx with the url
service:jmx:rmi://localhost:10002/jndi/rmi://localhost:10001/jmxrmi
without entering the credentials (nagios:nagios).
I thought that by entering
com.sun.management.jmxremote.authenticate=3Dtrue, even read access would
be restricted.

Thank you for any answers.

C=E9dric Couralet

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 13:08:31 2012
Return-Path: <users-return-238552-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3098DDD9
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 13:08:31 +0000 (UTC)
Received: (qmail 74546 invoked by uid 500); 11 Dec 2012 13:08:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74460 invoked by uid 500); 11 Dec 2012 13:08:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74424 invoked by uid 99); 11 Dec 2012 13:08:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 13:08:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bdhruva@gmail.com designates 209.85.160.173 as permitted sender)
Received: from [209.85.160.173] (HELO mail-gh0-f173.google.com) (209.85.160.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 13:08:19 +0000
Received: by mail-gh0-f173.google.com with SMTP id 16so745560ghy.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 05:07:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Y3fOCZaWYHRVx16yOXUm30TuTt+Dklvo1L5pFTiidA0=;
        b=oXRLWiLoljED0cXtnobKS5EddImeZe01prRbsU992NIkaQpNtNi/4aclItWR1IqO/t
         YMmUz4PPxBaVCxLMa0sPsYHg8mbuUsPJp3tgEgnD/s7GdgMmkW/4mSNJKklkFS29rDzf
         zEk3FImZBZ5j0V5qkL36MQjI1YWKFZ4sZ0H0lseg6bUINw8WeNycp1qND23G4sNB04yW
         +7LSqf5CmhDzXE0fQ0uELklTZiV781012r75L7QhvaJeLPsULFW7wUVZ55AaquzKdEtl
         nTa1YcwG9rByWLFWJLQN5Gs6my011AmdN0IFBFnQ12sAPc98Zq+FumWMIPAZ/ivX4Uu8
         kWxg==
MIME-Version: 1.0
Received: by 10.236.132.65 with SMTP id n41mr27109729yhi.94.1355231278020;
 Tue, 11 Dec 2012 05:07:58 -0800 (PST)
Received: by 10.146.2.19 with HTTP; Tue, 11 Dec 2012 05:07:57 -0800 (PST)
In-Reply-To: <50C66579.1060402@ice-sa.com>
References: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com>
	<CAMf3F8GrNQiUqoP-hJ6TAuqS0-bYks8RvgVGdKMWhcZ0B_puMA@mail.gmail.com>
	<50C66579.1060402@ice-sa.com>
Date: Tue, 11 Dec 2012 08:07:57 -0500
Message-ID: <CAKxkzo60nD2zH4KnoW_7YqVtytsrk+uYTA_BTk7CKE=UXLb7Ug@mail.gmail.com>
Subject: Re: Running Tomcat Behind Apache HTTP Server
From: Dhruva Reddy <bdhruva@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf300e4e85ea393704d0935e01
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf300e4e85ea393704d0935e01
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Thanks, Andr=E9, for your response.

To give you a little more context, I needed to get this working as soon as
possible, which I basically have.  Eventually, yes, I want the static
content to be served by HTTPD, and the dynamic content to be served by
Tomcat.  I did not want to deploy my application as ROOT, for reasons that,
now that I think about it, don't really make sense.

Anyway, your clue about the Directory directive was very helpful.  It
turned out that my rewrite rules were being ignored.  I ended up with two
rules, each on the condition that the request URI does not already contain
the context.  I settled on the following (I'm running a Grails application
which automagically recognizes the "html" extension):

RewriteEngine On
RewriteCond $0 !^/application/(.*)
RewriteRule ^(.*)/$ ajp://localhost:8009/application/$1 [P]
RewriteCond $0 !^/application/(.*)
RewriteRule ^(.*)\.html$ ajp://localhost:8009/application$1.html [P]

I know I still have some work to do, but at least I now have it basically
working.


On Mon, Dec 10, 2012 at 5:43 PM, Andr=E9 Warnier <aw@ice-sa.com> wrote:

> Jeff Beard wrote:
>
>> On Mon, Dec 10, 2012 at 2:22 PM, Dhruva Reddy <bdhruva@gmail.com> wrote:
>>
>>  Hello,
>>>
>>> I have a question about running Tomcat behind Apache HTTP server.  I ho=
pe
>>> this is not inappropriate for this list.
>>>
>>> I am running a website on Tomcat 7.0.33, behind Apache 2.2.15, on CentO=
S
>>> 6.3 (using Tomcat connector 1.2.37).  I would like the user to go to ou=
r
>>> base URL (http://www.example.com), but have the request served by a web
>>> application running on Tomcat (I have the connector working, so that yo=
u
>>> can access the application through http://www.example.com/**application=
/<http://www.example.com/application/>
>>> ).
>>>
>>> I thought this could be accomplished through a rewrite rule on the HTTP
>>> server, but I can't seem to get it to work, nor can I find much
>>> information
>>> on it.  I can't really find any best practices around this, either.  Ha=
s
>>> anyone done this successfully?
>>>
>>> I have tried many things, but this is what I currently have in
>>> httpd.conf:
>>>
>>> <Directory "/var/www/html">
>>>     Options Indexes FollowSymLinks
>>>     AllowOverride None
>>>     Order allow,deny
>>>     Allow from all
>>>     RewriteEngine On
>>>         <IfModule mod_rewrite>
>>>         RewriteBase /
>>>         RewriteRule ^/ application/ [NC]
>>>         RewriteLog "/etc/httpd/logs/rewrite.log"
>>>         RewriteLogLevel 9
>>>     </IfModule>
>>> </Directory>
>>>
>>> I did confirm that the rewrite module is loaded.  Any insights would be
>>> greatly appreciated.
>>>
>>> Thanks,
>>> Dhruva
>>>
>>>
>>
>> Dhruva,
>>
>> Based on the snippet of configuration you've provided it isn't clear tha=
t
>> you've configured the Tomcat Connector. Perhaps there's more that you
>> haven't shown us? Anyway, most recently I've configured Apache much like
>> this document describes:
>>
>> http://tomcat.apache.org/**connectors-doc/generic_howto/**quick.html<htt=
p://tomcat.apache.org/connectors-doc/generic_howto/quick.html>
>>
>>
>>
> I have another couple of questions :
> 1) considering that you want that "^/" (the top of your Apache httpd's UR=
L
> space) be forwarded to Tomcat, do you have anything that would /not/ be
> forwarded to Tomcat ?
> If yes, where would that part live (in which directory/URL space of your
> httpd server) ?
> If no, why do you even need the front-end Apache httpd ?
> 2) have you considered making your Tomcat application "/application" be
> the "/ROOT" default webapp of Tomcat ? Then it would be mapped to the pat=
h
> "/" in Tomcat also, and no rewriting would be required.
>
> But, assuming for now that you need a front-end httpd and that you want t=
o
> forward everything to "/application" in Tomcat, do this instead :
>
> RewriteEngine On
> RewriteLog "/etc/httpd/logs/rewrite.log"
> RewriteLogLevel 9
>
> <Location />
>
>      Order allow,deny
>      Allow from all
>      RewriteRule (.*) /application/$1 [NC]
>      SetHandler jakarta-servlet    <-- this is what forwards to Tomcat
> </Location>
>
> Explaining all the changes in detail would be a lot here, but here's a fe=
w
> notes :
> 1) SetHandler jakarta-servlet : replaces "JkMount" instructions, with
> similar effect. It tells Apache that for this, you want mod_jk (the
> Apache-Tomcat connector) to generate the response, which it does by
> forwarding the request to tomcat, and collecting tomcat's response.
> 2) removal of <IfModule> directives : you don't want them here, I guess.
> If mod_rewrite is not there, none of your Rewrite directives will be
> understood, and your Apache won't start. That is probably what you really
> want; you don't just want Apache to do something else then.
> 3) you can move the 3 first Rewrite* directives back into the <Location>
> section if you want.  But where they are, they will be inherited by it
> anyway.
> 4) I think (I am not 100% sure) that using a <Directory> section for this
> is already "a bit late" in the Apache cycle.  By the time Apache looks
> inside a <Directory> section, it has already parsed the URL, and mapped i=
t
> to a disk directory. In this case, you don't want a disk directory (you m=
ay
> not even have one there). You want to catch this earlier, as soon as Apac=
he
> is just looking at the URL. That's what <Location> sections are about.
> 5) Inside a <Directory> or <Location> section, the first element to the
> Rewrite rule is matched against what remains of the URL path, after
> stripping the portion which made this Directive being interpreted inside
> that section. So in
>    <Location />
>      RewriteRule (.*) /application/$1 [NC]
> the "(.*)" matches everything after "/", and is captured in $1.
> Then you re-inject that same $1 value in the rewritten path
> /application/$1.
>
>
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


--=20
=93Most people would rather die than think. In fact, they do so.=94 - Bertr=
and
Russell

--20cf300e4e85ea393704d0935e01--

From users-return-238553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 13:29:35 2012
Return-Path: <users-return-238553-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE48FDFE8
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 13:29:35 +0000 (UTC)
Received: (qmail 43642 invoked by uid 500); 11 Dec 2012 13:29:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43479 invoked by uid 500); 11 Dec 2012 13:29:30 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43437 invoked by uid 99); 11 Dec 2012 13:29:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 13:29:29 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 13:29:21 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 3314528256
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 05:29:00 -0800 (PST)
Received: from zcs-prod-mta-2.vmware.com (zcs-prod-mta-2.vmware.com [10.113.163.64])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 2FA1A182C2
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 05:29:00 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-2.vmware.com (Postfix) with ESMTP id 20144E1110
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 05:29:00 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-2.vmware.com
Received: from zcs-prod-mta-2.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-2.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id MxsmpCbM0hSk for <users@tomcat.apache.org>;
	Tue, 11 Dec 2012 05:29:00 -0800 (PST)
Received: from [10.113.231.92] (unknown [10.113.160.14])
	by zcs-prod-mta-2.vmware.com (Postfix) with ESMTPSA id 9E6D6E110F
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 05:28:59 -0800 (PST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: CATALINA_OPTS under windows 7
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <CANizyAApiPq3UszeAEN7c7s5A40n=Udu9SDH0VPcgUScEF6ASg@mail.gmail.com>
Date: Tue, 11 Dec 2012 08:29:00 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B4C965E2-00DD-4ED2-9117-3FD7113CCE63@vmware.com>
References: <CANizyAApiPq3UszeAEN7c7s5A40n=Udu9SDH0VPcgUScEF6ASg@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 10, 2012, at 6:14 PM, Raf Roger wrote:

> Hi,
>=20
> i need to setup CATALINA_OPTS environment variable under windows 7.
> I read that in directory *tomcatDir/bin/* should be a file named =
setenv.bat
> for Windows in which i could define the  CATALINA_OPTS environment =
variable.
>=20
> However after a fresh installation of Tomcat 7.0.33 i discovered that =
such
> file doesn't exist.
> is it normal ?

This is normal and intentional.

>=20
> can i just create it ?

Yes, you should create the file. =20

> what should i take care to make it correctly ?

You can use any text editor to create the file.  Make sure that it is =
syntactically a valid Window batch script.  Most of the time, you would =
just set environment variables in this file. =20

For example:

  set JAVA_HOME=3DC:\path\to\java\home
  set CATALINA_OPTS=3D-Xmx2G -Xss256k

As a note, you only want to use the setenv.bat file if you are running =
Tomcat from the console (something that is done rarely).  In most  =
cases, you'll be running as a Windows Service.  If you are running as a =
Windows Service then you don't want to use setenv.bat.  Instead, you'll =
want to use the Tomcat GUI application to make configuration changes.

  =
https://tomcat.apache.org/tomcat-7.0-doc/windows-service-howto.html#Tomcat=
7w_monitor_application
  https://wiki.apache.org/tomcat/FAQ/Windows#Q11

Dan


> thx.
>=20
> --=20
> Alain
> -----------------------------------------------------------
> Windows 7 x64 / Fedora 17 x64
> MySQL 5.5.28
> Apache 2.4.3 / OpenSSL 1.0.1c
> Tomcat 7.17
> PHP 5.4.8


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 14:07:26 2012
Return-Path: <users-return-238554-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D45FFD27A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 14:07:26 +0000 (UTC)
Received: (qmail 65083 invoked by uid 500); 11 Dec 2012 14:07:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 65008 invoked by uid 500); 11 Dec 2012 14:07:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64983 invoked by uid 99); 11 Dec 2012 14:07:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:07:22 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of prvs=169252fea3=Justin.Larose@nexweb.org designates 216.54.56.151 as permitted sender)
Received: from [216.54.56.151] (HELO mx1.nexweb.org) (216.54.56.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:07:14 +0000
Received: from ngate1.nexweb.us ([164.226.177.14]) by mx1.nexweb.org 
    (8.14.1/8.14.1) with ESMTP id qBBEHCiW019601 for 
    <users@tomcat.apache.org>; Tue, 11 Dec 2012 09:17:13 -0500
To: users@tomcat.apache.org
MIME-Version: 1.0
Subject: Tomcat 7.33 update on Windows
X-KeepSent: 77E4BB73:DD189E55-85257AD1:004A73EF; type=4; name=$KeepSent
X-Mailer: Lotus Notes Release 8.5.1 September 28, 2009
Message-ID: <OF77E4BB73.DD189E55-ON85257AD1.004A73EF-85257AD1.004D885B@nexweb.us>
From: Justin Larose <Justin.Larose@nexweb.org>
Date: Tue, 11 Dec 2012 09:06:51 -0500
X-MIMETrack: Serialize by Router on 
    NGATE1/HQ/NEXNET(Release 8.5|December 05, 2008) at 12/11/2012 
    09:06:50 AM, Serialize complete at 12/11/2012 09:06:50 AM
Content-Type: multipart/alternative; 
    boundary="=_alternative 004D885B85257AD1_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 004D885B85257AD1_=
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

I just updated Tomcat 7 from version 7.11 to 7.33 on my windows server but 
when I goto the URL I am seeing 500 error, "Cannot load JDBC driver class 
'com.microsoft.sqlserver.jdbc.SQLServerDriver'"
Not sure why. I made a copy of all config directories prior to install and 
copied them all to the new Tomcat home. Below is the full stack.

_____________

HTTP Status 500 - javax.servlet.ServletException: 
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver 
class 'com.microsoft.sqlserver.jdbc.SQLServerDriver'

--------------------------------------------------------------------------------

type Exception report

message javax.servlet.ServletException: 
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver 
class 'com.microsoft.sqlserver.jdbc.SQLServerDriver'

description The server encountered an internal error that prevented it 
from fulfilling this request.

exception 

org.apache.jasper.JasperException: javax.servlet.ServletException: 
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver 
class 'com.microsoft.sqlserver.jdbc.SQLServerDriver'
 
org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:549)
 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:455)
 org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)


root cause 

javax.servlet.ServletException: 
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver 
class 'com.microsoft.sqlserver.jdbc.SQLServerDriver'
 
org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:912)
 
org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:841)
        org.apache.jsp.index_jsp._jspService(index_jsp.java:286)
        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
 org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)


root cause 

org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot load JDBC driver 
class 'com.microsoft.sqlserver.jdbc.SQLServerDriver'
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1429)
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)
 com.compasseng.jsp.client.cors.Scanner.getScanners(Scanner.java:156)
        org.apache.jsp.index_jsp._jspService(index_jsp.java:151)
        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
 org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)


root cause 

java.lang.ClassNotFoundException: 
com.microsoft.sqlserver.jdbc.SQLServerDriver
 
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)
 
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)
 
org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)
 com.compasseng.jsp.client.cors.Scanner.getScanners(Scanner.java:156)
        org.apache.jsp.index_jsp._jspService(index_jsp.java:151)
        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
 
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)
 org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)
        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)
        javax.servlet.http.HttpServlet.service(HttpServlet.java:728)


note The full stack trace of the root cause is available in the Apache 
Tomcat/7.0.33 logs.


--------------------------------------------------------------------------------

Apache Tomcat/7.0.33

Thanks,
Justin
******************************************************************************
This email and any files transmitted with it are intended solely for 
the use of the individual or agency to whom they are addressed. 
If you have received this email in error please notify the Navy 
Exchange Service Command e-mail administrator. This footnote 
also confirms that this email message has been scanned for the
presence of computer viruses.

Thank You!            
******************************************************************************


--=_alternative 004D885B85257AD1_=--

From users-return-238555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 14:12:49 2012
Return-Path: <users-return-238555-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 13DC1D2BC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 14:12:49 +0000 (UTC)
Received: (qmail 84964 invoked by uid 500); 11 Dec 2012 14:12:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84636 invoked by uid 500); 11 Dec 2012 14:12:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84608 invoked by uid 99); 11 Dec 2012 14:12:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:12:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:12:37 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so4947338vbi.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 06:12:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=FWla50hfDFoOVo4zpGHJhnOA3SVQXhbnSOULAj8RynA=;
        b=Yt1V43byEK+zFAAGFOVQGJ/9w/tKYmvhQBL+iFaDbw6Eocknq9Ddow6Y51vNW7w+9y
         JLBKc5eJDxf7+d4naSzXomzYtbtnk/FIBz9izByjtDBRo7d/nGOmUqXpUFKiPwiq/r5c
         7qmFBjedL2+YB/9+/vmfdlbj4gru92tAvwbs5cDcGkJclIXoBR5mMWlWWWHaaM1ufPNC
         qbPZiKlrlNqKsJQ5fmOgd3wdw1e+11+HoTqgLze5YO3x+pjydO8sSVscXe2s6xctPBea
         UJhasQwx7DoqQ5LjE34Y0W0NreToJRhAZ4cNjQJssX8QrCNC1zzzydkowwG/9kOLVZjs
         ANJw==
MIME-Version: 1.0
Received: by 10.52.180.5 with SMTP id dk5mr9570635vdc.45.1355235136189; Tue,
 11 Dec 2012 06:12:16 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Tue, 11 Dec 2012 06:12:16 -0800 (PST)
In-Reply-To: <OF77E4BB73.DD189E55-ON85257AD1.004A73EF-85257AD1.004D885B@nexweb.us>
References: <OF77E4BB73.DD189E55-ON85257AD1.004A73EF-85257AD1.004D885B@nexweb.us>
Date: Tue, 11 Dec 2012 18:12:16 +0400
Message-ID: <CABzHfV=Vqp9On-nYHRtgvg2E2b+b6yeL7_OhZqv8VPE7QAn6BQ@mail.gmail.com>
Subject: Re: Tomcat 7.33 update on Windows
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/11 Justin Larose <Justin.Larose@nexweb.org>:
> I just updated Tomcat 7 from version 7.11 to 7.33 on my windows server but
> when I goto the URL I am seeing 500 error, "Cannot load JDBC driver class
> 'com.microsoft.sqlserver.jdbc.SQLServerDriver'"
> Not sure why. I made a copy of all config directories prior to install and
> copied them all to the new Tomcat home. Below is the full stack.
>
> (...)
>
> root cause
>
> java.lang.ClassNotFoundException:
> com.microsoft.sqlserver.jdbc.SQLServerDriver
>

What jar contains the above class and whether it is present in your
installation? I guess you forgot to copy it.

(It should be placed into Tomcat's lib/ directory).

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 14:20:51 2012
Return-Path: <users-return-238556-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 24785D315
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 14:20:51 +0000 (UTC)
Received: (qmail 8621 invoked by uid 500); 11 Dec 2012 14:20:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8543 invoked by uid 500); 11 Dec 2012 14:20:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8519 invoked by uid 99); 11 Dec 2012 14:20:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:20:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 14:20:39 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id aDEP1k00B1swQuc53ELHti; Tue, 11 Dec 2012 14:20:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id aELE1k00a38FjT13bELGjx; Tue, 11 Dec 2012 14:20:17 +0000
Message-ID: <50C74120.6080307@christopherschultz.net>
Date: Tue, 11 Dec 2012 09:20:16 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com> <0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com> <CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com> <CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com> <50C23BAF.3090000@ice-sa.com> <50C265D9.50305@christopherschultz.net> <50C2762E.6000508@ice-sa.com> <CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com> <50C60D96.701@ice-sa.com> <505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com> <CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>
In-Reply-To: <CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355235617;
	bh=rmh1LDkOfJ1uWD4moYzbtRr2k2rNcUuXq+V84d0Jr+Y=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=mhTzjsl7RGuc6XPlf9fS6SLHGl4VIPaE6TLqiiNM+hqCZWZBqJcCsGsiK2gz5R4px
	 vD9co07bR8wQGcJ5oZtVGVP1noS6vY9afiq6z4K8q/4sadavMm1WBaiXFjilYizudo
	 5Y136O2uxUghOJaK2mSlk7RSDM0GXyESJNGMdgIwOq6D1fjTcb3ZYDldJ8sXN6Maeh
	 V8pMDSqdEwCMrJ917pxOMnzm4rwcqbufQak6yAnGtcY7YDVGSg6wf3UG4QPvTW2m9W
	 tQK8nHdPxBwcaLkua1F3DeSqJ6nG4DdvQZoQ0D8N0xOMAbgKt6yAL8QzahgqDtWZLq
	 CQANx4Kpw3ecg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Yuri,

On 12/10/12 11:22 PM, Yuri E wrote:
> 2012/12/10 Daniel Mikusa <dmikusa@vmware.com>
> 
>> On Dec 10, 2012, at 11:28 AM, AndrÃ© Warnier wrote:
>> 
>>> Yuri E wrote:
>>>> 2012/12/7 AndrÃ© Warnier <aw@ice-sa.com>
>>>>> Christopher Schultz wrote:
>>>>> 
>>>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>>>>>> 
>>>>>> AndrÃ©,
>>>>>> 
>>>>>> On 12/7/12 1:55 PM, AndrÃ© Warnier wrote:
>>>>>> 
>>>>>>> I am relatively familiar with tomcat under Windows,
>>>>>>> and if your explanations of what works and what
>>>>>>> doesn't above are exact, then I don't know either.
>>>>>>> 
>>>>>> One possibility: during the installation, the user chose 
>>>>>> to bind only to localhost instead of 0.0.0.0.
>>>>>> 
>>>>> Aaaah. Yes, and that choice probably only exists in the 
>>>>> Service
>> installer.
>>>>> That would fit. And he would see that with netstat.
>>>>> 
>>>>>> 
>>>> "netstat -abn" results: -- running Tomcat on console: TCP 
>>>> 0.0.0.0:8009           0.0.0.0:0              LISTENING
>> 3844
>>>> [java.exe] TCP    0.0.0.0:8080           0.0.0.0:0 LISTENING
>> 3844
>>>> [java.exe] TCP    127.0.0.1:8005         0.0.0.0:0 LISTENING
>> 3844
>>>> [java.exe] -- running Tomcat as Service: TCP    0.0.0.0:8009 
>>>> 0.0.0.0:0              LISTENING
>> 488
>>>> [Tomcat7.exe] TCP    0.0.0.0:8080           0.0.0.0:0 
>>>> LISTENING
>> 488
>>>> [Tomcat7.exe] TCP    127.0.0.1:8005         0.0.0.0:0 
>>>> LISTENING
>> 488
>>>> [Tomcat7.exe]
>>> 
>>> Well, Chris, that was a worthy guess, but apparently it is not 
>>> the
>> reason here.
>>> 
>>> Didactic section :
>>> 
>>> In both cases above (running in a console window and running
>>> as a
>> Service), we have Tomcat listening :
>>> - on port 8080, all interfaces, all IP addresses.  That's the 
>>> HTTP
>> Connector
>>> (see in server.xml) - on port 8009, all interfaces, all IP 
>>> addresses.  That's the AJP
>> Connector
>>> (see in server.xml) (and maybe you don't need that one, and 
>>> can
>> comment it out)
>>> - on port 8005, only on the "localhost" address.  That is the 
>>> "shutdown
>> port", which is limited to listening for calls originating from 
>> the same physical host, for security reasons (so that nobody can 
>> shut down your Tomcat from the internet e.g.)
>>> 
>>> And the reason why in one case the process is "Tomcat7.exe"
>>> and in the
>> other case it is "java.exe" :
>>> - when Tomcat runs as a Service, there is a "service wrapper" 
>>> involved,
>> which "wraps around" the java process (and Tomcat in it), and 
>> which provides the special functions that Windows Services must 
>> provide for Windows (like listening to Windows "star/stop 
>> service" messages etc..). This wrapper is a copy of the 
>> procrun.exe program, renamed to "tomcat7.exe" for convenience.
>>> So when you run Tomcat as a Service, Windows really starts
>> "tomcat7.exe", and tomcat7.exe runs java.exe which runs tomcat.
>>> 
>>> -- end of didactic section --
>>> 
>>> 
>>> To summarise what is happening now :
>>> 
>>> 1) Tomcat running in a console window : a) can be accessed
>>> from a browser running on the same machine b) can be accessed
>>> from a browser running on another machine
>>> 
>>> 2) Tomcat running as a Windows Service : a) can be accessed 
>>> from a browser running on the same machine b) but cannot be 
>>> accessed from a browser running on another machine
>>> 
>>> while in both cases it is listening to 0.0.0.0:8080
>>> 
>>> It it was a DNS issue, then both 1-b and 2-b wouldn't work.
>>> But only 2-b
>> doesn't work.
>>> If it was a firewall issue or similar, we'd have the same. If 
>>> it was an issue of the java parameters or others used when 
>>> starting
>> tomcat as a service, then both 2-a and 2-b would not work. But 
>> 2-a works.
>>> 
>>> Some weird MS security rule, applying to services but not to 
>>> regular
>> processes ?
>>> 
>>> Yuri, can you repeat for us which exact URL's you are using to 
>>> access
>> Tomcat, in each of the cases above ?
>>> 
>>> 1-a : 1-b : 2-a : 2-b :
>>> 
>>> and how the problem shows up, when "it does not work" ?
>> 
>> Also, if you have a firewall running on the server, how is it 
>> configured? Do you have a rule to allow tcp on port 8080?  I ask 
>> because some firewalls will restrict at the application level as 
>> well as the port level. For example, only "java.exe" is allowed 
>> to listen on port 8080.
>> 
>> Dan
>> 
>> 
>>> 
>>> 
>>> ---------------------------------------------------------------------
>>>
>>>
>>> 
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>> 
>> 
>> 
>> ---------------------------------------------------------------------
>>
>>
>> 
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>> 
>> 
> I couldn't access your answers at work today. Then I decided to 
> make the tests at home. I installed Tomcat exactly as the same 
> manner as I installed on my work PC. The problem was the same. But 
> then I read the answers, and I saw something that I've not tried 
> yet. The Windows Firewall. I turned off the Firewall, and 
> everything worked very well. Now I have to test the same solution 
> on my work PC.

Yup: Windows, like many other OSs, can whitelist certain processes for
binding to certain ports. For some reason, a binary not on the
whitelist appears to still be able to bind to the port, but nothing
can access it.

The Windows firewall has a configuration screen where you can modify
those binaries that may do certain things. You'll need to duplicate
the "java.exe" one that we are fairly sure works (or maybe
"javaw.exe") and change the binary to "Tomcat7.exe".

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHQSAACgkQ9CaO5/Lv0PBckgCgiokfKX6mwgJAgq4F27+XwTSn
7/QAn2LEqDU2JQ1JLrtyNOwihTv2Kv42
=1GjK
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:06:11 2012
Return-Path: <users-return-238557-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AD523D6E6
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:06:11 +0000 (UTC)
Received: (qmail 62954 invoked by uid 500); 11 Dec 2012 15:06:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62836 invoked by uid 500); 11 Dec 2012 15:06:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62805 invoked by uid 99); 11 Dec 2012 15:06:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:06:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:05:58 +0000
Received: from [192.168.245.129] (p549E8F28.dip0.t-ipconnect.de [84.158.143.40])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id A71B13C0677
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 16:06:30 +0100 (CET)
Message-ID: <50C74BBE.7000309@ice-sa.com>
Date: Tue, 11 Dec 2012 16:05:34 +0100
From: =?windows-1252?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Running Tomcat Behind Apache HTTP Server
References: <CAKxkzo7rXJybpz4y9uM_vVpanQOCagFD+3p5=5ZhPNBBgw1dsw@mail.gmail.com>	<CAMf3F8GrNQiUqoP-hJ6TAuqS0-bYks8RvgVGdKMWhcZ0B_puMA@mail.gmail.com>	<50C66579.1060402@ice-sa.com> <CAKxkzo60nD2zH4KnoW_7YqVtytsrk+uYTA_BTk7CKE=UXLb7Ug@mail.gmail.com>
In-Reply-To: <CAKxkzo60nD2zH4KnoW_7YqVtytsrk+uYTA_BTk7CKE=UXLb7Ug@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Dhruva Reddy wrote:
> Thanks, André, for your response.
> 
> To give you a little more context, I needed to get this working as soon as
> possible, which I basically have.  Eventually, yes, I want the static
> content to be served by HTTPD, and the dynamic content to be served by
> Tomcat.  I did not want to deploy my application as ROOT, for reasons that,
> now that I think about it, don't really make sense.
> 
> Anyway, your clue about the Directory directive was very helpful.  It
> turned out that my rewrite rules were being ignored.  I ended up with two
> rules, each on the condition that the request URI does not already contain
> the context.  I settled on the following (I'm running a Grails application
> which automagically recognizes the "html" extension):
> 
> RewriteEngine On
> RewriteCond $0 !^/application/(.*)
> RewriteRule ^(.*)/$ ajp://localhost:8009/application/$1 [P]
> RewriteCond $0 !^/application/(.*)
> RewriteRule ^(.*)\.html$ ajp://localhost:8009/application$1.html [P]
> 
> I know I still have some work to do, but at least I now have it basically
> working.
> 
Good if it works. You did not originally specify which Apache-Tomcat connector you were 
using, so I took a potshot and guessed mod_jk, wrongly.

About the rules above :
- what happens when the URL already starts with "/application" ?
- the capture part in the RewriteCond above does not seem to be necessary, as you are 
testing for a "not match", so whatever is captured wouldn't be useful anyway.
- what happens when the Tomcat webapp returns a redirect ?
   Do you have some ProxyPassReverse directive for that ?

If I may comment, I believe that by forwarding "/" to tomcat's "/application", and 
afterward having other sub-sections of "/" not being forwarded to Tomcat, you are setting 
yourself up for a lot of complications later on.
A lot of directive's effects in Apache are "inherited" from a top location to 
sub-locations by default, and you are going to find yourself obliged to countermand this 
inheritance in each sub-section. When you start mixing this with the relative paths that 
tomcat will generate for embedded images etc, and with (maybe) authentication and 
access-control, you'll be in for a treat.
If you are just starting this website's setup, it may be better to pause and think of a 
simpler layout.
Just my two cent.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:15:08 2012
Return-Path: <users-return-238558-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ED839D71C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:15:07 +0000 (UTC)
Received: (qmail 89263 invoked by uid 500); 11 Dec 2012 15:15:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89226 invoked by uid 500); 11 Dec 2012 15:15:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89200 invoked by uid 99); 11 Dec 2012 15:15:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:15:03 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:14:57 +0000
Received: from omta22.westchester.pa.mail.comcast.net ([76.96.62.73])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id aBgY1k00A1ap0As5FFEc6T; Tue, 11 Dec 2012 15:14:36 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta22.westchester.pa.mail.comcast.net with comcast
	id aFEZ1k00B38FjT13iFEa0D; Tue, 11 Dec 2012 15:14:36 +0000
Message-ID: <50C74DD9.8050605@christopherschultz.net>
Date: Tue, 11 Dec 2012 10:14:33 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Why are Tomcat's threads more costly than background threads?
References: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com>
In-Reply-To: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355238876;
	bh=hsrrB4xLlBOhFjSGR3nx0XtggFtsfzLeyUrrbs325q4=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=k2s3zg8+Y6IMGQQCQNLtsbbyRDMnfGYkwVVL/lOeb31+KPbd/W8IJMw+nRvg9xmZk
	 2eH4iJlg9TT2ZVzruawqButue+HIKQMG7tVysiBr0DsNtak44erNFmEcQm+DLocEtw
	 +c29IuCS35ml7FOEiiGtQAsPDcco7DhLLBDsMJ7zRMhrCZF4Tj9cYUzg79oTr8CJbP
	 GLKWpW8ifVaufssF7BGjqzr8mFNBMEkMhs9UKeJiLZL+hmZ4IxtSHT+7qU4QP9cVRo
	 rT7rN10ex5KfqaQ9MsUIWFth7LD8h7OwCFx9MjMtKkmeEk3wqDll8caCl6656iXIyf
	 EscqAfYK5Z6Dw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Julien,

Warning: this is long. Like, AndrÃ©-or-Mark-Eggers long.

On 12/11/12 7:30 AM, Julien Martin wrote:
> I am in reference to the following blog entry: Blog 
> entry<http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducing-servlet-3-async-support>
>
> 
about Spring MVC 3.2 asynchronous support.
> 
> I understand Tomcat uses a thread pool in order to serve http/web
> requests. Furthermore, the above article seems to indicate that
> Spring MVC asynchronous support relieves Tomcat's thread pool and
> allows for better concurrency in the webapp by using background
> threads for "heavy-lift" operations.

I believe you are misinterpreting what that post has to say. It's not
that a "background" thread itself is more efficient, it's that
processing that does not need to communicate with the client can be
de-coupled from the request-processing thread-pool that exists for
that purpose.

An example - right from the blog post - will make much more sense than
what I wrote above. Let's take the example of sending an email
message. First, some assumptions:

1. Sending an email takes a long time (say, 5 seconds)
2. The client does not need confirmation that the email has been sent

If your were to write a "classic" servlet, it would look something
like this:

doPost() {
  validateOrder();

  queueOrder();

  sendOrderConfirmation(); // This is the email

  response.sendRedirect("/order_complete.jsp");
}

Let's say that validation takes 500ms, queuing takes 800ms, and
emailing (as above) takes 5000ms. That means that the request, from
the client perspective, takes 6300ms (6.3 sec). That's a noticeable delay.

Also, during that whole time, a single request-processing thread (from
Tomcat's thread pool) is tied-up, meaning that no other requests can
be processed by that same thread.

If you have a thread pool of size=1 (foolish, yet instructive), it
means you can only process a single transaction every 6.3 seconds.

Lets re-write the servlet with a background thread -- no
"asynchronous" stuff from the servlet API, but just with a simple
background thread:

doPost() {
  validateOrder();

  queueOrder();

  (new Thread() {
    public void run() {
      sendOrderConfirmation();
    }
  }).start();

  response.sendRedirect("order_complete.jsp");
}

So, now the email is being sent by a background thread: the response
returns to the client after 1.3 seconds which is a significant
improvement. Now, we can handle a request once every 1.3 seconds with
a request-processing thread-pool of size=1.

Note that a better implementation of the above would be to use a
thread pool for this sort of thing instead of creating a new thread
for every request. This is what Spring provides. It's not that Spring
can do a better job of thread management, it's that Tomcat's thread
pool is special: it's the only one that can actually dispatch client
requests. Off-loading onto another thread pool for background
processing means more client requests can be handled with a smaller
(or same-sized) pool.

Looking above, you might notice that the validateOrder() and
queueOrder() processes still take some time (1.3 seconds) to complete,
and there is no interaction with the client during that time -- the
client is just sitting there waiting for a response. Work is still
getting done on the server, of course, but there's no real reason that
the request-processing thread has to be the one doing that work: we
can delegate the entire thing to a background thread so the
request-processor thread can get back to dispatching new requests.

This is where servlet 3.0 async comes into play.

Let's re-write the servlet as an asynchronous one. I've never actually
written one, so I'm sure the details are going to be wrong, but the
idea is the same. This time, we'll do everything asynchronously.

doPost() {
  final AsyncContext ctx = request.startAsync();

  (new Thread() {
    public void run() {
      validateOrder();
      queueOrder();
      sendOrderConfirmation();

      ctx.getResponse().sendRedirect("/order_complete.jsp");

      ctx.complete();
    }
  }).start();
}

So, how what happens? When startAsync is called, an AsyncContext is
created and basically the request and response are packaged-up for
later use. The doPost method creates a new thread and starts it (or it
may start a few ms later), then returns from doPost. At this point,
the request-processor thread has only spent a few ms (let's say 5ms)
setting up the request and then it goes back into Tomcat's thread-pool
and can accept another request. Meanwhile, the "background" thread
will process the actual transaction.

Let's assume that nothing in the run() method above interacts in any
way with the client. In the first example (no async), the client waits
the whole time for a response from the server, and the
request-processing thread does all the work. So, the client waits 6.3
seconds and the request-processing thread is "working" for 6.3 seconds.

In the async example, the client will probably still wait 6.3 seconds,
but the request-processing thread is back and ready for more client
requests after a tiny amount of time. Of course, the transaction is
not complete, yet.

The background thread will run and process the transaction, including
the 5-second email process. Once the email confirmation has been sent,
the background thread "sends" a redirect and completes the async
request. I'm not sure of the exact details, here, but either the
background thread itself (via getRequest().sendRedirect()) pushes the
response back to the client, or Tomcat fetches a request-processing
thread from the pool and uses that to do the same thing. I can't see
why the background-thread wouldn't do that itself, but it's up to the
container to determine who does what.

The point is that, when using asynchronous requests, fewer
request-processing threads can handle a whole lot of load. In the
async example, still with a thread-pool of size=1 and an async-setup
time of 5ms, that means that you can handle one client transaction
every 5ms. That's much better than every 6.3 seconds, don't you think?

(Note that this isn't magic: if your background threads are either
limited or your system can't handle the number of transactions you are
trying to asynchronously-process, eventually you'll still have
everyone waiting 6.3 seconds no matter what).

So, a recap of throughput (req/sec) of the above 3 implementations:

Standard:      .15873
Background:    .76923
Async:      200.00000

Using asynchronous dispatching can improve our throughput a huge
number of times.

It's worth repeating what I said earlier: if your server can't
actually handle this much load (200 emails per second, let's say),
then using asych isn't going to change anything. Honestly, this trick
only works when you have a lot of heterogeneous requests. For example,
maybe 10% of your traffic is handling orders as implemented above,
while the rest of your traffic is for much smaller sub-500ms-requests.
There's probably no reason to convert those short-running requests
into asynchronous operations. Only long-running processes with no
client interaction make any sense for this. If only 10% of your
requests are orders, that means that maybe you can process 20 orders
and 190 "small" requests per second. That's much better than, say,
waiting 6.3 seconds for a single order and then processing a single
short request, then another order and so on.

Just remember that once all request-processing threads are tied-up
doing something, everyone else waits in line. Asynchronous request
dispatching aims to run through the line as quickly as possible. It
does *not* improve the processing time of any one transaction.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHTdkACgkQ9CaO5/Lv0PDrNACgsaeHmBzr9RMSFuZX9ksX3g9d
bKYAniJzbqRjGBAjwxIYihvcyJYV5rIl
=l+ie
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:27:08 2012
Return-Path: <users-return-238559-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9F9B2DBA2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:27:08 +0000 (UTC)
Received: (qmail 39709 invoked by uid 500); 11 Dec 2012 15:27:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39535 invoked by uid 500); 11 Dec 2012 15:27:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39526 invoked by uid 99); 11 Dec 2012 15:27:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:27:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:26:57 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id aEAE1k0010SCNGk5FFSapS; Tue, 11 Dec 2012 15:26:34 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id aFSX1k00Y38FjT13VFSYqT; Tue, 11 Dec 2012 15:26:34 +0000
Message-ID: <50C750A7.6010304@christopherschultz.net>
Date: Tue, 11 Dec 2012 10:26:31 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JMX with Listener
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
In-Reply-To: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355239594;
	bh=pP3eBGVdSz1U0dpu83e8r/7XZyNlr9pZS+Yi+N6Bpd0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=MjFAId+Hl9bHhxudDwenNCQb+UbNtuTqrZDcuWGvdNAD37Ou/GtqE9vXhSMhVk+da
	 7VM1tniPJAUmhH3akny1N9AIiJ3Bsjl9Sw053Qa4BgqHEyi3cS+sZBl9Fp6nF3hXwN
	 NJtQfCCJJHRE1T9TQ1kK0HQ5tmW1WpRTnq4TwG5QxmU2aPOZVpAAlOpGT0QuzIeI9G
	 DjBY+MHdU0W8lT8s78mauzBGcHiKXIblUXntas2OQM0jmywGUpEL5o3wV57drxTww4
	 G1lCPU0IVuWWVuxCvNU2qTEl3wDwtfUfXOIoWoqUgTKR8knzLLQcPGDCd4NlqYSX5q
	 M5ILZpChljLdA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

CÃ©dric,

On 12/11/12 7:50 AM, CÃ©dric Couralet wrote:
> In our tomcat, we use at the moment the JMXRemoteLifecycleListener 
> configured as :
> 
> <Listener
> className="org.apache.catalina.mbeans.JmxRemoteLifecycleListener" 
> rmiRegistryPortPlatform="10001" rmiServerPortPlatform="10002"
> useLocalPorts="true" />

Okay.
> Now for my problems or questions: - Apparently, the Jmx listener
> listens on 0.0.0.0 (confirmed by a netstat) on the two ports
> configured for the listener, is it normal ? I thought that
> useLocalPorts would restrain the listening only to 127.0.0.1.

useLocalePorts /should/ force 127.0.0.1 (actually "localhost"...
whatever that resolves to on your server). Can you confirm that you
are editing the correct server.xml? If you edit it in one place and
then deploy it, please make sure you have the latest version installed
under CATALINA_BASE/conf.

> - with jvisualvm i am able to connect through jmx with the url 
> service:jmx:rmi://localhost:10002/jndi/rmi://localhost:10001/jmxrmi
>
> 
without entering the credentials (nagios:nagios).
> I thought that by entering 
> com.sun.management.jmxremote.authenticate=true, even read access
> would be restricted.

I think you need to double-check that you are actually using the
configuration you think you are.

Another note: using traditional JMX with Nagios is going to suck. You
are probably going to make, say, 5 connections to your server every
minute to check on things like heap size, request-time, etc. Each of
those connections requires a complete JMX connection which is not
cheap to make -- especially if the client is running on the same
server. That's 5 JVMs, 5 JMX connections, etc. every minute (or 5 or
whatever).

If you just want to make some quick checks, consider looking at the
JMXProxyServlet which is provided by the manager webapp. I believe it
will be a much lighter-weight solution (and does not require all of
this crazy setup to configure JMX authentication, etc.).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHUKcACgkQ9CaO5/Lv0PCYVgCfdhcR80DY4nO1QTHCnohhBul8
pmMAn0J1tFmswgyMAd4AXQBKyfNTMb1u
=BzhT
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:31:34 2012
Return-Path: <users-return-238560-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86E0BD979
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:31:34 +0000 (UTC)
Received: (qmail 68497 invoked by uid 500); 11 Dec 2012 15:31:31 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68326 invoked by uid 500); 11 Dec 2012 15:31:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68312 invoked by uid 99); 11 Dec 2012 15:31:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:31:30 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:31:22 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id aCfQ1k0020EZKEL5DFX1KU; Tue, 11 Dec 2012 15:31:01 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id aFWx1k00z38FjT13MFWzqf; Tue, 11 Dec 2012 15:31:01 +0000
Message-ID: <50C751B2.4020408@christopherschultz.net>
Date: Tue, 11 Dec 2012 10:30:58 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: NPE when starting up Embedded tomcat7
References: <BAY160-W2263E3501DABC38997BD618F490@phx.gbl>
In-Reply-To: <BAY160-W2263E3501DABC38997BD618F490@phx.gbl>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355239861;
	bh=o9uoSc1aI14bjNgz5UbSTVz5tyFSwxXCYg67uKBMP84=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=SUerSE+ifK4wjlp39RFM1nmrvKI1PgxRo+lXWKcNyYbSDsXnSUiUF/R4Udb9XiiAB
	 GfhSdRA284EI7W3MoJNQYb8CrJDi45voqX0JC15x+QG+TYTjw3NRVMIUmLWn4DetSk
	 kPkQuoArftgXtyVhBZrFtZsj0TRjyT+qIbf8Dct3bn4wMFvDM/AkAVgplj7jnrcOc2
	 queRMUWOsTkbQ/JwhoobPaVRmb3Cm0aTlw0Vk8lLoxMeVRHm6Q1gUY/Rzh9y0iD3uz
	 29oFxVsGivRgefgJIl5RjsEZId/cHdewxv5zAIUygriZvuNAUTSTiwOsvenSDYA40g
	 E5VR21CgCCKcg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Randy,

On 12/10/12 6:09 PM, Randy Toor wrote:
> I have an existing server which uses the Embedded class which I am 
> tasked with upgrading to tomcat7 (deprecated, but we'll be keeping
> it for the time being).

What part is deprecated? The Embedded class itself? Why not just
switch-over to using the Tomcat class? It's much easier to use and now
would be the time to make the switch.

> There were some small changes to the code to fix API breaks but
> the startup stuff is the same.  When I start up the container I am
> now seeing this -
> 
> INFO: Starting tomcat server 
> org.apache.catalina.startup.Embedded||Dec 7, 2012 12:09:49 PM
> org.apache.catalina.startup.Embedded startInternal INFO: Catalina
> naming disabled Dec 7, 2012 12:09:49 PM
> org.apache.catalina.core.StandardEngine startInternal INFO:
> Starting Servlet Engine: Apache Tomcat/7.0.32 Dec 7, 2012 12:09:49
> PM org.apache.catalina.util.LifecycleBase start INFO: The start()
> method was called on component [Realm[NullRealm]] after start() had
> already been called. The second call will be ignored. 
> org.apache.catalina.util.LifecycleBase||Dec 7, 2012 12:09:49 PM
> org.apache.catalina.util.LifecycleBase start Dec 7, 2012 12:09:49
> PM org.apache.catalina.core.ContainerBase startInternal SEVERE: A
> child container failed during start 
> java.util.concurrent.ExecutionException:
> org.apache.catalina.LifecycleException: Failed to start component
> [StandardEngine[OSGiEngine].StandardHost[tomcathost].StandardContext[]]
>
> 
at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)
> at java.util.concurrent.FutureTask.get(FutureTask.java:83) at
> org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)
>
> 
at
org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)
> at
> org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
>
> 
at
org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
> at
> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
>
> 
at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
> at java.util.concurrent.FutureTask.run(FutureTask.java:138) at
> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
>
> 
at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
> at java.lang.Thread.run(Thread.java:743) Caused by:
> org.apache.catalina.LifecycleException: Failed to start component
> [StandardEngine[OSGiEngine].StandardHost[tomcathost].StandardContext[]]
>
> 
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)
> ... 7 more Caused by: java.lang.NullPointerException: while trying
> to invoke the method org.apache.catalina.Service.findConnectors()
> of an object loaded from local variable 's' at
> org.apache.catalina.core.ApplicationContext.populateSessionTrackingModes(ApplicationContext.java:1191)
>
> 
at
org.apache.catalina.core.ApplicationContext.<init>(ApplicationContext.java:125)
> at
> org.apache.catalina.core.StandardContext.getServletContext(StandardContext.java:2323)
>
> 
at
org.apache.catalina.core.StandardContext.postWorkDirectory(StandardContext.java:6062)
> at
> org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5102)
>
> 
at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
> ... 7 more org.apache.catalina.core.ContainerBase||Dec 7, 2012
> 12:09:49 PM org.apache.catalina.core.ContainerBase startInternal
> 
> 
> I looked into that particular line in ApplicationContext and I see
> this code is new in tomcat7 -
> 
> Service s = ((Engine)
> context.getParent().getParent()).getService(); Connector[]
> connectors = s.findConnectors();
> 
> 
> Looking at the API docs for Engine, it indicates that a Service
> does not necessarily need to be associated with an Engine (from the
> docs - "Set the Service with which we are associated (if any)". Am
> I missing a step now to prevent this? Or should there be a null
> check here?

Can your post your own code that uses the Embedded class? It will
probably be easier to spot a place where you've missed something
important (or have it out of order) than to just look at the stack
trace above and try to debug Tomcat in order to determine the original
mistake.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHUbIACgkQ9CaO5/Lv0PD+kQCfQ0i2evO0hn7g0E66MlpHpy4Q
jfsAnjOqNnKIHZRlK/zuDsr4VssZQVZR
=josl
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:39:25 2012
Return-Path: <users-return-238561-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3A77D9E7
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:39:25 +0000 (UTC)
Received: (qmail 861 invoked by uid 500); 11 Dec 2012 15:39:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 758 invoked by uid 500); 11 Dec 2012 15:39:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 640 invoked by uid 99); 11 Dec 2012 15:39:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:39:20 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.132 as permitted sender)
Received: from [216.82.241.132] (HELO mail45.messagelabs.com) (216.82.241.132)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:39:10 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-5.tower-45.messagelabs.com!1355240328!31275429!1
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 32529 invoked from network); 11 Dec 2012 15:38:49 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-5.tower-45.messagelabs.com with RC4-SHA encrypted SMTP; 11 Dec 2012 15:38:49 -0000
Received: from usea-nahubcas2.na.uis.unisys.com (129.224.76.115) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 11 Dec 2012 09:38:48 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas2.na.uis.unisys.com ([129.224.76.115]) with mapi; Tue, 11 Dec
 2012 09:38:48 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Tue, 11 Dec 2012 09:39:05 -0600
Subject: RE: JMX with Listener
Thread-Topic: JMX with Listener
Thread-Index: Ac3Xs/yRAHQrsvINR/eWHc9G/G5GmAAAWVXg
Message-ID: <99C8B2929B39C24493377AC7A121E21FC49748222F@USEA-EXCH8.na.uis.unisys.com>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
 <50C750A7.6010304@christopherschultz.net>
In-Reply-To: <50C750A7.6010304@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Christopher Schultz [mailto:chris@christopherschultz.net]=20
> Subject: Re: JMX with Listener

> > Now for my problems or questions: - Apparently, the Jmx listener
> > listens on 0.0.0.0 (confirmed by a netstat) on the two ports
> > configured for the listener, is it normal ? I thought that
> > useLocalPorts would restrain the listening only to 127.0.0.1.

> useLocalePorts /should/ force 127.0.0.1 (actually "localhost"...
> whatever that resolves to on your server).

Which brings up the point that the hosts file might have an incorrect entry=
 for "localhost" - that needs to be checked as well.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 15:50:18 2012
Return-Path: <users-return-238562-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9584CDA5C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 15:50:18 +0000 (UTC)
Received: (qmail 36543 invoked by uid 500); 11 Dec 2012 15:50:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36378 invoked by uid 500); 11 Dec 2012 15:50:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36352 invoked by uid 99); 11 Dec 2012 15:50:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:50:14 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of balteo@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 15:50:10 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so9783895iac.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 07:49:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1457k9qEpmmGABa8jVTR/Bbe9Kyqm0JKDKwTa8OcC1w=;
        b=tW/+0g8gDqQp2ncCx0TMcb5Y93dMHbGfZOd/eGoVoCG3qBCg7g1xN7TAMvHCVcNx2E
         A3qX8fFs8bMHIgAaZ6R03gdOtFL60FmmttvBzFAjtZtzuBpDSKcubB0xrWGdfS86lfyN
         kM7gG6BJpe+xmazxV435lKq1hhVptI6RHw/h/ktqOjuWFbGh7FCi+vc72vymL575YVgA
         rky4DZ0UNZcAH9vCkt8wKgfuby5FPPTD5Qlg80OucTA2uN7YIsLsjYcMdpQba3exXVN/
         4odAl9ktl/EE8RMlq4BK4yshfhbDRcOTLgveF79iyhWMfFIYOl85NcDV4bhX6weDI7FP
         sZZQ==
MIME-Version: 1.0
Received: by 10.50.15.134 with SMTP id x6mr10419058igc.27.1355240989704; Tue,
 11 Dec 2012 07:49:49 -0800 (PST)
Received: by 10.64.14.229 with HTTP; Tue, 11 Dec 2012 07:49:49 -0800 (PST)
In-Reply-To: <50C74DD9.8050605@christopherschultz.net>
References: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com>
	<50C74DD9.8050605@christopherschultz.net>
Date: Tue, 11 Dec 2012 16:49:49 +0100
Message-ID: <CA+uk_pLPjxW-6n6+_6RR9MRUiRTa-4eQDNbbStEK5qjdLEbFuQ@mail.gmail.com>
Subject: Re: Why are Tomcat's threads more costly than background threads?
From: Julien Martin <balteo@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340c47c6c11004d095a1b2
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340c47c6c11004d095a1b2
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Thank you very much for this exhaustive reply Christopher.

2012/12/11 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Julien,
>
> Warning: this is long. Like, Andr=E9-or-Mark-Eggers long.
>
> On 12/11/12 7:30 AM, Julien Martin wrote:
> > I am in reference to the following blog entry: Blog
> > entry<
> http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducin=
g-servlet-3-async-support
> >
> >
> >
> about Spring MVC 3.2 asynchronous support.
> >
> > I understand Tomcat uses a thread pool in order to serve http/web
> > requests. Furthermore, the above article seems to indicate that
> > Spring MVC asynchronous support relieves Tomcat's thread pool and
> > allows for better concurrency in the webapp by using background
> > threads for "heavy-lift" operations.
>
> I believe you are misinterpreting what that post has to say. It's not
> that a "background" thread itself is more efficient, it's that
> processing that does not need to communicate with the client can be
> de-coupled from the request-processing thread-pool that exists for
> that purpose.
>
> An example - right from the blog post - will make much more sense than
> what I wrote above. Let's take the example of sending an email
> message. First, some assumptions:
>
> 1. Sending an email takes a long time (say, 5 seconds)
> 2. The client does not need confirmation that the email has been sent
>
> If your were to write a "classic" servlet, it would look something
> like this:
>
> doPost() {
>   validateOrder();
>
>   queueOrder();
>
>   sendOrderConfirmation(); // This is the email
>
>   response.sendRedirect("/order_complete.jsp");
> }
>
> Let's say that validation takes 500ms, queuing takes 800ms, and
> emailing (as above) takes 5000ms. That means that the request, from
> the client perspective, takes 6300ms (6.3 sec). That's a noticeable delay=
.
>
> Also, during that whole time, a single request-processing thread (from
> Tomcat's thread pool) is tied-up, meaning that no other requests can
> be processed by that same thread.
>
> If you have a thread pool of size=3D1 (foolish, yet instructive), it
> means you can only process a single transaction every 6.3 seconds.
>
> Lets re-write the servlet with a background thread -- no
> "asynchronous" stuff from the servlet API, but just with a simple
> background thread:
>
> doPost() {
>   validateOrder();
>
>   queueOrder();
>
>   (new Thread() {
>     public void run() {
>       sendOrderConfirmation();
>     }
>   }).start();
>
>   response.sendRedirect("order_complete.jsp");
> }
>
> So, now the email is being sent by a background thread: the response
> returns to the client after 1.3 seconds which is a significant
> improvement. Now, we can handle a request once every 1.3 seconds with
> a request-processing thread-pool of size=3D1.
>
> Note that a better implementation of the above would be to use a
> thread pool for this sort of thing instead of creating a new thread
> for every request. This is what Spring provides. It's not that Spring
> can do a better job of thread management, it's that Tomcat's thread
> pool is special: it's the only one that can actually dispatch client
> requests. Off-loading onto another thread pool for background
> processing means more client requests can be handled with a smaller
> (or same-sized) pool.
>
> Looking above, you might notice that the validateOrder() and
> queueOrder() processes still take some time (1.3 seconds) to complete,
> and there is no interaction with the client during that time -- the
> client is just sitting there waiting for a response. Work is still
> getting done on the server, of course, but there's no real reason that
> the request-processing thread has to be the one doing that work: we
> can delegate the entire thing to a background thread so the
> request-processor thread can get back to dispatching new requests.
>
> This is where servlet 3.0 async comes into play.
>
> Let's re-write the servlet as an asynchronous one. I've never actually
> written one, so I'm sure the details are going to be wrong, but the
> idea is the same. This time, we'll do everything asynchronously.
>
> doPost() {
>   final AsyncContext ctx =3D request.startAsync();
>
>   (new Thread() {
>     public void run() {
>       validateOrder();
>       queueOrder();
>       sendOrderConfirmation();
>
>       ctx.getResponse().sendRedirect("/order_complete.jsp");
>
>       ctx.complete();
>     }
>   }).start();
> }
>
> So, how what happens? When startAsync is called, an AsyncContext is
> created and basically the request and response are packaged-up for
> later use. The doPost method creates a new thread and starts it (or it
> may start a few ms later), then returns from doPost. At this point,
> the request-processor thread has only spent a few ms (let's say 5ms)
> setting up the request and then it goes back into Tomcat's thread-pool
> and can accept another request. Meanwhile, the "background" thread
> will process the actual transaction.
>
> Let's assume that nothing in the run() method above interacts in any
> way with the client. In the first example (no async), the client waits
> the whole time for a response from the server, and the
> request-processing thread does all the work. So, the client waits 6.3
> seconds and the request-processing thread is "working" for 6.3 seconds.
>
> In the async example, the client will probably still wait 6.3 seconds,
> but the request-processing thread is back and ready for more client
> requests after a tiny amount of time. Of course, the transaction is
> not complete, yet.
>
> The background thread will run and process the transaction, including
> the 5-second email process. Once the email confirmation has been sent,
> the background thread "sends" a redirect and completes the async
> request. I'm not sure of the exact details, here, but either the
> background thread itself (via getRequest().sendRedirect()) pushes the
> response back to the client, or Tomcat fetches a request-processing
> thread from the pool and uses that to do the same thing. I can't see
> why the background-thread wouldn't do that itself, but it's up to the
> container to determine who does what.
>
> The point is that, when using asynchronous requests, fewer
> request-processing threads can handle a whole lot of load. In the
> async example, still with a thread-pool of size=3D1 and an async-setup
> time of 5ms, that means that you can handle one client transaction
> every 5ms. That's much better than every 6.3 seconds, don't you think?
>
> (Note that this isn't magic: if your background threads are either
> limited or your system can't handle the number of transactions you are
> trying to asynchronously-process, eventually you'll still have
> everyone waiting 6.3 seconds no matter what).
>
> So, a recap of throughput (req/sec) of the above 3 implementations:
>
> Standard:      .15873
> Background:    .76923
> Async:      200.00000
>
> Using asynchronous dispatching can improve our throughput a huge
> number of times.
>
> It's worth repeating what I said earlier: if your server can't
> actually handle this much load (200 emails per second, let's say),
> then using asych isn't going to change anything. Honestly, this trick
> only works when you have a lot of heterogeneous requests. For example,
> maybe 10% of your traffic is handling orders as implemented above,
> while the rest of your traffic is for much smaller sub-500ms-requests.
> There's probably no reason to convert those short-running requests
> into asynchronous operations. Only long-running processes with no
> client interaction make any sense for this. If only 10% of your
> requests are orders, that means that maybe you can process 20 orders
> and 190 "small" requests per second. That's much better than, say,
> waiting 6.3 seconds for a single order and then processing a single
> short request, then another order and so on.
>
> Just remember that once all request-processing threads are tied-up
> doing something, everyone else waits in line. Asynchronous request
> dispatching aims to run through the line as quickly as possible. It
> does *not* improve the processing time of any one transaction.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDHTdkACgkQ9CaO5/Lv0PDrNACgsaeHmBzr9RMSFuZX9ksX3g9d
> bKYAniJzbqRjGBAjwxIYihvcyJYV5rIl
> =3Dl+ie
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae9340c47c6c11004d095a1b2--

From users-return-238563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 16:02:18 2012
Return-Path: <users-return-238563-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75A36DB26
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 16:02:18 +0000 (UTC)
Received: (qmail 82517 invoked by uid 500); 11 Dec 2012 16:02:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 82293 invoked by uid 500); 11 Dec 2012 16:02:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 82281 invoked by uid 99); 11 Dec 2012 16:02:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:02:14 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of smithh032772@gmail.com designates 209.85.212.173 as permitted sender)
Received: from [209.85.212.173] (HELO mail-wi0-f173.google.com) (209.85.212.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:02:09 +0000
Received: by mail-wi0-f173.google.com with SMTP id hn17so1821434wib.0
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 08:01:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=F1rTd2hbi/cp82U0/Yy4zJwL492U/xBUKURF94NCYAg=;
        b=AE6IOEKz9gY53d5k05QoobtQP0I58n7jlbv2PaYVDmONaCP9iYZwvCR/7M5sTnT9Wc
         jXOQmhaJnn/bYh+ajG+0PKEnmVZFDB2QhncRyYDKH915sR0ockLi8fRA8JZGVyB+XBdH
         VtQI3x3PxQQl3pUPK2VVJwJN2d4rmEkqWhS8kttMnyiD3x/Sm2QSonWtY7o2OZkm2LkZ
         u7NFkKkWgTFwaDxBfRwofHGhJPMavI4ZisCcbZ+t9XsFLXGtYTEdfykovLaN1WpBjwko
         2QjOZy3fc0MCw1lf5YAJzf/Mp59Kc4YD1cvEqMeNy9OkC8tlGsxikcPYZi+eMCz9MEoQ
         Vhzg==
MIME-Version: 1.0
Received: by 10.194.85.168 with SMTP id i8mr1289975wjz.18.1355241708461; Tue,
 11 Dec 2012 08:01:48 -0800 (PST)
Received: by 10.194.137.37 with HTTP; Tue, 11 Dec 2012 08:01:48 -0800 (PST)
In-Reply-To: <CA+uk_pLPjxW-6n6+_6RR9MRUiRTa-4eQDNbbStEK5qjdLEbFuQ@mail.gmail.com>
References: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com>
	<50C74DD9.8050605@christopherschultz.net>
	<CA+uk_pLPjxW-6n6+_6RR9MRUiRTa-4eQDNbbStEK5qjdLEbFuQ@mail.gmail.com>
Date: Tue, 11 Dec 2012 11:01:48 -0500
Message-ID: <CAGV1rDLsjFMO36U4iefUO-2Jc76nKBWChkUQOvvjh7RzJ1_V-Q@mail.gmail.com>
Subject: Re: Why are Tomcat's threads more costly than background threads?
From: "Howard W. Smith, Jr." <smithh032772@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>, users@openejb.apache.org
Content-Type: multipart/alternative; boundary=089e010d7efc9e1cf804d095cc8d
X-Virus-Checked: Checked by ClamAV on apache.org

--089e010d7efc9e1cf804d095cc8d
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Wow, i'm reading this now, because I just experienced an issue on my
production server that is TomEE 1.5.1 (Tomcat 7.0.34), and the whole server
locked up all because I had a @Stateless EJB inserting data into multiple
tables in the database, because @Schedule timed event triggered the EJB to
check email server for incoming (customer) requests, and it literally took
down the server. I was on it as well as few other endusers, and then one
enduser captured a LOCK error and the screen capture (photo/pic) had an
error message that showed a long SQL query with datatable table and column
names t0..., t0...

What I primarily saw was the word 'lock' at the top of that, and we
definitely experienced a lockup. I'm about to check server logs and read
this article.

The @Stateless EJB had one transaction (entitymanager / persistence
context) that made database updates to multiple tables in the database. I
am only using entitymanager.persist(), flush(), and few lookups/queries
during that process.

But other endusers (including myself) could not do simple queries against
the database at all. Most of my queries contain query hints (readonly,
statement caching).

Also, I never seen this behavior at all, but this is first time I added
@Stateless EJB along with @Schedule that does database updates 'during
business hours'. I thought this would be a no-brainer, but I guess it's
not. Again, the server is TomEE 1.5.1 (tomcat 7.0.34).

Any advise, then please let me know. Onto reading this post now. Thanks. :)



On Tue, Dec 11, 2012 at 10:49 AM, Julien Martin <balteo@gmail.com> wrote:

> Thank you very much for this exhaustive reply Christopher.
>
> 2012/12/11 Christopher Schultz <chris@christopherschultz.net>
>
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA256
> >
> > Julien,
> >
> > Warning: this is long. Like, Andr=E9-or-Mark-Eggers long.
> >
> > On 12/11/12 7:30 AM, Julien Martin wrote:
> > > I am in reference to the following blog entry: Blog
> > > entry<
> >
> http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducin=
g-servlet-3-async-support
> > >
> > >
> > >
> > about Spring MVC 3.2 asynchronous support.
> > >
> > > I understand Tomcat uses a thread pool in order to serve http/web
> > > requests. Furthermore, the above article seems to indicate that
> > > Spring MVC asynchronous support relieves Tomcat's thread pool and
> > > allows for better concurrency in the webapp by using background
> > > threads for "heavy-lift" operations.
> >
> > I believe you are misinterpreting what that post has to say. It's not
> > that a "background" thread itself is more efficient, it's that
> > processing that does not need to communicate with the client can be
> > de-coupled from the request-processing thread-pool that exists for
> > that purpose.
> >
> > An example - right from the blog post - will make much more sense than
> > what I wrote above. Let's take the example of sending an email
> > message. First, some assumptions:
> >
> > 1. Sending an email takes a long time (say, 5 seconds)
> > 2. The client does not need confirmation that the email has been sent
> >
> > If your were to write a "classic" servlet, it would look something
> > like this:
> >
> > doPost() {
> >   validateOrder();
> >
> >   queueOrder();
> >
> >   sendOrderConfirmation(); // This is the email
> >
> >   response.sendRedirect("/order_complete.jsp");
> > }
> >
> > Let's say that validation takes 500ms, queuing takes 800ms, and
> > emailing (as above) takes 5000ms. That means that the request, from
> > the client perspective, takes 6300ms (6.3 sec). That's a noticeable
> delay.
> >
> > Also, during that whole time, a single request-processing thread (from
> > Tomcat's thread pool) is tied-up, meaning that no other requests can
> > be processed by that same thread.
> >
> > If you have a thread pool of size=3D1 (foolish, yet instructive), it
> > means you can only process a single transaction every 6.3 seconds.
> >
> > Lets re-write the servlet with a background thread -- no
> > "asynchronous" stuff from the servlet API, but just with a simple
> > background thread:
> >
> > doPost() {
> >   validateOrder();
> >
> >   queueOrder();
> >
> >   (new Thread() {
> >     public void run() {
> >       sendOrderConfirmation();
> >     }
> >   }).start();
> >
> >   response.sendRedirect("order_complete.jsp");
> > }
> >
> > So, now the email is being sent by a background thread: the response
> > returns to the client after 1.3 seconds which is a significant
> > improvement. Now, we can handle a request once every 1.3 seconds with
> > a request-processing thread-pool of size=3D1.
> >
> > Note that a better implementation of the above would be to use a
> > thread pool for this sort of thing instead of creating a new thread
> > for every request. This is what Spring provides. It's not that Spring
> > can do a better job of thread management, it's that Tomcat's thread
> > pool is special: it's the only one that can actually dispatch client
> > requests. Off-loading onto another thread pool for background
> > processing means more client requests can be handled with a smaller
> > (or same-sized) pool.
> >
> > Looking above, you might notice that the validateOrder() and
> > queueOrder() processes still take some time (1.3 seconds) to complete,
> > and there is no interaction with the client during that time -- the
> > client is just sitting there waiting for a response. Work is still
> > getting done on the server, of course, but there's no real reason that
> > the request-processing thread has to be the one doing that work: we
> > can delegate the entire thing to a background thread so the
> > request-processor thread can get back to dispatching new requests.
> >
> > This is where servlet 3.0 async comes into play.
> >
> > Let's re-write the servlet as an asynchronous one. I've never actually
> > written one, so I'm sure the details are going to be wrong, but the
> > idea is the same. This time, we'll do everything asynchronously.
> >
> > doPost() {
> >   final AsyncContext ctx =3D request.startAsync();
> >
> >   (new Thread() {
> >     public void run() {
> >       validateOrder();
> >       queueOrder();
> >       sendOrderConfirmation();
> >
> >       ctx.getResponse().sendRedirect("/order_complete.jsp");
> >
> >       ctx.complete();
> >     }
> >   }).start();
> > }
> >
> > So, how what happens? When startAsync is called, an AsyncContext is
> > created and basically the request and response are packaged-up for
> > later use. The doPost method creates a new thread and starts it (or it
> > may start a few ms later), then returns from doPost. At this point,
> > the request-processor thread has only spent a few ms (let's say 5ms)
> > setting up the request and then it goes back into Tomcat's thread-pool
> > and can accept another request. Meanwhile, the "background" thread
> > will process the actual transaction.
> >
> > Let's assume that nothing in the run() method above interacts in any
> > way with the client. In the first example (no async), the client waits
> > the whole time for a response from the server, and the
> > request-processing thread does all the work. So, the client waits 6.3
> > seconds and the request-processing thread is "working" for 6.3 seconds.
> >
> > In the async example, the client will probably still wait 6.3 seconds,
> > but the request-processing thread is back and ready for more client
> > requests after a tiny amount of time. Of course, the transaction is
> > not complete, yet.
> >
> > The background thread will run and process the transaction, including
> > the 5-second email process. Once the email confirmation has been sent,
> > the background thread "sends" a redirect and completes the async
> > request. I'm not sure of the exact details, here, but either the
> > background thread itself (via getRequest().sendRedirect()) pushes the
> > response back to the client, or Tomcat fetches a request-processing
> > thread from the pool and uses that to do the same thing. I can't see
> > why the background-thread wouldn't do that itself, but it's up to the
> > container to determine who does what.
> >
> > The point is that, when using asynchronous requests, fewer
> > request-processing threads can handle a whole lot of load. In the
> > async example, still with a thread-pool of size=3D1 and an async-setup
> > time of 5ms, that means that you can handle one client transaction
> > every 5ms. That's much better than every 6.3 seconds, don't you think?
> >
> > (Note that this isn't magic: if your background threads are either
> > limited or your system can't handle the number of transactions you are
> > trying to asynchronously-process, eventually you'll still have
> > everyone waiting 6.3 seconds no matter what).
> >
> > So, a recap of throughput (req/sec) of the above 3 implementations:
> >
> > Standard:      .15873
> > Background:    .76923
> > Async:      200.00000
> >
> > Using asynchronous dispatching can improve our throughput a huge
> > number of times.
> >
> > It's worth repeating what I said earlier: if your server can't
> > actually handle this much load (200 emails per second, let's say),
> > then using asych isn't going to change anything. Honestly, this trick
> > only works when you have a lot of heterogeneous requests. For example,
> > maybe 10% of your traffic is handling orders as implemented above,
> > while the rest of your traffic is for much smaller sub-500ms-requests.
> > There's probably no reason to convert those short-running requests
> > into asynchronous operations. Only long-running processes with no
> > client interaction make any sense for this. If only 10% of your
> > requests are orders, that means that maybe you can process 20 orders
> > and 190 "small" requests per second. That's much better than, say,
> > waiting 6.3 seconds for a single order and then processing a single
> > short request, then another order and so on.
> >
> > Just remember that once all request-processing threads are tied-up
> > doing something, everyone else waits in line. Asynchronous request
> > dispatching aims to run through the line as quickly as possible. It
> > does *not* improve the processing time of any one transaction.
> >
> > - -chris
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> >
> > iEYEAREIAAYFAlDHTdkACgkQ9CaO5/Lv0PDrNACgsaeHmBzr9RMSFuZX9ksX3g9d
> > bKYAniJzbqRjGBAjwxIYihvcyJYV5rIl
> > =3Dl+ie
> > -----END PGP SIGNATURE-----
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
> >
>

--089e010d7efc9e1cf804d095cc8d--

From users-return-238564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 16:17:25 2012
Return-Path: <users-return-238564-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1942ADBA5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 16:17:25 +0000 (UTC)
Received: (qmail 43307 invoked by uid 500); 11 Dec 2012 16:17:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42966 invoked by uid 500); 11 Dec 2012 16:17:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42940 invoked by uid 99); 11 Dec 2012 16:17:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:17:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.139.212.166] (HELO nm7.bullet.mail.bf1.yahoo.com) (98.139.212.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:17:12 +0000
Received: from [98.139.212.152] by nm7.bullet.mail.bf1.yahoo.com with NNFMP; 11 Dec 2012 16:16:51 -0000
Received: from [98.139.211.201] by tm9.bullet.mail.bf1.yahoo.com with NNFMP; 11 Dec 2012 16:16:51 -0000
Received: from [127.0.0.1] by smtp210.mail.bf1.yahoo.com with NNFMP; 11 Dec 2012 16:16:51 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355242611; bh=yk9gLMebPe1i63iDQS/qz9nGgc3FCqRZXT74iOT6MH4=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=oOkgbaMrnPtLFghp0+xoU3fRbSxFW+C2BHKKX+hADgeyzvwI8x0vvQLJjSrOH2g1mJsAxILcNBZSWPfGfXECW958Pyltgq77e5DnLfD2iinZDrqS3hauaDVE3N7UURjUD9Vhi+bqYG7wbauKgCErWQBfgnRO/1Ux8aDK03oR4zA=
X-Yahoo-Newman-Id: 564979.30716.bm@smtp210.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: DBXqJZEVM1n10OXlSYvKEMySTYJLPGiMdOh_TsW2jdD1hwJ
 pqun_iFI62erhieNqyfUj4V4AOkEBS.Bo_XlPZIO6BtstnPDn7fwVmMb3UWj
 SxqByioF_K8FPeh9c.PH58Aj16Qq4P0amcVxJCxq9DYD.69_CsV8KK19HrIN
 rEw7ehRwZRIUNhrNVoZmDvYBD3Vq5o4yLSKHixx9h4oHtisGDlOtGpRTYFaC
 axZax2rSh_Y9O0vkNMk06mhkQzaTV18b92FkN9UzPUzP2888l_AeeTvKhbrR
 6kFEWOSuqJWwREBkJCCaJpC_JZOzaPPi1nqA_nhy_N6ywyGyTxlYFLB1Nf9n
 ySIxn9Apj.daQKUf6PCy0pzVKc5q6ZM0nqM5WEhvOAW2dUDE9vkxf55TCCO.
 fUehDEMAK0C_73kv13hWf7HZCjm4GhW1AylkenApJr4I62pZBSCArJtxtnHc
 DSpvS8ZqhmTA4JwoylJjZs5vDGGtyrR5vSbFv91YwbgtLLpCqFtW.B7gC0HR
 n4LGm.Yot1QOLVabKAN_qS4e8aiifbliQpz0W4IGiaS9gXmDvD366nBQ0Vfr
 QCwYYK1rl9XmwVu.uijILjNo3k0cjSCBKpVAkciZ5uo95WWBB5mewQV79wt4
 -
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp210.mail.bf1.yahoo.com with SMTP; 11 Dec 2012 08:16:51 -0800 PST
Message-ID: <50C75C6A.3030000@yahoo.com>
Date: Tue, 11 Dec 2012 08:16:42 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Why are Tomcat's threads more costly than background threads?
References: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com> <50C74DD9.8050605@christopherschultz.net>
In-Reply-To: <50C74DD9.8050605@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/11/2012 7:14 AM, Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Julien,
>
> Warning: this is long. Like, AndrÃ©-or-Mark-Eggers long.
>

Ouch (not really, thanks for the chuckle). Hemingway I am not, thorough 
I try to be.

Very nice explanation. This may be useful for managing some long-running 
financial calculations on a client's web site (and convince them to 
manage more server-side rather than Javascript / client side).

> On 12/11/12 7:30 AM, Julien Martin wrote:
>> I am in reference to the following blog entry: Blog
>> entry<http://blog.springsource.org/2012/05/06/spring-mvc-3-2-preview-introducing-servlet-3-async-support>
>>
>>
> about Spring MVC 3.2 asynchronous support.
>>
>> I understand Tomcat uses a thread pool in order to serve http/web
>> requests. Furthermore, the above article seems to indicate that
>> Spring MVC asynchronous support relieves Tomcat's thread pool and
>> allows for better concurrency in the webapp by using background
>> threads for "heavy-lift" operations.
>
> I believe you are misinterpreting what that post has to say. It's not
> that a "background" thread itself is more efficient, it's that
> processing that does not need to communicate with the client can be
> de-coupled from the request-processing thread-pool that exists for
> that purpose.
>
> An example - right from the blog post - will make much more sense than
> what I wrote above. Let's take the example of sending an email
> message. First, some assumptions:
>
> 1. Sending an email takes a long time (say, 5 seconds)
> 2. The client does not need confirmation that the email has been sent
>
> If your were to write a "classic" servlet, it would look something
> like this:
>
> doPost() {
>    validateOrder();
>
>    queueOrder();
>
>    sendOrderConfirmation(); // This is the email
>
>    response.sendRedirect("/order_complete.jsp");
> }
>
> Let's say that validation takes 500ms, queuing takes 800ms, and
> emailing (as above) takes 5000ms. That means that the request, from
> the client perspective, takes 6300ms (6.3 sec). That's a noticeable delay.
>
> Also, during that whole time, a single request-processing thread (from
> Tomcat's thread pool) is tied-up, meaning that no other requests can
> be processed by that same thread.
>
> If you have a thread pool of size=1 (foolish, yet instructive), it
> means you can only process a single transaction every 6.3 seconds.
>
> Lets re-write the servlet with a background thread -- no
> "asynchronous" stuff from the servlet API, but just with a simple
> background thread:
>
> doPost() {
>    validateOrder();
>
>    queueOrder();
>
>    (new Thread() {
>      public void run() {
>        sendOrderConfirmation();
>      }
>    }).start();
>
>    response.sendRedirect("order_complete.jsp");
> }
>
> So, now the email is being sent by a background thread: the response
> returns to the client after 1.3 seconds which is a significant
> improvement. Now, we can handle a request once every 1.3 seconds with
> a request-processing thread-pool of size=1.
>
> Note that a better implementation of the above would be to use a
> thread pool for this sort of thing instead of creating a new thread
> for every request. This is what Spring provides. It's not that Spring
> can do a better job of thread management, it's that Tomcat's thread
> pool is special: it's the only one that can actually dispatch client
> requests. Off-loading onto another thread pool for background
> processing means more client requests can be handled with a smaller
> (or same-sized) pool.
>
> Looking above, you might notice that the validateOrder() and
> queueOrder() processes still take some time (1.3 seconds) to complete,
> and there is no interaction with the client during that time -- the
> client is just sitting there waiting for a response. Work is still
> getting done on the server, of course, but there's no real reason that
> the request-processing thread has to be the one doing that work: we
> can delegate the entire thing to a background thread so the
> request-processor thread can get back to dispatching new requests.
>
> This is where servlet 3.0 async comes into play.
>
> Let's re-write the servlet as an asynchronous one. I've never actually
> written one, so I'm sure the details are going to be wrong, but the
> idea is the same. This time, we'll do everything asynchronously.
>
> doPost() {
>    final AsyncContext ctx = request.startAsync();
>
>    (new Thread() {
>      public void run() {
>        validateOrder();
>        queueOrder();
>        sendOrderConfirmation();
>
>        ctx.getResponse().sendRedirect("/order_complete.jsp");
>
>        ctx.complete();
>      }
>    }).start();
> }
>
> So, how what happens? When startAsync is called, an AsyncContext is
> created and basically the request and response are packaged-up for
> later use. The doPost method creates a new thread and starts it (or it
> may start a few ms later), then returns from doPost. At this point,
> the request-processor thread has only spent a few ms (let's say 5ms)
> setting up the request and then it goes back into Tomcat's thread-pool
> and can accept another request. Meanwhile, the "background" thread
> will process the actual transaction.
>
> Let's assume that nothing in the run() method above interacts in any
> way with the client. In the first example (no async), the client waits
> the whole time for a response from the server, and the
> request-processing thread does all the work. So, the client waits 6.3
> seconds and the request-processing thread is "working" for 6.3 seconds.
>
> In the async example, the client will probably still wait 6.3 seconds,
> but the request-processing thread is back and ready for more client
> requests after a tiny amount of time. Of course, the transaction is
> not complete, yet.
>
> The background thread will run and process the transaction, including
> the 5-second email process. Once the email confirmation has been sent,
> the background thread "sends" a redirect and completes the async
> request. I'm not sure of the exact details, here, but either the
> background thread itself (via getRequest().sendRedirect()) pushes the
> response back to the client, or Tomcat fetches a request-processing
> thread from the pool and uses that to do the same thing. I can't see
> why the background-thread wouldn't do that itself, but it's up to the
> container to determine who does what.
>
> The point is that, when using asynchronous requests, fewer
> request-processing threads can handle a whole lot of load. In the
> async example, still with a thread-pool of size=1 and an async-setup
> time of 5ms, that means that you can handle one client transaction
> every 5ms. That's much better than every 6.3 seconds, don't you think?
>
> (Note that this isn't magic: if your background threads are either
> limited or your system can't handle the number of transactions you are
> trying to asynchronously-process, eventually you'll still have
> everyone waiting 6.3 seconds no matter what).
>
> So, a recap of throughput (req/sec) of the above 3 implementations:
>
> Standard:      .15873
> Background:    .76923
> Async:      200.00000
>
> Using asynchronous dispatching can improve our throughput a huge
> number of times.
>
> It's worth repeating what I said earlier: if your server can't
> actually handle this much load (200 emails per second, let's say),
> then using asych isn't going to change anything. Honestly, this trick
> only works when you have a lot of heterogeneous requests. For example,
> maybe 10% of your traffic is handling orders as implemented above,
> while the rest of your traffic is for much smaller sub-500ms-requests.

I suppose you could just up the thread pool in Tomcat. However, sooner 
or later you're going to run out of resources somewhere. It's probably 
less expensive overall to use the asynchronous method than to dump more 
threads into an Executor thread pool.

Testing would be good.

> There's probably no reason to convert those short-running requests
> into asynchronous operations. Only long-running processes with no
> client interaction make any sense for this. If only 10% of your
> requests are orders, that means that maybe you can process 20 orders
> and 190 "small" requests per second. That's much better than, say,
> waiting 6.3 seconds for a single order and then processing a single
> short request, then another order and so on.
>
> Just remember that once all request-processing threads are tied-up
> doing something, everyone else waits in line. Asynchronous request
> dispatching aims to run through the line as quickly as possible. It
> does *not* improve the processing time of any one transaction.
>
> - -chris

Again, nice explanation, and something more to try with Servlet spec 3.0.

. . . . being less verbose
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 16:44:07 2012
Return-Path: <users-return-238565-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4417FDEF4
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 16:44:07 +0000 (UTC)
Received: (qmail 43657 invoked by uid 500); 11 Dec 2012 16:44:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43535 invoked by uid 500); 11 Dec 2012 16:44:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43509 invoked by uid 99); 11 Dec 2012 16:44:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:44:02 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of quark122@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 16:43:55 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so18291023iej.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 08:43:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=axJ7HkK1ngIkXftl/UZaMM3JOBahoxB5ZSR/jvTl6d0=;
        b=bDyMLMec4hnC0jSzeKWYPUTLw6paZPz+/Dlxx8DmzOcQ6LqYoQK/PLCAZxs3AgrhT6
         U7eSQpgZcVC7aJ7Gxdw3dc02tZjZ6JdoZy/KSCg2JNFEaMVLeBBrSd3CSpbOfPPY+bsg
         RAxMKXYnveRRlFUg8gYAiY7mDCh3ImTIkmyjtrrE2lm4kG2kS6ZN/mt5eRNhk2oJ5olW
         0wNQBroQT7bP/ACbUPklpQ2bfInLxL405+ZKYjp7UwViVCIsupsXYENLfunx6qkB8Sb4
         +FZb32MpWNKdV6qPdFWlTOLechDPyQ0LQHiVm4VZ+iOEd3991aiK2+S+PiuJSOGABx9h
         M5gw==
MIME-Version: 1.0
Received: by 10.43.134.65 with SMTP id ib1mr14408693icc.12.1355244215384; Tue,
 11 Dec 2012 08:43:35 -0800 (PST)
Received: by 10.64.31.39 with HTTP; Tue, 11 Dec 2012 08:43:35 -0800 (PST)
Date: Tue, 11 Dec 2012 11:43:35 -0500
Message-ID: <CAN=ruA4L-6mOJQGL341XJtFCDwNy-n_B-Bh2cM=SC_kT2=iz+g@mail.gmail.com>
Subject: Revoked Certificate being accepted
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I have my Tomcat 6.0.34 installation configured to use APR and
tcnative for certificate valiation & CRL checking.

I have a revoked CRL and when I use the openssl command line to check
the certificate, it properly returns certificate revoked.

When I try going in through tomcat, however, it prompts for a
certificate to be selected and then once I select the revoked
certificate, it lets me into the application.

]# openssl verify -CApath /etc/ssl/certs -crl_check_all -verbose
-purpose sslclient TestThirtySeven_Revoked.pem
TestThirtySeven_Revoked.pem: C = US, O = <ORG>, OU = OU1, OU = OU2, OU
= OU3, CN = TESTThirtySeven.REVOKED.9000050001
error 23 at 0 depth lookup:certificate revoked

Connector info from Tomcat:
    <Connector port="8443"
               protocol="org.apache.coyote.http11.Http11AprProtocol"
               SSLEnabled="true"
               scheme="https"
               maxHttpHeaderSize="8192"
               maxThreads="150"
               minSpareThreads="25"
               maxSpareThreads="75"
               enableLookups="false"
               acceptCount="100"
               disableUploadTimeout="true"
               compression="on"
               compressableMimeType="text/html,text/xml,text/plain,text/css,text/
               javascript,application/xml,application/x-javascript,application/javascript"
               connectionTimeout="20000"
               secure="true"
               SSLCertificateFile="/etc/ssl/certs/servercrt01.crt"
               SSLCertificateKeyFile="/etc/ssl/certs/serverkey.pem"
               SSLPassword="password"
               SSLCACertificatePath="/etc/ssl/certs/"
               SSLVerifyClient="require"
               SSLCARevocationPath="/etc/ssl/certs/"
               sslProtocol="TLS"
               redirectPort="8443" />

The log file shows nothing related to CRL.

The /etc/ssl/certs directory has hash links to my CAs and CRLs.

Does it help if I hit the server with a baseball bat?


--Will

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 17:14:41 2012
Return-Path: <users-return-238566-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63A1FD015
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 17:14:41 +0000 (UTC)
Received: (qmail 54522 invoked by uid 500); 11 Dec 2012 17:14:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54218 invoked by uid 500); 11 Dec 2012 17:14:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54187 invoked by uid 99); 11 Dec 2012 17:14:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 17:14:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [206.53.176.3] (HELO qvbm1mx01.securecentre.com) (206.53.176.3)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 17:14:27 +0000
Received: from qvgoex01.qvglobal.local (unverified) by qvbm1mx01.securecentre.com
 (QVsweeper Scanned - www.quovadisglobal.com) with ESMTP id <Ta8975e52ee0a0b0415f44@qvbm1mx01.securecentre.com> for <users@tomcat.apache.org>;
 Tue, 11 Dec 2012 17:14:06 +0000
Received: from QVGOEX01.qvglobal.local ([fe80::4c66:d515:bd1e:6a22]) by
 qvgoex01.qvglobal.local ([fe80::4c66:d515:bd1e:6a22%10]) with mapi id
 14.01.0421.002; Tue, 11 Dec 2012 13:14:06 -0400
From: Oliver Zemann <O.Zemann@quovadisglobal.com>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Subject: Question regarding OpenSSL Version used in TC 7.x
Thread-Topic: Question regarding OpenSSL Version used in TC 7.x
Thread-Index: Ac3XwqTLOPJwMKkZSriqMHWL05PCHg==
Date: Tue, 11 Dec 2012 17:14:04 +0000
Message-ID: <508EF524320EFD4FA54512FD12344A3F2D981D@qvgoex01.qvglobal.local>
Accept-Language: en-US
Content-Language: de-DE
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
x-originating-ip: [192.168.22.113]
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature";
	micalg=SHA1; boundary="----=_NextPart_000_016B_01CDD7CB.4CE34C70"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_016B_01CDD7CB.4CE34C70
Content-Type: multipart/alternative;
	boundary="----=_NextPart_001_016C_01CDD7CB.4CE34C70"


------=_NextPart_001_016C_01CDD7CB.4CE34C70
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi, 

 

I would like to know if there is a list which version of TC (apr/native dll)
was compiled against which version of openssl. 

I just noticed that my TC 7.0.23 is displaying openssl version 0.9.8h which
has some known bugs. Its running on a win2k8 system installed as service. 

 

Thanks in advance.

 

Oli


------=_NextPart_001_016C_01CDD7CB.4CE34C70
Content-Type: text/html;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" =
xmlns:o=3D"urn:schemas-microsoft-com:office:office" =
xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" =
xmlns=3D"http://www.w3.org/TR/REC-html40"><head><META =
HTTP-EQUIV=3D"Content-Type" CONTENT=3D"text/html; =
charset=3Dus-ascii"><meta name=3DGenerator content=3D"Microsoft Word 15 =
(filtered medium)"><style><!--
/* Font Definitions */
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-fareast-language:EN-US;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:#954F72;
	text-decoration:underline;}
span.E-MailFormatvorlage17
	{mso-style-type:personal-compose;
	font-family:"Verdana","sans-serif";
	color:black;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri","sans-serif";
	mso-fareast-language:EN-US;}
@page WordSection1
	{size:612.0pt 792.0pt;
	margin:70.85pt 70.85pt 2.0cm 70.85pt;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DDE-CH =
link=3D"#0563C1" vlink=3D"#954F72"><div class=3DWordSection1><p =
class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
>Hi, <o:p></o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
>I would like to know if there is a list which version of TC (apr/native =
dll) was compiled against which version of openssl. =
<o:p></o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
>I just noticed that my TC 7.0.23 is displaying openssl version 0.9.8h =
which has some known bugs. Its running on a win2k8 system installed as =
service. <o:p></o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
>Thanks in advance.<o:p></o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span =
style=3D'font-size:10.0pt;font-family:"Verdana","sans-serif";color:black'=
>Oli</span><o:p></o:p></p></div></body></html>
------=_NextPart_001_016C_01CDD7CB.4CE34C70--

------=_NextPart_000_016B_01CDD7CB.4CE34C70
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIReTCCBXYw
ggReoAMCAQICBEIf1Z8wDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCQk0xGTAXBgNVBAoTEFF1
b1ZhZGlzIExpbWl0ZWQxJTAjBgNVBAsTHFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxLjAs
BgNVBAMTJVF1b1ZhZGlzIFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTAwNDA1MTc0
NDEzWhcNMjAwNDA1MTc0NDEzWjCBijELMAkGA1UEBhMCQ0gxLDAqBgNVBAoTI1F1b1ZhZGlzIFRy
dXN0bGluayBTd2l0emVybGFuZCBMdGQuMSgwJgYDVQQLEx9Jc3N1aW5nIENlcnRpZmljYXRpb24g
QXV0aG9yaXR5MSMwIQYDVQQDExpRdW9WYWRpcyBTd2lzcyBBZHZhbmNlZCBDQTCCAiIwDQYJKoZI
hvcNAQEBBQADggIPADCCAgoCggIBAJjVY06UmtcMMQ+oAYJFZCrz5C/4eAiwuQPn96+X3IKq/uGc
8gWXZelqta4MB24Qa0a3hlnk9S4W5YEtJ/9YPC5w3wqkFYkBKjMdCMXT4gZNRrYEcGvZw+arJou6
hmMD8XVWRY2k8KAJkkYz1rGprEG+Xww+W18JHC15SB4xRAz46lkEDMz6LMAoHDh5QXx2bPT0IpKQ
DiAvfNchjgyOqCXTKQD5vW4LucVG53Vn0vG+btt7FtrCcwst8c/LgPWHCCMFeqf8Ar+OL+RoV6bF
goikPKfN6KXanA4axnBDPuIpphBdP0fzYey9pWpYNtw3wvQpJXlNqzhCs7mtmaJ/6jAV/OVxncte
n1JF44um1mHC0+KW8chHy36/q+pT+9oPpsAAugPaLIg99NtC16OnFTTYIH+8781sB6N0UrVBooEw
/UAu8/tYVYAwWmCnTkuP25wnZnfFgGt6ixOg+QgdQB27HQYLOuZ3+qjkqJkt8fQWKlACWSucnuQQ
5HUJ+AfeUdfBT2WMDlIYLZplQDc2jZh+MqWGmuQJvOjvJB2FKiHzDPkP57Zw2RwcyMmR+ftVhTR8
ZzuI7YoRCwfn0a8B7tJnwr9kOb3A3bAOb9sC0nJzdtssVdsSII+XdyjDZufXNYGLQGoHU94LOGJI
I3ZDz/xRWxNu3UTMS/yWH5lqaGcPAgMBAAGjge0wgeowDwYDVR0TAQH/BAUwAwEB/zARBgNVHSAE
CjAIMAYGBFUdIAAwOgYIKwYBBQUHAQEELjAsMCoGCCsGAQUFBzABhh5odHRwOi8vb2NzcC5xdW92
YWRpc2dsb2JhbC5jb20wDgYDVR0PAQH/BAQDAgEGMB8GA1UdIwQYMBaAFItLbe3TKbkGGew5Oanw
l4Rqy+/fMDgGA1UdHwQxMC8wLaAroCmGJ2h0dHA6Ly9jcmwucXVvdmFkaXNnbG9iYWwuY29tL3F2
cmNhLmNybDAdBgNVHQ4EFgQUxpf/CBBncixMr+fvXmH6+wCyCrcwDQYJKoZIhvcNAQEFBQADggEB
AExopQxRFKu+gVVNGw6HHrrgiAOcZv0ci2WTtWijlM6shnM8k4PQNBmiRppAtKjUUzSNCao9dmup
qi7w+CdgLgSHyy91H3ro4xoIFBRU/uEm5nnD794i16Zv/ADqH8dIOulsQ3jj4ir1aT/lWf3cOoq7
YmdYSIvULuxcxEo4iOr6uwc7MwSU+72kNTEpp+EidSdWHFSmWcmuL/dT9zIfe9ipV/aMrgq7OYPr
X1iHoq0IwOTCbjQckbN6Ozqs20viA8IEwfrsZLvBbx67PsMNSeqElbd9+6Rf2KGDKOnB848S8fpO
MaoXSD0Min3BW8Xc1sXZjGpIHJwIGIXNlZSuWdMwggXQMIIEuKADAgECAgQ6tlCLMA0GCSqGSIb3
DQEBBQUAMH8xCzAJBgNVBAYTAkJNMRkwFwYDVQQKExBRdW9WYWRpcyBMaW1pdGVkMSUwIwYDVQQL
ExxSb290IENlcnRpZmljYXRpb24gQXV0aG9yaXR5MS4wLAYDVQQDEyVRdW9WYWRpcyBSb290IENl
cnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTAxMDMxOTE4MzMzM1oXDTIxMDMxNzE4MzMzM1owfzEL
MAkGA1UEBhMCQk0xGTAXBgNVBAoTEFF1b1ZhZGlzIExpbWl0ZWQxJTAjBgNVBAsTHFJvb3QgQ2Vy
dGlmaWNhdGlvbiBBdXRob3JpdHkxLjAsBgNVBAMTJVF1b1ZhZGlzIFJvb3QgQ2VydGlmaWNhdGlv
biBBdXRob3JpdHkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/YbWVU7pX/PryZws6
Gt8RgGSVtNG8zXrP9imWLiRUQCQ49xqF3FhMy6QnQpfQn4OKw+QGA1sApVEecAR04sHUOqvXrTsH
GAWO/YOs6mbZGBtoivVXGpi69e12PXzZ3pRqO0sXwdWPvWU4OpXQPVU2Tt95VzEqHthZZUlYIJh+
q19+n+nWTeyDdKnHbNjuKUqFKgYU+VTm09plB4tjNxLX0OzDeyBBRKPty6AX4XFlzh1mMfd2ARnI
fQNYtpVJHaYSJujGDHbg42bL6l2mJu7lzF+9Z6cBJw6iylTFsXqVHXEeSimKA9xqRcGkGV5vNs3D
orC3/lw44lK8+ERD5pC7AgMBAAGjggJSMIICTjA9BggrBgEFBQcBAQQxMC8wLQYIKwYBBQUHMAGG
IWh0dHBzOi8vb2NzcC5xdW92YWRpc29mZnNob3JlLmNvbTAPBgNVHRMBAf8EBTADAQH/MIIBGgYD
VR0gBIIBETCCAQ0wggEJBgkrBgEEAb5YAAEwgfswgdQGCCsGAQUFBwICMIHHGoHEUmVsaWFuY2Ug
b24gdGhlIFF1b1ZhZGlzIFJvb3QgQ2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNj
ZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRp
b25zIG9mIHVzZSwgY2VydGlmaWNhdGlvbiBwcmFjdGljZXMsIGFuZCB0aGUgUXVvVmFkaXMgQ2Vy
dGlmaWNhdGUgUG9saWN5LjAiBggrBgEFBQcCARYWaHR0cDovL3d3dy5xdW92YWRpcy5ibTAdBgNV
HQ4EFgQUi0tt7dMpuQYZ7Dk5qfCXhGrL798wga4GA1UdIwSBpjCBo4AUi0tt7dMpuQYZ7Dk5qfCX
hGrL79+hgYSkgYEwfzELMAkGA1UEBhMCQk0xGTAXBgNVBAoTEFF1b1ZhZGlzIExpbWl0ZWQxJTAj
BgNVBAsTHFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxLjAsBgNVBAMTJVF1b1ZhZGlzIFJv
b3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHmCBDq2UIswDgYDVR0PAQH/BAQDAgEGMA0GCSqGSIb3
DQEBBQUAA4IBAQCK1BS1/vSakqcZ1KR+chiP2Wh8UiTdZ285esSqXj3iWLBNcJiEYegb42kYDs77
R1CgTv/wJB+9ss71J/zsL1Oqc3sDPXRu5hae66UuxL9WJ1ArYrq+Sxw8VVxBHSS+giBHXdVEfnoW
aN99TVFweFcdMx79ApmcDM0KBU/Hu46kdfpKbbGAjglWuZwaYP5dwdd63BF40NZdwbfVrTKZAzqK
zFQlOTGBexMiUbpGbKG7nvoEbEkmdI/Sc+vMMKLm6lkih/iX9Q796sySpBbEUhjqIc6x8eaEgeW6
qYYo8kNaXRKdrB7ZqOUKaqd/oIcpz/KJTdTsxeLmetA2I4pKdDb5MIIGJzCCBA+gAwIBAgIUeYh3
nZZfHtafGlRScHpef2g/9jUwDQYJKoZIhvcNAQEFBQAwgYoxCzAJBgNVBAYTAkNIMSwwKgYDVQQK
EyNRdW9WYWRpcyBUcnVzdGxpbmsgU3dpdHplcmxhbmQgTHRkLjEoMCYGA1UECxMfSXNzdWluZyBD
ZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEjMCEGA1UEAxMaUXVvVmFkaXMgU3dpc3MgQWR2YW5jZWQg
Q0EwHhcNMTIwNTI0MDc1MjI2WhcNMTUwNTI0MDc1MjI2WjBhMQswCQYDVQQGEwJDSDEmMCQGA1UE
AxMdT2xpdmVyIFplbWFubiAoU2VjdXJlIEUtTWFpbCkxKjAoBgkqhkiG9w0BCQEWG28uemVtYW5u
QHF1b3ZhZGlzZ2xvYmFsLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIv8Th4v
n1CBNX1Gb6uhCN8LIzJRBp1PnxPJlXZuBEyPNEEf1RVzjXQJ+eVzSwuc5cb/LQiJ2MjggUN2P/K1
fAPlGOLBZRzgYfi6TQei15R+Ve6TdUSu304s0qpv+YKEx85SjRStzfAIGbUtDjziFr3PJn8ZjYR6
ycBHhEECKrd0HH/JvDd+EcFOD60C/ESQ/TW9J7GwaPlTKuFuTZDXqhMXiUgScmaAXWqrIfMR60el
hm9rnycn2As/oRUqTbFiN9uwBD+u3I3AaPApwQK1wxNb9NyRS+843nrDvGWSXqDX3c/u9r2ysz/k
RvoxP+l3aDumsZXf9k4XyoWcz1mARPkCAwEAAaOCAaswggGnMCYGA1UdEQQfMB2BG28uemVtYW5u
QHF1b3ZhZGlzZ2xvYmFsLmNvbTB0BggrBgEFBQcBAQRoMGYwKgYIKwYBBQUHMAGGHmh0dHA6Ly9v
Y3NwLnF1b3ZhZGlzZ2xvYmFsLmNvbTA4BggrBgEFBQcwAoYsaHR0cDovL3RydXN0LnF1b3ZhZGlz
Z2xvYmFsLmNvbS9xdmNoYWRnMS5jcnQwTwYDVR0gBEgwRjBEBgorBgEEAb5YAYFIMDYwNAYIKwYB
BQUHAgEWKGh0dHA6Ly93d3cucXVvdmFkaXNnbG9iYWwuY29tL3JlcG9zaXRvcnkwDgYDVR0PAQH/
BAQDAgXgMCkGA1UdJQQiMCAGCCsGAQUFBwMCBggrBgEFBQcDBAYKKwYBBAGCNxQCAjAfBgNVHSME
GDAWgBTGl/8IEGdyLEyv5+9eYfr7ALIKtzA7BgNVHR8ENDAyMDCgLqAshipodHRwOi8vY3JsLnF1
b3ZhZGlzZ2xvYmFsLmNvbS9xdmNoYWRnMS5jcmwwHQYDVR0OBBYEFPXGv5kMyrFw5qXJNbJ+2qNL
bBc5MA0GCSqGSIb3DQEBBQUAA4ICAQAnW7+6pZRUcE96XKGNiALMYAVqyk10j6Fy+rY2DwU/mAU7
oFUOwzg7A/eHFLnWzzuiprZQELDqDcZRnoWgR+JOI7SRoiBxN+pL+RhA06Zn5Lq66ZUC2/7F4hFq
331OV4gTyBuh87U86R7npaaHBHOl8WvMLYH63MlHZ4JAREJYm2hwAeJ5mQG0kJdOIFFMlasCxY9j
KYs/d4bDGJG0XFQGfMd0dhGvSZ2Bbci1wL1hQnSvINZgP+CP6qMJTNe6QITXcRmj+Kh7pN5yD4mR
vGMJ1zYdFwQ1JzLtORoJz9Eo3VIza2LpUJ9Xgbi8GjeHebfbV9Qau2bNUWGMSf1/RvoOL+ncyrsf
RrGiF1Cra8WsxKTJr2HADyhU+MGQ2J3lgKiTOnREck1CV7EwZWCNPq9oIBDOA5wF536DNyxpdg7J
p0NjZlua/SpK+ZjZP0cFL9zgVhMP+zegub7nuIhXl+Ow7sC+zvAmFGntzwdSnGlZyIZf7LoLX6Pi
lLE3ntZwVKh9ucIYlTflWbA++Hd5ZxS7USMyUPX6DToFzXzgCTDlQbOeI15SkLa1DIwW/OArbis1
n2FuP8wDT+N3uDFg1CybTTo9PC48112ny78axjEQVlmAPhcrj/a1qvhHMP7N/IQphTN7GH2hF84C
8jSbzjbZ9f7+hIK7aHB5aR6GTTleuzGCBDIwggQuAgEBMIGjMIGKMQswCQYDVQQGEwJDSDEsMCoG
A1UEChMjUXVvVmFkaXMgVHJ1c3RsaW5rIFN3aXR6ZXJsYW5kIEx0ZC4xKDAmBgNVBAsTH0lzc3Vp
bmcgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkxIzAhBgNVBAMTGlF1b1ZhZGlzIFN3aXNzIEFkdmFu
Y2VkIENBAhR5iHedll8e1p8aVFJwel5/aD/2NTAJBgUrDgMCGgUAoIICYzAYBgkqhkiG9w0BCQMx
CwYJKoZIhvcNAQcBMBwGCSqGSIb3DQEJBTEPFw0xMjEyMTExNzE0MDNaMCMGCSqGSIb3DQEJBDEW
BBTiG8bQcTFEX6bkr2XY41bmJh3oRDCBkwYJKoZIhvcNAQkPMYGFMIGCMAsGCWCGSAFlAwQBKjAL
BglghkgBZQMEARYwCgYIKoZIhvcNAwcwCwYJYIZIAWUDBAECMA4GCCqGSIb3DQMCAgIAgDANBggq
hkiG9w0DAgIBQDAHBgUrDgMCGjALBglghkgBZQMEAgMwCwYJYIZIAWUDBAICMAsGCWCGSAFlAwQC
ATCBtAYJKwYBBAGCNxAEMYGmMIGjMIGKMQswCQYDVQQGEwJDSDEsMCoGA1UEChMjUXVvVmFkaXMg
VHJ1c3RsaW5rIFN3aXR6ZXJsYW5kIEx0ZC4xKDAmBgNVBAsTH0lzc3VpbmcgQ2VydGlmaWNhdGlv
biBBdXRob3JpdHkxIzAhBgNVBAMTGlF1b1ZhZGlzIFN3aXNzIEFkdmFuY2VkIENBAhR5iHedll8e
1p8aVFJwel5/aD/2NTCBtgYLKoZIhvcNAQkQAgsxgaaggaMwgYoxCzAJBgNVBAYTAkNIMSwwKgYD
VQQKEyNRdW9WYWRpcyBUcnVzdGxpbmsgU3dpdHplcmxhbmQgTHRkLjEoMCYGA1UECxMfSXNzdWlu
ZyBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTEjMCEGA1UEAxMaUXVvVmFkaXMgU3dpc3MgQWR2YW5j
ZWQgQ0ECFHmId52WXx7WnxpUUnB6Xn9oP/Y1MA0GCSqGSIb3DQEBAQUABIIBABN4R4koNJLuSEKS
dVYQrrR9Fj3NbfUECJPfB96DoNjPYruyWfJpLU6cTPIoWGaMLX9m8qNBpNUiMyBkV0/xbJYEN+SK
3UJFbbZ9/N6KtHGjL0Y6KDPmiPKUCTmck1XtYkrAoA8eE6Od7tuBM5Rz2D7IW+zScD5IlfUDvDqb
n6Knl9QpAu6S7q0zB+cACUdFwXHbug+yJk9UlfUt/jCEiM5NOJMzIcYlQYuMxOUGBUUBWCuZGESY
3x2vzcI8JHy6Zg+IKnqVR+DbXDvrfWu+YRNOH/nNENf6Ln6SgfZsbcos3E+6SdrK0/ye6VuSjdaA
GwIijbT62bKB+aE8qoSnJ8EAAAAAAAA=

------=_NextPart_000_016B_01CDD7CB.4CE34C70--

From users-return-238567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:04:58 2012
Return-Path: <users-return-238567-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3D447D360
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:04:58 +0000 (UTC)
Received: (qmail 26150 invoked by uid 500); 11 Dec 2012 18:04:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26101 invoked by uid 500); 11 Dec 2012 18:04:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26084 invoked by uid 99); 11 Dec 2012 18:04:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:04:54 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:04:46 +0000
Received: from omta23.westchester.pa.mail.comcast.net ([76.96.62.74])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id aBbS1k0041c6gX851J4RPl; Tue, 11 Dec 2012 18:04:25 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta23.westchester.pa.mail.comcast.net with comcast
	id aJ4P1k00i38FjT13jJ4Q7Q; Tue, 11 Dec 2012 18:04:25 +0000
Message-ID: <50C775A4.4050704@christopherschultz.net>
Date: Tue, 11 Dec 2012 13:04:20 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Why are Tomcat's threads more costly than background threads?
References: <CA+uk_pLfN9p9u6FDrpo0wVz7ZX2FVgbeDnGuRLu-FRsVnJ0m7w@mail.gmail.com> <50C74DD9.8050605@christopherschultz.net> <50C75C6A.3030000@yahoo.com>
In-Reply-To: <50C75C6A.3030000@yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355249065;
	bh=ck0Regf/79f52bG9mBrJVLsQ1ei/MPLHA3kNGcvsnzg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Cn7uIuqwYvmIrzqT2Q1chzL23fsQU9WEdbvCA26QP0H7jEWgLZJMWdKTgb7T07Y8r
	 nm2uY4XjsOPQvddK3MpqqO6kmBq/kKV6rdEnZS8SE+yyA9QWQT26UPsLe5sbsWu/xZ
	 YwuV6j/LI+7oCpoKJ4iJJbcWcL57Y075BJPlZJTo9ACyMQidXLFh130Q5VCUs6QbIQ
	 eulbtfVe3CyFr7wJRNK+fHgp16inCn6nl7mbPC3E71Y1LO2S012QyQNWlF9Chkw0zl
	 TOmDEN/Ehk88kRX5z81q0F+I8oxjXPV7z8vy8Kz/GnL6YP5FBk40y4b1ZUvv4n6CUH
	 BijErXNDc+Eag==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Mark,

On 12/11/12 11:16 AM, Mark Eggers wrote:
> On 12/11/2012 7:14 AM, Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>> 
>> Julien,
>> 
>> Warning: this is long. Like, AndrÃ©-or-Mark-Eggers long.
>> 
> 
> Ouch (not really, thanks for the chuckle). Hemingway I am not,
> thorough I try to be.

Maybe more like Faulkner ;)

> Very nice explanation. This may be useful for managing some
> long-running financial calculations on a client's web site (and
> convince them to manage more server-side rather than Javascript /
> client side).

Honestly, anything that takes more than a few seconds should be
completely batched with an out-of-band notification. Just because you
can wrap an HTTP request/response around something doesn't mean you
should.

Further responses below.

>> So, a recap of throughput (req/sec) of the above 3
>> implementations:
>> 
>> Standard:      .15873 Background:    .76923 Async:
>> 200.00000
>> 
>> Using asynchronous dispatching can improve our throughput a huge 
>> number of times.
>> 
>> It's worth repeating what I said earlier: if your server can't 
>> actually handle this much load (200 emails per second, let's
>> say), then using asych isn't going to change anything. Honestly,
>> this trick only works when you have a lot of heterogeneous
>> requests. For example, maybe 10% of your traffic is handling
>> orders as implemented above, while the rest of your traffic is
>> for much smaller sub-500ms-requests.
> 
> I suppose you could just up the thread pool in Tomcat. However,
> sooner or later you're going to run out of resources somewhere.
> It's probably less expensive overall to use the asynchronous method
> than to dump more threads into an Executor thread pool.

Well, the point is that when you are "handing" requests faster
(because the work is really being done by another thread), you can
process a request queue faster with fewer threads. So, you don't have
to have a huge thread pool to handle a huge number of requests. You
probably still have to have the same number of threads (processors
versus real-workers) total in the JVM -- maybe even more -- but you
can process lighter-weight requests much more quickly if you don't
have to tie-up request processors all the time.

> Testing would be good.

Always.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHdaQACgkQ9CaO5/Lv0PB5eQCfY7oUomOapHW9wIZap0ovge0Z
HbwAoL2AclWKKS1qw3JxmHZv1/f3TosT
=xHaZ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:06:05 2012
Return-Path: <users-return-238568-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A965BD381
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:06:05 +0000 (UTC)
Received: (qmail 32931 invoked by uid 500); 11 Dec 2012 18:06:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32845 invoked by uid 500); 11 Dec 2012 18:06:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32834 invoked by uid 99); 11 Dec 2012 18:06:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:06:02 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.90.81] (HELO nm18.bullet.mail.ne1.yahoo.com) (98.138.90.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:05:51 +0000
Received: from [98.138.90.53] by nm18.bullet.mail.ne1.yahoo.com with NNFMP; 11 Dec 2012 18:05:30 -0000
Received: from [98.138.226.62] by tm6.bullet.mail.ne1.yahoo.com with NNFMP; 11 Dec 2012 18:05:30 -0000
Received: from [127.0.0.1] by smtp213.mail.ne1.yahoo.com with NNFMP; 11 Dec 2012 18:05:30 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355249130; bh=JTjU/blzKr+lb/5dR2GRSC2qQ2iZrkhjEzJ+5blK34c=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=O3t31m875SKQ9cOFkbdSjo3vgE0873woWZH/qPpV1aTTA0lExT2wl7u1UC/XTrBFtTi5FERCMqVKltNOyag5EfquQFa/XlxE89uWIYTT1YcLZ/tvrw+RHCW3JafxpROtRX2p54l9P/BgodSK4ABC+faipKIlpq6STSTVKec22+A=
X-Yahoo-Newman-Id: 216510.48266.bm@smtp213.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 9a93OC0VM1kROQWiY82oyKwtx9JArwWcb0YvLDtbMnSetaz
 CdnAqd.dqX.AvFdSp3NP1UaycCu68QAt91gOJ5Y4luGwTCkV83AXnzQGOw2d
 09f0tuQV9CQEynuLxslohHGmWPIPTuRKTecKPubRtoAbzh9Q_HKkRMPJSZaC
 zfjPHs3S9qvzJLM8wzt4fptOoCMSBN7nWAHNXxfM0R5NEj2ObAp0EhkYar1l
 MEdLUlvdFEfUwpfM9PR0KSBhB9cmNUo7Ue6UEuAgAdkUvn.3UN6B4VWgixQ2
 GYLYa4qLJTwAIHeNf0iQfSQEo3gnRHzufz4VEq.ydVGrofUu3Wquuw573fR7
 _6x9Wy7LVSm.oSiXI3KPGRCx4va5BeJyTrpNlNvBoEFyHSHlhe3tGcxv3grN
 4cZk7mY._n4NK_XCv3CyKdVQt7JHrUzP7zsg9sj7WlVzdH.Fkd40rmIBF1fP
 uHhu.EgO5xfE-
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp213.mail.ne1.yahoo.com with SMTP; 11 Dec 2012 10:05:30 -0800 PST
Message-ID: <50C775DC.1000803@yahoo.com>
Date: Tue, 11 Dec 2012 10:05:16 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question regarding OpenSSL Version used in TC 7.x
References: <508EF524320EFD4FA54512FD12344A3F2D981D@qvgoex01.qvglobal.local>
In-Reply-To: <508EF524320EFD4FA54512FD12344A3F2D981D@qvgoex01.qvglobal.local>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/11/2012 9:14 AM, Oliver Zemann wrote:
> Hi,
>
>
>
> I would like to know if there is a list which version of TC (apr/native dll)
> was compiled against which version of openssl.
>
> I just noticed that my TC 7.0.23 is displaying openssl version 0.9.8h which
> has some known bugs. Its running on a win2k8 system installed as service.
>
>
>
> Thanks in advance.
>
>
>
> Oli
>
>

I don't know about a list, but I did a quick strings on 1.1.24 native, 
and it appears to have been built with OpenSSL 1.0.1c without FIPS.

7.0.29, 7.0.30, and 7.0.33 (all I have on this Windows 7 box) all run 
1.1.24 and OpenSSL 1.0.1c without FIPS.

Hope this helps a little bit.

. . . . just my (short) two cents
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:09:29 2012
Return-Path: <users-return-238569-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3BA6D392
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:09:29 +0000 (UTC)
Received: (qmail 42397 invoked by uid 500); 11 Dec 2012 18:09:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42321 invoked by uid 500); 11 Dec 2012 18:09:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42261 invoked by uid 99); 11 Dec 2012 18:09:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:09:22 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cedric.couralet@gmail.com designates 209.85.210.182 as permitted sender)
Received: from [209.85.210.182] (HELO mail-ia0-f182.google.com) (209.85.210.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:09:16 +0000
Received: by mail-ia0-f182.google.com with SMTP id x2so9032937iad.13
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 10:08:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=e+CrxhoVBAIk+4uS+3w8Zw2w9MzoErjkZKQQebmZrzs=;
        b=sofWrzPhAYBKXAjgd0uv2ciISL/iKUPl0kx3k5W+GKDDLSJpd86X8jjBmmh+mGGRiW
         snOHqOWl/uq03PFO+NO6EVkMI2bWfqKZFSsM0dstcjyIFPjuWmRLFVWi9+LFTJOG94Ea
         2fnWHqzJ4S61Br2tPoW3bAW+Px4FoSl++GKg4Wy+GaKQdqcHi9XhoxXoOIPJJpqF6O9S
         0sTcYeQUsouaC6fsWUvMOAjDVncB63KBagVovu5hrDzILOnMYmnBp7UWfVSNgoujDzCT
         WgCe9RXulazZtBtkw9GX1zVpFf2rgKCGlRIwy5kL/WhPQKBtcLrAj9Wkl8cWWbknsn/K
         DRtw==
MIME-Version: 1.0
Received: by 10.50.91.168 with SMTP id cf8mr10815765igb.20.1355249335930; Tue,
 11 Dec 2012 10:08:55 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Tue, 11 Dec 2012 10:08:55 -0800 (PST)
In-Reply-To: <50C750A7.6010304@christopherschultz.net>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
	<50C750A7.6010304@christopherschultz.net>
Date: Tue, 11 Dec 2012 19:08:55 +0100
Message-ID: <CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
Subject: Re: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

> Okay.
>> Now for my problems or questions: - Apparently, the Jmx listener
>> listens on 0.0.0.0 (confirmed by a netstat) on the two ports
>> configured for the listener, is it normal ? I thought that
>> useLocalPorts would restrain the listening only to 127.0.0.1.
>
> useLocalePorts /should/ force 127.0.0.1 (actually "localhost"...
> whatever that resolves to on your server). Can you confirm that you
> are editing the correct server.xml? If you edit it in one place and
> then deploy it, please make sure you have the latest version installed
> under CATALINA_BASE/conf.
>

So it should force 127.0.0.1, ok !

>> - with jvisualvm i am able to connect through jmx with the url
>> service:jmx:rmi://localhost:10002/jndi/rmi://localhost:10001/jmxrmi
>>
>>
> without entering the credentials (nagios:nagios).
>> I thought that by entering
>> com.sun.management.jmxremote.authenticate=true, even read access
>> would be restricted.
>
> I think you need to double-check that you are actually using the
> configuration you think you are.
>

I think too now :) i'll double check it.

Is there a way to dump the jmx configuration in the jvm?
It happens on all the tomcat in use (a lot) and i'm quite sure I am
not mistaken the server.xml for every one of them.

One question, though, in the tomcat doc (for 6.0.x) for the
JMXRemoteListener, the configuration is :

-Dcom.sun.management.jmxremote.password.file=$CATALINA_BASE/conf/jmxremote.password
-Dcom.sun.management.jmxremote.access.file=$CATALINA_BASE/conf/jmxremote.access

while mine is -Dcom.sun.management.jmxremote.password.file=${CATALINA_BASE}/conf/jmxremote.password
(notice the {} ).

is it my mistake?


> Another note: using traditional JMX with Nagios is going to suck. You
> are probably going to make, say, 5 connections to your server every
> minute to check on things like heap size, request-time, etc. Each of
> those connections requires a complete JMX connection which is not
> cheap to make -- especially if the client is running on the same
> server. That's 5 JVMs, 5 JMX connections, etc. every minute (or 5 or
> whatever).

We don't really use nagios as is. We use check_MK, an agent installed
on the  host for which i developped a plug in to get only the
informations I want, with one connection to JMX (thus my need to
restrict to localhost).


> If you just want to make some quick checks, consider looking at the
> JMXProxyServlet which is provided by the manager webapp. I believe it
> will be a much lighter-weight solution (and does not require all of
> this crazy setup to configure JMX authentication, etc.).

Some ancient rules force us to disactivate the manager webapp (those
rules originated from some vulnerabilities with the manager webapp I
believe), but i'm trying to get it back with the appropriate security,
evebn if only to ease deployments :).

Thanks for the help !

> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDHUKcACgkQ9CaO5/Lv0PCYVgCfdhcR80DY4nO1QTHCnohhBul8
> pmMAn0J1tFmswgyMAd4AXQBKyfNTMb1u
> =BzhT
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:18:31 2012
Return-Path: <users-return-238570-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96287D3CA
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:18:31 +0000 (UTC)
Received: (qmail 79637 invoked by uid 500); 11 Dec 2012 18:18:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79548 invoked by uid 500); 11 Dec 2012 18:18:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79538 invoked by uid 99); 11 Dec 2012 18:18:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:18:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.228] (HELO qmta15.westchester.pa.mail.comcast.net) (76.96.59.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:18:20 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta15.westchester.pa.mail.comcast.net with comcast
	id aGNJ1k0020bG4ec5FJHznf; Tue, 11 Dec 2012 18:17:59 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id aJHy1k00G38FjT13PJHyK5; Tue, 11 Dec 2012 18:17:59 +0000
Message-ID: <50C778D2.6090505@christopherschultz.net>
Date: Tue, 11 Dec 2012 13:17:54 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Question regarding OpenSSL Version used in TC 7.x
References: <508EF524320EFD4FA54512FD12344A3F2D981D@qvgoex01.qvglobal.local>
In-Reply-To: <508EF524320EFD4FA54512FD12344A3F2D981D@qvgoex01.qvglobal.local>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355249879;
	bh=XlvNBffIpdkRMD7oTD/IO3iJcFD7b9HfgRXZc6l5hTY=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=rEakKXu4txXciEMQbvQxa9MEXfYpTmVi8CYwGRQGD0DpKl/FcwNgm69E7MMOFGI27
	 ZuBbEcCoh5AHSZiF0dIs2fqY6wNiuU4MaSY61CIgKO78bvlIqKDMXHiDr7uq7lrC6s
	 wrmuddXJLSXEG2VQ7CpIR6nJMxNXhG2nJ0qNOn9XqBBs4b6huS7W6eMNx9yzn4GQvw
	 a2PewD8NR8BFszgJaCdL/yp+3uZlBqZUbnz5xaSH05do4MTxviiHwCUMkkDY2UpG51
	 Xr4JHQYX/jALn8sJroPjh8BRVcCkAKUlt+rjoqAsahLqSXsmeOVNV0Yc1CsqewJerP
	 puiXLIafcQVQA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Oliver,

On 12/11/12 12:14 PM, Oliver Zemann wrote:
> I would like to know if there is a list which version of TC
> (apr/native dll) was compiled against which version of openssl.

All three of tcnative, APR, and OpenSSL are shared libraries which
means that, barring static-linking or API compatibility, any version
of each should work with any version of any other. Of course, tcnative
requires certain minimum versions of both APR and OpenSSL at runtime,
and will complain if those are not available.

> I just noticed that my TC 7.0.23 is displaying openssl version
> 0.9.8h which has some known bugs. Its running on a win2k8 system
> installed as service.

What version of tcnative are you running? The win32 binary is not
packaged with Tomcat... only the tcnative source is included.

The current distribution of tcnative win32 binary (version 1.1.24) has
a file VERSIONS which recommends OpenSSL 1.0.1c, which appears to be
the version included with it (bin/openssl.exe).

Note that Tomcat 7.0.23 is kind of old. You should consider upgrading
both tcnative and Tomcat itself.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHeNIACgkQ9CaO5/Lv0PDTtACfTH2Vx5U134niZAaWltI+Y8tG
sOgAoLBQowYMqv0O5WYgE8O+OT2BiOog
=Pqpg
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:25:47 2012
Return-Path: <users-return-238571-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75CECDF94
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:25:47 +0000 (UTC)
Received: (qmail 6321 invoked by uid 500); 11 Dec 2012 18:25:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6268 invoked by uid 500); 11 Dec 2012 18:25:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6259 invoked by uid 99); 11 Dec 2012 18:25:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:25:44 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:25:36 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id aJHn1k0041ZXKqc5AJREL8; Tue, 11 Dec 2012 18:25:14 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id aJRB1k00G38FjT13hJRDRE; Tue, 11 Dec 2012 18:25:14 +0000
Message-ID: <50C77A87.3080703@christopherschultz.net>
Date: Tue, 11 Dec 2012 13:25:11 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JMX with Listener
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com> <50C750A7.6010304@christopherschultz.net> <CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
In-Reply-To: <CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355250314;
	bh=LRfdV0EChmnZoH0xvoWwrkJTe02UZo9ZhQfrUegOBcY=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=QsZcpP/VENYjh5zMYq48OFRiVCTSvI8bS6jmjoNrS/viXIWyuYS0UjyNIwRF/2NAe
	 /k1UCjFAUxjyaH350mlHSfJN4Qtuqnjn8qbqZ0Y0imWz7Ty9ufaLxNZybf0H0dGAvs
	 GfguEZr4uQKvK/mja3N7DQSYHjW9NVtPPNVZyuYhvF8duG3AwdVEqGky8U4/5x7WIB
	 z+5q0RPxiFLg7Ubw5uV8pnS94GVygdAcaqz2NtS4UwruNK6pX3QdvhGBP5VkVb9pn8
	 fMHKg8EUGykautZSx2C4e1ZalXWxJA0vEmbKwgW3107nu1nO+YS1u+PZOf5oiTAzxd
	 3S8cBQ7gT4EdQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

CÃ©dric,

On 12/11/12 1:08 PM, CÃ©dric Couralet wrote:
>> Okay.
>>> Now for my problems or questions: - Apparently, the Jmx
>>> listener listens on 0.0.0.0 (confirmed by a netstat) on the two
>>> ports configured for the listener, is it normal ? I thought
>>> that useLocalPorts would restrain the listening only to
>>> 127.0.0.1.
>> 
>> useLocalePorts /should/ force 127.0.0.1 (actually "localhost"... 
>> whatever that resolves to on your server). Can you confirm that
>> you are editing the correct server.xml? If you edit it in one
>> place and then deploy it, please make sure you have the latest
>> version installed under CATALINA_BASE/conf.
>> 
> 
> So it should force 127.0.0.1, ok !

No, it forces the hostname "localhost". That might mean 10.0.0.1 on
your system. Try "host localhost" and see what happens.

>>> - with jvisualvm i am able to connect through jmx with the url 
>>> service:jmx:rmi://localhost:10002/jndi/rmi://localhost:10001/jmxrmi
>>>
>>>
>>
>>> 
without entering the credentials (nagios:nagios).
>>> I thought that by entering 
>>> com.sun.management.jmxremote.authenticate=true, even read
>>> access would be restricted.
>> 
>> I think you need to double-check that you are actually using the 
>> configuration you think you are.
>> 
> 
> I think too now :) i'll double check it.
> 
> Is there a way to dump the jmx configuration in the jvm? It happens
> on all the tomcat in use (a lot) and i'm quite sure I am not
> mistaken the server.xml for every one of them.

You can see which ports are which using netstat. I don't believe you
can ask for the port numbers for your JMX listeners via JMX: you just
check the ports actually in use. You can check all the system
properties, of course, using jvisualvm.

> One question, though, in the tomcat doc (for 6.0.x) for the 
> JMXRemoteListener, the configuration is :
> 
> -Dcom.sun.management.jmxremote.password.file=$CATALINA_BASE/conf/jmxremote.password
>
> 
-
-Dcom.sun.management.jmxremote.access.file=$CATALINA_BASE/conf/jmxremote.access
> 
> while mine is
> -Dcom.sun.management.jmxremote.password.file=${CATALINA_BASE}/conf/jmxremote.password
>
> 
(notice the {} ).
> 
> is it my mistake?

As long as a bash-like shell is interpreting it, the {} will not
interfere: they are just an explicit notation to the shell where the
environment variable's name begins and ends.

>> Another note: using traditional JMX with Nagios is going to suck.
>> You are probably going to make, say, 5 connections to your server
>> every minute to check on things like heap size, request-time,
>> etc. Each of those connections requires a complete JMX connection
>> which is not cheap to make -- especially if the client is running
>> on the same server. That's 5 JVMs, 5 JMX connections, etc. every
>> minute (or 5 or whatever).
> 
> We don't really use nagios as is. We use check_MK, an agent
> installed on the  host for which i developped a plug in to get only
> the informations I want, with one connection to JMX (thus my need
> to restrict to localhost).

Gotcha. check_MK looks interesting, especially because you get RRD
databases for free. Hooray graphs!

>> If you just want to make some quick checks, consider looking at
>> the JMXProxyServlet which is provided by the manager webapp. I
>> believe it will be a much lighter-weight solution (and does not
>> require all of this crazy setup to configure JMX authentication,
>> etc.).
> 
> Some ancient rules force us to disactivate the manager webapp
> (those rules originated from some vulnerabilities with the manager
> webapp I believe), but i'm trying to get it back with the
> appropriate security, evebn if only to ease deployments :).

Note that you can enable access only to the JMXProxyServlet by simply
not allowing users to access other resources (like deploy/undeploy, etc.).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHeocACgkQ9CaO5/Lv0PDehgCfYgFICQgPH/NAhfWR2iorhCX0
s0oAniVmxG5lSUzPtNW5P9fSUYCZZiP0
=AdZM
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 18:54:44 2012
Return-Path: <users-return-238572-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E01EBD71C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 18:54:43 +0000 (UTC)
Received: (qmail 690 invoked by uid 500); 11 Dec 2012 18:54:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 640 invoked by uid 500); 11 Dec 2012 18:54:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 611 invoked by uid 99); 11 Dec 2012 18:54:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:54:39 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.223.172 as permitted sender)
Received: from [209.85.223.172] (HELO mail-ie0-f172.google.com) (209.85.223.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 18:54:32 +0000
Received: by mail-ie0-f172.google.com with SMTP id c13so13541460ieb.3
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 10:54:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=1iuamVl1eRQ8d868aczuZv3CgW03BkjwkQW98iUq2yo=;
        b=oopXfjtPIOZVly/mpLWRTPt2u7BfdOUhQG2o866cQoWCkRWgzDirsyJRyUgFYpFkxE
         imY4rMnb/RGQ8dVO5wSO2gtjEJS15Lc0nvY8ZWZGqFWTDHhZk/DnUieOxaXlG/cdtkRS
         JGvqw93iJIsNy0VQm15KCDQfh561ZKAKrn7JZSiRNhPTJc2A1U3DiJ2J0tpIJawKqcma
         Alaqzdbx/iHkX079163RtmAnEa1+li2bAEMuf7HNUehaQ/E0INRjmEK6Rr0VUsTtZQw0
         1nNlM7Hdi443RLcQ0uqsGURorcLdUrOm8oMvLta/K+/k1YS1Qk1KtCql+JmIxe5mbQdJ
         XcgA==
MIME-Version: 1.0
Received: by 10.50.15.134 with SMTP id x6mr11055442igc.27.1355252052331; Tue,
 11 Dec 2012 10:54:12 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Tue, 11 Dec 2012 10:54:12 -0800 (PST)
In-Reply-To: <50C77A87.3080703@christopherschultz.net>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
	<50C750A7.6010304@christopherschultz.net>
	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
	<50C77A87.3080703@christopherschultz.net>
Date: Tue, 11 Dec 2012 19:54:12 +0100
Message-ID: <CAMwoAzfxr6xP8rj=PBN3=yNGFXANSKD8LwiDrQRVVxpaHCsLZQ@mail.gmail.com>
Subject: Re: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

>>> Okay.
>>>> Now for my problems or questions: - Apparently, the Jmx
>>>> listener listens on 0.0.0.0 (confirmed by a netstat) on the two
>>>> ports configured for the listener, is it normal ? I thought
>>>> that useLocalPorts would restrain the listening only to
>>>> 127.0.0.1.
>>>
>>> useLocalePorts /should/ force 127.0.0.1 (actually "localhost"...
>>> whatever that resolves to on your server). Can you confirm that
>>> you are editing the correct server.xml? If you edit it in one
>>> place and then deploy it, please make sure you have the latest
>>> version installed under CATALINA_BASE/conf.
>>>
>>
>> So it should force 127.0.0.1, ok !
>
> No, it forces the hostname "localhost". That might mean 10.0.0.1 on
> your system. Try "host localhost" and see what happens.

Yes, i should have thought of that sooner, I saw a couple of times a
windows server without any localhost in its host file.

thanks for the help.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 19:26:31 2012
Return-Path: <users-return-238573-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8D8F5D8CE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 19:26:31 +0000 (UTC)
Received: (qmail 95540 invoked by uid 500); 11 Dec 2012 19:26:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95335 invoked by uid 500); 11 Dec 2012 19:26:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95326 invoked by uid 99); 11 Dec 2012 19:26:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 19:26:28 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 19:26:21 +0000
Received: from omta01.westchester.pa.mail.comcast.net ([76.96.62.11])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id aBNA1k0040EZKEL55KS0u7; Tue, 11 Dec 2012 19:26:00 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta01.westchester.pa.mail.comcast.net with comcast
	id aKRx1k00M38FjT13MKRz7z; Tue, 11 Dec 2012 19:26:00 +0000
Message-ID: <50C788C3.1090606@christopherschultz.net>
Date: Tue, 11 Dec 2012 14:25:55 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Revoked Certificate being accepted
References: <CAN=ruA4L-6mOJQGL341XJtFCDwNy-n_B-Bh2cM=SC_kT2=iz+g@mail.gmail.com>
In-Reply-To: <CAN=ruA4L-6mOJQGL341XJtFCDwNy-n_B-Bh2cM=SC_kT2=iz+g@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355253960;
	bh=+bsCklH61r6+mcsuVr8x5aS1IZb5oR0b17IE7gV1gIM=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=kaZ/zxdGQwm5E+2713BjHePCgvyfTihPSEvIs8Njvwy+OScN8B9fWgsH9rO+dXk8Z
	 MtwckX5giOvuPamb9ElMnlGmjnFxOE193QxZJSYG28Kse6kzi0kbztLpB1mrWmySjo
	 Per84SephYcnqC/XiV53QxtUsMOv+36EEJ71f0TGAmvRN/DrqZqL1O3IQZkAuTfNAy
	 rxXSJbTNh1raKrFtM8hCnmrHxaNNKAHcoT604FDo2QpVHvdyCZY3yzlq/jd/bwfQGK
	 GkwBQ2DJiCebdDyxqL5vx8iw0+EABBpWQT6R59vXFbf4SSacMvdKz/MqyXoDD1qE2T
	 1SPDKA8WjePag==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Will,

On 12/11/12 11:43 AM, Will Nordmeyer wrote:
> I have my Tomcat 6.0.34 installation configured to use APR and 
> tcnative for certificate valiation & CRL checking.
> 
> I have a revoked CRL and when I use the openssl command line to
> check the certificate, it properly returns certificate revoked.

You mean a revoked cert, right? I don't think you can revoke a CRL.
(Would that un-revoke the certs in the list...?)

> When I try going in through tomcat, however, it prompts for a 
> certificate to be selected and then once I select the revoked 
> certificate, it lets me into the application.

Did you start the server, revoke the certificate, then attempt to use
it to gain access? Tomcat loads the CRL once at startup when using
JSSE, so I assume the same thing happens with the APR connector.

If you restart Tomcat with no other changes, is the connection blocked?

> ]# openssl verify -CApath /etc/ssl/certs -crl_check_all -verbose 
> -purpose sslclient TestThirtySeven_Revoked.pem 
> TestThirtySeven_Revoked.pem: C = US, O = <ORG>, OU = OU1, OU = OU2,
> OU = OU3, CN = TESTThirtySeven.REVOKED.9000050001 error 23 at 0
> depth lookup:certificate revoked
> 
> Connector info from Tomcat: <Connector port="8443" 
> protocol="org.apache.coyote.http11.Http11AprProtocol" 
> SSLEnabled="true" scheme="https" maxHttpHeaderSize="8192" 
> maxThreads="150" minSpareThreads="25" maxSpareThreads="75" 
> enableLookups="false" acceptCount="100" 
> disableUploadTimeout="true" compression="on" 
> compressableMimeType="text/html,text/xml,text/plain,text/css,text/ 
> javascript,application/xml,application/x-javascript,application/javascript"
>
> 
connectionTimeout="20000"
> secure="true" SSLCertificateFile="/etc/ssl/certs/servercrt01.crt" 
> SSLCertificateKeyFile="/etc/ssl/certs/serverkey.pem" 
> SSLPassword="password" SSLCACertificatePath="/etc/ssl/certs/" 
> SSLVerifyClient="require" SSLCARevocationPath="/etc/ssl/certs/" 
> sslProtocol="TLS" redirectPort="8443" />
> 
> The log file shows nothing related to CRL.
> 
> The /etc/ssl/certs directory has hash links to my CAs and CRLs.

You mean symlinks?

> Does it help if I hit the server with a baseball bat?

If I'm right (above), and the baseball bat causes a reboot without any
other damage, then it might actually help.

I don't believe Tomcat has any current mechanism for refreshing the
CRL. I think that's been requested once or twice... not sure if it's
actually in Bugzilla. If it's not, it should be: care to look and file
the enhancement request if necessary?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHiMMACgkQ9CaO5/Lv0PBO/wCgu/sgriILftk5KTHdkHXxLs69
830AoL0e+7wF9XuaDvI3rZeHpT3KDH0E
=X1wp
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 19:53:38 2012
Return-Path: <users-return-238574-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 106A5DB46
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 19:53:38 +0000 (UTC)
Received: (qmail 1521 invoked by uid 500); 11 Dec 2012 19:53:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1453 invoked by uid 500); 11 Dec 2012 19:53:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1444 invoked by uid 99); 11 Dec 2012 19:53:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 19:53:34 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of quark122@gmail.com designates 209.85.223.182 as permitted sender)
Received: from [209.85.223.182] (HELO mail-ie0-f182.google.com) (209.85.223.182)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 19:53:29 +0000
Received: by mail-ie0-f182.google.com with SMTP id s9so16984360iec.13
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 11:53:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=DbAISw5GSZMOzjZR+xi3iutof8TdxpUF+QaxERv/IU4=;
        b=LJ5JytBC+Lf4q1J8kmNzivVv5AoVVcyX8bx0bRlEv6uEOzkGC9CEWdt9czgaES9tV+
         LyPSQRSyhrO7S8Z3rui6Gt8xGyKuV+HSEITjafoB7GiNLtB0O9YbLGEJHyMHTTwM1yd7
         N4J8MPyFBWHNRd3kztkawdl+mZ2goPm87Tejl4e5cKjEeLPqK2zESrr3mPLYbo/BeHJw
         vGSQxDqyXYFL0uXJxpaoM/efBHCrfRNQNdINoPspeMQ8jYvGiW7+zukCVgCnqY6m9NFj
         EudeKHyiMBZ2JjI/85AHHncoBJiAWW35OyGHaW3ND2EyQDmk0wd3OiW/9MqQPW1v1Vrs
         8ysw==
MIME-Version: 1.0
Received: by 10.50.57.138 with SMTP id i10mr11229906igq.68.1355255588952; Tue,
 11 Dec 2012 11:53:08 -0800 (PST)
Received: by 10.64.31.39 with HTTP; Tue, 11 Dec 2012 11:53:08 -0800 (PST)
In-Reply-To: <50C788C3.1090606@christopherschultz.net>
References: <CAN=ruA4L-6mOJQGL341XJtFCDwNy-n_B-Bh2cM=SC_kT2=iz+g@mail.gmail.com>
	<50C788C3.1090606@christopherschultz.net>
Date: Tue, 11 Dec 2012 14:53:08 -0500
Message-ID: <CAN=ruA7iF+YA+QTj6j+7WgqOwq4iaY-yuoeoh94+Ec-RZqmjVg@mail.gmail.com>
Subject: Re: Revoked Certificate being accepted
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Dec 11, 2012 at 2:25 PM, Christopher Schultz
<chris@christopherschultz.net> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Will,
>
> On 12/11/12 11:43 AM, Will Nordmeyer wrote:
>> I have my Tomcat 6.0.34 installation configured to use APR and
>> tcnative for certificate valiation & CRL checking.
>>
>> I have a revoked CRL and when I use the openssl command line to
>> check the certificate, it properly returns certificate revoked.
>
> You mean a revoked cert, right? I don't think you can revoke a CRL.
> (Would that un-revoke the certs in the list...?)
>
>> When I try going in through tomcat, however, it prompts for a
>> certificate to be selected and then once I select the revoked
>> certificate, it lets me into the application.
>
> Did you start the server, revoke the certificate, then attempt to use
> it to gain access? Tomcat loads the CRL once at startup when using
> JSSE, so I assume the same thing happens with the APR connector.
>
> If you restart Tomcat with no other changes, is the connection blocked?
>
>> ]# openssl verify -CApath /etc/ssl/certs -crl_check_all -verbose
>> -purpose sslclient TestThirtySeven_Revoked.pem
>> TestThirtySeven_Revoked.pem: C = US, O = <ORG>, OU = OU1, OU = OU2,
>> OU = OU3, CN = TESTThirtySeven.REVOKED.9000050001 error 23 at 0
>> depth lookup:certificate revoked
>>
>> Connector info from Tomcat: <Connector port="8443"
>> protocol="org.apache.coyote.http11.Http11AprProtocol"
>> SSLEnabled="true" scheme="https" maxHttpHeaderSize="8192"
>> maxThreads="150" minSpareThreads="25" maxSpareThreads="75"
>> enableLookups="false" acceptCount="100"
>> disableUploadTimeout="true" compression="on"
>> compressableMimeType="text/html,text/xml,text/plain,text/css,text/
>> javascript,application/xml,application/x-javascript,application/javascript"
>>
>>
> connectionTimeout="20000"
>> secure="true" SSLCertificateFile="/etc/ssl/certs/servercrt01.crt"
>> SSLCertificateKeyFile="/etc/ssl/certs/serverkey.pem"
>> SSLPassword="password" SSLCACertificatePath="/etc/ssl/certs/"
>> SSLVerifyClient="require" SSLCARevocationPath="/etc/ssl/certs/"
>> sslProtocol="TLS" redirectPort="8443" />
>>
>> The log file shows nothing related to CRL.
>>
>> The /etc/ssl/certs directory has hash links to my CAs and CRLs.
>
> You mean symlinks?
>

>> Does it help if I hit the server with a baseball bat?
>
> If I'm right (above), and the baseball bat causes a reboot without any
> other damage, then it might actually help.
>
> I don't believe Tomcat has any current mechanism for refreshing the
> CRL. I think that's been requested once or twice... not sure if it's
> actually in Bugzilla. If it's not, it should be: care to look and file
> the enhancement request if necessary?
>
OK... hit me with the baseball bat - I forgot to restart tomcat.  I've
read those steps repeatedly and forgot when it was important.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 20:06:13 2012
Return-Path: <users-return-238575-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D3AF6DBE3
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 20:06:13 +0000 (UTC)
Received: (qmail 43906 invoked by uid 500); 11 Dec 2012 20:06:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43856 invoked by uid 500); 11 Dec 2012 20:06:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43845 invoked by uid 99); 11 Dec 2012 20:06:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:06:10 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of possum.pie@gmail.com designates 209.85.216.52 as permitted sender)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:06:03 +0000
Received: by mail-qa0-f52.google.com with SMTP id d13so4194717qak.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 12:05:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=qdAxpCPNxzh+lXT/oFKEDS1KZaPzukM/VBOb7Q7Smgw=;
        b=XgfLDbFqWIoO8/NMzzCbuOPwBuL0eFci2EXd+wY66U51lLKNFydJScDAeHjHRKUKk6
         w7tZVmNflB4xdwdq6iVTEyShWUCYTGNyX1Zs/os4ph7sdkMrPsHyJDyvWryP3v5nQrr8
         9suAFkEtTsYp1bztN0Pvmv/gdSB9RXUd/qPXSfrpMGazpIoGgI4V7XAs0eFBiWdES07u
         4KniqQJkQ7X6kcEDNkJQY9S2r3p5Ss1woED31SFRUu1DbQkOnjIw1bGyCPBqM3XoyJcv
         L2ZaMJ65rnGeHB381mBHohoMJrylCddnV0JBjWRS9QF93FjxI+J+wzdoHyWbwlkEiIsr
         su3g==
MIME-Version: 1.0
Received: by 10.49.73.232 with SMTP id o8mr42737727qev.0.1355256343097; Tue,
 11 Dec 2012 12:05:43 -0800 (PST)
Received: by 10.49.12.82 with HTTP; Tue, 11 Dec 2012 12:05:42 -0800 (PST)
Date: Tue, 11 Dec 2012 15:05:42 -0500
Message-ID: <CAHrZWtzpLtjFwODtjJQrf4_KqOu0Fnd48Wr+JxOgdBtpnPEtPQ@mail.gmail.com>
Subject: Tomcat 7 Maven Plugin - set MaxPermSize
From: David Miller <possum.pie@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7bb70dfee8f2e204d09934e4
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bb70dfee8f2e204d09934e4
Content-Type: text/plain; charset=ISO-8859-1

I'm using the tomcat-maven plugin to set a value for MaxPermSize but it's
not working.

You can see in the below plugin my setting for JAVA_OPTS - I've also tried
MAVEN_OPTS and CATALINA_OPTS.

I can see that it's not working using jvisualvm (can also tell because my
app eventually craps out).

The only way that I can get an increase in perm gen size is to explicitly
set it like this:
MAVEN_OPTS="-XX:MaxPermSize=1024m"

Is it possible to use the tomcat-maven plugin to specify MaxPermSize size?

Thanks!

<plugin>
    <groupId>org.apache.tomcat.maven</groupId>
    <artifactId>tomcat7-maven-plugin</artifactId>
    <version>2.0</version>
    <configuration>
        <systemProperties>
            <JAVA_OPTS>-XX:MaxPermSize=1024M</JAVA_OPTS>
        </systemProperties>
        <backgroundProcessorDelay>5</backgroundProcessorDelay>

<contextFile>${project.build.directory}/${project.build.finalName}/META-INF/context.xml</contextFile>
        <path>/xyz</path>
    </configuration>
    <dependencies>
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-api</artifactId>
            <version>2.0.9</version>
        </dependency>
        <dependency>
            <groupId>com.sun.faces</groupId>
            <artifactId>jsf-impl</artifactId>
            <version>2.0.9</version>
        </dependency>
    <dependencies>
</plugin>

--047d7bb70dfee8f2e204d09934e4--

From users-return-238576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 20:19:09 2012
Return-Path: <users-return-238576-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CCBD5DCA5
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 20:19:09 +0000 (UTC)
Received: (qmail 822 invoked by uid 500); 11 Dec 2012 20:19:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 719 invoked by uid 500); 11 Dec 2012 20:19:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 571 invoked by uid 99); 11 Dec 2012 20:19:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:19:05 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rtoor316@hotmail.com designates 65.54.190.81 as permitted sender)
Received: from [65.54.190.81] (HELO bay0-omc2-s6.bay0.hotmail.com) (65.54.190.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:19:00 +0000
Received: from BAY160-W39 ([65.54.190.125]) by bay0-omc2-s6.bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Tue, 11 Dec 2012 12:18:38 -0800
X-Originating-IP: [204.50.113.29]
X-EIP: [XIOhWzUNYVterQhUPd8KYMchlSIFFEMR]
X-Originating-Email: [rtoor316@hotmail.com]
Message-ID: <BAY160-W39A3224B705A9C464393168F480@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_f40a7188-2d31-48f9-996a-a4d1f09e8e16_"
From: Randy Toor <rtoor316@hotmail.com>
To: <users@tomcat.apache.org>
Subject: RE: NPE when starting up Embedded tomcat7
Date: Tue, 11 Dec 2012 20:18:38 +0000
Importance: Normal
In-Reply-To: <50C751B2.4020408@christopherschultz.net>
References:
 <BAY160-W2263E3501DABC38997BD618F490@phx.gbl>,<50C751B2.4020408@christopherschultz.net>
MIME-Version: 1.0
X-OriginalArrivalTime: 11 Dec 2012 20:18:38.0983 (UTC) FILETIME=[B4CEA170:01CDD7DC]
X-Virus-Checked: Checked by ClamAV on apache.org

--_f40a7188-2d31-48f9-996a-a4d1f09e8e16_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Hi Chris=2C

The switch to the Tomcat class will be made soon enough=2C but for now it's=
 really a time/risk thing at this stage of the project.  The Embedded class=
 is ingrained pretty well and it isn't trivial to switch to use Tomcat.

Here is the code to set up the Embedded instance -


        embedded =3D new Embedded()=3B

        embedded.setUseNaming(false)=3B
        embedded.setCatalinaHome(catalinaHome)=3B
        embedded.setCatalinaBase(catalinaBase)=3B

        engine =3D embedded.createEngine()=3B
        engine.setName(STANDARD_ENGINE_NAME)=3B
        // This name MUST match the name attributes of one of the Host elem=
ents
        // nested immediately inside.
        engine.setDefaultHost(defaultHostName)=3B
        engine.setParentClassLoader(classLoader)=3B

        host =3D embedded.createHost(defaultHostName=2C appBase)=3B
        // if not set: catalina/work/OSGiEngine/tomcatHost/_=3B
        // ow: catalina/<workDir>/_
        ((StandardHost) host).setWorkDir(workDir)=3B

        host.setRealm(engine.getRealm())=3B

        // http-access log
        ((StandardHost) host).addValve(createLoggingValve())=3B

        engine.addChild(host)=3B

        File rootContext =3D new File(System.getProperty(SYS_PROPERTY_CATAL=
INA_HOME) + SLASH + ROOT)=3B
        String docBase =3D ""=3B
        if (rootContext.exists()) {
            docBase =3D rootContext.getAbsolutePath()=3B
        } else {
            docBase =3D ROOT=3B
        }
        tomcatDefaultCtx =3D embedded.createContext(""=2C docBase)=3B
        tomcatDefaultCtx.setSessionCookiePath("/")=3B
        tomcatDefaultCtx.addWelcomeFile(INDEX_JSP)=3B
        host.addChild(tomcatDefaultCtx)=3B

        embedded.addEngine(engine)=3B


Actually=2C I did just try adding the line -

engine.setService(embedded)=3B

Which does move me past the NPE (and on to a different error)=2C but I'm no=
t sure that this is what I want to do.  This code worked fine with tomcat6 =
and as I mentioned=2C the docs indicate a service need not be associated wi=
th an Engine.  Is it a requirement now?



> Date: Tue=2C 11 Dec 2012 10:30:58 -0500
> From: chris@christopherschultz.net
> To: users@tomcat.apache.org
> Subject: Re: NPE when starting up Embedded tomcat7
>=20
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>=20
> Randy=2C
>=20
> On 12/10/12 6:09 PM=2C Randy Toor wrote:
> > I have an existing server which uses the Embedded class which I am=20
> > tasked with upgrading to tomcat7 (deprecated=2C but we'll be keeping
> > it for the time being).
>=20
> What part is deprecated? The Embedded class itself? Why not just
> switch-over to using the Tomcat class? It's much easier to use and now
> would be the time to make the switch.
>=20
> > There were some small changes to the code to fix API breaks but
> > the startup stuff is the same.  When I start up the container I am
> > now seeing this -
> >=20
> > INFO: Starting tomcat server=20
> > org.apache.catalina.startup.Embedded||Dec 7=2C 2012 12:09:49 PM
> > org.apache.catalina.startup.Embedded startInternal INFO: Catalina
> > naming disabled=1E Dec 7=2C 2012 12:09:49 PM
> > org.apache.catalina.core.StandardEngine startInternal=1E INFO:
> > Starting Servlet Engine: Apache Tomcat/7.0.32=1E Dec 7=2C 2012 12:09:49
> > PM org.apache.catalina.util.LifecycleBase start=1E INFO: The start()
> > method was called on component [Realm[NullRealm]] after start() had
> > already been called. The second call will be ignored.=1E=20
> > org.apache.catalina.util.LifecycleBase||Dec 7=2C 2012 12:09:49 PM
> > org.apache.catalina.util.LifecycleBase start Dec 7=2C 2012 12:09:49
> > PM org.apache.catalina.core.ContainerBase startInternal=1E SEVERE: A
> > child container failed during start=1E=20
> > java.util.concurrent.ExecutionException:
> > org.apache.catalina.LifecycleException: Failed to start component
> > [StandardEngine[OSGiEngine].StandardHost[tomcathost].StandardContext[]]=
=1E
> >
> >=20
> at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:222)=1E
> > at java.util.concurrent.FutureTask.get(FutureTask.java:83)=1E at
> > org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java=
:1123)=1E
> >
> >=20
> at
> org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800=
)=1E
> > at
> > org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)=1E
> >
> >=20
> at
> org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java=
:1559)=1E
> > at
> > org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.ja=
va:1549)=1E
> >
> >=20
> at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)=1E
> > at java.util.concurrent.FutureTask.run(FutureTask.java:138)=1E at
> > java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecut=
or.java:886)=1E
> >
> >=20
> at
> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.jav=
a:908)=1E
> > at java.lang.Thread.run(Thread.java:743)=1E Caused by:
> > org.apache.catalina.LifecycleException: Failed to start component
> > [StandardEngine[OSGiEngine].StandardHost[tomcathost].StandardContext[]]=
=1E
> >
> >=20
> at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)=
=1E
> > ... 7 more=1E Caused by: java.lang.NullPointerException: while trying
> > to invoke the method org.apache.catalina.Service.findConnectors()
> > of an object loaded from local variable 's'=1E at
> > org.apache.catalina.core.ApplicationContext.populateSessionTrackingMode=
s(ApplicationContext.java:1191)=1E
> >
> >=20
> at
> org.apache.catalina.core.ApplicationContext.<init>(ApplicationContext.jav=
a:125)=1E
> > at
> > org.apache.catalina.core.StandardContext.getServletContext(StandardCont=
ext.java:2323)=1E
> >
> >=20
> at
> org.apache.catalina.core.StandardContext.postWorkDirectory(StandardContex=
t.java:6062)=1E
> > at
> > org.apache.catalina.core.StandardContext.startInternal(StandardContext.=
java:5102)=1E
> >
> >=20
> at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)=
=1E
> > ... 7 more=1E org.apache.catalina.core.ContainerBase||Dec 7=2C 2012
> > 12:09:49 PM org.apache.catalina.core.ContainerBase startInternal
> >=20
> >=20
> > I looked into that particular line in ApplicationContext and I see
> > this code is new in tomcat7 -
> >=20
> > Service s =3D ((Engine)
> > context.getParent().getParent()).getService()=3B Connector[]
> > connectors =3D s.findConnectors()=3B
> >=20
> >=20
> > Looking at the API docs for Engine=2C it indicates that a Service
> > does not necessarily need to be associated with an Engine (from the
> > docs - "Set the Service with which we are associated (if any)". Am
> > I missing a step now to prevent this? Or should there be a null
> > check here?
>=20
> Can your post your own code that uses the Embedded class? It will
> probably be easier to spot a place where you've missed something
> important (or have it out of order) than to just look at the stack
> trace above and try to debug Tomcat in order to determine the original
> mistake.
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>=20
> iEYEAREIAAYFAlDHUbIACgkQ9CaO5/Lv0PD+kQCfQ0i2evO0hn7g0E66MlpHpy4Q
> jfsAnjOqNnKIHZRlK/zuDsr4VssZQVZR
> =3Djosl
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_f40a7188-2d31-48f9-996a-a4d1f09e8e16_--

From users-return-238577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 20:30:06 2012
Return-Path: <users-return-238577-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 57DD7DEF1
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 20:30:06 +0000 (UTC)
Received: (qmail 47642 invoked by uid 500); 11 Dec 2012 20:30:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47566 invoked by uid 500); 11 Dec 2012 20:30:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47498 invoked by uid 99); 11 Dec 2012 20:30:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:30:02 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of juha.m.laiho@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 20:29:57 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so10803995iac.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 12:29:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=YA+YK9gdw8Bou7X/FbCjwD+zTj1LZ9mhhSqJyGj0T6I=;
        b=N8vAYctmbNpfmcmTsV4lRvVWbmmZtyJfYum2w9oIF9iPBtU/sv2SzmuvkfcbrgVQJm
         qEShju1CE3MEj1cfo45OCfy7jLwrqWIV6um7XczEwY0eX8ccAmNZAgpgXs+Easah5g1L
         zs7ey1EOEqyxR8Rwxk3/bRtMFJ5vV4nvPcK7CH0tE1Bq8cYX9INAP7MtHzxJMS/TB3Tq
         N+H8yKx1YvlCZU/jZ2UMGY0Tz1eTrzOajkfx/nw8wtKqXmIaJcUwy+JQaHOd2aUGtCGS
         5VmPAhhWjiUbQA9CcGm7hSvyUUc9xcTssiJ9IX81e4k8O9HLMMPv03CC4II5NARUB8Rn
         DO4g==
MIME-Version: 1.0
Received: by 10.50.104.164 with SMTP id gf4mr11453010igb.1.1355257776858; Tue,
 11 Dec 2012 12:29:36 -0800 (PST)
Sender: juha.m.laiho@gmail.com
Received: by 10.64.100.169 with HTTP; Tue, 11 Dec 2012 12:29:36 -0800 (PST)
In-Reply-To: <50C6690F.2020505@christopherschultz.net>
References: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com>
	<50C664E5.70901@christopherschultz.net>
	<50C6690F.2020505@christopherschultz.net>
Date: Tue, 11 Dec 2012 22:29:36 +0200
X-Google-Sender-Auth: VEQp4DHMCCPFaxsOkHbi8fWufZI
Message-ID: <CAHqrFcxJY025+ndWgnF8JQ5twUK5DAvQ0WHKWdpS_7D78+M-9Q@mail.gmail.com>
Subject: Re: Request dispatching oddity
From: Juha Laiho <Juha.Laiho@iki.fi>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Chirs,

first, thanks for your answers, and also for the nits, they did hit
some good points. Then on with some answers to the further
questions you placed;


On Tue, Dec 11, 2012 at 12:58 AM, Christopher Schultz
<chris@christopherschultz.net> wrote:
> On 12/10/12 5:40 PM, Christopher Schultz wrote:
>> I'll take a look. You definitely want to use URLs that start with
>> "/" in all cases to prevent this kind of ambiguity.
>
> So it looks like I'm wrong and there may in fact be a bug in Tomcat.
>
> Servlet 3.0 has this to say about "forward" in section 9.4:
>
> "
> The path elements of the request object exposed to the target servlet
> must reflect the path used to obtain the RequestDispatcher.
> "

Thanks, I did read the Servlet spec 2.5, but at least didn't come across
this statement there.

> Your forward() code looks like this:
>
>> RequestDispatcher rd = application.getRequestDispatcher("/");
>> rd.forward(request, response);
>
> So the path used to obtain the RequestDispatcher is "/" and URLs built
> should be relative to that.

... so looks like I might have encountered a minor bug.

> Are you using Tomcat's provided JSTL, or do you bundle one with your
> own webapp?

This was good call, too - something I hadn't been paying attention to.
In the example I seem to be using JSTL library from some version of
Glassfish (a Maven dependency, javax.servlet:jstl:1.2, which gets
packaged into the examle webapp). What JSTL implementation is used
in the original place where I encountered this, I don't know (could check,
but I think for now we can just as well concentrate on this example, as
it exhibits the same behaviour as the original case).

> Can you post a copy of the .java source generated from your JSP that
> contains the <c:redirect>?

Certainly; and this seems to hit another point where I've been sloppy; this
example has been run on Tomcat embedded with NetBeans, and thus
version 7.0.27. And interesting, this seems to refer to
org.apache.taglibs.standard
for the RegirectTag implementation, despite the other JSTL lib being
included in the application:


/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.27
 * Generated at: 2012-12-10 20:52:07 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long>
_jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool
_005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody =
org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory =
_jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager =
org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest
request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("\r\n");
      if (_jspx_meth_c_005fredirect_005f0(_jspx_page_context))
        return;
      out.write('\r');
      out.write('\n');
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null)
_jspx_page_context.handlePageException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean
_jspx_meth_c_005fredirect_005f0(javax.servlet.jsp.PageContext
_jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:redirect
    org.apache.taglibs.standard.tag.rt.core.RedirectTag
_jspx_th_c_005fredirect_005f0 =
(org.apache.taglibs.standard.tag.rt.core.RedirectTag)
_005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody.get(org.apache.taglibs.standard.tag.rt.core.RedirectTag.class);
    _jspx_th_c_005fredirect_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fredirect_005f0.setParent(null);
    // /index.jsp(5,0) name = url type = null reqTime = true required
= false fragment = false deferredValue = false expectedTypeName = null
deferredMethod = false methodSignature = null
    _jspx_th_c_005fredirect_005f0.setUrl("sub/page.jsp");
    int _jspx_eval_c_005fredirect_005f0 =
_jspx_th_c_005fredirect_005f0.doStartTag();
    if (_jspx_th_c_005fredirect_005f0.doEndTag() ==
javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody.reuse(_jspx_th_c_005fredirect_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fredirect_0026_005furl_005fnobody.reuse(_jspx_th_c_005fredirect_005f0);
    return false;
  }
}


-- 
..Juha

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 21:22:43 2012
Return-Path: <users-return-238578-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9D6A8D21A
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 21:22:43 +0000 (UTC)
Received: (qmail 32462 invoked by uid 500); 11 Dec 2012 21:22:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32402 invoked by uid 500); 11 Dec 2012 21:22:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32393 invoked by uid 99); 11 Dec 2012 21:22:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 21:22:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 21:22:32 +0000
Received: from omta07.westchester.pa.mail.comcast.net ([76.96.62.59])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id aBju1k0051GhbT855MNB2l; Tue, 11 Dec 2012 21:22:11 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta07.westchester.pa.mail.comcast.net with comcast
	id aMN71k00e38FjT13TMN9yc; Tue, 11 Dec 2012 21:22:11 +0000
Message-ID: <50C7A3FE.1070907@christopherschultz.net>
Date: Tue, 11 Dec 2012 16:22:06 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Revoked Certificate being accepted
References: <CAN=ruA4L-6mOJQGL341XJtFCDwNy-n_B-Bh2cM=SC_kT2=iz+g@mail.gmail.com> <50C788C3.1090606@christopherschultz.net> <CAN=ruA7iF+YA+QTj6j+7WgqOwq4iaY-yuoeoh94+Ec-RZqmjVg@mail.gmail.com>
In-Reply-To: <CAN=ruA7iF+YA+QTj6j+7WgqOwq4iaY-yuoeoh94+Ec-RZqmjVg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355260931;
	bh=XE7OvjEQKSG5Q3kifi++R/YYc4Iy8UwrnlcFzJuuUEE=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=YpKYZOz5PucWa8pmWKxKQ1hgHVOg8/5F3ZlyKTA5Nm4c6uNDCv5NbE96uWIb6A/qd
	 DAAXynG8fqqOO8kFILh5cLg3qVQg2FPaFDLJFa2xH96bMSzl+kuftJsOBmYbxlR4x+
	 OxfSfkdmfhFVbFtA7coV7K7sHO1AcJ0KIISybrp49Hhfckhz/ErwHozNhB1pt9eys7
	 UWPEI+55EuX2RNDIjEK3iENOQcXJC+6ILNd7yECuhDOrCu2WP3Qw4dbvt91HJWmLKC
	 xVNb6Jdst1AOk7Vgnhc8tal3H6oxQzPFTMRWrz79gqc+GPWyzEw77m0VR0hs3K7qXN
	 Q9zgPoSAlueHw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Will,

On 12/11/12 2:53 PM, Will Nordmeyer wrote:
> On Tue, Dec 11, 2012 at 2:25 PM, Christopher Schultz 
> <chris@christopherschultz.net> wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
>> 
>> Will,
>> 
>> On 12/11/12 11:43 AM, Will Nordmeyer wrote:
>>> I have my Tomcat 6.0.34 installation configured to use APR and 
>>> tcnative for certificate valiation & CRL checking.
>>> 
>>> I have a revoked CRL and when I use the openssl command line
>>> to check the certificate, it properly returns certificate
>>> revoked.
>> 
>> You mean a revoked cert, right? I don't think you can revoke a
>> CRL. (Would that un-revoke the certs in the list...?)
>> 
>>> When I try going in through tomcat, however, it prompts for a 
>>> certificate to be selected and then once I select the revoked 
>>> certificate, it lets me into the application.
>> 
>> Did you start the server, revoke the certificate, then attempt to
>> use it to gain access? Tomcat loads the CRL once at startup when
>> using JSSE, so I assume the same thing happens with the APR
>> connector.
>> 
>> If you restart Tomcat with no other changes, is the connection
>> blocked?
>> 
>>> ]# openssl verify -CApath /etc/ssl/certs -crl_check_all
>>> -verbose -purpose sslclient TestThirtySeven_Revoked.pem 
>>> TestThirtySeven_Revoked.pem: C = US, O = <ORG>, OU = OU1, OU =
>>> OU2, OU = OU3, CN = TESTThirtySeven.REVOKED.9000050001 error 23
>>> at 0 depth lookup:certificate revoked
>>> 
>>> Connector info from Tomcat: <Connector port="8443" 
>>> protocol="org.apache.coyote.http11.Http11AprProtocol" 
>>> SSLEnabled="true" scheme="https" maxHttpHeaderSize="8192" 
>>> maxThreads="150" minSpareThreads="25" maxSpareThreads="75" 
>>> enableLookups="false" acceptCount="100" 
>>> disableUploadTimeout="true" compression="on" 
>>> compressableMimeType="text/html,text/xml,text/plain,text/css,text/
>>>
>>> 
javascript,application/xml,application/x-javascript,application/javascript"
>>> 
>>> 
>> connectionTimeout="20000"
>>> secure="true"
>>> SSLCertificateFile="/etc/ssl/certs/servercrt01.crt" 
>>> SSLCertificateKeyFile="/etc/ssl/certs/serverkey.pem" 
>>> SSLPassword="password" SSLCACertificatePath="/etc/ssl/certs/" 
>>> SSLVerifyClient="require"
>>> SSLCARevocationPath="/etc/ssl/certs/" sslProtocol="TLS"
>>> redirectPort="8443" />
>>> 
>>> The log file shows nothing related to CRL.
>>> 
>>> The /etc/ssl/certs directory has hash links to my CAs and
>>> CRLs.
>> 
>> You mean symlinks?
>> 
> 
>>> Does it help if I hit the server with a baseball bat?
>> 
>> If I'm right (above), and the baseball bat causes a reboot
>> without any other damage, then it might actually help.
>> 
>> I don't believe Tomcat has any current mechanism for refreshing
>> the CRL. I think that's been requested once or twice... not sure
>> if it's actually in Bugzilla. If it's not, it should be: care to
>> look and file the enhancement request if necessary?
>> 
> OK... hit me with the baseball bat - I forgot to restart tomcat.
> I've read those steps repeatedly and forgot when it was important.

It's probably still worth filing such an enhancement request. Bouncing
the whole app server just to re-read the CRL is a bit heavy-handed.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHo/4ACgkQ9CaO5/Lv0PC3VACcCRNtiZW2WQ9Mww6EMDRz5Nf6
t5kAn0JcBU3cxXMKC6KJyue9QyY9v44t
=5Qax
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 21:54:08 2012
Return-Path: <users-return-238579-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE3D2D509
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 21:54:08 +0000 (UTC)
Received: (qmail 39523 invoked by uid 500); 11 Dec 2012 21:54:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 39447 invoked by uid 500); 11 Dec 2012 21:54:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 39436 invoked by uid 99); 11 Dec 2012 21:54:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 21:54:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 21:53:57 +0000
Received: from [192.168.245.129] (p549E1702.dip0.t-ipconnect.de [84.158.23.2])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id ED2DB3C15B7
	for <users@tomcat.apache.org>; Tue, 11 Dec 2012 22:54:28 +0100 (CET)
Message-ID: <50C7AB5A.5020606@ice-sa.com>
Date: Tue, 11 Dec 2012 22:53:30 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JMX with Listener
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>	<50C750A7.6010304@christopherschultz.net> <CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
In-Reply-To: <CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Cédric Couralet wrote:
...
> 
> One question, though, in the tomcat doc (for 6.0.x) for the
> JMXRemoteListener, the configuration is :
> 
> -Dcom.sun.management.jmxremote.password.file=$CATALINA_BASE/conf/jmxremote.password
> -Dcom.sun.management.jmxremote.access.file=$CATALINA_BASE/conf/jmxremote.access
> 
> while mine is -Dcom.sun.management.jmxremote.password.file=${CATALINA_BASE}/conf/jmxremote.password
> (notice the {} ).
> 
> is it my mistake?
> 
> 

No, it is not a mistake.  The above are lines extracted from a shell script, I presume.
In this particular case, $CATALINA_BASE and ${CATALINA_BASE} are equivalent.
The {} form helps to clarify things for the shell when the character which *follows* the 
name of the variable, could be considered by the shell as part of the variable name.
For example in :

echo "something" > $my_file_conf

it is not clear whether the name of the variable is "my" or "my_file" or "my_file_conf".
(or anything in-between), and by default the shell will use the longer possibility.

Writing this as

echo "something" > ${my_file}_conf

leaves only one possible interpretation.

In "$CATALINA_BASE/conf/jmxremote.password" there is really no ambiguity (because "/" 
cannot be part of a variable name), but the form 
"${CATALINA_BASE}/conf/jmxremote.password" is anyway clearer and less prone to oversights.
(But it is slightly more work to type, and as programmers are a notoriously lazy and 
hubristic bunch, they rarely go through the trouble).

I suppose that - just to kid Christopher - I could on like this, talking about 
interpolation and stuff, but I'll leave it at that because it's already late here.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 22:00:43 2012
Return-Path: <users-return-238580-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08649D59B
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 22:00:43 +0000 (UTC)
Received: (qmail 66427 invoked by uid 500); 11 Dec 2012 22:00:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66241 invoked by uid 500); 11 Dec 2012 22:00:39 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66227 invoked by uid 99); 11 Dec 2012 22:00:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:00:39 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:00:32 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id aB5Q1k0051uE5Es53N0ALs; Tue, 11 Dec 2012 22:00:10 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id aN081k00l38FjT13cN094N; Tue, 11 Dec 2012 22:00:10 +0000
Message-ID: <50C7ACE6.3040407@christopherschultz.net>
Date: Tue, 11 Dec 2012 17:00:06 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Request dispatching oddity
References: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com> <50C664E5.70901@christopherschultz.net> <50C6690F.2020505@christopherschultz.net> <CAHqrFcxJY025+ndWgnF8JQ5twUK5DAvQ0WHKWdpS_7D78+M-9Q@mail.gmail.com>
In-Reply-To: <CAHqrFcxJY025+ndWgnF8JQ5twUK5DAvQ0WHKWdpS_7D78+M-9Q@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355263210;
	bh=8WAo5P5f5BQxs5yKNAPZcZhlOuyS7bwrAZRwfhjQkWA=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=ozshfMwyUNNc2yIolRbLqRJoalRugF7EilrN7NttL7XU4xQ2pRK7uZQnMO/03U41g
	 0/HzWvaUrEQ1dqduPV1RbreZfFfALd6/ml+QZVkVjFXp491DXOCnbNNozTOb+IZljD
	 u74eE0ltQi7/fwY9X/VXnT5/6CnZGTHRiym6OB5qdJ7zF3K2c1Imf2sAuNEspgE1+2
	 su+arAn4GaHV5SL+xiBYxR4vdeEIdgYEiNnsXnHLW9aD31cD6eN+0eBFYJQY5RlWJe
	 0DRBHe/7mHDWoCiXvNdqqhH0mptQ4A/ZD9epFRTFLxGfZnqUaIM/5UH6ilDsDbLh0j
	 8ffNH/IENj1NQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Juha,

On 12/11/12 3:29 PM, Juha Laiho wrote:
> first, thanks for your answers, and also for the nits, they did
> hit some good points. Then on with some answers to the further 
> questions you placed;
> 
> 
> On Tue, Dec 11, 2012 at 12:58 AM, Christopher Schultz 
> <chris@christopherschultz.net> wrote:
>> On 12/10/12 5:40 PM, Christopher Schultz wrote:
>>> I'll take a look. You definitely want to use URLs that start
>>> with "/" in all cases to prevent this kind of ambiguity.
>> 
>> So it looks like I'm wrong and there may in fact be a bug in
>> Tomcat.
>> 
>> Servlet 3.0 has this to say about "forward" in section 9.4:
>> 
>> " The path elements of the request object exposed to the target
>> servlet must reflect the path used to obtain the
>> RequestDispatcher. "
> 
> Thanks, I did read the Servlet spec 2.5, but at least didn't come
> across this statement there.
> 
>> Your forward() code looks like this:
>> 
>>> RequestDispatcher rd = application.getRequestDispatcher("/"); 
>>> rd.forward(request, response);
>> 
>> So the path used to obtain the RequestDispatcher is "/" and URLs
>> built should be relative to that.
> 
> ... so looks like I might have encountered a minor bug.

Perhaps.

>> Are you using Tomcat's provided JSTL, or do you bundle one with
>> your own webapp?
> 
> This was good call, too - something I hadn't been paying attention
> to. In the example I seem to be using JSTL library from some
> version of Glassfish (a Maven dependency, javax.servlet:jstl:1.2,
> which gets packaged into the examle webapp). What JSTL
> implementation is used in the original place where I encountered
> this, I don't know (could check, but I think for now we can just as
> well concentrate on this example, as it exhibits the same behaviour
> as the original case).

Odd that Tomcat's JSTL implementation was used in preference to the
one supplied with the webapp.

>> Can you post a copy of the .java source generated from your JSP
>> that contains the <c:redirect>?
> 
> Certainly; and this seems to hit another point where I've been
> sloppy; this example has been run on Tomcat embedded with NetBeans,
> and thus version 7.0.27. And interesting, this seems to refer to 
> org.apache.taglibs.standard for the RegirectTag implementation,
> despite the other JSTL lib being included in the application:

There's also a Redirect class in Tomcat proper which generates Java
source instead of being an actual tag implementation. I was actually
thrown-off the by that.

Tomcat's taglibs are actually maintained under a slightly different
umbrella and it's unclear to me if they are actively maintained. There
are svn revisions, but they all seem to be deployment-related and not
actual code changes.

Can you start a new thread with a different subject? Something like
"Tomcat prefers TC JSTL implementation to webapp-packaged one" and ask
about it? I know there are some folks here who can describe how that's
supposed to work. Once you've got that hammered-out (or maybe in
parallel), you can ask about why the <c:redirect> tag doesn't work.

A new thread and subject line may get others interested, which is why
I am suggesting it.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDHrOYACgkQ9CaO5/Lv0PDrKACgiF7MJ/opHRg1rqM7ol71dWIs
AvAAnjfLlQbrKZ3kqJD0NHu7zcPoaWHL
=wP1M
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 22:21:35 2012
Return-Path: <users-return-238581-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E6F9D6B3
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 22:21:35 +0000 (UTC)
Received: (qmail 25452 invoked by uid 500); 11 Dec 2012 22:21:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25314 invoked by uid 500); 11 Dec 2012 22:21:32 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25304 invoked by uid 99); 11 Dec 2012 22:21:32 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:21:32 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:21:31 +0000
Message-ID: <50C7B1F4.40700@apache.org>
Date: Tue, 11 Dec 2012 22:21:40 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Request dispatching oddity
References: <CAHqrFcw=4PO086++QymWnBjRFTPj3EkOOO9egYE4GM7weKTRDg@mail.gmail.com> <50C664E5.70901@christopherschultz.net> <50C6690F.2020505@christopherschultz.net> <CAHqrFcxJY025+ndWgnF8JQ5twUK5DAvQ0WHKWdpS_7D78+M-9Q@mail.gmail.com> <50C7ACE6.3040407@christopherschultz.net>
In-Reply-To: <50C7ACE6.3040407@christopherschultz.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 11/12/2012 22:00, Christopher Schultz wrote:
> Can you start a new thread with a different subject? Something
> like "Tomcat prefers TC JSTL implementation to webapp-packaged one"
> and ask about it? I know there are some folks here who can describe
> how that's supposed to work. Once you've got that hammered-out (or
> maybe in parallel), you can ask about why the <c:redirect> tag
> doesn't work.
> 
> A new thread and subject line may get others interested, which is
> why I am suggesting it.

Chances are you are using an Oracle authored tag library derived from
the ASF's JSTL implementation that (ab)uses the ASF package namespace.

The Apache Tomcat PMC asked Oracle to change the Java package name tp
avoid confusion and they refused. They did, however, agree to ensure
that JARs contained appropriate META-INF entries so it was clear where
the JAR originated.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 22:27:24 2012
Return-Path: <users-return-238582-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 352B1DBAC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 22:27:24 +0000 (UTC)
Received: (qmail 47605 invoked by uid 500); 11 Dec 2012 22:27:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 47531 invoked by uid 500); 11 Dec 2012 22:27:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 47522 invoked by uid 99); 11 Dec 2012 22:27:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:27:20 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-qc0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 22:27:16 +0000
Received: by mail-qc0-f173.google.com with SMTP id b12so2917049qca.18
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 14:26:55 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=f403Lx66Tgwi1PALYPbg2jmWOV32eKu0Rwb+bf8Xjwk=;
        b=rwzCXb4zUWBu1viv+zqsool4m7VROx9qaAry99LxnScRs4jyvQ9Z5N8HhSMU4bNBHt
         JeCAPYTE2/EPsgF+Cf89eRwpRuG1ApoR78FwWl9wEDQH++rI135/daJbm2Hs95ATIP2x
         CRuNARe5xCUg51kgEokENviN+XGx7dA0X8xCz/Jp9bzchAp0lP64pDOOYa065MP1M6gF
         uMozZ/rE2s4HLEPqgstz81gzGZuLtXwYvBZlj9klqJnYQCFp7NxRPCfQor1qGOIDraD1
         GR8jRHFLcQIKg2ZuZ3ltf2PbjaReMQM3FsqgTa3EeU+fvaq+z3Vo2Ql/RA7nK/wCMoTs
         THHw==
MIME-Version: 1.0
Received: by 10.49.62.39 with SMTP id v7mr26477297qer.15.1355264815773; Tue,
 11 Dec 2012 14:26:55 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Tue, 11 Dec 2012 14:26:55 -0800 (PST)
In-Reply-To: <50C74120.6080307@christopherschultz.net>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
	<50C23BAF.3090000@ice-sa.com>
	<50C265D9.50305@christopherschultz.net>
	<50C2762E.6000508@ice-sa.com>
	<CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
	<50C60D96.701@ice-sa.com>
	<505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>
	<CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>
	<50C74120.6080307@christopherschultz.net>
Date: Tue, 11 Dec 2012 20:26:55 -0200
Message-ID: <CA+hW5Jow_Q4Od8vKYtkqYe7EgUg+1ih4mHrPQYvz1G3s5qkrdA@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7bdc11e4ebb6f404d09b2d1f
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7bdc11e4ebb6f404d09b2d1f
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/12/11 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Yuri,
>
> On 12/10/12 11:22 PM, Yuri E wrote:
> > 2012/12/10 Daniel Mikusa <dmikusa@vmware.com>
> >
> >> On Dec 10, 2012, at 11:28 AM, Andr=E9 Warnier wrote:
> >>
> >>> Yuri E wrote:
> >>>> 2012/12/7 Andr=E9 Warnier <aw@ice-sa.com>
> >>>>> Christopher Schultz wrote:
> >>>>>
> >>>>>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA256
> >>>>>>
> >>>>>> Andr=E9,
> >>>>>>
> >>>>>> On 12/7/12 1:55 PM, Andr=E9 Warnier wrote:
> >>>>>>
> >>>>>>> I am relatively familiar with tomcat under Windows,
> >>>>>>> and if your explanations of what works and what
> >>>>>>> doesn't above are exact, then I don't know either.
> >>>>>>>
> >>>>>> One possibility: during the installation, the user chose
> >>>>>> to bind only to localhost instead of 0.0.0.0.
> >>>>>>
> >>>>> Aaaah. Yes, and that choice probably only exists in the
> >>>>> Service
> >> installer.
> >>>>> That would fit. And he would see that with netstat.
> >>>>>
> >>>>>>
> >>>> "netstat -abn" results: -- running Tomcat on console: TCP
> >>>> 0.0.0.0:8009           0.0.0.0:0              LISTENING
> >> 3844
> >>>> [java.exe] TCP    0.0.0.0:8080           0.0.0.0:0 LISTENING
> >> 3844
> >>>> [java.exe] TCP    127.0.0.1:8005         0.0.0.0:0 LISTENING
> >> 3844
> >>>> [java.exe] -- running Tomcat as Service: TCP    0.0.0.0:8009
> >>>> 0.0.0.0:0              LISTENING
> >> 488
> >>>> [Tomcat7.exe] TCP    0.0.0.0:8080           0.0.0.0:0
> >>>> LISTENING
> >> 488
> >>>> [Tomcat7.exe] TCP    127.0.0.1:8005         0.0.0.0:0
> >>>> LISTENING
> >> 488
> >>>> [Tomcat7.exe]
> >>>
> >>> Well, Chris, that was a worthy guess, but apparently it is not
> >>> the
> >> reason here.
> >>>
> >>> Didactic section :
> >>>
> >>> In both cases above (running in a console window and running
> >>> as a
> >> Service), we have Tomcat listening :
> >>> - on port 8080, all interfaces, all IP addresses.  That's the
> >>> HTTP
> >> Connector
> >>> (see in server.xml) - on port 8009, all interfaces, all IP
> >>> addresses.  That's the AJP
> >> Connector
> >>> (see in server.xml) (and maybe you don't need that one, and
> >>> can
> >> comment it out)
> >>> - on port 8005, only on the "localhost" address.  That is the
> >>> "shutdown
> >> port", which is limited to listening for calls originating from
> >> the same physical host, for security reasons (so that nobody can
> >> shut down your Tomcat from the internet e.g.)
> >>>
> >>> And the reason why in one case the process is "Tomcat7.exe"
> >>> and in the
> >> other case it is "java.exe" :
> >>> - when Tomcat runs as a Service, there is a "service wrapper"
> >>> involved,
> >> which "wraps around" the java process (and Tomcat in it), and
> >> which provides the special functions that Windows Services must
> >> provide for Windows (like listening to Windows "star/stop
> >> service" messages etc..). This wrapper is a copy of the
> >> procrun.exe program, renamed to "tomcat7.exe" for convenience.
> >>> So when you run Tomcat as a Service, Windows really starts
> >> "tomcat7.exe", and tomcat7.exe runs java.exe which runs tomcat.
> >>>
> >>> -- end of didactic section --
> >>>
> >>>
> >>> To summarise what is happening now :
> >>>
> >>> 1) Tomcat running in a console window : a) can be accessed
> >>> from a browser running on the same machine b) can be accessed
> >>> from a browser running on another machine
> >>>
> >>> 2) Tomcat running as a Windows Service : a) can be accessed
> >>> from a browser running on the same machine b) but cannot be
> >>> accessed from a browser running on another machine
> >>>
> >>> while in both cases it is listening to 0.0.0.0:8080
> >>>
> >>> It it was a DNS issue, then both 1-b and 2-b wouldn't work.
> >>> But only 2-b
> >> doesn't work.
> >>> If it was a firewall issue or similar, we'd have the same. If
> >>> it was an issue of the java parameters or others used when
> >>> starting
> >> tomcat as a service, then both 2-a and 2-b would not work. But
> >> 2-a works.
> >>>
> >>> Some weird MS security rule, applying to services but not to
> >>> regular
> >> processes ?
> >>>
> >>> Yuri, can you repeat for us which exact URL's you are using to
> >>> access
> >> Tomcat, in each of the cases above ?
> >>>
> >>> 1-a : 1-b : 2-a : 2-b :
> >>>
> >>> and how the problem shows up, when "it does not work" ?
> >>
> >> Also, if you have a firewall running on the server, how is it
> >> configured? Do you have a rule to allow tcp on port 8080?  I ask
> >> because some firewalls will restrict at the application level as
> >> well as the port level. For example, only "java.exe" is allowed
> >> to listen on port 8080.
> >>
> >> Dan
> >>
> >>
> >>>
> >>>
> >>> ---------------------------------------------------------------------
> >>>
> >>>
> >>>
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >>> For additional commands, e-mail: users-help@tomcat.apache.org
> >>>
> >>
> >>
> >> ---------------------------------------------------------------------
> >>
> >>
> >>
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >>
> > I couldn't access your answers at work today. Then I decided to
> > make the tests at home. I installed Tomcat exactly as the same
> > manner as I installed on my work PC. The problem was the same. But
> > then I read the answers, and I saw something that I've not tried
> > yet. The Windows Firewall. I turned off the Firewall, and
> > everything worked very well. Now I have to test the same solution
> > on my work PC.
>
> Yup: Windows, like many other OSs, can whitelist certain processes for
> binding to certain ports. For some reason, a binary not on the
> whitelist appears to still be able to bind to the port, but nothing
> can access it.
>
> The Windows firewall has a configuration screen where you can modify
> those binaries that may do certain things. You'll need to duplicate
> the "java.exe" one that we are fairly sure works (or maybe
> "javaw.exe") and change the binary to "Tomcat7.exe".
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDHQSAACgkQ9CaO5/Lv0PBckgCgiokfKX6mwgJAgq4F27+XwTSn
> 7/QAn2LEqDU2JQ1JLrtyNOwihTv2Kv42
> =3D1GjK
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>
I added a exception for the 8080 port in the Windows XP Firewall settings.
Tomcat is working now.
Thanks for all the answers.

*Yuri E. - Brazil*

--047d7bdc11e4ebb6f404d09b2d1f--

From users-return-238583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 11 23:28:49 2012
Return-Path: <users-return-238583-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 77F579848
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 11 Dec 2012 23:28:49 +0000 (UTC)
Received: (qmail 34897 invoked by uid 500); 11 Dec 2012 23:28:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34809 invoked by uid 500); 11 Dec 2012 23:28:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34800 invoked by uid 99); 11 Dec 2012 23:28:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 23:28:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 11 Dec 2012 23:28:37 +0000
Received: from [192.168.245.129] (p549E1702.dip0.t-ipconnect.de [84.158.23.2])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id A0A403C15C8
	for <users@tomcat.apache.org>; Wed, 12 Dec 2012 00:29:09 +0100 (CET)
Message-ID: <50C7C18D.7080109@ice-sa.com>
Date: Wed, 12 Dec 2012 00:28:13 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>	<50C23BAF.3090000@ice-sa.com>	<50C265D9.50305@christopherschultz.net>	<50C2762E.6000508@ice-sa.com>	<CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>	<50C60D96.701@ice-sa.com>	<505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>	<CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>	<50C74120.6080307@christopherschultz.net> <CA+hW5Jow_Q4Od8vKYtkqYe7EgUg+1ih4mHrPQYvz1G3s5qkrdA@mail.gmail.com>
In-Reply-To: <CA+hW5Jow_Q4Od8vKYtkqYe7EgUg+1ih4mHrPQYvz1G3s5qkrdA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Yuri E wrote:
>>
> I added a exception for the 8080 port in the Windows XP Firewall settings.
> Tomcat is working now.
> Thanks for all the answers.
> 

Yuri, for me that still does not explain why you could access Tomcat from "outside" when 
it was running in a console, but not when it was running as a service.
Just opening port 8080 should either allow both, or none.
Something here doesn't fit.
Or what exception exactly did you add ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 02:08:52 2012
Return-Path: <users-return-238584-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A14BDD437
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 02:08:52 +0000 (UTC)
Received: (qmail 3497 invoked by uid 500); 12 Dec 2012 02:08:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3453 invoked by uid 500); 12 Dec 2012 02:08:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3443 invoked by uid 99); 12 Dec 2012 02:08:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 02:08:48 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of themachinesickness@gmail.com designates 209.85.216.178 as permitted sender)
Received: from [209.85.216.178] (HELO mail-qc0-f178.google.com) (209.85.216.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 02:08:43 +0000
Received: by mail-qc0-f178.google.com with SMTP id j34so73410qco.37
        for <users@tomcat.apache.org>; Tue, 11 Dec 2012 18:08:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=siD8rHAs/tCNF2IO2axQjjwwE2s/5sFvExw+unssGqg=;
        b=X6EhehAsO9sslIBazxjD3/v9LbcUk0SZPaml9X4W1vaEba/BVCi+XdnCijRE1AuvcQ
         3+ffo1KoCCjTP+89QF6TRaPyOSfp0MS3NSe3vdiCcD18zgOOgrbAI0pWrCSE5fT19brf
         2zblvUggyNOBvkSRny/2SLXE5W5BBfIK00y8OSJU5hB9E9pySRZjy/pWnYF3bEtNC2/i
         1uTVtzqJSWnMXY3BDtSCOEjQDas1nZWtDGItNL62Poz3XgqLPMxFXXUT0HshOtDXoqgY
         FYUBXs4GYkG9wdzML4BdqosYn2cdZtEpR6qxEbPTYRn7Qe7Uceug07+oEbxbFSe8O+xG
         aEAQ==
MIME-Version: 1.0
Received: by 10.224.191.137 with SMTP id dm9mr601623qab.40.1355278103194; Tue,
 11 Dec 2012 18:08:23 -0800 (PST)
Received: by 10.49.104.103 with HTTP; Tue, 11 Dec 2012 18:08:23 -0800 (PST)
In-Reply-To: <50C7C18D.7080109@ice-sa.com>
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>
	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>
	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>
	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>
	<50C23BAF.3090000@ice-sa.com>
	<50C265D9.50305@christopherschultz.net>
	<50C2762E.6000508@ice-sa.com>
	<CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>
	<50C60D96.701@ice-sa.com>
	<505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>
	<CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>
	<50C74120.6080307@christopherschultz.net>
	<CA+hW5Jow_Q4Od8vKYtkqYe7EgUg+1ih4mHrPQYvz1G3s5qkrdA@mail.gmail.com>
	<50C7C18D.7080109@ice-sa.com>
Date: Wed, 12 Dec 2012 00:08:23 -0200
Message-ID: <CA+hW5Jq=S8AbZ1R-YSvKQrza_zo4WFZY6Kd9xEcsqB5DBodT=A@mail.gmail.com>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
From: Yuri E <themachinesickness@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3005dfa8e9ae0b04d09e4563
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3005dfa8e9ae0b04d09e4563
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/12/11 Andr=E9 Warnier <aw@ice-sa.com>

> Yuri E wrote:
>
>>
>>>  I added a exception for the 8080 port in the Windows XP Firewall
>> settings.
>> Tomcat is working now.
>> Thanks for all the answers.
>>
>>
> Yuri, for me that still does not explain why you could access Tomcat from
> "outside" when it was running in a console, but not when it was running a=
s
> a service.
> Just opening port 8080 should either allow both, or none.
> Something here doesn't fit.
>

I know that's weird, but It's the exactly what happens to me.

Firewall status:
- on -> only the "console way" is accessible from Internet (outside my
local network)
- on, with 8080 port added to "Exceptions List" (Exceptions tab in Firewall
Settings) -> both ways are accessible from Internet
- off -> both ways are accessible from Internet



> Or what exception exactly did you add ?
>
>
>
I went to Windows Firewall Settings window, then, in the "Exceptions" tab,
I added the 8080 port (I also named as TomcatTCP) with the "TCP" option
selected, then I added the 8080 port again (named as TomcatUDP) with the
"UDP" option selected.

After all this, two itens were added to the Exceptions List: TomcatTCP and
TomcatUDP. Then I could access Tomcat (so my app too) from global Internet
(using the router's IP).


>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf3005dfa8e9ae0b04d09e4563--

From users-return-238585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 09:45:23 2012
Return-Path: <users-return-238585-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A3D6CDC56
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 09:45:23 +0000 (UTC)
Received: (qmail 12612 invoked by uid 500); 12 Dec 2012 09:45:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10440 invoked by uid 500); 12 Dec 2012 09:45:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10391 invoked by uid 99); 12 Dec 2012 09:45:11 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 09:45:11 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 09:45:11 +0000
Message-ID: <50C85223.9080700@apache.org>
Date: Wed, 12 Dec 2012 09:45:07 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Announce List <announce@tomcat.apache.org>
CC: Tomcat Users List <users@tomcat.apache.org>, 
 Tomcat Developers List <dev@tomcat.apache.org>,
 announce@apache.org
Subject: [ANN] Apache Tomcat 7.0.34 released
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

The Apache Tomcat team announces the immediate availability of Apache
Tomcat 7.0.34.
Apache Tomcat is an open source software implementation of the Java
Servlet and JavaServer Pages technologies.

This release contains a small number of bug fixes and improvements
compared to version 7.0.33. The notable changes include:
- Improvements to the AccessLogValve to better handle non-standard DST
  changes and to provide option for the current access log to have a
  standard name.
- Fix various JMX registration and deregistration issues.
- Update the Eclipse JDT compiler to 4.2.1

Please refer to the change log for the complete list of changes:
http://tomcat.apache.org/tomcat-7.0-doc/changelog.html

Note: This version has 4 zip binaries: a generic one and three
      bundled with Tomcat native binaries for Windows operating systems
      running on different CPU architectures.

Note: If you use the APR/native AJP or HTTP connector you *must* upgrade
      to version 1.1.24 or later of the AJP/native library

Downloads:
http://tomcat.apache.org/download-70.cgi

Migration guides from Apache Tomcat 5.5.x and 6.0.x:
http://tomcat.apache.org/migration.html

Thank you,

-- The Apache Tomcat Team

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 10:48:36 2012
Return-Path: <users-return-238586-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F3FB8D1EB
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 10:48:35 +0000 (UTC)
Received: (qmail 59518 invoked by uid 500); 12 Dec 2012 10:48:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59223 invoked by uid 500); 12 Dec 2012 10:48:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59144 invoked by uid 99); 12 Dec 2012 10:48:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 10:48:30 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [188.40.191.160] (HELO mx.sh-solutions.de) (188.40.191.160)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 10:48:19 +0000
Received: from dc2008r2ex.sh-solutions.de ([188.40.191.182] helo=dc2008r2.sh-solutions.intern)
	by mx.sh-solutions.de with esmtps (TLS-1.0:RSA_AES_128_CBC_SHA1:16)
	(Exim 4.69)
	(envelope-from <lists@steffen-heil.de>)
	id 1Tijr4-0001B1-HX
	for users@tomcat.apache.org; Wed, 12 Dec 2012 11:47:58 +0100
Received: from dc2008r2.sh-solutions.intern ([fe80::584a:39d9:2529:f1b4]) by
 dc2008r2.sh-solutions.intern ([fe80::584a:39d9:2529:f1b4%15]) with mapi id
 14.01.0421.002; Wed, 12 Dec 2012 11:47:58 +0100
From: "Steffen Heil (Mailinglisten)" <lists@steffen-heil.de>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: NullPointerException in NioBlockingSelector - not a problem though
Thread-Topic: NullPointerException in NioBlockingSelector - not a problem
 though
Thread-Index: Ac3YVV6sIXLuw/fiQFW4AWgFyegsew==
Date: Wed, 12 Dec 2012 10:47:56 +0000
Message-ID: <304595783255CB4682E86E67D63E6FEE333F0F@dc2008r2.sh-solutions.intern>
Accept-Language: de-DE, en-US
Content-Language: de-DE
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
x-originating-ip: [134.96.102.214]
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature";
	micalg=SHA1; boundary="----=_NextPart_000_0083_01CDD85E.8F162110"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0083_01CDD85E.8F162110
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi

I cannot reproduce it, but I've seen the following error in my logs a few
times now:

SEVERE: Error reading request, ignored
java.lang.NullPointerException
        at
org.apache.tomcat.util.net.NioBlockingSelector.read(NioBlockingSelector.java
:193)
        at
org.apache.tomcat.util.net.NioSelectorPool.read(NioSelectorPool.java:246)
        at
org.apache.tomcat.util.net.NioSelectorPool.read(NioSelectorPool.java:227)
        at
org.apache.coyote.http11.upgrade.UpgradeNioProcessor.fillReadBuffer(UpgradeN
ioProcessor.java:183)
        at
org.apache.coyote.http11.upgrade.UpgradeNioProcessor.readSocket(UpgradeNioPr
ocessor.java:144)
        at
org.apache.coyote.http11.upgrade.UpgradeNioProcessor.read(UpgradeNioProcesso
r.java:113)
        at org.apache.catalina.websocket.WsFrame.nextFrame(WsFrame.java:213)
        at
org.apache.catalina.websocket.WsInputStream.nextFrame(WsInputStream.java:68)
        at
org.apache.catalina.websocket.StreamInbound.onData(StreamInbound.java:117)
        at
org.apache.coyote.http11.upgrade.UpgradeProcessor.upgradeDispatch(UpgradePro
cessor.java:83)
        at
org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(Abstrac
tProtocol.java:583)
        at
org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:
1653)
        at
java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.ja
va:886)
        at
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:9
08)
        at java.lang.Thread.run(Thread.java:662)

This error seems to happen only during shutdown.
So it's not a real issue.

I am using an own-build tomcat 7.0.33/rev. 1397285.
I know it's not the current and released version, but it seems that code has
not changed since.

Regards,
  Steffen




------=_NextPart_000_0083_01CDD85E.8F162110
Content-Type: application/pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIVRDCCBjQw
ggQcoAMCAQICAR4wDQYJKoZIhvcNAQEFBQAwfTELMAkGA1UEBhMCSUwxFjAUBgNVBAoTDVN0YXJ0
Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNpZ25pbmcxKTAn
BgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MB4XDTA3MTAyNDIxMDE1NVoX
DTE3MTAyNDIxMDE1NVowgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1TdGFydENvbSBMdGQuMSsw
KQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5nMTgwNgYDVQQDEy9TdGFy
dENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENsaWVudCBDQTCCASIwDQYJKoZIhvcN
AQEBBQADggEPADCCAQoCggEBAMcJg8zOLdgasSmkLhOrlr6KMoOMpohBllVHrdRvEg/q6r8jR+EK
75xCGhR8ToREoqe7zM9/UnC6TS2y9UKTpT1v7RSMzR0t6ndl0TWBuUr/UXBhPk+Kmy7bI4yW4urC
+y7P3/1/X7U8ocb8VpH/Clt+4iq7nirMcNh6qJR+xjOhV+VHzQMALuGYn5KZmc1NbJQYclsGkDxD
z2UbFqE2+6vIZoL+jb9x4Pa5gNf1TwSDkOkikZB1xtB4ZqtXThaABSONdfmv/Z1pua3FYxnCFmdr
/+N2JLKutIxMYqQOJebr/f/h5t95m4JgrM3Y/w7YX9d7YAL9jvN4SydHsU6n65cCAwEAAaOCAa0w
ggGpMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgEGMB0GA1UdDgQWBBRTcu2SnODaywFc
fH6WNU7y1LhRgjAfBgNVHSMEGDAWgBROC+8apEBbpRdphzDKNGhD0EGu8jBmBggrBgEFBQcBAQRa
MFgwJwYIKwYBBQUHMAGGG2h0dHA6Ly9vY3NwLnN0YXJ0c3NsLmNvbS9jYTAtBggrBgEFBQcwAoYh
aHR0cDovL3d3dy5zdGFydHNzbC5jb20vc2ZzY2EuY3J0MFsGA1UdHwRUMFIwJ6AloCOGIWh0dHA6
Ly93d3cuc3RhcnRzc2wuY29tL3Nmc2NhLmNybDAnoCWgI4YhaHR0cDovL2NybC5zdGFydHNzbC5j
b20vc2ZzY2EuY3JsMIGABgNVHSAEeTB3MHUGCysGAQQBgbU3AQIBMGYwLgYIKwYBBQUHAgEWImh0
dHA6Ly93d3cuc3RhcnRzc2wuY29tL3BvbGljeS5wZGYwNAYIKwYBBQUHAgEWKGh0dHA6Ly93d3cu
c3RhcnRzc2wuY29tL2ludGVybWVkaWF0ZS5wZGYwDQYJKoZIhvcNAQEFBQADggIBAAqDCH14qywG
XLhjjF6uHLkjd02hcdh9hrw+VUsv+q1eeQWB21jWj3kJ96AUlPCoEGZ/ynJNScWy6QMVQjbbMXlt
UfO4n4bGGdKo3awPWp61tjAFgraLJgDk+DsSvUD6EowjMTNx25GQgyYJ5RPIzKKR9tQW8gGK+2+R
HxkUCTbYFnL6kl8Ch507rUdPPipJ9CgJFws3kDS3gOS5WFMxcjO5DwKfKSETEPrHh7p5shuuNktv
sv6hxHTLhiMKX893gxdT3XLS9OKmCv87vkINQcNEcIIoFWbP9HORz9v3vQwR4e3ksLc2JZOAFK+s
sS5XMEoznzpihEP0PLc4dCBYjbvSD7kxgDwZ+Aj8Q9PkbvE9sIPP7ON0fz095HdThKjiVJe6vofq
+n6b1NBc8XdrQvBmunwxD5nvtTW4vtN6VY7mUCmxsCieuoBJ9OlqmsVWQvifIYf40dJPZkk9YgGT
zWLpXDSfLSplbY2LL9C9U0ptvjcDjefLTvqSFc7tw1sEhF0n/qpA2r0GpvkLRDmcSwVyPvmjFBGq
Up/pNy8ZuPGQmHwFi2/14+xeSUDG2bwnsYJQG2EdJCB6luQ57GEnTA/yKZSTKI8dDQa8Sd3zfXb1
9mOgSF0bBdXbuKhEpuP9wirslFe6fQ1t5j5R0xi72MZ8ikMu1RQZKCyDbMwazlHiMIIHOzCCBiOg
AwIBAgIDBGGXMA0GCSqGSIb3DQEBBQUAMIGMMQswCQYDVQQGEwJJTDEWMBQGA1UEChMNU3RhcnRD
b20gTHRkLjErMCkGA1UECxMiU2VjdXJlIERpZ2l0YWwgQ2VydGlmaWNhdGUgU2lnbmluZzE4MDYG
A1UEAxMvU3RhcnRDb20gQ2xhc3MgMSBQcmltYXJ5IEludGVybWVkaWF0ZSBDbGllbnQgQ0EwHhcN
MTIwNjE0MDkzNDUxWhcNMTMwNjE1MDU1ODI4WjBlMRkwFwYDVQQNExAyOXowUXpwVXU2M2o4c3J5
MQswCQYDVQQGEwJERTEVMBMGA1UEAxMMU3RlZmZlbiBIZWlsMSQwIgYJKoZIhvcNAQkBFhVsaXN0
c0BzdGVmZmVuLWhlaWwuZGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCxOXwC/gMU
vwL0X3IBNc5pBE1cxbMzGx/3Z0JxBdFmQN26kn+LjkG629BVEWsYfdvasVCdBvlE6b9hcEECugUl
2tpYO00JRXzSGQwO0MizWNWKngjRjiknbt5pPQghgDvN/VKxGY9JUboI5qE0sp1a09+3UM1BycIf
TwMeqcr1e72yY0KBF9q3d48hY1okbDRSm2TytnsEBLgqB8AGOcCDuNe5eMOUNkqTRmwWXzdHS39p
6k2+aym65iU4jM5PnHvZbhClUdOh/g4m2Oow6CTGIa84QIAGBAsSaI9PZmvDKdwkCAKVaGUw4O+t
wgiOo0Vrhvk8wkfxDRTLK1lnY+45AgMBAAGjggPKMIIDxjAJBgNVHRMEAjAAMAsGA1UdDwQEAwIE
sDAdBgNVHSUEFjAUBggrBgEFBQcDAgYIKwYBBQUHAwQwHQYDVR0OBBYEFIvBMReqXgBLOgEnvq2z
MmF43TSYMB8GA1UdIwQYMBaAFFNy7ZKc4NrLAVx8fpY1TvLUuFGCMCAGA1UdEQQZMBeBFWxpc3Rz
QHN0ZWZmZW4taGVpbC5kZTCCAjsGA1UdIASCAjIwggIuMIICKgYLKwYBBAGBtTcBAgIwggIZMC4G
CCsGAQUFBwIBFiJodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9wb2xpY3kucGRmMDQGCCsGAQUFBwIB
FihodHRwOi8vd3d3LnN0YXJ0c3NsLmNvbS9pbnRlcm1lZGlhdGUucGRmMIIBEAYIKwYBBQUHAgIw
ggECMCcWIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MAMCAQEagdZUaGlzIGNlcnRp
ZmljYXRlIHdhcyBpc3N1ZWQgYWNjb3JkaW5nIHRvIHRoZSBTdGFydFNTTCBXZWItb2YtVHJ1c3Qg
Q29tbXVuaXR5IFZhbGlkYXRpb24gcmVxdWlyZW1lbnRzIG9mIHRoZSBTdGFydENvbSBDQSBwb2xp
Y3ksIHJlbGlhbmNlIG9ubHkgZm9yIHRoZSBpbnRlbmRlZCBwdXJwb3NlIGluIGNvbXBsaWFuY2Ug
b2YgdGhlIHJlbHlpbmcgcGFydHkgb2JsaWdhdGlvbnMuMIGcBggrBgEFBQcCAjCBjzAnFiBTdGFy
dENvbSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eTADAgECGmRMaWFiaWxpdHkgYW5kIHdhcnJhbnRp
ZXMgYXJlIGxpbWl0ZWQhIFNlZSBzZWN0aW9uICJMZWdhbCBhbmQgTGltaXRhdGlvbnMiIG9mIHRo
ZSBTdGFydENvbSBDQSBwb2xpY3kuMDYGA1UdHwQvMC0wK6ApoCeGJWh0dHA6Ly9jcmwuc3RhcnRz
c2wuY29tL2NydHUxLWNybC5jcmwwgY4GCCsGAQUFBwEBBIGBMH8wOQYIKwYBBQUHMAGGLWh0dHA6
Ly9vY3NwLnN0YXJ0c3NsLmNvbS9zdWIvY2xhc3MxL2NsaWVudC9jYTBCBggrBgEFBQcwAoY2aHR0
cDovL2FpYS5zdGFydHNzbC5jb20vY2VydHMvc3ViLmNsYXNzMS5jbGllbnQuY2EuY3J0MCMGA1Ud
EgQcMBqGGGh0dHA6Ly93d3cuc3RhcnRzc2wuY29tLzANBgkqhkiG9w0BAQUFAAOCAQEAaN2q0MFI
JcZM+37730j8TON1BKgtHHLCTTpymmsa6ukzJNVb5S0sA/LrqvdR+m3swBX9LD+rJjNXMtmUx2tE
wdLk+trRfomn61FSIHoPkRBvFhKV6ldlEvZ87WFzuxa6vAKNIehVcj4SWk9rfqRXRAhvM5eAx6sK
sYoq3gX+OUgAlCOwfTe02C7dJzjfa2nWPI7KUYBM80xrwcnjQKvds0iep1viIOSjQ9/w2IXcwcTr
Wkip9mnY2jigYTzOaK9nP6qB65HIMC1nGd1S09yT+7WF4mnm/tJIek2Na4Y9QBPSalU2YsDf74u8
pschznQ33qBCEK2U+PNiKGsNuLMpZzCCB8kwggWxoAMCAQICAQEwDQYJKoZIhvcNAQEFBQAwfTEL
MAkGA1UEBhMCSUwxFjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdp
dGFsIENlcnRpZmljYXRlIFNpZ25pbmcxKTAnBgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24g
QXV0aG9yaXR5MB4XDTA2MDkxNzE5NDYzNloXDTM2MDkxNzE5NDYzNlowfTELMAkGA1UEBhMCSUwx
FjAUBgNVBAoTDVN0YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmlj
YXRlIFNpZ25pbmcxKTAnBgNVBAMTIFN0YXJ0Q29tIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MIIC
IjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAwYjbCbxsRnx4n5V7tTOQ8nJi1sE2ICIkXs7p
d/JDCqIGZKTMjjb4OOYj8G5tsTzdcqOFHKHTPbQzK9Mvr/7qsEFZZ7bEBn0KnnSF1nlMgDd63zkF
Uln39BtGQ6TShYXSw3HzdWI0uiyKfx6P7u000BHHls1SPboz1t1N3gs7SkufwiYv+rUWHHI1d8o8
XebK4SaLGjZ2XAHbdBQl/u21oIgP3XjKLR8HlzABLXJ5+kbWEyqouaarg0kd5fLv3eQBjhgKj2NT
FoViqQ4ZOsy1ZqbCa3QH5Cvhdj60bdj2ROFzYh87xL6gU1YlbFEJ96qryr92/W2b853bvz1mvAxW
qq+YSJU6S9+nWFDZOHWpW+pDDAL/mevobE1wWyllnN2qXcyvATHsDOvSjejqnHvmbvcnZgwaSNdu
QuM/3iE+e+ENcPtjqqhsGlS0XCV6yaLJixamuyx+F14FTVhuEh0B7hIQDcYyfxj//PT6zW6R6DZJ
vhpIaYvClk0aErJpF8EKkNb6eSJIv7p7afhwx/p6N9jYDdJ2T1f/kLfjkdLd78Jgt2c63f6qnPDU
i39yIs7Gn5e2+K+KoBCo2fsYxra1XFI8ibYZKnMBCg8DsxJg8novgdujbv8mMJf1i92JV7atPbOv
K8W3dgLwpdYrmoYUKnL24zOMXQlLE9+7jHQTUksCAwEAAaOCAlIwggJOMAwGA1UdEwQFMAMBAf8w
CwYDVR0PBAQDAgGuMB0GA1UdDgQWBBROC+8apEBbpRdphzDKNGhD0EGu8jBkBgNVHR8EXTBbMCyg
KqAohiZodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvc2ZzY2EtY3JsLmNybDAroCmgJ4YlaHR0cDov
L2NybC5zdGFydGNvbS5vcmcvc2ZzY2EtY3JsLmNybDCCAV0GA1UdIASCAVQwggFQMIIBTAYLKwYB
BAGBtTcBAQEwggE7MC8GCCsGAQUFBwIBFiNodHRwOi8vY2VydC5zdGFydGNvbS5vcmcvcG9saWN5
LnBkZjA1BggrBgEFBQcCARYpaHR0cDovL2NlcnQuc3RhcnRjb20ub3JnL2ludGVybWVkaWF0ZS5w
ZGYwgdAGCCsGAQUFBwICMIHDMCcWIFN0YXJ0IENvbW1lcmNpYWwgKFN0YXJ0Q29tKSBMdGQuMAMC
AQEagZdMaW1pdGVkIExpYWJpbGl0eSwgcmVhZCB0aGUgc2VjdGlvbiAqTGVnYWwgTGltaXRhdGlv
bnMqIG9mIHRoZSBTdGFydENvbSBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSBQb2xpY3kgYXZhaWxh
YmxlIGF0IGh0dHA6Ly9jZXJ0LnN0YXJ0Y29tLm9yZy9wb2xpY3kucGRmMBEGCWCGSAGG+EIBAQQE
AwIABzA4BglghkgBhvhCAQ0EKxYpU3RhcnRDb20gRnJlZSBTU0wgQ2VydGlmaWNhdGlvbiBBdXRo
b3JpdHkwDQYJKoZIhvcNAQEFBQADggIBABZsmfRmDDT10IVefQrs2hBOOBxe36YlBUuRMsHoO/E9
3UQJWwdJiinLZgK3sZr3JZgJPI4b4d02hytLu2jTOWY9oCbH8jmRHVGrgnt+1c5a5OIDV3Bplwj5
XlimCt+MBppFFhY4Cl5X9mLHegIF5rwetfKe9Kkpg/iyFONuKIdEw5Aa3jipPKxDTWRFzt0oqVzy
c3sE+Bfoq7HzLlxkbnMxOhK4vLMR5H2PgVGaO42J9E2TZns8A+3Tmh2a82VQ9aDQdZ8vr/DqgkOY
+GmciXnEQ45GcuNkNhKv9yUeOImQd37Da2q5w8tES6x4kIvnxyweSxFEyDRSJ80KXZ+FwYnVGnjy
lRBTMt2AhGZ12bVoKPthLr6EqDjAmRKGpR5nZK0GLi+pcIXHlg98iWX1jkNUDqvdpYA5lGDANMmW
cCyjEvUfSHu9HH5rt52Q9CI7rvj8Ksr6glKg769LVZPrwbXwIousNE4mIgShhyx1SrflfRPXuAxk
wDbSyS+GEowjCcEbgjtzSaNqV4eU5dZ4xZlDY+NN4Hct4WWZcmkEGkcJ5g8BViT7H78OealYLrnE
CQF+lbptAAY+supKEDnY0Cv1v+x1v5cCxQkbCNxVN+KB+zeEQ2IgyudWS2Xq/mzBJJMkoTTrBf+a
Iq6bfT/xZVEKpjBqs/SIHIAN/HKK6INeMYIEHTCCBBkCAQEwgZQwgYwxCzAJBgNVBAYTAklMMRYw
FAYDVQQKEw1TdGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0
ZSBTaWduaW5nMTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRl
IENsaWVudCBDQQIDBGGXMAkGBSsOAwIaBQCgggJdMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEw
HAYJKoZIhvcNAQkFMQ8XDTEyMTIxMjEwNDgxMFowIwYJKoZIhvcNAQkEMRYEFCgdekT2gHjYylO+
pU+Z2LuH6OVbMIGlBgkrBgEEAYI3EAQxgZcwgZQwgYwxCzAJBgNVBAYTAklMMRYwFAYDVQQKEw1T
dGFydENvbSBMdGQuMSswKQYDVQQLEyJTZWN1cmUgRGlnaXRhbCBDZXJ0aWZpY2F0ZSBTaWduaW5n
MTgwNgYDVQQDEy9TdGFydENvbSBDbGFzcyAxIFByaW1hcnkgSW50ZXJtZWRpYXRlIENsaWVudCBD
QQIDBGGXMIGnBgsqhkiG9w0BCRACCzGBl6CBlDCBjDELMAkGA1UEBhMCSUwxFjAUBgNVBAoTDVN0
YXJ0Q29tIEx0ZC4xKzApBgNVBAsTIlNlY3VyZSBEaWdpdGFsIENlcnRpZmljYXRlIFNpZ25pbmcx
ODA2BgNVBAMTL1N0YXJ0Q29tIENsYXNzIDEgUHJpbWFyeSBJbnRlcm1lZGlhdGUgQ2xpZW50IENB
AgMEYZcwgasGCSqGSIb3DQEJDzGBnTCBmjALBglghkgBZQMEASowCwYJYIZIAWUDBAEWMAoGCCqG
SIb3DQMHMAsGCWCGSAFlAwQBAjAOBggqhkiG9w0DAgICAIAwBwYFKw4DAgcwDQYIKoZIhvcNAwIC
AUAwDQYIKoZIhvcNAwICASgwBwYFKw4DAhowCwYJYIZIAWUDBAIDMAsGCWCGSAFlAwQCAjALBglg
hkgBZQMEAgEwDQYJKoZIhvcNAQEBBQAEggEAMhUYu7bdI4YwTAqGEcWtmnwVQJeOPznD1YCYv/AM
IiJ0A0MxsxJMkUmlh7SIaVaFe/p1w6WOfSXNrtoBP6FyqfzbVfaGZC0hC1UOMqerMjSLkVHhpsi9
pBHbTAvw9K2QeIDs3bSblp8BCKXTTKZzDYwkcneNtr19mka7KBsQQYE7l9HrPOau2m7jD7zCke8+
h8ApE+Ow3QNX+OreTynrrIv4z2hJUW9L7lW1+m2D1HTTgj6rhi499K0ecqogdbQSqx2SqM7TP1J0
1nnijfcdBe2sMwknyXdygVllWKNWgQ+NW2Kn9dIxwNsKq2EWpgonvfn2FBoN+uEVqSFXjoSI8AAA
AAAAAA==

------=_NextPart_000_0083_01CDD85E.8F162110--

From users-return-238587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 11:10:31 2012
Return-Path: <users-return-238587-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E6CE9D2B9
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 11:10:30 +0000 (UTC)
Received: (qmail 21483 invoked by uid 500); 12 Dec 2012 11:10:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 21133 invoked by uid 500); 12 Dec 2012 11:10:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 21073 invoked by uid 99); 12 Dec 2012 11:10:25 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 11:10:25 +0000
Received: from localhost (HELO mail-lb0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 11:10:25 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so496259lbg.18
        for <users@tomcat.apache.org>; Wed, 12 Dec 2012 03:10:23 -0800 (PST)
Received: by 10.152.125.240 with SMTP id mt16mr655030lab.17.1355310623720;
 Wed, 12 Dec 2012 03:10:23 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.76.231 with HTTP; Wed, 12 Dec 2012 03:10:03 -0800 (PST)
In-Reply-To: <CAHrZWtzpLtjFwODtjJQrf4_KqOu0Fnd48Wr+JxOgdBtpnPEtPQ@mail.gmail.com>
References: <CAHrZWtzpLtjFwODtjJQrf4_KqOu0Fnd48Wr+JxOgdBtpnPEtPQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Wed, 12 Dec 2012 12:10:03 +0100
Message-ID: <CAPoyBqRVJ0r8BtVYmUX0rz5vs60UYc52hswDg=JKm_skp0je3A@mail.gmail.com>
Subject: Re: Tomcat 7 Maven Plugin - set MaxPermSize
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/12/11 David Miller <possum.pie@gmail.com>:
> I'm using the tomcat-maven plugin to set a value for MaxPermSize but it's
> not working.
>
> You can see in the below plugin my setting for JAVA_OPTS - I've also tried
> MAVEN_OPTS and CATALINA_OPTS.
>
> I can see that it's not working using jvisualvm (can also tell because my
> app eventually craps out).
>
> The only way that I can get an increase in perm gen size is to explicitly
> set it like this:
> MAVEN_OPTS="-XX:MaxPermSize=1024m"
>
> Is it possible to use the tomcat-maven plugin to specify MaxPermSize size?
Nope that's the only way as running tomcat with the plugin is not done
in a jvm forked mode but in the same jvm as maven.
>
> Thanks!
>
> <plugin>
>     <groupId>org.apache.tomcat.maven</groupId>
>     <artifactId>tomcat7-maven-plugin</artifactId>
>     <version>2.0</version>
>     <configuration>
>         <systemProperties>
>             <JAVA_OPTS>-XX:MaxPermSize=1024M</JAVA_OPTS>
>         </systemProperties>
>         <backgroundProcessorDelay>5</backgroundProcessorDelay>
>
> <contextFile>${project.build.directory}/${project.build.finalName}/META-INF/context.xml</contextFile>
>         <path>/xyz</path>
>     </configuration>
>     <dependencies>
>         <dependency>
>             <groupId>com.sun.faces</groupId>
>             <artifactId>jsf-api</artifactId>
>             <version>2.0.9</version>
>         </dependency>
>         <dependency>
>             <groupId>com.sun.faces</groupId>
>             <artifactId>jsf-impl</artifactId>
>             <version>2.0.9</version>
>         </dependency>
>     <dependencies>
> </plugin>



--
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 13:52:09 2012
Return-Path: <users-return-238588-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA227DDE8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 13:52:09 +0000 (UTC)
Received: (qmail 1204 invoked by uid 500); 12 Dec 2012 13:52:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1035 invoked by uid 500); 12 Dec 2012 13:52:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1003 invoked by uid 99); 12 Dec 2012 13:52:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 13:52:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of prvs=1693d3879a=Justin.Larose@nexweb.org designates 216.54.56.151 as permitted sender)
Received: from [216.54.56.151] (HELO mx1.nexweb.org) (216.54.56.151)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 13:51:54 +0000
Received: from ngate1.nexweb.us ([164.226.177.14]) by mx1.nexweb.org 
    (8.14.1/8.14.1) with ESMTP id qBCE1gQu004753 for 
    <users@tomcat.apache.org>; Wed, 12 Dec 2012 09:01:42 -0500
In-Reply-To:     <CABzHfV=Vqp9On-nYHRtgvg2E2b+b6yeL7_OhZqv8VPE7QAn6BQ@mail.gmail.com>
References:     <OF77E4BB73.DD189E55-ON85257AD1.004A73EF-85257AD1.004D885B@nexweb.us> 
    <CABzHfV=Vqp9On-nYHRtgvg2E2b+b6yeL7_OhZqv8VPE7QAn6BQ@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
MIME-Version: 1.0
Subject: Re: Tomcat 7.33 update on Windows
X-KeepSent: 5BDE1BB4:92089C64-85257AD2:004BEE88; type=4; name=$KeepSent
X-Mailer: Lotus Notes Release 8.5.1 September 28, 2009
Message-ID: <OF5BDE1BB4.92089C64-ON85257AD2.004BEE88-85257AD2.004C21AE@nexweb.us>
From: Justin Larose <Justin.Larose@nexweb.org>
Date: Wed, 12 Dec 2012 08:51:33 -0500
X-MIMETrack: Serialize by Router on 
    NGATE1/HQ/NEXNET(Release 8.5|December 05, 2008) at 12/12/2012 
    08:51:28 AM, Serialize complete at 12/12/2012 08:51:28 AM
Content-Type: multipart/alternative; 
    boundary="=_alternative 004C21AE85257AD2_="
X-Virus-Checked: Checked by ClamAV on apache.org

--=_alternative 004C21AE85257AD2_=
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit

Konstantin Kolinko <knst.kolinko@gmail.com> wrote on 12/11/2012 09:12:16 
AM:

> From: Konstantin Kolinko <knst.kolinko@gmail.com>
> To: Tomcat Users List <users@tomcat.apache.org>
> Date: 12/11/2012 09:12 AM
> Subject: Re: Tomcat 7.33 update on Windows
> 
> 2012/12/11 Justin Larose <Justin.Larose@nexweb.org>:
> > I just updated Tomcat 7 from version 7.11 to 7.33 on my windows server 
but
> > when I goto the URL I am seeing 500 error, "Cannot load JDBC driver 
class
> > 'com.microsoft.sqlserver.jdbc.SQLServerDriver'"
> > Not sure why. I made a copy of all config directories prior to install 
and
> > copied them all to the new Tomcat home. Below is the full stack.
> >
> > (...)
> >
> > root cause
> >
> > java.lang.ClassNotFoundException:
> > com.microsoft.sqlserver.jdbc.SQLServerDriver
> >

> What jar contains the above class and whether it is present in your
> installation? I guess you forgot to copy it.

> (It should be placed into Tomcat's lib/ directory).

Thanks for your help Konstantin.
It was missing a sql file in the lib directory. It wasn't there when I 
copied the old Tomcat directory so I had to copy it from another server.

> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

******************************************************************************
This email and any files transmitted with it are intended solely for 
the use of the individual or agency to whom they are addressed. 
If you have received this email in error please notify the Navy 
Exchange Service Command e-mail administrator. This footnote 
also confirms that this email message has been scanned for the
presence of computer viruses.

Thank You!            
******************************************************************************


--=_alternative 004C21AE85257AD2_=--

From users-return-238589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 14:52:07 2012
Return-Path: <users-return-238589-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3957AD2FC
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 14:52:07 +0000 (UTC)
Received: (qmail 99610 invoked by uid 500); 12 Dec 2012 14:52:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99401 invoked by uid 500); 12 Dec 2012 14:51:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99355 invoked by uid 99); 12 Dec 2012 14:51:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 14:51:58 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ferdieromero@gmail.com designates 209.85.216.52 as permitted sender)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 14:51:51 +0000
Received: by mail-qa0-f52.google.com with SMTP id d13so963506qak.18
        for <users@tomcat.apache.org>; Wed, 12 Dec 2012 06:51:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=JmCVKjLLPVpd4a3uYEq5cCHtpIVqgr9/nvR+OpLPIVw=;
        b=xCSOKA/pg0JRPUXO1vQlgftZH5udnQxAY+gjEsvxmqe6YUhEafqwvlRhj1Iw2s57Lr
         NhCeUeKTQl+IP/BsmmrGWXC06lF4Oo3W4Pv6EW2ShhXF3+WBvD1ldBeutyaWhTzbP5Zo
         8IRE1KTJkYjPRuaUG/GaLV/4V4uiuDvV0UHLYUlN0j5ainEWIS0ZPwnxEsbzTV0mI5Sw
         bKpI0xaW72DOlFBglGbsZXNMyx4Nz9eFdXgBeKQpkPYz29RXud4+d8CJwDm/vGakjlJE
         D6LdZyS4DTQQZLKEzDz75fD0NXoP6sgSX9lOr+Zzt5/yonOHTFc9RJMFl8c1h5T++BNp
         sWDw==
MIME-Version: 1.0
Received: by 10.229.201.194 with SMTP id fb2mr594786qcb.36.1355323890811; Wed,
 12 Dec 2012 06:51:30 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 12 Dec 2012 06:51:30 -0800 (PST)
Date: Wed, 12 Dec 2012 22:51:30 +0800
Message-ID: <CAC9SjxL9afCX0Mnhf=aDPyCrmAOW4L2msNbDBbEwBf5JZK_jDg@mail.gmail.com>
Subject: According to TLD or attribute directive in tag file, attribute xml
 does not accept any expressions
From: Ferdie Romero <ferdieromero@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6d99d1f11436804d0a8ef06
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d99d1f11436804d0a8ef06
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Hi Guys,

We are having issues upon testing our newly upgraded tomcat/apache. We
encounter the error below:



Dec 12, 2012 9:13:10 AM org.apache.catalina.core.StandardWrapperValve invok=
e

SEVERE: Servlet.service() for servlet [jsp] in context with path [] threw
exception [/Header.jsp (line: 35, column: 0) According to TLD or attribute
directive in tag file, attribute xml does not accept any expressions] with
root cause


Here=92s a portion of the Header.jsp file containing line 35:



    32     <div id=3D"body-container">^M

    33          <div class=3D"block">^M

    34                           <div id=3D"header">^M

    35  <x:transform xml  =3D "${inputDoc}"^M

    36               xslt =3D  "${topNavStylesheet}">^M

    37    <x:param name=3D"telcoValue"  value=3D"${param.telcoValue}" />^M

    38   <x:param name=3D"businessUnit"  value=3D"${param.businessUnit}" />=
^M

    39  </x:transform>^M



here's a portion of our web.xml:



<web-app xmlns=3D"http://java.sun.com/xml/ns/javaee"
  xmlns:xsi=3D"http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation=3D"http://java.sun.com/xml/ns/javaee
                      http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
  version=3D"3.0">



We also downloaded and installed in /opt/app/cms/apache-tomcat-7.0.32/lib
and /opt/app/cms/apache-tomcat-7.0.32/webapps/ROOT/WEB-INF/lib the
following:



-rw-r--r--   1 root       sys         407178 Dec 12 07:43
javax.servlet.jsp.jstl-1.2.1.jar
-rw-r--r--   1 root       sys          32522 Dec 12 07:43
javax.servlet.jsp.jstl-api-1.2.1.jar



Are there any other files we need to update. Your help will be highly
appreciated.



Thanks.

--0016e6d99d1f11436804d0a8ef06--

From users-return-238590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 15:26:31 2012
Return-Path: <users-return-238590-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 861E4DF59
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 15:26:31 +0000 (UTC)
Received: (qmail 18645 invoked by uid 500); 12 Dec 2012 15:26:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18410 invoked by uid 500); 12 Dec 2012 15:26:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18391 invoked by uid 99); 12 Dec 2012 15:26:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 15:26:27 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 15:26:19 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id aaxn1k0051wpRvQ53fRxmr; Wed, 12 Dec 2012 15:25:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id afRu1k00s38FjT13efRwYr; Wed, 12 Dec 2012 15:25:57 +0000
Message-ID: <50C8A204.8030904@christopherschultz.net>
Date: Wed, 12 Dec 2012 10:25:56 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: I can only access Tomcat 7 when running via console (startup.bat)
References: <CA+hW5JrEah8gXnh=T-nzz9_frA1zQyrOSuGxkVtGohUfc4BNTA@mail.gmail.com>	<0677E3EA-4510-4205-8BEC-1095E83C9DC4@vmware.com>	<CABzHfVnqm_RfS4+-pj1+PZS82gTBMy8HrQM_LYp_HiqxB8wVsg@mail.gmail.com>	<CA+hW5JrGhvXHqohSdia-DjMMivVjXdcR220+OuQnU9OBtW_KAQ@mail.gmail.com>	<50C23BAF.3090000@ice-sa.com>	<50C265D9.50305@christopherschultz.net>	<50C2762E.6000508@ice-sa.com>	<CA+hW5Jp6P_jAQdB8u5uzF6vg5TRSuhUNa_3+G7g-J1Bn17C8Fw@mail.gmail.com>	<50C60D96.701@ice-sa.com>	<505E9A9C-377E-44BC-97D3-09227E4B9CCA@vmware.com>	<CA+hW5JrBUzCwekvq5O3g5UONbPL_mTnTQ-wH4-wK_XtJALOiag@mail.gmail.com>	<50C74120.6080307@christopherschultz.net> <CA+hW5Jow_Q4Od8vKYtkqYe7EgUg+1ih4mHrPQYvz1G3s5qkrdA@mail.gmail.com> <50C7C18D.7080109@ice-sa.com>
In-Reply-To: <50C7C18D.7080109@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355325957;
	bh=2RUesElrP97aP8jkqaaksA0t3C45iaQwVeWopV2f8/U=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=ewf6vlgp3btDQM3ammFhNxnCP8rBfuvpI+hz0hYJQnlzexaODNqYH5007tkRRlGoE
	 DQu1mlOnaD+GAb8Vt2pTxKXgKr4MgchjPr+99Xim1krwt+vt5lPaGo6C8Q/YkjgRjx
	 qft7PLcTbXTgtnvvUclWgrzgyDa5rh1MxRraPUcsebp5GyyA3PVdSx7uWU8NTnRhsZ
	 dpUNRNNQV+U216cQ5iGkd6uC3wtCfK4YRmmycE2X+3w7ONIoJyt3YMTaccyEyn9z1D
	 /n2jXztnD+0lJmo+pJmAgGfZ5i3JpT5ofFlVi0P38Xx74psn8KRhv0Qc5CrtD21OAQ
	 QivES4aQOTIMA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

AndrÃ©,

On 12/11/12 6:28 PM, AndrÃ© Warnier wrote:
> Yuri E wrote:
>>> 
>> I added a exception for the 8080 port in the Windows XP Firewall 
>> settings. Tomcat is working now. Thanks for all the answers.
>> 
> 
> Yuri, for me that still does not explain why you could access
> Tomcat from "outside" when it was running in a console, but not
> when it was running as a service. Just opening port 8080 should
> either allow both, or none. Something here doesn't fit.

Just like Chuck said:

Running from the console runs java.exe (or javaw.exe -- can't
remember). He probably said "Allow" at some point long ago to a pop-up
asking about java.exe accepting network connections.

Running as a service runs Tomcat7.exe and services probably never
pop-up anything asking for allowing incoming network connections, so
it remained blocked.

It's probably worth logging an enhancement request to (optionally)
configure the firewall when installing Tomcat as a service.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDIogQACgkQ9CaO5/Lv0PBQVACgn2vhBv1jgCfDnyNKDzgSBNf0
zoIAn00GDKPi8l2epOirBeUmujIGFDQS
=P9Fm
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 15:58:06 2012
Return-Path: <users-return-238591-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 244E5D88B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 15:58:06 +0000 (UTC)
Received: (qmail 34734 invoked by uid 500); 12 Dec 2012 15:58:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34582 invoked by uid 500); 12 Dec 2012 15:58:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34497 invoked by uid 99); 12 Dec 2012 15:57:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 15:57:59 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.138.91.38] (HELO nm14-vm1.bullet.mail.ne1.yahoo.com) (98.138.91.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 15:57:49 +0000
Received: from [98.138.90.49] by nm14.bullet.mail.ne1.yahoo.com with NNFMP; 12 Dec 2012 15:57:28 -0000
Received: from [98.138.84.33] by tm2.bullet.mail.ne1.yahoo.com with NNFMP; 12 Dec 2012 15:57:28 -0000
Received: from [127.0.0.1] by smtp101.mail.ne1.yahoo.com with NNFMP; 12 Dec 2012 15:57:28 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355327848; bh=csuwWNdOZtwILNqop++v9PUr6fgV18mf/m/TB6KV9cc=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=iQYIfYXM+fFSDBfEYoLByiYj9EjuVOk/H/H3V1DBYRoUe6FCfmPO6L9fmuveXweaabyEaQuFojHsSg5ibENyt9pdmjgfyqyAjhX/CE+R7kZbCqcihkammggObDAysfV/1DGjEylL6Gr/JOSnIF7CaNrfd/2PPOlOQoc8Esajtx0=
X-Yahoo-Newman-Id: 347952.69569.bm@smtp101.mail.ne1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 5UYezNAVM1n.1hqgLtlfYza_ZBhb3RsrqEY13ttQfLjTWdF
 Tzxhw2hZdMSJ0aE.z9fyjbTNWtoAINFRIS1Np2U_PXpjZjRsKGUjEkya80nY
 R6RKDttsbjI774hkS4fzd_fLMQWzowuqs4T_0p2Ps3d9rnEppt9uOC9Y4Gp4
 ZZdM0khvJnSyJ.D_rRhoStloaWw1DItNxVJKCXe1ehpdhb0OpHPOyh6ewc9H
 wjRaWOtZWtshtN6Jn0CnhqN..YqOHyNFXCoHkzZRXcx2guDyU2caAM86gGZB
 hi9hISyqwPqWBdLDVBVDizcI94V.4IQhqPEwdLvuqRqxMJE66M9n2QnWOU8y
 VaCydlAAmXz_cDzMINt5Cl7TAMwISn0PJwJYZtrwytfgTFWaSaTWAWQlEc1S
 VZrOjKTuS9XHVyZdoGxPyCw4l8Z4sJNEon9g57TSAmc4wQpvR7sglFr0.sCJ
 2pNwuqj5CEfh8CaK1JkfB0dW6FIkbPW4Kbwr53xMQbg7ROd3g.6bVJTh_hIV
 tH8um3JWAiqAonNcCwzEzHIK.fAkX6sMan6iBV2ALzSylkwrTMEt9TRZdneo
 cy4CZmzkgWcTEsWtNcTKtbA--
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp101.mail.ne1.yahoo.com with SMTP; 12 Dec 2012 07:57:28 -0800 PST
Message-ID: <50C8A939.6090903@yahoo.com>
Date: Wed, 12 Dec 2012 07:56:41 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: According to TLD or attribute directive in tag file, attribute
 xml does not accept any expressions
References: <CAC9SjxL9afCX0Mnhf=aDPyCrmAOW4L2msNbDBbEwBf5JZK_jDg@mail.gmail.com>
In-Reply-To: <CAC9SjxL9afCX0Mnhf=aDPyCrmAOW4L2msNbDBbEwBf5JZK_jDg@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/12/2012 6:51 AM, Ferdie Romero wrote:
> Hi Guys,
>
> We are having issues upon testing our newly upgraded tomcat/apache.
> We encounter the error below:
>
>
>
> Dec 12, 2012 9:13:10 AM org.apache.catalina.core.StandardWrapperValve
> invoke
>
> SEVERE: Servlet.service() for servlet [jsp] in context with path []
> threw exception [/Header.jsp (line: 35, column: 0) According to TLD
> or attribute directive in tag file, attribute xml does not accept any
> expressions] with root cause
>
>
> Heres a portion of the Header.jsp file containing line 35:
>
>
>
> 32     <div id="body-container">^M
>
> 33          <div class="block">^M
>
> 34                           <div id="header">^M
>
> 35  <x:transform xml  = "${inputDoc}"^M
>
> 36               xslt =  "${topNavStylesheet}">^M
>
> 37    <x:param name="telcoValue"  value="${param.telcoValue}" />^M
>
> 38   <x:param name="businessUnit"  value="${param.businessUnit}"
> />^M
>
> 39  </x:transform>^M
>
>
>
> here's a portion of our web.xml:
>
>
>
> <web-app xmlns="http://java.sun.com/xml/ns/javaee"
> xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
> xsi:schemaLocation="http://java.sun.com/xml/ns/javaee
> http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" version="3.0">
>
>
>
> We also downloaded and installed in
> /opt/app/cms/apache-tomcat-7.0.32/lib and
> /opt/app/cms/apache-tomcat-7.0.32/webapps/ROOT/WEB-INF/lib the
> following:
>
>
>
> -rw-r--r--   1 root       sys         407178 Dec 12 07:43
> javax.servlet.jsp.jstl-1.2.1.jar -rw-r--r--   1 root       sys
> 32522 Dec 12 07:43 javax.servlet.jsp.jstl-api-1.2.1.jar
>
>
>
> Are there any other files we need to update. Your help will be
> highly appreciated.
>
>
>
> Thanks.
>

Make sure you're using the right URI in the taglib declaration at the
top of your page. The 1.0 ones don't take expressions if I recall correctly.

. . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 16:28:33 2012
Return-Path: <users-return-238592-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 50DE9D4AF
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 16:28:33 +0000 (UTC)
Received: (qmail 33978 invoked by uid 500); 12 Dec 2012 16:28:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33921 invoked by uid 500); 12 Dec 2012 16:28:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33857 invoked by uid 99); 12 Dec 2012 16:28:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 16:28:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ferdieromero@gmail.com designates 209.85.216.52 as permitted sender)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 16:28:19 +0000
Received: by mail-qa0-f52.google.com with SMTP id d13so1182155qak.18
        for <users@tomcat.apache.org>; Wed, 12 Dec 2012 08:27:58 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sspm1w7KqefB74VB45sdOFBh1jpRxhz8nbOkfWZqR2A=;
        b=1JX3y1Uo9Eya39ZxUAMJ0MrvwdaqXiwTNL28D7HL9xrQ1rbDIFQt/+zM3IbksCszKz
         u85NbCBe0bDBM1IYUzsyaftXsPgocbT61oCNYxqtmObIIY9Rq8HdlSgAfEqTXBFMHNyZ
         twySqIy+IYNnLCgpKGWBKA4H0RVABll4NKRnPpB6DSCRmNOIMylIGLOiiP7JPFfV3wgQ
         6hdrrvP9W4vMF5buCl/rhGJzcUIxT/UWbEh7uYXCIPwBUcPAHl5jazz5H0i42XAwfvNE
         qQSq2xtXWeBjERs2QCdmEnOXJN6fL5tWg+GSAWhLP2VTUyb+eFofTHjYBjnURUOb294d
         jg8g==
MIME-Version: 1.0
Received: by 10.49.127.101 with SMTP id nf5mr3904825qeb.20.1355329678803; Wed,
 12 Dec 2012 08:27:58 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 12 Dec 2012 08:27:58 -0800 (PST)
In-Reply-To: <50C8A939.6090903@yahoo.com>
References: <CAC9SjxL9afCX0Mnhf=aDPyCrmAOW4L2msNbDBbEwBf5JZK_jDg@mail.gmail.com>
	<50C8A939.6090903@yahoo.com>
Date: Thu, 13 Dec 2012 00:27:58 +0800
Message-ID: <CAC9SjxLA=yw9heXeTh_O8oS7d1Bc=AmoJb=TsQgEy8h19LRqkw@mail.gmail.com>
Subject: Re: According to TLD or attribute directive in tag file, attribute
 xml does not accept any expressions
From: Ferdie Romero <ferdieromero@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b6dc0bc0f019b04d0aa48dc
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b6dc0bc0f019b04d0aa48dc
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Hi,

I already tried using

<%@ taglib uri=3D"http://java.sun.com/jsp/jstl/core" prefix=3D"c" %>^M
and

<%@ taglib uri=3D"http://java.sun.com/jstl/core" prefix=3D"c" %>^M
but I got the same error.

Thanks.

On Wed, Dec 12, 2012 at 11:56 PM, Mark Eggers <its_toasted@yahoo.com> wrote=
:

>  On 12/12/2012 6:51 AM, Ferdie Romero wrote:
>
>> Hi Guys,
>>
>> We are having issues upon testing our newly upgraded tomcat/apache.
>> We encounter the error below:
>>
>>
>>
>> Dec 12, 2012 9:13:10 AM org.apache.catalina.core.**StandardWrapperValve
>> invoke
>>
>> SEVERE: Servlet.service() for servlet [jsp] in context with path []
>> threw exception [/Header.jsp (line: 35, column: 0) According to TLD
>> or attribute directive in tag file, attribute xml does not accept any
>> expressions] with root cause
>>
>>
>> Here=92s a portion of the Header.jsp file containing line 35:
>>
>>
>>
>> 32     <div id=3D"body-container">^M
>>
>> 33          <div class=3D"block">^M
>>
>> 34                           <div id=3D"header">^M
>>
>> 35  <x:transform xml  =3D "${inputDoc}"^M
>>
>> 36               xslt =3D  "${topNavStylesheet}">^M
>>
>> 37    <x:param name=3D"telcoValue"  value=3D"${param.telcoValue}" />^M
>>
>> 38   <x:param name=3D"businessUnit"  value=3D"${param.businessUnit}"
>> />^M
>>
>> 39  </x:transform>^M
>>
>>
>>
>> here's a portion of our web.xml:
>>
>>
>>
>> <web-app xmlns=3D"http://java.sun.com/**xml/ns/javaee<http://java.sun.co=
m/xml/ns/javaee>
>> "
>> xmlns:xsi=3D"http://www.w3.org/**2001/XMLSchema-instance<http://www.w3.o=
rg/2001/XMLSchema-instance>
>> "
>> xsi:schemaLocation=3D"http://**java.sun.com/xml/ns/javaee<http://java.su=
n.com/xml/ns/javaee>
>> http://java.sun.com/xml/ns/**javaee/web-app_3_0.xsd<http://java.sun.com/=
xml/ns/javaee/web-app_3_0.xsd>"
>> version=3D"3.0">
>>
>>
>>
>> We also downloaded and installed in
>> /opt/app/cms/apache-tomcat-7.**0.32/lib and
>> /opt/app/cms/apache-tomcat-7.**0.32/webapps/ROOT/WEB-INF/lib the
>> following:
>>
>>
>>
>> -rw-r--r--   1 root       sys         407178 Dec 12 07:43
>> javax.servlet.jsp.jstl-1.2.1.**jar -rw-r--r--   1 root       sys
>> 32522 Dec 12 07:43 javax.servlet.jsp.jstl-api-1.**2.1.jar
>>
>>
>>
>> Are there any other files we need to update. Your help will be
>> highly appreciated.
>>
>>
>>
>> Thanks.
>>
>>
> Make sure you're using the right URI in the taglib declaration at the
> top of your page. The 1.0 ones don't take expressions if I recall
> correctly.
>
> . . . just my two cents.
> /mde/
>
> ------------------------------**------------------------------**---------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.**apache.org<users-unsub=
scribe@tomcat.apache.org>
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b6dc0bc0f019b04d0aa48dc--

From users-return-238593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 16:35:57 2012
Return-Path: <users-return-238593-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE270DD61
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 16:35:57 +0000 (UTC)
Received: (qmail 58537 invoked by uid 500); 12 Dec 2012 16:35:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58483 invoked by uid 500); 12 Dec 2012 16:35:53 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58453 invoked by uid 99); 12 Dec 2012 16:35:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 16:35:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.139.213.95] (HELO nm8-vm0.bullet.mail.bf1.yahoo.com) (98.139.213.95)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 16:35:42 +0000
Received: from [98.139.212.153] by nm8.bullet.mail.bf1.yahoo.com with NNFMP; 12 Dec 2012 16:35:21 -0000
Received: from [98.139.213.2] by tm10.bullet.mail.bf1.yahoo.com with NNFMP; 12 Dec 2012 16:35:21 -0000
Received: from [127.0.0.1] by smtp102.mail.bf1.yahoo.com with NNFMP; 12 Dec 2012 16:35:21 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355330121; bh=CXpYrfjF8byp5cpHMrug4gYCm6VjXX2Pf1md9bqmCTc=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Message-ID:Date:From:User-Agent:MIME-Version:To:Subject:References:In-Reply-To:Content-Type:Content-Transfer-Encoding; b=uVfElXWi7X0rvScY2FmGu3xIn0w+Xv/WOkoSPlJV5nFo2R6lr2l9Gv+6/TZ0B7l8VesQMaiykQHJ3Bmns/aPw+rU5Vwi5ycB06ZPozK9bax+1ZshEu5B+rb1GZfNNi0GOdOcqSt9uefjZoizVpUG5Spsswc6CUZojFvjHoiYn/M=
X-Yahoo-Newman-Id: 220348.72021.bm@smtp102.mail.bf1.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: OOL7o54VM1nBv7xHB1aitrUsek7OCyaawKq_5MWNSWqSNFg
 m63N_hl4n9dVOgl72OEdW2QvIMvJP98lec2OQkNrFX7pd_QqCfUEBAWku0wy
 DWTs5bI8wrspE5j9k8p1vd2YD05zRfgPGSVF134RIzCOY6ENOsolegyodP.L
 JArFeEoYIFo8UpldhcajFo0ygmLyyXFigixhKKesCpY9Y2R3PrQpmFrYz0FN
 T60MT64x71qC8otmTZNuELmBiJ.i4WULAY2.5nU.W7IUh_a9Mn29B_23D5CH
 omnJY9THnzRx8aSxorRqdk9CBmliiRw1M32KdscswZ5Z1E51YJwCXFPIJLq_
 xAnqqweFp8Pg96TGvFWy9TDrRg_9Gfj1yiEWLG.4m.GlzM4dAO9jZgGi8wxo
 vwwgIV3gtqzU1fnR0IWZdUto1LZmfoFZfAsEF8plOV3X7EMBDLSTFpJ5zA67
 FY.55Lz7KOWNJJ.QFPoAu7TlS_YfNb1aUu6OeLUHOcL_au4U3fx2LL65S02T
 hjlsz.jvaXvWwKlnhtky2tJTd7xeaeKo_jf3RYtB31MrHCZ133EvJsG7vqbD
 xsp412gfoOLQdrkUO
X-Yahoo-SMTP: PKuT8k2swBCeFOHzkGy5rTOUTa2hBxlR
Received: from [127.0.0.1] (its_toasted@76.175.11.19 with plain)
        by smtp102.mail.bf1.yahoo.com with SMTP; 12 Dec 2012 08:35:21 -0800 PST
Message-ID: <50C8B212.7050405@yahoo.com>
Date: Wed, 12 Dec 2012 08:34:26 -0800
From: Mark Eggers <its_toasted@yahoo.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: According to TLD or attribute directive in tag file, attribute
 xml does not accept any expressions
References: <CAC9SjxL9afCX0Mnhf=aDPyCrmAOW4L2msNbDBbEwBf5JZK_jDg@mail.gmail.com> <50C8A939.6090903@yahoo.com> <CAC9SjxLA=yw9heXeTh_O8oS7d1Bc=AmoJb=TsQgEy8h19LRqkw@mail.gmail.com>
In-Reply-To: <CAC9SjxLA=yw9heXeTh_O8oS7d1Bc=AmoJb=TsQgEy8h19LRqkw@mail.gmail.com>
Content-Type: text/plain; charset=windows-1252; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 12/12/2012 8:27 AM, Ferdie Romero wrote:
> Hi,
>
> I already tried using
>
> <%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>^M
> and
>
> <%@ taglib uri="http://java.sun.com/jstl/core" prefix="c" %>^M but I
> got the same error.
>
> Thanks.
>
> On Wed, Dec 12, 2012 at 11:56 PM, Mark Eggers <its_toasted@yahoo.com>
> wrote:
>
>> On 12/12/2012 6:51 AM, Ferdie Romero wrote:
>>
>>> Hi Guys,
>>>
>>> We are having issues upon testing our newly upgraded
>>> tomcat/apache. We encounter the error below:
>>>
>>>
>>>
>>> Dec 12, 2012 9:13:10 AM
>>> org.apache.catalina.core.**StandardWrapperValve invoke
>>>
>>> SEVERE: Servlet.service() for servlet [jsp] in context with path
>>> [] threw exception [/Header.jsp (line: 35, column: 0) According
>>> to TLD or attribute directive in tag file, attribute xml does not
>>> accept any expressions] with root cause
>>>
>>>
>>> Heres a portion of the Header.jsp file containing line 35:
>>>
>>>
>>>
>>> 32     <div id="body-container">^M
>>>
>>> 33          <div class="block">^M
>>>
>>> 34                           <div id="header">^M
>>>
>>> 35  <x:transform xml  = "${inputDoc}"^M
>>>
>>> 36               xslt =  "${topNavStylesheet}">^M
>>>
>>> 37    <x:param name="telcoValue"  value="${param.telcoValue}"
>>> />^M
>>>
>>> 38   <x:param name="businessUnit"  value="${param.businessUnit}"
>>> />^M
>>>
>>> 39  </x:transform>^M
>>>
>>>
>>>
>>> here's a portion of our web.xml:
>>>
>>>
>>>
>>> <web-app
>>> xmlns="http://java.sun.com/**xml/ns/javaee<http://java.sun.com/xml/ns/javaee>
>>>
>>>
"
>>> xmlns:xsi="http://www.w3.org/**2001/XMLSchema-instance<http://www.w3.org/2001/XMLSchema-instance>
>>>
>>>
"
>>> xsi:schemaLocation="http://**java.sun.com/xml/ns/javaee<http://java.sun.com/xml/ns/javaee>
>>>
>>>
http://java.sun.com/xml/ns/**javaee/web-app_3_0.xsd<http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd>"
>>> version="3.0">
>>>
>>>
>>>
>>> We also downloaded and installed in
>>> /opt/app/cms/apache-tomcat-7.**0.32/lib and
>>> /opt/app/cms/apache-tomcat-7.**0.32/webapps/ROOT/WEB-INF/lib the
>>> following:
>>>
>>>
>>>
>>> -rw-r--r--   1 root       sys         407178 Dec 12 07:43
>>> javax.servlet.jsp.jstl-1.2.1.**jar -rw-r--r--   1 root       sys
>>> 32522 Dec 12 07:43 javax.servlet.jsp.jstl-api-1.**2.1.jar
>>>
>>>
>>>
>>> Are there any other files we need to update. Your help will be
>>> highly appreciated.
>>>
>>>
>>>
>>> Thanks.
>>>
>>>
>> Make sure you're using the right URI in the taglib declaration at
>> the top of your page. The 1.0 ones don't take expressions if I
>> recall correctly.
>>
>> . . . just my two cents. /mde/

Please don't top-post. Top-posting makes the conversation difficult to 
follow for those late to the thread.

I'm thinking it should be:

<%@taglib uri="http://java.sun.com/jsp/jstl/xml" prefix="x"%>

Then again, I'm a systems person, and not so much of a Java programmer.

I got hit with this when exploring some internationalization work. I needed:

<%@taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>

to fix the problem.

. . . . just my two cents.
/mde/

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 19:51:45 2012
Return-Path: <users-return-238594-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AC4FBDBB8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 19:51:45 +0000 (UTC)
Received: (qmail 74662 invoked by uid 500); 12 Dec 2012 19:51:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 74585 invoked by uid 500); 12 Dec 2012 19:51:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 74576 invoked by uid 99); 12 Dec 2012 19:51:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 19:51:42 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.181 as permitted sender)
Received: from [209.85.223.181] (HELO mail-ie0-f181.google.com) (209.85.223.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 19:51:33 +0000
Received: by mail-ie0-f181.google.com with SMTP id 16so2606334iea.40
        for <users@tomcat.apache.org>; Wed, 12 Dec 2012 11:51:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=HPXbVuyfpOEEmXG9R0F9qbNl4myzOsrpG+EtqHNkVJY=;
        b=O6F8nn5Aez31QbLsOFltMlNqjNW1hssaffK3Vv6bta+Dp/udhH7QomqAojD71qk1dG
         +p8QOCDJKG31YgpfQF/e8ieaFRIN3zcXlFJFqWiruBeK7hkwFYa5gSPDX/WKXWCQ5972
         ODdEEXW/AQBtMfoogGBbtFCFLU5aCpZA4nfN//8EeeeBHFWcAmzoZ+u6T1A4j6cSWCMj
         ByZ72xx0vUAj5XvfJ0/MyjmrfIMPx6sh4KAR/JXP/Dxqk4bomzJGlxca+iE6UrCQZIa3
         GojgS6HC6Eg1RpR260x6S0g89nM2UvxlJncvXUdnKlM2Ie7m0qJ8mlwQgc7zXQTCKrK7
         orUg==
MIME-Version: 1.0
Received: by 10.50.216.201 with SMTP id os9mr14630216igc.5.1355341873088; Wed,
 12 Dec 2012 11:51:13 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Wed, 12 Dec 2012 11:51:13 -0800 (PST)
Date: Wed, 12 Dec 2012 14:51:13 -0500
Message-ID: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
Subject: tomcat7-maven-plugin
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9341235e5070804d0ad1e3e
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9341235e5070804d0ad1e3e
Content-Type: text/plain; charset=ISO-8859-1

I didn't want to come here to ask as I always hate to bother anyone, but
maybe I should have come here first.  I'm coming up short on answers and
ideas.  I'm having an issue with using maven and the tomcat7 plugin.

Maven version -3.0.4
Tomcat version - 7.0.29
.jdk version - 1.6
tomcat7-maven-plugin version - 2.0

Hey group,  I am having an issue here with using the tomcat7-maven-plugin
in conjunction with the tomcat 7 manager.  here's what I have so far.

tomcat-users.xml -

<tomcat-users>
    <role rolename="manager-gui"/>
    <role rolename="manager-script"/>
    <role rolename="admin"/>
    <user username="localTomcatAdmin" password="password"
roles="manager-gui,manager-script,admin"/>
</tomcat-users>

in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
(I'll get to this definition in a minute)
  <pluginGroups>
    <pluginGroup>org.apache.tomcat.maven</pluginGroup>
  </pluginGroups>

<servers>
    <server>
      <id>LocalTomcatServer</id>
      <username>localTomcatAdmin</username>
      <password>password</password>
    </server>
  </servers>

now for the last piece, in my pom-deploy.xml (parent) I have this:

<plugin>
     <groupId>org.apache.tomcat.maven</groupId>
     <artifactId>tomcat7-maven-plugin</artifactId>
     <version>2.0</version>
     <configuration>
          <server>LocalTomcatServer</server>
          <path>/TripTixRX</path>
          <port>8080</port>
     </configuration>
</plugin>

I have verified that the manager works with the applied credentials, I can
login and supply the credentials to my local /manager/html.

The problem is that when I deploy through maven as mvn tomcat7:deploy and
returns me the dreaded 401 - Unauthorized page with the same credentials.
It's almost like maven is not parsing the configuration for the plugin
maybe?

At this point I don't know what to do.  I've turned on verbose output in
maven and it shows what appears that the plugin is attempting to upload the
war file twice and returns the 401 page.


I also have a question as to getting this to work initially.  I added the
<pluginGroup>org.apache.tomcat.maven</pluginGroup> to my conf/settings.xml
to get the tomcat7 plugin to download and work, is this normal or should I
not have to define it here?  I mean having to change and version maven
settings.xml files seems a bit counter intuitive for preserving maximum
portability right, or am I looking at this from the wrong angle?

Any information anyone can provide as to where to look or what could be
causing this issue, I would be greatly appreciated.

Warmest regards,

- Josh

--14dae9341235e5070804d0ad1e3e--

From users-return-238595-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 12 23:05:54 2012
Return-Path: <users-return-238595-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 78C0BD9EA
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 12 Dec 2012 23:05:54 +0000 (UTC)
Received: (qmail 57137 invoked by uid 500); 12 Dec 2012 23:05:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57085 invoked by uid 500); 12 Dec 2012 23:05:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57074 invoked by uid 99); 12 Dec 2012 23:05:50 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 23:05:50 +0000
Received: from localhost (HELO mail-lb0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 12 Dec 2012 23:05:50 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so1177630lbg.18
        for <users@tomcat.apache.org>; Wed, 12 Dec 2012 15:05:48 -0800 (PST)
Received: by 10.152.104.240 with SMTP id gh16mr2722542lab.56.1355353548336;
 Wed, 12 Dec 2012 15:05:48 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.76.231 with HTTP; Wed, 12 Dec 2012 15:05:28 -0800 (PST)
In-Reply-To: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Thu, 13 Dec 2012 00:05:28 +0100
Message-ID: <CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

Good detailed description :-).
I just wonder about the cli you are using ?

2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
> I didn't want to come here to ask as I always hate to bother anyone, but
> maybe I should have come here first.  I'm coming up short on answers and
> ideas.  I'm having an issue with using maven and the tomcat7 plugin.
>
> Maven version -3.0.4
> Tomcat version - 7.0.29
> .jdk version - 1.6
> tomcat7-maven-plugin version - 2.0
>
> Hey group,  I am having an issue here with using the tomcat7-maven-plugin
> in conjunction with the tomcat 7 manager.  here's what I have so far.
>
> tomcat-users.xml -
>
> <tomcat-users>
>     <role rolename="manager-gui"/>
>     <role rolename="manager-script"/>
>     <role rolename="admin"/>
>     <user username="localTomcatAdmin" password="password"
> roles="manager-gui,manager-script,admin"/>
> </tomcat-users>
>
> in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
> (I'll get to this definition in a minute)
>   <pluginGroups>
>     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
>   </pluginGroups>
>
> <servers>
>     <server>
>       <id>LocalTomcatServer</id>
>       <username>localTomcatAdmin</username>
>       <password>password</password>
>     </server>
>   </servers>
>
> now for the last piece, in my pom-deploy.xml (parent) I have this:
>
> <plugin>
>      <groupId>org.apache.tomcat.maven</groupId>
>      <artifactId>tomcat7-maven-plugin</artifactId>
>      <version>2.0</version>
>      <configuration>
>           <server>LocalTomcatServer</server>
>           <path>/TripTixRX</path>
>           <port>8080</port>
>      </configuration>
> </plugin>
>
> I have verified that the manager works with the applied credentials, I can
> login and supply the credentials to my local /manager/html.
>
> The problem is that when I deploy through maven as mvn tomcat7:deploy and
> returns me the dreaded 401 - Unauthorized page with the same credentials.
> It's almost like maven is not parsing the configuration for the plugin
> maybe?
>
> At this point I don't know what to do.  I've turned on verbose output in
> maven and it shows what appears that the plugin is attempting to upload the
> war file twice and returns the 401 page.
>
>
> I also have a question as to getting this to work initially.  I added the
> <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my conf/settings.xml
> to get the tomcat7 plugin to download and work, is this normal or should I
> not have to define it here?  I mean having to change and version maven
> settings.xml files seems a bit counter intuitive for preserving maximum
> portability right, or am I looking at this from the wrong angle?
>
> Any information anyone can provide as to where to look or what could be
> causing this issue, I would be greatly appreciated.
>
> Warmest regards,
>
> - Josh



-- 
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238596-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 03:46:25 2012
Return-Path: <users-return-238596-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A45B9DA2B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 03:46:25 +0000 (UTC)
Received: (qmail 70561 invoked by uid 500); 13 Dec 2012 03:46:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70491 invoked by uid 500); 13 Dec 2012 03:46:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70465 invoked by uid 99); 13 Dec 2012 03:46:19 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 03:46:19 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jessh@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 03:46:10 +0000
X-IronPort-AV: E=Sophos;i="4.84,272,1355115600"; 
   d="scan'208";a="133606942"
Received: from hq-x10prdhub1.ptcnet.ptc.com ([132.253.198.27])
  by irp2.ptc.com with ESMTP; 12 Dec 2012 22:45:31 -0500
Received: from [10.196.0.74] (132.253.198.6) by int-mail.ptc.com
 (132.253.198.27) with Microsoft SMTP Server id 14.2.309.2; Wed, 12 Dec 2012
 22:45:30 -0500
Message-ID: <50C94F54.4060601@ptc.com>
Date: Wed, 12 Dec 2012 21:45:24 -0600
From: Jess Holle <jessh@ptc.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Tomcat 7.0.34 JspC issue?
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit
X-Originating-IP: [132.253.198.6]
X-Virus-Checked: Checked by ClamAV on apache.org

I moved to Tomcat 7.0.34 -- apparently with inadequate testing / too 
much trust.

Some JSPs that precompiled just fine with 7.0.33 and many previous 
Tomcat versions now produce the error shown below

Moving back to the ecj jar from Tomcat 7.0.33 resolves the issue. I'm 
assuming buggy JDT compiler until proven otherwise.

--
Jess Holle

   [jasper2] java.lang.ArrayStoreException: org.eclipse.jdt.internal.compiler.ast.ReturnStatement
   [jasper2] 	at org.eclipse.jdt.internal.compiler.flow.FinallyFlowContext.recordNullReference(FinallyFlowContext.java:440)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.flow.FinallyFlowContext.recordUsingNullReference(FinallyFlowContext.java:405)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.flow.LoopingFlowContext.complainOnDeferredNullChecks(LoopingFlowContext.java:278)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:112)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.TryStatement.analyseCode(TryStatement.java:260)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.LabeledStatement.analyseCode(LabeledStatement.java:54)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:69)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:69)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:69)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:69)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.DoStatement.analyseCode(DoStatement.java:69)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.IfStatement.analyseCode(IfStatement.java:102)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.Block.analyseCode(Block.java:39)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.TryStatement.analyseCode(TryStatement.java:336)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:110)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:710)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:255)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:111)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:776)
   [jasper2] 	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:470)
   [jasper2] 	at org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:458)
   [jasper2] 	at org.apache.jasper.compiler.Compiler.compile(Compiler.java:378)
   [jasper2] 	at org.apache.jasper.JspC.processFile(JspC.java:1179)
   [jasper2] 	at org.apache.jasper.JspC.execute(JspC.java:1329)
   [jasper2] 	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
   [jasper2] 	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
   [jasper2] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [jasper2] 	at java.lang.reflect.Method.invoke(Method.java:601)
   [jasper2] 	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
   [jasper2] 	at org.apache.tools.ant.Task.perform(Task.java:348)
   [jasper2] 	at org.apache.tools.ant.Target.execute(Target.java:392)
   [jasper2] 	at org.apache.tools.ant.Target.performTasks(Target.java:413)
   [jasper2] 	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
   [jasper2] 	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
   [jasper2] 	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
   [jasper2] 	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
   [jasper2] 	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
   [jasper2] 	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
   [jasper2] 	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
   [jasper2] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [jasper2] 	at java.lang.reflect.Method.invoke(Method.java:601)
   [jasper2] 	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
   [jasper2] 	at org.apache.tools.ant.Task.perform(Task.java:348)
   [jasper2] 	at org.apache.tools.ant.Target.execute(Target.java:392)
   [jasper2] 	at org.apache.tools.ant.Target.performTasks(Target.java:413)
   [jasper2] 	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
   [jasper2] 	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
   [jasper2] 	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
   [jasper2] 	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
   [jasper2] 	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
   [jasper2] 	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
   [jasper2] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [jasper2] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
   [jasper2] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [jasper2] 	at java.lang.reflect.Method.invoke(Method.java:601)
   [jasper2] 	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
   [jasper2] 	at org.apache.tools.ant.Task.perform(Task.java:348)
   [jasper2] 	at org.apache.tools.ant.Target.execute(Target.java:392)
   [jasper2] 	at org.apache.tools.ant.Target.performTasks(Target.java:413)
   [jasper2] 	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
   [jasper2] 	at org.apache.tools.ant.Project.executeTarget(Project.java:1368)
   [jasper2] 	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
   [jasper2] 	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
   [jasper2] 	at org.apache.tools.ant.Main.runBuild(Main.java:811)
   [jasper2] 	at org.apache.tools.ant.Main.startAnt(Main.java:217)
   [jasper2] 	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
   [jasper2] 	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238597-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 07:08:22 2012
Return-Path: <users-return-238597-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 96244D422
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 07:08:22 +0000 (UTC)
Received: (qmail 78623 invoked by uid 500); 13 Dec 2012 07:08:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77305 invoked by uid 500); 13 Dec 2012 07:08:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 76472 invoked by uid 99); 13 Dec 2012 07:08:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 07:08:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.182.230] (HELO nm3-vm0.bt.bullet.mail.ukl.yahoo.com) (217.146.182.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 07:08:07 +0000
Received: from [217.146.183.196] by nm3.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 07:07:45 -0000
Received: from [217.146.189.77] by tm2.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 07:07:45 -0000
Received: from [127.0.0.1] by smtp827.mail.ird.yahoo.com with NNFMP; 13 Dec 2012 07:07:45 -0000
X-Yahoo-Newman-Id: 942748.80809.bm@smtp827.mail.ird.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: gvwtdIUVM1nCa1K3PnUzPjFEAe9lJSgl2jZ.33TiTsW.Oa1
 7RbFZb7iDkx1Fp_XQdVfzrV_uiKFflSTx6Ikuo..3xYYOCxQD_.F9PSXnZPF
 G83VpwwCn6N53nQweTrKCXDDI1GF1bkYa5SOWJdCrIUJq4D.a1A_fnvnO99I
 Jn7KDwv8zXezVIdOkruM8CPgVyXRMRCLA_.pI0xSm_6CasT4wx2DJBUF9ahb
 DmB8k8tRy4Y72fapkXuJtR0CM56Jucnsc0hGo9almgUjGWHkcvs__U.N5YpW
 NvklS80XDJKTI5t6jLYfTf14jEkm._UwDjnKUr9FsRmjQdWWQcyQ2ZKiHmcg
 wrNo1zoMLq7JIitFqABAMt0aF73jlI_tsw_Nkr18pzyf3gR9BhlShaONCwOi
 x9OmVemt5iZnrWy6H87EI3iBsefQy9LE-
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp827.mail.ird.yahoo.com with SMTP; 12 Dec 2012 23:07:45 -0800 PST
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 5F9FCEAB9AE
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 07:07:45 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pnq5KFWDu43I for <users@tomcat.apache.org>;
	Thu, 13 Dec 2012 07:07:45 +0000 (GMT)
Received: from marksphone.dev.local (marksphone.dev.local [192.168.23.205])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id E0FF2EAB9A5
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 07:07:44 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <50C94F54.4060601@ptc.com>
References: <50C94F54.4060601@ptc.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Tomcat 7.0.34 JspC issue?
From: Mark Thomas <markt@apache.org>
Date: Thu, 13 Dec 2012 07:07:48 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <f22b9365-4ad3-42c8-b745-bcc18bb13260@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

Jess Holle <jessh@ptc.com> wrote:

>I moved to Tomcat 7.0.34 -- apparently with inadequate testing / too 
>much trust.
>
>Some JSPs that precompiled just fine with 7.0.33 and many previous 
>Tomcat versions now produce the error shown below
>
>Moving back to the ecj jar from Tomcat 7.0.33 resolves the issue. I'm 
>assuming buggy JDT compiler until proven otherwise.

It certainly sounds like a bug in ecj.jar

Do you have a sample JSP you can share that demonstrates the issue?

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238598-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 09:30:08 2012
Return-Path: <users-return-238598-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49C35DE50
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 09:30:08 +0000 (UTC)
Received: (qmail 63013 invoked by uid 500); 13 Dec 2012 09:30:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62791 invoked by uid 500); 13 Dec 2012 09:30:03 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62752 invoked by uid 99); 13 Dec 2012 09:30:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 09:30:02 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of nicopeters.np@gmail.com designates 209.85.217.173 as permitted sender)
Received: from [209.85.217.173] (HELO mail-lb0-f173.google.com) (209.85.217.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 09:29:55 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so1510761lbg.18
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 01:29:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:from:date:message-id:subject:to:content-type;
        bh=I+6bZ4OySisYLZ7z133qBFiEFQnOqToJsN1t2eiFiS4=;
        b=xjyVuH+3i7ydV+RtIJnk7SH+yByacFyhNepFwOiApjaxEuM/RB97N19yFh5uKaKjU7
         DGjfSSU3wC9AQ0YdFUNHQBti4+yGHZfcs4KlAKGGbGd+0sDaVALBZ36pxwJWBUSgZ4WB
         Ewz1tHLlCS5pqpKL/TrmpkpegzML1xweDf4F04jyXaQg1yu8NVq8kZtzAplTl13aKINL
         EzU41r3WY4zXIVRjXIMLQN0VOoQ+77d0kQoAl6Zg8RwuoOInR51e7q+Oj2HkqfWND+29
         8OIAkJDjwHndCQjmBMIxCpvkLbiVxMl33r99vOzPrLfGJPNe9RmPmbeit1sV81LKYGSB
         66Ng==
Received: by 10.152.103.99 with SMTP id fv3mr58872lab.16.1355390973799; Thu,
 13 Dec 2012 01:29:33 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.92.37 with HTTP; Thu, 13 Dec 2012 01:29:13 -0800 (PST)
From: Nico Peters <nicopeters.np@gmail.com>
Date: Thu, 13 Dec 2012 10:29:13 +0100
Message-ID: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com>
Subject: Tomcat 6.0.35, PersistentManager with FileStore - Session file size
 increases endlessly
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=f46d04071655866d6a04d0b88d64
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d04071655866d6a04d0b88d64
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I have a problem that on one of our servers we use the PersistentManager
with Filestore and it happened that one session file increased endlessly to
a size of 235GB before we removed that session.

First, some information to our setup:

Server version: Apache Tomcat/6.0.35
Server built:   Jan 31 2012 04:27:38
Server number:  6.0.35.0
OS Name:        Linux (Debian Squeeze)
OS Version:     2.6.32-5-amd64
Architecture:   amd64
JVM Version:    1.6.0_26-b03
JVM Vendor:     Sun Microsystems Inc.
Xmx:                 12GB

Tomcat is running behind an Apache web server.

Now, more details to this incident:

We have recognized an unusually high number of disk operations on one of
our servers and investigated the origin. We found out that there was one
tomcat session file that grew already to 235GB and was increasing quickly
(all other sessions on our server are less than 10KB). We then removed that
session file, but it was recreated (starting from 0 bytes) and was again
growing quickly. We then did a backup of that file and removed it again.
After the second removal the session file didn't appear again. The server
returned to normal operation.

I've investigated the session file and the file contained 3 lines. I was
able to recognize the data of the first two lines (the default session
parameters like lastAccessedTime as well as some POJOs we have added to
that session). But the third line was endlessly repeating the following
string:

q~"q~#q~'q~(

And now my questions:
Does anyone know what this string means?
How is it possible that a session can increase to this size (larger than
the heap size of tomcat)?
Is it a known tomcat bug?
Is it a known type of attack?
How can you prevent this problem?

Thanks in advance.

Nicolas Peters

--f46d04071655866d6a04d0b88d64--

From users-return-238599-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 12:35:16 2012
Return-Path: <users-return-238599-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 725E9D9FE
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 12:35:16 +0000 (UTC)
Received: (qmail 71864 invoked by uid 500); 13 Dec 2012 12:35:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71616 invoked by uid 500); 13 Dec 2012 12:35:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71571 invoked by uid 99); 13 Dec 2012 12:35:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 12:35:09 +0000
X-ASF-Spam-Status: No, hits=-0.1 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jessh@ptc.com designates 12.11.148.84 as permitted sender)
Received: from [12.11.148.84] (HELO irp2.ptc.com) (12.11.148.84)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 12:34:59 +0000
X-IronPort-AV: E=Sophos;i="4.84,273,1355115600"; 
   d="scan'208,217";a="133647824"
Received: from hq-x10prdhub2.ptcnet.ptc.com ([132.253.198.28])
  by irp2.ptc.com with ESMTP; 13 Dec 2012 07:34:17 -0500
Received: from [10.196.0.74] (132.253.198.6) by int-mail.ptc.com
 (132.253.198.28) with Microsoft SMTP Server id 14.2.309.2; Thu, 13 Dec 2012
 07:34:16 -0500
Message-ID: <50C9CB47.2080107@ptc.com>
Date: Thu, 13 Dec 2012 06:34:15 -0600
From: Jess Holle <jessh@ptc.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
CC: Mark Thomas <markt@apache.org>
Subject: Re: Tomcat 7.0.34 JspC issue?
References: <50C94F54.4060601@ptc.com> <f22b9365-4ad3-42c8-b745-bcc18bb13260@email.android.com>
In-Reply-To: <f22b9365-4ad3-42c8-b745-bcc18bb13260@email.android.com>
Content-Type: multipart/alternative;
	boundary="------------050409050706080601030700"
X-Originating-IP: [132.253.198.6]
X-Virus-Checked: Checked by ClamAV on apache.org

--------------050409050706080601030700
Content-Type: text/plain; charset="UTF-8"; format=flowed
Content-Transfer-Encoding: 7bit

No, unfortunately I have no small test case.  Our JSPs are the opposite 
of standalone test cases and I've not had time to try to find a trigger 
within them -- and quite likely won't have such time.

Out of our 1000's of JSP pages I saw a dozen or so JSP precompilation 
failures that weren't present prior to stopping the precompilation early 
-- hence I don't know how many failures I would have had.

I tested this with Java 6 and Java 7 against 2 different versions of our 
application (compiled with Java 6 and Java 7, respectively) where Tomcat 
7.0.33 worked fine.  Tomcat 7.0.34 failed in both cases -- until I 
reverted to the old ecj.jar.

There *may* be a relationship to how my pre-compilation runs. Even if 
that's the case I'll be sticking with the old ecj.jar as it clearly works.

The pre-compilation script that I was running does the following:

 1. Try to compile everything en masse excluding known failures (mostly
    legacy JSP fragments that were improperly named .jspf rather than .jsp)
 2. Catch (via ant-contrib) any failure and re-try to compile everything
    en masse excluding known failure
      * The first attempt has been consistently failing for quite a
        number of Tomcat releases for no apparent reason on a tag file
        or some such as I recall (too many nested dependencies?) where
        the second would succeed.
 3. Catch any failure one again
      * If there was a failure try to recompile each JSP individually so
        as to generate an accurate list of failures.
 4. If there was no failure on the second attempt, then try to compile
    every JSP in the known failure list so as to verify that the entire
    known failure list is still failing.

The need to re-try the en-masse JspC has been bothersome for quite some 
time -- and doesn't seem to be addressed by simple things like giving 
the script more memory.  That said, this issue has been there for quite 
some time.

The new issue shows up when trying to compile one of the failing JSPs 
all by itself and results in a stack trace into the bowels of ECJ, so 
this really looks like an issue in ECJ.

--
Jess Holle

On 12/13/2012 1:07 AM, Mark Thomas wrote:
> Jess Holle <jessh@ptc.com> wrote:
>> I moved to Tomcat 7.0.34 -- apparently with inadequate testing / too
>> much trust.
>>
>> Some JSPs that precompiled just fine with 7.0.33 and many previous
>> Tomcat versions now produce the error shown below
>>
>> Moving back to the ecj jar from Tomcat 7.0.33 resolves the issue. I'm
>> assuming buggy JDT compiler until proven otherwise.
> It certainly sounds like a bug in ecj.jar
>
> Do you have a sample JSP you can share that demonstrates the issue?
>
> Mark
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


--------------050409050706080601030700--

From users-return-238600-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 12:54:36 2012
Return-Path: <users-return-238600-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65454DAFD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 12:54:36 +0000 (UTC)
Received: (qmail 50176 invoked by uid 500); 13 Dec 2012 12:54:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49769 invoked by uid 500); 13 Dec 2012 12:54:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49740 invoked by uid 99); 13 Dec 2012 12:54:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 12:54:27 +0000
X-ASF-Spam-Status: No, hits=2.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_REPLYTO_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.216.234] (HELO nm40-vm7.bullet.mail.gq1.yahoo.com) (98.136.216.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 12:54:18 +0000
Received: from [98.137.12.63] by nm40.bullet.mail.gq1.yahoo.com with NNFMP; 13 Dec 2012 12:53:58 -0000
Received: from [98.137.12.211] by tm8.bullet.mail.gq1.yahoo.com with NNFMP; 13 Dec 2012 12:53:58 -0000
Received: from [127.0.0.1] by omp1019.mail.gq1.yahoo.com with NNFMP; 13 Dec 2012 12:53:58 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 40217.89401.bm@omp1019.mail.gq1.yahoo.com
Received: (qmail 66784 invoked by uid 60001); 13 Dec 2012 12:53:57 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1355403237; bh=MwU7+4PjcMN+kOj1H8Vy1DFIaeotMd7Jru3DE0lFzhg=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type; b=Ov/oQkFhoHEC4tACc1dOLQaNzKWeeVuMqDOuPJD7aYPa+/9IJxsSLfh6npU4EaIuI38ktZtEDV7PlGRibxknj5Pk4h377o/4uYz5oqwsxfTpRcvBHk7lmZqUQyumpa2/Ry3bSSnmIDBrT0sz8a9KygsfU50fQBJprbehnOPvxlg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Reply-To:Subject:To:MIME-Version:Content-Type;
  b=ruwA9B9eeEbjWb1CtbzOJeUz5cvOpCIDHhbz0VY58mKk70nCmCyFRHGWA1hlE1aRLXb3TQZqnyuhRcJR2VkaHusKygAPMA43b73aoHTxsgLYvUdKJZhsxw9Jzlstlo5dWDDT9iBXLAv9eaIWjpxC4blIUACd+j+B/PRrrZ3OZkI=;
X-YMail-OSG: FzTWdScVM1lmVrez0Yh_eFPHyZtvF39ItOpzbb_vtRmgbIA
 KbIKBu8wCFwd09HPbaLvaioliVDR2BwKT2_rIm9WZon5DhjiKLDKPlMKJ5mC
 vWBQ4GJSJSmS5EGXqXv7xjfOHxMClal4tsp84bENkuBVWLQsco7eBUbZUuMc
 UfCHcdeciUN61CD3VgV1MUO3GwPBaM.FWD6jAj9GWZYKldJjZ7m8kmxtPI87
 .20csa7JoSryZ9GWW7Df2eP6B9SodZBoqUvuIqkcKqA4ybbXra.iCqNU3Drn
 _Vkc2Zdv4.2towXSLbQLQWMgb2gljXHkW4.ZCJE0dsxx3XaeZ.t12gUtF8LY
 Zx1KKyimjcfGz1vGZmKdfK6pQYyYOIcUaA8w84w6Q.45XP0UZrc15ei06EW_
 jbBQPqvziG_3gh3UI_AtpUYY81_.MQaAtmxiaAUpdF6Xjg3AiFYJgrAn6KCp
 5h.vx9j94tjcU9RfUvlXP.FY5f7fQ6ymIvOXZDWZaK4SMaDDywqyee198WFY
 fQvHS7iBjTWlSkLXhz_tlDjGpRpgb1jaIiQmdLxFgwdEcOqnzWrKHe6k-
Received: from [14.96.191.238] by web111620.mail.gq1.yahoo.com via HTTP; Thu, 13 Dec 2012 04:53:57 PST
X-Rocket-MIMEInfo: 001.001,SGkgdGhlcmUswqDCoMKgwqAgCgrCoCBJIHdhbnQgdG8ga25vdyBob3cgdG8gYWNjZXNzIHRoZSB0b21jYXQgZGV2IDguMC4wIGRvY3VtZW50YXRpb27CoCAKwqAgd2hpY2ggaGF2aW5nIGFjdHVhbCBVUkzCoMKgwqDCoMKgIArCoCBodHRwOi8vY2kuYXBhY2hlLm9yZy9wcm9qZWN0cy90b21jYXQvdG9tY2F0OC9kb2NzL2luZGV4Lmh0bWwgCsKgIGJ1dCB1bmFibGUgdG8gYWNjZXNzIGl0LiAKwqAgV2hlbiBJIHRyeSB0byBhY2Nlc3MgaXQgZnJvbSBHb29nbGUgY2FjaGVkIGNvcHkswqDCoMKgIArCoCB0aGUgc2MBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
Message-ID: <1355403237.20569.YahooMailNeo@web111620.mail.gq1.yahoo.com>
Date: Thu, 13 Dec 2012 04:53:57 -0800 (PST)
From: Ram Laxman <ram.laxman241089@yahoo.com>
Reply-To: Ram Laxman <ram.laxman241089@yahoo.com>
Subject: About tomcat 8.0.0 dev documentation
To: Tomcat User <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="579629089-1230579076-1355403237=:20569"
X-Virus-Checked: Checked by ClamAV on apache.org

--579629089-1230579076-1355403237=:20569
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi there,=A0=A0=A0=A0 =0A=0A=A0 I want to know how to access the tomcat dev=
 8.0.0 documentation=A0 =0A=A0 which having actual URL=A0=A0=A0=A0=A0 =0A=
=A0 http://ci.apache.org/projects/tomcat/tomcat8/docs/index.html =0A=A0 but=
 unable to access it. =0A=A0 When I try to access it from Google cached cop=
y,=A0=A0=A0 =0A=A0 the screen I have attached here.=A0 =0A=A0 Thanks!!=0A
--579629089-1230579076-1355403237=:20569--

From users-return-238601-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 13:03:23 2012
Return-Path: <users-return-238601-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 45CCBDBDF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 13:03:23 +0000 (UTC)
Received: (qmail 94967 invoked by uid 500); 13 Dec 2012 13:03:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 94868 invoked by uid 500); 13 Dec 2012 13:03:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 94844 invoked by uid 99); 13 Dec 2012 13:03:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 13:03:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [81.28.224.28] (HELO relay2.mail.vrmd.de) (81.28.224.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 13:03:08 +0000
Received: from [195.234.136.12] (helo=localhost)
	by relay2.mail.vrmd.de with esmtpsa (TLS1.0:DHE_RSA_AES_128_CBC_SHA1:16)
	(Exim 4.76)
	(envelope-from <kai.weber@glorybox.de>)
	id 1Tj8R5-000528-9l
	for users@tomcat.apache.org; Thu, 13 Dec 2012 14:02:47 +0100
Date: Thu, 13 Dec 2012 14:02:46 +0100
From: Kai Weber <kai.weber@glorybox.de>
To: users@tomcat.apache.org
Subject: Does maxPostSize has an effect on file upload?
Message-ID: <20121213130246.GA23330@computer.corp.ebay.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Relay-User: kai.weber@glorybox.de
X-Virus-Checked: Checked by ClamAV on apache.org

I see the following behaviour on Tomcat 6.0.24:

The maxPostSize is not set, so uses the default of 2MB. I can upload files
bigger than 2MB (5MB for example). I use commons-fileupload to read the file.

Does a file upload as multipart/form-data not count to the size of the POST?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238602-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 13:12:48 2012
Return-Path: <users-return-238602-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 01757DC63
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 13:12:48 +0000 (UTC)
Received: (qmail 33545 invoked by uid 500); 13 Dec 2012 13:12:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33327 invoked by uid 500); 13 Dec 2012 13:12:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33283 invoked by uid 99); 13 Dec 2012 13:12:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 13:12:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 13:12:36 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so1980906iac.18
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 05:12:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=jVA9XvhXsqMiB6fgtMyhpkVkiMJ4JpTNrOXVWQ8UpeU=;
        b=d4wiVXZ7wVG2pBEYi73pxGNZ+NOrE4jtHwlNEYF6sRiDMtv3bcLDIV80vV5pyks7tP
         PLzrc0KFkA8/aT5VDm8WeSEuzDq/Hx+MOQL3WoJrzN5QeMln29PzSa15ORezxZ6KR+iA
         QyrgaJGM3Jgv5OBjTINAdpWebj5B4L+Gp7cC0Wv8ESCfnpuWAyaS8vYvBZsSITx+f1XH
         jciqj/g2p1TtxHNws9DjHM+INA6YkwxVJRF/02HVx/WwYwzHn0roLoTY0LuthtZ1iFez
         WJpYMkeLW0ROjhFvn2wZ2VRcWq88ZpsS8GgnWw5nZ6DPjRhg4DXMpCOPycoianz07RM5
         yqKw==
MIME-Version: 1.0
Received: by 10.50.41.225 with SMTP id i1mr1432498igl.73.1355404336046; Thu,
 13 Dec 2012 05:12:16 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Thu, 13 Dec 2012 05:12:15 -0800 (PST)
In-Reply-To: <CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
	<CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
Date: Thu, 13 Dec 2012 08:12:15 -0500
Message-ID: <CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934044ffa232c04d0bba97f
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae934044ffa232c04d0bba97f
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Dec 12, 2012 at 6:05 PM, Olivier Lamy <olamy@apache.org> wrote:

> Good detailed description :-).
>

Hey even I get it right once in a while... ;)


> I just wonder about the cli you are using ?
>

 cli as in command line interface?  - Win 7, CentOS, and Ubuntu terminals,
and yes I get my fair share of flack for not letting Eclipse "just do it".
Of course I'm a control freak when it comes to my code...

>
> 2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
> > I didn't want to come here to ask as I always hate to bother anyone, but
> > maybe I should have come here first.  I'm coming up short on answers and
> > ideas.  I'm having an issue with using maven and the tomcat7 plugin.
> >
> > Maven version -3.0.4
> > Tomcat version - 7.0.29
> > .jdk version - 1.6
> > tomcat7-maven-plugin version - 2.0
> >
> > Hey group,  I am having an issue here with using the tomcat7-maven-plugin
> > in conjunction with the tomcat 7 manager.  here's what I have so far.
> >
> > tomcat-users.xml -
> >
> > <tomcat-users>
> >     <role rolename="manager-gui"/>
> >     <role rolename="manager-script"/>
> >     <role rolename="admin"/>
> >     <user username="localTomcatAdmin" password="password"
> > roles="manager-gui,manager-script,admin"/>
> > </tomcat-users>
> >
> > in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
> > (I'll get to this definition in a minute)
> >   <pluginGroups>
> >     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
> >   </pluginGroups>
> >
> > <servers>
> >     <server>
> >       <id>LocalTomcatServer</id>
> >       <username>localTomcatAdmin</username>
> >       <password>password</password>
> >     </server>
> >   </servers>
> >
> > now for the last piece, in my pom-deploy.xml (parent) I have this:
> >
> > <plugin>
> >      <groupId>org.apache.tomcat.maven</groupId>
> >      <artifactId>tomcat7-maven-plugin</artifactId>
> >      <version>2.0</version>
> >      <configuration>
> >           <server>LocalTomcatServer</server>
> >           <path>/TripTixRX</path>
> >           <port>8080</port>
> >      </configuration>
> > </plugin>
> >
> > I have verified that the manager works with the applied credentials, I
> can
> > login and supply the credentials to my local /manager/html.
> >
> > The problem is that when I deploy through maven as mvn tomcat7:deploy and
> > returns me the dreaded 401 - Unauthorized page with the same credentials.
> > It's almost like maven is not parsing the configuration for the plugin
> > maybe?
> >
> > At this point I don't know what to do.  I've turned on verbose output in
> > maven and it shows what appears that the plugin is attempting to upload
> the
> > war file twice and returns the 401 page.
> >
> >
> > I also have a question as to getting this to work initially.  I added the
> > <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my
> conf/settings.xml
> > to get the tomcat7 plugin to download and work, is this normal or should
> I
> > not have to define it here?  I mean having to change and version maven
> > settings.xml files seems a bit counter intuitive for preserving maximum
> > portability right, or am I looking at this from the wrong angle?
> >
> > Any information anyone can provide as to where to look or what could be
> > causing this issue, I would be greatly appreciated.
> >
> > Warmest regards,
> >
> > - Josh
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae934044ffa232c04d0bba97f--

From users-return-238603-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 14:36:29 2012
Return-Path: <users-return-238603-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 16B57D9DD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 14:36:29 +0000 (UTC)
Received: (qmail 58546 invoked by uid 500); 13 Dec 2012 14:36:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58371 invoked by uid 500); 13 Dec 2012 14:36:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58338 invoked by uid 99); 13 Dec 2012 14:36:24 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:36:24 +0000
Received: from localhost (HELO mail-la0-f45.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:36:23 +0000
Received: by mail-la0-f45.google.com with SMTP id p9so1777833laa.18
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 06:36:21 -0800 (PST)
Received: by 10.112.16.69 with SMTP id e5mr1027663lbd.43.1355409381748; Thu,
 13 Dec 2012 06:36:21 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.76.231 with HTTP; Thu, 13 Dec 2012 06:36:01 -0800 (PST)
In-Reply-To: <CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
 <CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com> <CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Thu, 13 Dec 2012 15:36:01 +0100
Message-ID: <CAPoyBqSoVwn1johY757tKDekWoPdqV1z-WCDyvHSMjNufJQhbg@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1

2012/12/13 Josh Gooding <josh.gooding@gmail.com>:
> On Wed, Dec 12, 2012 at 6:05 PM, Olivier Lamy <olamy@apache.org> wrote:
>
>> Good detailed description :-).
>>
>
> Hey even I get it right once in a while... ;)
>
>
>> I just wonder about the cli you are using ?
>>
>
>  cli as in command line interface?  - Win 7, CentOS, and Ubuntu terminals,
> and yes I get my fair share of flack for not letting Eclipse "just do it".
> Of course I'm a control freak when it comes to my code...
:-)

I mean mvn tomcat7:deploy or something else ?
or you bind deploy to a lifecycle phase ?

>
>>
>> 2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
>> > I didn't want to come here to ask as I always hate to bother anyone, but
>> > maybe I should have come here first.  I'm coming up short on answers and
>> > ideas.  I'm having an issue with using maven and the tomcat7 plugin.
>> >
>> > Maven version -3.0.4
>> > Tomcat version - 7.0.29
>> > .jdk version - 1.6
>> > tomcat7-maven-plugin version - 2.0
>> >
>> > Hey group,  I am having an issue here with using the tomcat7-maven-plugin
>> > in conjunction with the tomcat 7 manager.  here's what I have so far.
>> >
>> > tomcat-users.xml -
>> >
>> > <tomcat-users>
>> >     <role rolename="manager-gui"/>
>> >     <role rolename="manager-script"/>
>> >     <role rolename="admin"/>
>> >     <user username="localTomcatAdmin" password="password"
>> > roles="manager-gui,manager-script,admin"/>
>> > </tomcat-users>
>> >
>> > in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
>> > (I'll get to this definition in a minute)
>> >   <pluginGroups>
>> >     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
>> >   </pluginGroups>
>> >
>> > <servers>
>> >     <server>
>> >       <id>LocalTomcatServer</id>
>> >       <username>localTomcatAdmin</username>
>> >       <password>password</password>
>> >     </server>
>> >   </servers>
>> >
>> > now for the last piece, in my pom-deploy.xml (parent) I have this:
>> >
>> > <plugin>
>> >      <groupId>org.apache.tomcat.maven</groupId>
>> >      <artifactId>tomcat7-maven-plugin</artifactId>
>> >      <version>2.0</version>
>> >      <configuration>
>> >           <server>LocalTomcatServer</server>
>> >           <path>/TripTixRX</path>
>> >           <port>8080</port>
>> >      </configuration>
>> > </plugin>
>> >
>> > I have verified that the manager works with the applied credentials, I
>> can
>> > login and supply the credentials to my local /manager/html.
>> >
>> > The problem is that when I deploy through maven as mvn tomcat7:deploy and
>> > returns me the dreaded 401 - Unauthorized page with the same credentials.
>> > It's almost like maven is not parsing the configuration for the plugin
>> > maybe?
>> >
>> > At this point I don't know what to do.  I've turned on verbose output in
>> > maven and it shows what appears that the plugin is attempting to upload
>> the
>> > war file twice and returns the 401 page.
>> >
>> >
>> > I also have a question as to getting this to work initially.  I added the
>> > <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my
>> conf/settings.xml
>> > to get the tomcat7 plugin to download and work, is this normal or should
>> I
>> > not have to define it here?  I mean having to change and version maven
>> > settings.xml files seems a bit counter intuitive for preserving maximum
>> > portability right, or am I looking at this from the wrong angle?
>> >
>> > Any information anyone can provide as to where to look or what could be
>> > causing this issue, I would be greatly appreciated.
>> >
>> > Warmest regards,
>> >
>> > - Josh
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>



--
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238604-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 14:49:10 2012
Return-Path: <users-return-238604-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB8D3DA7F
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 14:49:10 +0000 (UTC)
Received: (qmail 10445 invoked by uid 500); 13 Dec 2012 14:49:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10204 invoked by uid 500); 13 Dec 2012 14:49:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10194 invoked by uid 99); 13 Dec 2012 14:49:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:49:05 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:49:00 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so4113778iej.18
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 06:48:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3pDsY2dKL0t4IJuqljFYtqo17VLLgrqxdLj39d2OuWA=;
        b=AeuKeVpUVdTqrdX6dDS9MQFc4a8xoxgOtFKkYg6FjjCZugGV9U/Nm6ljHXyiyQrB3P
         DIuUoa7c1ddns2vtnse1YS93nKlPRLic1GSGOD707XLMyzFSL31smWA+e69MxjRGqxt9
         G1DZC5BH7Jpb1ekNRoeuSsmdPn61VASz7FFZ2rPZkqk95YAw+EeLMm0WIOS1S7A2Gdc1
         qoQgMG1EvgD8wDbAmU5NNFVgCXqg+d8cd9GGh34EaqW3Z5emT3wKgVVV+0iddCPYR0Fa
         zwUIj7OSzE8qPRIEDzMbB2aTUcDi1BnzB1CVuSXfPcmgahU/OB4LW1bDLWqVZPV52jvK
         tQIA==
MIME-Version: 1.0
Received: by 10.50.41.225 with SMTP id i1mr1751471igl.73.1355410120445; Thu,
 13 Dec 2012 06:48:40 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Thu, 13 Dec 2012 06:48:40 -0800 (PST)
In-Reply-To: <CAPoyBqSoVwn1johY757tKDekWoPdqV1z-WCDyvHSMjNufJQhbg@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
	<CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
	<CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
	<CAPoyBqSoVwn1johY757tKDekWoPdqV1z-WCDyvHSMjNufJQhbg@mail.gmail.com>
Date: Thu, 13 Dec 2012 09:48:40 -0500
Message-ID: <CAFpYQw9kroXt2vjn878Xk4qrUDyO3+ZDan0Uze4vXE0VUBYyGQ@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae934044fc10ceb04d0bd021e
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae934044fc10ceb04d0bd021e
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Dec 13, 2012 at 9:36 AM, Olivier Lamy <olamy@apache.org> wrote:

> 2012/12/13 Josh Gooding <josh.gooding@gmail.com>:
> > On Wed, Dec 12, 2012 at 6:05 PM, Olivier Lamy <olamy@apache.org> wrote:
> >
> >> Good detailed description :-).
> >>
> >
> > Hey even I get it right once in a while... ;)
> >
> >
> >> I just wonder about the cli you are using ?
> >>
> >
> >  cli as in command line interface?  - Win 7, CentOS, and Ubuntu
> terminals,
> > and yes I get my fair share of flack for not letting Eclipse "just do
> it".
> > Of course I'm a control freak when it comes to my code...
> :-)
>
> I mean mvn tomcat7:deploy or something else ?
> or you bind deploy to a lifecycle phase ?
>
>
Oh I gotcha.  tomcat7:deploy  I didn't bind the deploy to the life-cycle
phase yet.  I want to get it working first.


> >
> >>
> >> 2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
> >> > I didn't want to come here to ask as I always hate to bother anyone,
> but
> >> > maybe I should have come here first.  I'm coming up short on answers
> and
> >> > ideas.  I'm having an issue with using maven and the tomcat7 plugin.
> >> >
> >> > Maven version -3.0.4
> >> > Tomcat version - 7.0.29
> >> > .jdk version - 1.6
> >> > tomcat7-maven-plugin version - 2.0
> >> >
> >> > Hey group,  I am having an issue here with using the
> tomcat7-maven-plugin
> >> > in conjunction with the tomcat 7 manager.  here's what I have so far.
> >> >
> >> > tomcat-users.xml -
> >> >
> >> > <tomcat-users>
> >> >     <role rolename="manager-gui"/>
> >> >     <role rolename="manager-script"/>
> >> >     <role rolename="admin"/>
> >> >     <user username="localTomcatAdmin" password="password"
> >> > roles="manager-gui,manager-script,admin"/>
> >> > </tomcat-users>
> >> >
> >> > in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
> >> > (I'll get to this definition in a minute)
> >> >   <pluginGroups>
> >> >     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
> >> >   </pluginGroups>
> >> >
> >> > <servers>
> >> >     <server>
> >> >       <id>LocalTomcatServer</id>
> >> >       <username>localTomcatAdmin</username>
> >> >       <password>password</password>
> >> >     </server>
> >> >   </servers>
> >> >
> >> > now for the last piece, in my pom-deploy.xml (parent) I have this:
> >> >
> >> > <plugin>
> >> >      <groupId>org.apache.tomcat.maven</groupId>
> >> >      <artifactId>tomcat7-maven-plugin</artifactId>
> >> >      <version>2.0</version>
> >> >      <configuration>
> >> >           <server>LocalTomcatServer</server>
> >> >           <path>/TripTixRX</path>
> >> >           <port>8080</port>
> >> >      </configuration>
> >> > </plugin>
> >> >
> >> > I have verified that the manager works with the applied credentials, I
> >> can
> >> > login and supply the credentials to my local /manager/html.
> >> >
> >> > The problem is that when I deploy through maven as mvn tomcat7:deploy
> and
> >> > returns me the dreaded 401 - Unauthorized page with the same
> credentials.
> >> > It's almost like maven is not parsing the configuration for the plugin
> >> > maybe?
> >> >
> >> > At this point I don't know what to do.  I've turned on verbose output
> in
> >> > maven and it shows what appears that the plugin is attempting to
> upload
> >> the
> >> > war file twice and returns the 401 page.
> >> >
> >> >
> >> > I also have a question as to getting this to work initially.  I added
> the
> >> > <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my
> >> conf/settings.xml
> >> > to get the tomcat7 plugin to download and work, is this normal or
> should
> >> I
> >> > not have to define it here?  I mean having to change and version maven
> >> > settings.xml files seems a bit counter intuitive for preserving
> maximum
> >> > portability right, or am I looking at this from the wrong angle?
> >> >
> >> > Any information anyone can provide as to where to look or what could
> be
> >> > causing this issue, I would be greatly appreciated.
> >> >
> >> > Warmest regards,
> >> >
> >> > - Josh
> >>
> >>
> >>
> >> --
> >> Olivier Lamy
> >> Talend: http://coders.talend.com
> >> http://twitter.com/olamy | http://linkedin.com/in/olamy
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--14dae934044fc10ceb04d0bd021e--

From users-return-238605-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 14:54:11 2012
Return-Path: <users-return-238605-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 197ABDABB
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 14:54:11 +0000 (UTC)
Received: (qmail 32664 invoked by uid 500); 13 Dec 2012 14:54:06 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32513 invoked by uid 500); 13 Dec 2012 14:54:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32494 invoked by uid 99); 13 Dec 2012 14:54:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:54:05 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [178.209.170.1] (HELO smtp.itafdelingen.net) (178.209.170.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 14:53:57 +0000
Received: from tunstallhealthcare.com (cpe.ge-0-2-0-909.abnqu1.customer.tele.dk [194.182.133.34])
	by smtp.itafdelingen.net (Postfix) with ESMTP id 2DAA01C1631
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:53:36 +0100 (CET)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CDD941.A0F6EA45"
Subject: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64 Windows 2008 R2
Date: Thu, 13 Dec 2012 15:53:35 +0100
Message-ID: <F516F9C37DC5C94395F7F9889B585CDE01A5CB84@srv-sbs-tun1.TUNSTALL.LOC>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64 Windows 2008 R2
Thread-Index: Ac3ZQEYuD03nVSQ8RMeCcIJXB0HnPAAAVFuw
From: "Michael Trabjerg" <mtr@tunstallhealthcare.com>
To: <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CDD941.A0F6EA45
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi

=20

Info: Tomcat 7.0.27 x64  running on Windows 2008 R2

=20

Tomcat 6 allowed me to restrict access to Tomcat for more than one IP
address, but it does not seem to work on Tomcat 7.0.27.

=20

Usually this worked: <Valve
className=3D"org.apache.catalina.valves.RemoteAddrValve"
allow=3D"127\.0\.0\.1\, 192\.168\.12\.22, 192\.168\.12\.23"/>

=20

Now I can only make to following work  <Valve
className=3D"org.apache.catalina.valves.RemoteAddrValve"
allow=3D"127\.0\.0\.1"/>

=20

Please help

=20

Thanks

=20

Br.

Michael Trabjerg


------_=_NextPart_001_01CDD941.A0F6EA45--

From users-return-238606-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:10:50 2012
Return-Path: <users-return-238606-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C0D0FDBC8
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:10:50 +0000 (UTC)
Received: (qmail 96815 invoked by uid 500); 13 Dec 2012 15:10:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96461 invoked by uid 500); 13 Dec 2012 15:10:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96433 invoked by uid 99); 13 Dec 2012 15:10:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:10:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:10:36 +0000
Received: from [192.168.245.129] (p549E8F13.dip0.t-ipconnect.de [84.158.143.19])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 56AEF3C15F4
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 16:11:09 +0100 (CET)
Message-ID: <50C9EFD3.3020003@ice-sa.com>
Date: Thu, 13 Dec 2012 16:10:11 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64
 Windows 2008 R2
References: <F516F9C37DC5C94395F7F9889B585CDE01A5CB84@srv-sbs-tun1.TUNSTALL.LOC>
In-Reply-To: <F516F9C37DC5C94395F7F9889B585CDE01A5CB84@srv-sbs-tun1.TUNSTALL.LOC>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Michael Trabjerg wrote:
> Hi
> 
>  
> 
> Info: Tomcat 7.0.27 x64  running on Windows 2008 R2
> 
>  
> 
> Tomcat 6 allowed me to restrict access to Tomcat for more than one IP
> address, but it does not seem to work on Tomcat 7.0.27.
> 
>  
> 
> Usually this worked: <Valve
> className="org.apache.catalina.valves.RemoteAddrValve"
> allow="127\.0\.0\.1\, 192\.168\.12\.22, 192\.168\.12\.23"/>
> 
>  
> 
> Now I can only make to following work  <Valve
> className="org.apache.catalina.valves.RemoteAddrValve"
> allow="127\.0\.0\.1"/>
> 

I believe you need to re-read the on-line docs.
It is probably indicated there that this should be a regexp, not a list of regexpes.
So try something like "(127\.0\.0\.1\|192\.168\.12\.22|192\.168\.12\.23)"

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238607-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:17:48 2012
Return-Path: <users-return-238607-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CAF4BDBFD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:17:48 +0000 (UTC)
Received: (qmail 20711 invoked by uid 500); 13 Dec 2012 15:17:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 20670 invoked by uid 500); 13 Dec 2012 15:17:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 20652 invoked by uid 99); 13 Dec 2012 15:17:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:17:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [178.209.170.1] (HELO smtp.itafdelingen.net) (178.209.170.1)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:17:35 +0000
Received: from tunstallhealthcare.com (cpe.ge-0-2-0-909.abnqu1.customer.tele.dk [194.182.133.34])
	by smtp.itafdelingen.net (Postfix) with ESMTP id 033B41C1D35
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 16:17:15 +0100 (CET)
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: RE: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64 Windows 2008 R2
Date: Thu, 13 Dec 2012 16:17:13 +0100
Message-ID: <F516F9C37DC5C94395F7F9889B585CDE01A5CB9D@srv-sbs-tun1.TUNSTALL.LOC>
In-Reply-To: <50C9EFD3.3020003@ice-sa.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64 Windows 2008 R2
Thread-Index: Ac3ZRAiwrYZ1hwFvR9KmQDyI9hA6pgAAMIMQ
References: <F516F9C37DC5C94395F7F9889B585CDE01A5CB84@srv-sbs-tun1.TUNSTALL.LOC> <50C9EFD3.3020003@ice-sa.com>
From: "Michael Trabjerg" <mtr@tunstallhealthcare.com>
To: "Tomcat Users List" <users@tomcat.apache.org>,
	"Tomcat Users List" <users@tomcat.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Andr=E9

This worked
<Valve className=3D"org.apache.catalina.valves.RemoteAddrValve" =
allow=3D"(127\.0\.0\.1|192\.168\.12\.22|192\.168\.12\.23)"/>

The other used to work for Tomcat 6.

Thanks a lot.


Br
Michael Trabjerg


-----Original Message-----
From: Andr=E9 Warnier [mailto:aw@ice-sa.com]=20
Sent: 13. december 2012 16:10
To: Tomcat Users List
Subject: Re: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 =
x64 Windows 2008 R2

Michael Trabjerg wrote:
> Hi
>=20
> =20
>=20
> Info: Tomcat 7.0.27 x64  running on Windows 2008 R2
>=20
> =20
>=20
> Tomcat 6 allowed me to restrict access to Tomcat for more than one IP=20
> address, but it does not seem to work on Tomcat 7.0.27.
>=20
> =20
>=20
> Usually this worked: <Valve
> className=3D"org.apache.catalina.valves.RemoteAddrValve"
> allow=3D"127\.0\.0\.1\, 192\.168\.12\.22, 192\.168\.12\.23"/>
>=20
> =20
>=20
> Now I can only make to following work  <Valve=20
> className=3D"org.apache.catalina.valves.RemoteAddrValve"
> allow=3D"127\.0\.0\.1"/>
>=20

I believe you need to re-read the on-line docs.
It is probably indicated there that this should be a regexp, not a list =
of regexpes.
So try something like =
"(127\.0\.0\.1\|192\.168\.12\.22|192\.168\.12\.23)"

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238608-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:25:18 2012
Return-Path: <users-return-238608-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9A117E248
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:25:18 +0000 (UTC)
Received: (qmail 58319 invoked by uid 500); 13 Dec 2012 15:25:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58254 invoked by uid 500); 13 Dec 2012 15:25:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58233 invoked by uid 99); 13 Dec 2012 15:25:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:25:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [217.146.182.242] (HELO nm2-vm0.bt.bullet.mail.ukl.yahoo.com) (217.146.182.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:25:05 +0000
Received: from [217.146.183.195] by nm2.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:24:45 -0000
Received: from [77.238.189.19] by tm1.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:24:45 -0000
Received: from [127.0.0.1] by smtp819.mail.ird.yahoo.com with NNFMP; 13 Dec 2012 15:24:45 -0000
X-Yahoo-Newman-Id: 542774.92095.bm@smtp819.mail.ird.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 0N2K.V4VM1mPXCtDxgFpgdj9FZ4monqNnGZD94RZHHT4wc1
 euAv9UKCWxHKXClsHawBnOLhSGa5yjeZZ1Hx3ZlOQZ7BivngID4r8grTkdEI
 7hUalUJx1JkEgFnwOz6WNQmvwT973a21IpcNQqvyns.1hzcxg1lA7K6DN4_6
 cU95K6STHGgD_S_b0fsu1n_zya1XFysR8oTpva7ZDeREALTRhvyCjO_e9Otx
 2fKxAJtc4QccCrvvNi8rGAvlwvepr2FZiErHyjf8GsfkCsDHHoO5hgVyPkSh
 L2.dBeRnJslrfsplG2yT8UJz421I5vYS5WN4PVVi8iEIOXfOR9R.Pn8QM1Fi
 RtPIBXoaL9gXWzv964Nxmexp93I2E7LhN0GN4C88e.T5i8fuvVEpz0wt4Qh5
 l4fdd06Cim.UIWHqwT8H5.TLgUclFyso-
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp819.mail.ird.yahoo.com with SMTP; 13 Dec 2012 15:24:45 +0000 GMT
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 18BA5EAB9B3
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:24:45 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KmqBVzg1hi8z for <users@tomcat.apache.org>;
	Thu, 13 Dec 2012 15:24:44 +0000 (GMT)
Received: from markstablet.dev.local (markstablet.dev.local [192.168.23.207])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id BF478EAB9B2
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:24:44 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <50C9CB47.2080107@ptc.com>
References: <50C94F54.4060601@ptc.com> <f22b9365-4ad3-42c8-b745-bcc18bb13260@email.android.com> <50C9CB47.2080107@ptc.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Tomcat 7.0.34 JspC issue?
From: Mark Thomas <markt@apache.org>
Date: Thu, 13 Dec 2012 15:24:46 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <bc56ee7b-553d-4a44-bcf8-b8e8bf623f29@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Jess Holle <jessh@ptc.com> wrote:

>No, unfortunately I have no small test case.  Our JSPs are the opposite
>
>of standalone test cases and I've not had time to try to find a trigger
>
>within them -- and quite likely won't have such time.

Fair enough. If you do find time, that would be great.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238609-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:27:01 2012
Return-Path: <users-return-238609-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 38D7AEA66
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:27:01 +0000 (UTC)
Received: (qmail 67390 invoked by uid 500); 13 Dec 2012 15:26:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67324 invoked by uid 500); 13 Dec 2012 15:26:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 67308 invoked by uid 99); 13 Dec 2012 15:26:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:26:57 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.82.108.233] (HELO nm2.bt.bullet.mail.ird.yahoo.com) (212.82.108.233)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:26:46 +0000
Received: from [212.82.108.228] by nm2.bt.bullet.mail.ird.yahoo.com with NNFMP; 13 Dec 2012 15:26:26 -0000
Received: from [217.12.12.249] by tm1.bt.bullet.mail.ird.yahoo.com with NNFMP; 13 Dec 2012 15:26:26 -0000
Received: from [127.0.0.1] by smtp820.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:26:26 -0000
X-Yahoo-Newman-Id: 398012.74059.bm@smtp820.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 12gP164VM1my2KBQL0giKcS0N_21tiTkVVFKleyoMxaguQ3
 4BfwB1x1OBR4XJyBahmHXp0_ghRjUvSfPf7AwUrdJ5WgylA7e8M2PzAJ6YPL
 2G2o.GWl5R_EyTcWrvax93SbDZRskUSf3Ks1Do_h8ZWgHbN7iZAbSp4PfoXF
 LDaC91KxDnbd.HscsERdnqbGd2urIJDkz1rb2IPZPddIcy4JOBsp8WLcexaS
 Q24Bi3YmbvJ45SnP59ruaJSFbC5tmviT9X.EtiwA22zJhlqv7pSAsqRIP.iq
 eUqjuV069wxU.ZdTk5FLUq6Y4IDUh4AXUD4RAe.4rYrn5_M6KeydWEazBhRT
 l4oRXmgCyiypaTeNn6JNgE3zBZ5pqieXFeRXgEMG2kt5TcGkRRADPNh1U_F0
 DjWKiUPNaHzhVuQhxav4E9DVwRBMxF7eEqojp5X.57hbtrdRU9fGZ03V4nHo
 yAF5vemnJa02ULhlHhNCgxwCb4sAyhRYtEnrYlzk4oWze78Gy3NJTOYD3IFc
 Y3hLR4RPNqe4cC07J.1Q-
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp820.mail.ukl.yahoo.com with SMTP; 13 Dec 2012 07:26:26 -0800 PST
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id F41C4EAB9B3
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:26:25 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 9e339BlqG9Oa for <users@tomcat.apache.org>;
	Thu, 13 Dec 2012 15:26:25 +0000 (GMT)
Received: from markstablet.dev.local (markstablet.dev.local [192.168.23.207])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id B518FEAB9AC
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:26:25 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <1355403237.20569.YahooMailNeo@web111620.mail.gq1.yahoo.com>
References: <1355403237.20569.YahooMailNeo@web111620.mail.gq1.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: About tomcat 8.0.0 dev documentation
From: Mark Thomas <markt@apache.org>
Date: Thu, 13 Dec 2012 15:26:27 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <399b1967-c344-495e-9c67-730e152dfc3d@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Ram Laxman <ram.laxman241089@yahoo.com> wrote:

>Hi there,Â Â Â Â  
>
>Â  I want to know how to access the tomcat dev 8.0.0 documentationÂ  
>Â  which having actual URLÂ Â Â Â Â  
>Â  http://ci.apache.org/projects/tomcat/tomcat8/docs/index.html 
>Â  but unable to access it. 
>Â  When I try to access it from Google cached copy,Â Â Â  
>Â  the screen I have attached here.Â  
>Â  Thanks!!

As you have already been told, that is the output of the continuous integration system. There are no Tomcat 8 docs anywhere else because there has not been a release of Tomcat 8.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238610-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:28:27 2012
Return-Path: <users-return-238610-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 61ECEE1C5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:28:27 +0000 (UTC)
Received: (qmail 73865 invoked by uid 500); 13 Dec 2012 15:28:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73788 invoked by uid 500); 13 Dec 2012 15:28:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73775 invoked by uid 99); 13 Dec 2012 15:28:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:28:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.182.230] (HELO nm3-vm0.bt.bullet.mail.ukl.yahoo.com) (217.146.182.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:28:15 +0000
Received: from [217.146.183.197] by nm3.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:27:53 -0000
Received: from [217.12.12.244] by tm3.bt.bullet.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:27:53 -0000
Received: from [127.0.0.1] by smtp815.mail.ukl.yahoo.com with NNFMP; 13 Dec 2012 15:27:53 -0000
X-Yahoo-Newman-Id: 44580.60690.bm@smtp815.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: IVPuaSYVM1lj7G1NJLgr8ebCBOfnlV.Tv2o_4QKT_mB3Qlr
 eC2Jw5JvGsE1dS5C_Xudjg8Cw.1pW0XIQHyV.Dfv.yxfrc6GIcVh_PM9LWdn
 na9hTzi27Lw2WLhT6UEF5F8rfF3qVe3P_lmM84dOSHSqM55Fe2Bto4fHRpGp
 cZSMnXd2ZQtl0Z_3xs9kD4KdAZ7Kbmzmt6m8Hy_nSV4f.D4zQOnT7gbXLk5p
 ydLXcf9r_JYzwaNguFRErbrFUYHTZmbb.GiPnIyVrp0jomfLBHZt84ZbVMdW
 sjuqljEHsS6e2GZkGfOpRloyi26_KRvQWG3G2nG9Hm00msCEeCtJgPoazyIp
 C3lif9VNwU9DtsjcaeFam0cRviK_QTCb3JkSsUKImaI1yrrBsOFQhEvj09vo
 Bnueq2JMsxzhkHuHBz_RJx8D7SgbowLU-
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp815.mail.ukl.yahoo.com with SMTP; 13 Dec 2012 07:27:52 -0800 PST
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id AE987EAB9B3
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:27:52 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0uaY6L-GrkBK for <users@tomcat.apache.org>;
	Thu, 13 Dec 2012 15:27:52 +0000 (GMT)
Received: from markstablet.dev.local (markstablet.dev.local [192.168.23.207])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 711E3EAB9B2
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 15:27:52 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <20121213130246.GA23330@computer.corp.ebay.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Does maxPostSize has an effect on file upload?
From: Mark Thomas <markt@apache.org>
Date: Thu, 13 Dec 2012 15:27:53 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Kai Weber <kai.weber@glorybox.de> wrote:

>I see the following behaviour on Tomcat 6.0.24:
>
>The maxPostSize is not set, so uses the default of 2MB. I can upload
>files
>bigger than 2MB (5MB for example). I use commons-fileupload to read the
>file.

As expected.

>Does a file upload as multipart/form-data not count to the size of the
>POST?

No, as the doc make clear.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238611-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 15:53:41 2012
Return-Path: <users-return-238611-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FD79E9C1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 15:53:41 +0000 (UTC)
Received: (qmail 66357 invoked by uid 500); 13 Dec 2012 15:53:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66295 invoked by uid 500); 13 Dec 2012 15:53:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66259 invoked by uid 99); 13 Dec 2012 15:53:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:53:37 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 15:53:29 +0000
Received: from [192.168.245.129] (p549E8F13.dip0.t-ipconnect.de [84.158.143.19])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id B11473C1503
	for <users@tomcat.apache.org>; Thu, 13 Dec 2012 16:54:01 +0100 (CET)
Message-ID: <50C9F9DF.8020107@ice-sa.com>
Date: Thu, 13 Dec 2012 16:53:03 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: org.apache.catalina.valves.RemoteAddrValve on Tomcat 7.0.27 x64
 Windows 2008 R2
References: <F516F9C37DC5C94395F7F9889B585CDE01A5CB84@srv-sbs-tun1.TUNSTALL.LOC> <50C9EFD3.3020003@ice-sa.com> <F516F9C37DC5C94395F7F9889B585CDE01A5CB9D@srv-sbs-tun1.TUNSTALL.LOC>
In-Reply-To: <F516F9C37DC5C94395F7F9889B585CDE01A5CB9D@srv-sbs-tun1.TUNSTALL.LOC>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Michael Trabjerg wrote:
> Hi André
> 
> This worked
> <Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="(127\.0\.0\.1|192\.168\.12\.22|192\.168\.12\.23)"/>
> 
> The other used to work for Tomcat 6.
> 

Yes, but as I remember it was changed because it was ambiguous : a comma can be part of a 
regular expression, so it was not clear how a comma-separated list should be interpreted.
There is probably a more complete/correct explanation in the "changes" documentation for 
Tomcat 7.x.

The same change may apply to other elements where comma-separated lists used to be 
allowed, so you may want to check these too.




---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238612-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 19:45:36 2012
Return-Path: <users-return-238612-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD35CD09A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 19:45:36 +0000 (UTC)
Received: (qmail 34650 invoked by uid 500); 13 Dec 2012 19:45:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34583 invoked by uid 500); 13 Dec 2012 19:45:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34574 invoked by uid 99); 13 Dec 2012 19:45:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 19:45:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of spring@gmx.eu designates 212.227.15.19 as permitted sender)
Received: from [212.227.15.19] (HELO mout.gmx.net) (212.227.15.19)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 19:45:23 +0000
Received: from mailout-de.gmx.net ([10.1.76.4]) by mrigmx.server.lan
 (mrigmx002) with ESMTP (Nemesis) id 0M3xZE-1Ss6CC3ZUA-00raB3 for
 <users@tomcat.apache.org>; Thu, 13 Dec 2012 20:45:02 +0100
Received: (qmail invoked by alias); 13 Dec 2012 19:45:02 -0000
Received: from e178082034.adsl.alicedsl.de (EHLO msrvcn04) [85.178.82.34]
  by mail.gmx.net (mp004) with SMTP; 13 Dec 2012 20:45:02 +0100
X-Authenticated: #2635966
X-Provags-ID: V01U2FsdGVkX1+rL9xrtcurz0pVp3nN1HriPXyckLnyUaO3XWGILC
	s/PoEfyoc+ArU2
From: <spring@gmx.eu>
To: "'Tomcat Users List'" <users@tomcat.apache.org>
Subject: Tomcat uses only a single Core
Date: Thu, 13 Dec 2012 20:44:58 +0100
Message-ID: <139F8039C4424E308B086371F836FD14@msrvcn04>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ac3ZalLvILKJVi0iQQ2x7p3OhBCH6A==
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.3790.4913
X-Y-GMX-Trusted: 0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have an application running on Tomcat 7 on a 8-Core Linux 64 bit System.

Unfortunately it uses only a single core. I have googled alot about this
fact but did not found a solution, even not a clear reason for it.

What can be the problem here?

Thank you


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238613-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 19:56:15 2012
Return-Path: <users-return-238613-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA812D1A6
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 19:56:15 +0000 (UTC)
Received: (qmail 79901 invoked by uid 500); 13 Dec 2012 19:56:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 79726 invoked by uid 500); 13 Dec 2012 19:56:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 79717 invoked by uid 99); 13 Dec 2012 19:56:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 19:56:12 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.215.173 as permitted sender)
Received: from [209.85.215.173] (HELO mail-ea0-f173.google.com) (209.85.215.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 19:56:05 +0000
Received: by mail-ea0-f173.google.com with SMTP id i13so893415eaa.18
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 11:55:45 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type;
        bh=1T7Q2HlyfD/sWdfapV+ta8L9z47S3UmE3s7JD4WE2hk=;
        b=nKMVa22ID555xs9g2jwCoe2n4jhctzElhJVs6e8C3T5TjJT1OhdMqK3iREkdP258Hm
         zpmMuRGqvm+x9Yu3CDZ1apxn/QXLM7XeI8+cnlMtGW76a9W41mbynwjPWrxgVo/NSDJf
         t8BXclxlNpHwi6xvWkQF2JbfJWrgoShI3g0MU=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=message-id:date:from:organization:user-agent:mime-version:to
         :subject:references:in-reply-to:x-enigmail-version:openpgp
         :content-type:x-gm-message-state;
        bh=1T7Q2HlyfD/sWdfapV+ta8L9z47S3UmE3s7JD4WE2hk=;
        b=Ae8HX08kSzcs6zDNoA7xoqE1bRJxZKwzfRlDxG+89AgtfYfXxlQK56S8kewN8clikl
         sdqZqchLkwbA22LaugieeLheHp+yHIccxvRdV71K9Bf+R38Q7+zjO7N1G+WQwm310f9R
         IJ+jttpII3l+dbYbjYCR2WUR01TrkIAcMbntl9xb3/iY8CkCeSTU3APBmvRYUSzU52JA
         ffgoV45Qv4u3Qq/jRlV6oPnJARnCkWNKzpz5gbietw4XkoiF/25/LigIVJyX+AGIXJRn
         93wte3dEw0tYfcWR4sXvkqEaS8qodL6bDSzPtWxOh1VFr1MSs2dYNeDDDXJkLZU01/VV
         cD4Q==
Received: by 10.14.205.198 with SMTP id j46mr8090999eeo.27.1355428544828;
        Thu, 13 Dec 2012 11:55:44 -0800 (PST)
Received: from sw-vmw-mbp.local (cpc10-lewi14-2-0-cust355.2-4.cable.virginmedia.com. [82.4.249.100])
        by mx.google.com with ESMTPS id w44sm4909836eep.6.2012.12.13.11.55.42
        (version=SSLv3 cipher=OTHER);
        Thu, 13 Dec 2012 11:55:43 -0800 (PST)
Message-ID: <50CA32D7.5050204@pidster.com>
Date: Thu, 13 Dec 2012 19:56:07 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat uses only a single Core
References: <139F8039C4424E308B086371F836FD14@msrvcn04>
In-Reply-To: <139F8039C4424E308B086371F836FD14@msrvcn04>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enig9E1BD2C0F7247FAD2EDB545B"
X-Gm-Message-State: ALoCoQlHU6ExhKym+jLDuqriQt4YOreaaxLOnfwTcfouDmskWkuMsZq86+FzIidxp1fQcbI13p0l
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enig9E1BD2C0F7247FAD2EDB545B
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 13/12/2012 19:44, spring@gmx.eu wrote:
> Hi,
>=20
> I have an application running on Tomcat 7 on a 8-Core Linux 64 bit Syst=
em.
>=20
> Unfortunately it uses only a single core. I have googled alot about thi=
s
> fact but did not found a solution, even not a clear reason for it.
>=20
> What can be the problem here?

Your app is single threaded?


p

> Thank you
>=20
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enig9E1BD2C0F7247FAD2EDB545B
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQyjLZAAoJEGoM2OGpOvr9920P/RHtK+5e6yfAY9UXuRt4hXdt
gKUrecGIlVhs6/FVSW7cKvEuxFsCdLW//5DoyC4lqdi7hh/Nf/OVSmICu//72IZe
Su5O4Lx9zV4rYj8DjKKZJP+OGlU1gVEExrgU5AQhzaOGBoB9W8bOzORUHNzhwV8J
EvjQpcbbw9oMBMK5PBzEDxqQi6Vj/WfTJBuv//zduWuQYQ8ck6Hyu1BDKE8fc+Ke
gPDAsPo6MX6yWqCM9xCpZ+ryKrZQP03wBHXo1krq3vGOfoNKs83lOGoX3/ChNyFP
Uia1j8kifaHpoKI/xFBnVS6TTJcfGOSU2oz47EO2ee/17kqnuuOaPRwdagd6n0PZ
F8R/CaZc0IPZm9x3SdBf1cPkjBvct7ql5XMh4ZmvXTdKMyA20GADLWL/8ZAopGMy
ojoaxpZOdJGzzgQ2jLjI5fqJIfwH7w9I/5KirT1MuhX/v0EWFgJxT7uq3qjdgyMR
MfzGRrD/30E/yLserBx0uJrJ12YDqGLaFlRjsUzZTcF3CVw9IZlZJiw4RK1Egm/f
6PBz4O1oNDi5CdClezaMHZDBi39MGuBtc6CS8a1KZAs3GUH9DKykJHsR1acm+bKX
u4/GFoihrJPGymTXi068FeO/9bAW+tBXdiTDEly5u2q3Cgc3l/DWvjjL3nWt3s7D
+Zo2QUMWkc8iVS2cqWnc
=/iPl
-----END PGP SIGNATURE-----

--------------enig9E1BD2C0F7247FAD2EDB545B--

From users-return-238614-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 13 20:35:27 2012
Return-Path: <users-return-238614-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9E07ED639
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 13 Dec 2012 20:35:27 +0000 (UTC)
Received: (qmail 24956 invoked by uid 500); 13 Dec 2012 20:35:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24899 invoked by uid 500); 13 Dec 2012 20:35:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24890 invoked by uid 99); 13 Dec 2012 20:35:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 20:35:23 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 209.85.212.169 as permitted sender)
Received: from [209.85.212.169] (HELO mail-wi0-f169.google.com) (209.85.212.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 13 Dec 2012 20:35:14 +0000
Received: by mail-wi0-f169.google.com with SMTP id hq12so43232wib.0
        for <users@tomcat.apache.org>; Thu, 13 Dec 2012 12:34:54 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8izOv+cZDyxy92uL75IDPQ5rtPdLdMHOeXpF17cTPZM=;
        b=YZ6+5oxTgwKCs5BH2X9YtD2oH7QzGnkbvzERTZDa05vYtXpZhqDvWEaDKes6541a+c
         04p1xkazZaI4urWTABtbBNCzOneWzyriNKyw+FRFH7tdK+KmDR69hX0ja19HpXYZDbWn
         vBvMwlMvFYrcryvhfYwCZRvyXt8/9Yin43KXTDJ8g4bBpgghzn8iVrJSeHeBPGaU+dR+
         h8GPGahH8TknO/NyHNl9fNprkGXis3KfKTcuzB8W60mFQP/v/E5uZP8qtJTBA0pn6IWl
         2qUBlTZOB2FNg0stYqlqjzMGAtk2XKaqu8iRHDukId5HmGAOdDd5fBQOnlCm6ZV5UlDt
         eVDg==
MIME-Version: 1.0
Received: by 10.180.81.41 with SMTP id w9mr21289204wix.18.1355430893898; Thu,
 13 Dec 2012 12:34:53 -0800 (PST)
Received: by 10.180.145.201 with HTTP; Thu, 13 Dec 2012 12:34:53 -0800 (PST)
In-Reply-To: <CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com>
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
	<CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
	<CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com>
Date: Thu, 13 Dec 2012 17:34:53 -0300
Message-ID: <CAGrg8DW1aXPnpQMuKaeBSg8xO_HTcD5VfAdrmCME7LQLwvsZpg@mail.gmail.com>
Subject: Re: Data sources definitions are lost in memory
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d04428f08f2cb9104d0c1d8d0
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d04428f08f2cb9104d0c1d8d0
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Today the problem happened again, but this time we were monitoring the logs:

13/12/2012 15:49:46 org.apache.catalina.core.ApplicationContext log
GRAVE: java.sql.SQLException
java.lang.RuntimeException: java.sql.SQLException
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.setCursorRow(CachedRowSetDataProvider.java:416)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.setCursorIndex(CachedRowSetDataProvider.java:373)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.getRowCount(CachedRowSetDataProvider.java:713)
        at
com.sun.webui.jsf.faces.DataProviderELResolver$SelectItemsData.getSelectItems(DataProviderELResolver.java:702)
        at
com.sun.webui.jsf.faces.DataProviderELResolver.getValue(DataProviderELResolver.java:166)
        at
javax.el.CompositeELResolver.getValue(CompositeELResolver.java:54)
        at
com.sun.faces.el.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:64)
        at org.apache.el.parser.AstValue.getValue(AstValue.java:123)
        at
org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)
        at
org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:101)
        at com.sun.webui.jsf.component.Selector.getItems(Selector.java:577)
        at
com.sun.webui.jsf.component.ListSelector.getOptions(ListSelector.java:212)
        at
com.sun.webui.jsf.component.ListSelector.getListItems(ListSelector.java:140)
        at
com.sun.webui.jsf.renderkit.widget.ListRendererBase.getListProperties(ListRendererBase.java:269)
        at
com.sun.webui.jsf.renderkit.widget.ListRendererBase.getProperties(ListRendererBase.java:220)
        at
com.sun.webui.jsf.renderkit.widget.DropDownRenderer.getProperties(DropDownRenderer.java:74)
        at
com.sun.webui.jsf.renderkit.widget.RendererBase.encodeChildren(RendererBase.java:134)
        at
javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:812)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:886)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at
com.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:245)
        at
com.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:176)
        at
com.sun.rave.web.ui.appbase.faces.ViewHandlerImpl.renderView(ViewHandlerImpl.java:320)
        at
com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:106)
        at
com.sun.faces.lifecycle.LifecycleImpl.phase(LifecycleImpl.java:251)
        at
com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:144)
        at
com.sun.faces.extensions.avatar.lifecycle.PartialTraversalLifecycle.render(PartialTraversalLifecycle.java:106)
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:245)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at
com.sun.webui.jsf.util.UploadFilter.doFilter(UploadFilter.java:267)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
        at
com.googlecode.psiprobe.Tomcat60AgentValve.invoke(Tomcat60AgentValve.java:30)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
        at
org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:429)
        at
org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler.process(AjpAprProtocol.java:384)
        at
org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1665)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.sql.SQLException
        at
com.sun.sql.rowset.internal.CachedRowSetXReader.connect(CachedRowSetXReader.java:381)
        at
com.sun.sql.rowset.internal.CachedRowSetXReader.readData(CachedRowSetXReader.java:160)
        at
com.sun.sql.rowset.CachedRowSetXImpl5.execute(CachedRowSetXImpl5.java:865)
        at
com.sun.sql.rowset.CachedRowSetXImpl5.execute(CachedRowSetXImpl5.java:1325)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.checkExecute(CachedRowSetDataProvider.java:1351)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.setCursorRow(CachedRowSetDataProvider.java:402)
        ... 47 more
Caused by: javax.naming.NoInitialContextException: Cannot instantiate
class: com.sun.jndi.fscontext.RefFSContextFactory [Root exception is
java.lang.ClassNotFoundException:
com.sun.jndi.fscontext.RefFSContextFactory]
        at
javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:657)
        at
javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
        at javax.naming.InitialContext.init(InitialContext.java:223)
        at javax.naming.InitialContext.<init>(InitialContext.java:175)
        at
com.sun.sql.rowset.internal.CachedRowSetXReader.connect(CachedRowSetXReader.java:365)
        ... 52 more
Caused by: java.lang.ClassNotFoundException:
com.sun.jndi.fscontext.RefFSContextFactory
        at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1680)
        at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:247)
        at
com.sun.naming.internal.VersionHelper12.loadClass(VersionHelper12.java:46)
        at
javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:654)
        ... 56 more


13/12/2012 15:49:46 org.apache.catalina.core.StandardWrapperValve invoke
GRAVE: Servlet.service() for servlet Faces Servlet threw exception
java.lang.ClassNotFoundException: com.sun.jndi.fscontext.RefFSContextFactory
        at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1680)
        at
org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1526)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:247)
        at
com.sun.naming.internal.VersionHelper12.loadClass(VersionHelper12.java:46)
        at
javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:654)
        at
javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
        at javax.naming.InitialContext.init(InitialContext.java:223)
        at javax.naming.InitialContext.<init>(InitialContext.java:175)
        at
com.sun.sql.rowset.internal.CachedRowSetXReader.connect(CachedRowSetXReader.java:365)
        at
com.sun.sql.rowset.internal.CachedRowSetXReader.readData(CachedRowSetXReader.java:160)
        at
com.sun.sql.rowset.CachedRowSetXImpl5.execute(CachedRowSetXImpl5.java:865)
        at
com.sun.sql.rowset.CachedRowSetXImpl5.execute(CachedRowSetXImpl5.java:1325)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.checkExecute(CachedRowSetDataProvider.java:1351)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.setCursorRow(CachedRowSetDataProvider.java:402)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.setCursorIndex(CachedRowSetDataProvider.java:373)
        at
com.sun.data.provider.impl.CachedRowSetDataProvider.getRowCount(CachedRowSetDataProvider.java:713)
        at
com.sun.webui.jsf.faces.DataProviderELResolver$SelectItemsData.getSelectItems(DataProviderELResolver.java:702)
        at
com.sun.webui.jsf.faces.DataProviderELResolver.getValue(DataProviderELResolver.java:166)
        at
javax.el.CompositeELResolver.getValue(CompositeELResolver.java:54)
        at
com.sun.faces.el.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:64)
        at org.apache.el.parser.AstValue.getValue(AstValue.java:123)
        at
org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)
        at
org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:101)
        at com.sun.webui.jsf.component.Selector.getItems(Selector.java:577)
        at
com.sun.webui.jsf.component.ListSelector.getOptions(ListSelector.java:212)
        at
com.sun.webui.jsf.component.ListSelector.getListItems(ListSelector.java:140)
        at
com.sun.webui.jsf.renderkit.widget.ListRendererBase.getListProperties(ListRendererBase.java:269)
        at
com.sun.webui.jsf.renderkit.widget.ListRendererBase.getProperties(ListRendererBase.java:220)
        at
com.sun.webui.jsf.renderkit.widget.DropDownRenderer.getProperties(DropDownRenderer.java:74)
        at
com.sun.webui.jsf.renderkit.widget.RendererBase.encodeChildren(RendererBase.java:134)
        at
javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:812)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:886)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at javax.faces.component.UIComponent.encodeAll(UIComponent.java:892)
        at
com.sun.faces.application.ViewHandlerImpl.doRenderView(ViewHandlerImpl.java:245)
        at
com.sun.faces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:176)
        at
com.sun.rave.web.ui.appbase.faces.ViewHandlerImpl.renderView(ViewHandlerImpl.java:320)
        at
com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:106)
        at
com.sun.faces.lifecycle.LifecycleImpl.phase(LifecycleImpl.java:251)
        at
com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:144)
        at
com.sun.faces.extensions.avatar.lifecycle.PartialTraversalLifecycle.render(PartialTraversalLifecycle.java:106)
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:245)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at
com.sun.webui.jsf.util.UploadFilter.doFilter(UploadFilter.java:267)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
        at
com.googlecode.psiprobe.Tomcat60AgentValve.invoke(Tomcat60AgentValve.java:30)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
        at
org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:429)
        at
org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler.process(AjpAprProtocol.java:384)
        at
org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1665)
        at java.lang.Thread.run(Thread.java:662)

Any idea?

Best regards,

Robert



On Wed, Dec 5, 2012 at 8:14 AM, Robert Anderson <ranomail@gmail.com> wrote:

> Hi Konstantin,
>
> 1. This NullPointerException happens when an application starts up?
>
> (Do the apps perform the lookup once and cache the result, or they
> perform multiple lookups?)
>
> No, it happens after application starts up. The applications perform
> multiple lookups.
>
> 2. What is seen in JNDI context depends on the current classloader
> (Thread.getContextClassLoader()).
>
> Does the issue happen in a request processing thread, or somewhere else?
>
> Request processing thread.
>
> 3. Does it affect specific web applications, or it is more random?
>
> When it happens, it affects all datasources (globals and applications
> specific) of all applications.
>
> 4. Anything interesting in the logs and in catalina.out? E.g.
> OutOfMemoryError.
>
> No, but we're still looking for some lead.
>
> 5. What connector implementations are you using? Bio, Nio, APR?
>
> APR.
>
> The last time that this issue happened was on 11/22.
>
> Thanks,
>
> Robert
>
>
> On Tue, Dec 4, 2012 at 6:01 PM, Konstantin Kolinko <knst.kolinko@gmail.com
> > wrote:
>
>> 2012/11/28 Robert Anderson <ranomail@gmail.com>:
>> > Hi,
>> >
>> >
>> > We've some data sources defined in server.xml as following:
>> >
>> > ...
>> >  <GlobalNamingResources>
>> >   ...
>> >           <Resource name="jdbc/proddb1" auth="Container"
>> > type="javax.sql.DataSource" removeAbandoned="true"
>> > removeAbandonedTimeout="300"
>> >                                    maxActive="400" maxIdle="30"
>> > maxWait="10000"
>> >                                    validationQuery="select 1 from dual"
>> >                                    testOnBorrow="true"
>> >                                    username="xxxx" password="xxxx"
>> > driverClassName="com.intersys.jdbc.CacheDriver"
>> >                                    url="jdbc:Cache://server:1972/DB"/>
>> > ...
>> >
>> >  </GlobalNamingResources>
>> >  ...
>> >
>> > conf/context.xml
>> >
>> > <Context>
>> >     ...
>> >         <ResourceLink name="jdbc/proddb1" global="jdbc/proddb1"/>
>> >     ...
>> > </Context>
>> >
>> >
>> > Everything has worked normal during many months...until now.
>> >
>> > At least once a day, since 11/21, webapplications  throw
>> > NullPointerException because they cannot find jndi data sources. The
>> Data
>> > sources tab in psi-probe (http://code.google.com/p/psi-probe/) says
>> that
>> > there aren't jndi data sources in server.  We are thinking that some
>> > application may have added some jar or class in classpath that is
>> causing
>> > the problem.
>> >
>> > After restart, without changes in conf files,  everything backs to
>> normal.
>> >
>> > Any idea?
>> >
>> > Environment:
>> >
>> > java version "1.6.0_35"
>> > Java(TM) SE Runtime Environment (build 1.6.0_35-b10)
>> > Java HotSpot(TM) 64-Bit Server VM (build 20.10-b01, mixed mode)
>> >
>> > Server version: Apache Tomcat/6.0.32
>> > Server built:   February 2 2011 2003
>> > Server number:  6.0.32.0
>> > OS Name:        Linux
>> > OS Version:     2.6.18-194.17.1.el5
>> > Architecture:   amd64
>> > JVM Version:    1.6.0_35-b10
>> > JVM Vendor:     Sun Microsystems Inc.
>> >
>>
>> 1. This NullPointerException happens when an application starts up?
>>
>> (Do the apps perform the lookup once and cache the result, or they
>> perform multiple lookups?)
>>
>> 2. What is seen in JNDI context depends on the current classloader
>> (Thread.getContextClassLoader()).
>>
>> Does the issue happen in a request processing thread, or somewhere else?
>>
>> 3. Does it affect specific web applications, or it is more random?
>>
>> 4. Anything interesting in the logs and in catalina.out? E.g.
>> OutOfMemoryError.
>>
>> 5. What connector implementations are you using? Bio, Nio, APR?
>>
>> Best regards,
>> Konstantin Kolinko
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--f46d04428f08f2cb9104d0c1d8d0--

From users-return-238615-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 10:42:06 2012
Return-Path: <users-return-238615-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AFD08E6DF
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 10:42:06 +0000 (UTC)
Received: (qmail 72603 invoked by uid 500); 14 Dec 2012 10:42:03 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72307 invoked by uid 500); 14 Dec 2012 10:42:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72167 invoked by uid 99); 14 Dec 2012 10:42:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 10:42:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [81.28.224.28] (HELO relay2.mail.vrmd.de) (81.28.224.28)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 10:41:53 +0000
Received: from [195.234.136.12] (helo=localhost)
	by relay2.mail.vrmd.de with esmtpsa (TLS1.0:DHE_RSA_AES_128_CBC_SHA1:16)
	(Exim 4.76)
	(envelope-from <kai.weber@glorybox.de>)
	id 1TjShu-000393-2F
	for users@tomcat.apache.org; Fri, 14 Dec 2012 11:41:30 +0100
Date: Fri, 14 Dec 2012 11:41:29 +0100
From: Kai Weber <kai.weber@glorybox.de>
To: users@tomcat.apache.org
Subject: Re: Does maxPostSize has an effect on file upload?
Message-ID: <20121214104129.GA5201@computer.corp.ebay.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Relay-User: kai.weber@glorybox.de
X-Virus-Checked: Checked by ClamAV on apache.org

* Mark Thomas <markt@apache.org>:

> >Does a file upload as multipart/form-data not count to the size of the
> >POST?
> 
> No, as the doc make clear.

I asked because I could not find a hint in the docs or the INTERNET. What doc
do you mean? I looked into http://tomcat.apache.org/tomcat-6.0-doc/config/http.html
for maxPostSize.

Thanks, Kai

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238616-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 11:04:37 2012
Return-Path: <users-return-238616-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BF169E759
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 11:04:37 +0000 (UTC)
Received: (qmail 30285 invoked by uid 500); 14 Dec 2012 11:04:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 29914 invoked by uid 500); 14 Dec 2012 11:04:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 29897 invoked by uid 99); 14 Dec 2012 11:04:33 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 11:04:33 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.86] (HELO nm24-vm7.bullet.mail.sg3.yahoo.com) (106.10.151.86)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 11:04:26 +0000
Received: from [106.10.166.126] by nm24.bullet.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 11:04:02 -0000
Received: from [106.10.166.100] by tm15.bullet.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 11:04:02 -0000
Received: from [127.0.0.1] by smtp118-mob.biz.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 11:04:02 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355483042; bh=aHl+ucPFEpJ317rg5ZDyAgobkex9CiR8kO0iM2ay5fo=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Subject:From:Content-Type:X-Mailer:Message-Id:Date:To:Content-Transfer-Encoding:Mime-Version; b=ohuMrTOnGwJYBCU6TLHq8k/HsUGJ0iz6Zn/CtAEdTf501hpOqlaBms1y02uS9m6R7E3jhlHqT8FD/y7T/fuZtVuxqOFSfgG3TAJ6oBAQ82BOC4XeafcP9qOKx4X8n3U1T765a4Q4RBp+7KJCZZA/DIXGMWNCD9uAFppScIJUQm0=
X-Yahoo-Newman-Id: 589486.58415.bm@smtp118-mob.biz.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: EFMMbvAVM1l2gx7IOwoIInjMNqT2CLq_zCBPdaqfbRC1Hp1
 6K0yaZnPhxAZClO7QPX7Q1JEDuzGYL1n4ddfiDQyjELpcmv3f2Gn0uUDeC3u
 okSX1WcTg9AHYYBMzEfojLdxE0zq3cxx7HvgEDy6ZZcJd7kpcOA2OxYhH3vP
 YxzikZ8EmcbTDzUFe9q8rZ2.JiqIESO6Udw9lkLF_wkLC3YEXtZIYy.JbqbR
 qnL1PShOLFVKjf0HWiZaQroZQA6oiIFkhqL8IcxnGAjvHwJPRaliXCQRVUVw
 Csua7gohnAzyKebhzzEJadIfrzBvIKoI4ZFSZcfge9vW42AFiwNIF1DcEJgR
 SkEZSp3m8e3fmlqtvEh9kyzL.0cqp1CozjS3z9qvEZgBcMXIZDCNSIVZQ15R
 hTQvakJBW4h7hKBpiOZb9l1gsX8C_oOMA_aZqxuTSdyXd.8Gf_Zdoz1snFw-
 -
X-Yahoo-SMTP: ajpxA4uswBBx5xUesqpGwIxhJ2rBVD6Wr1LeDLQ-
Received: from [223.238.166.126] (vicky007aggarwal@223.238.166.126 with xymcookie)
        by smtp118-mob.biz.mail.sg3.yahoo.com with SMTP; 14 Dec 2012 11:04:02 +0000 UTC
Subject: Tomcat 6.0 - http client
From: vicky007aggarwal@yahoo.co.in
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPhone Mail (10A403)
Message-Id: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in>
Date: Fri, 14 Dec 2012 16:33:57 +0530
To: users@tomcat.apache.org
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Guys,

I am facing response latency issue when i am invoking the web service call (=
 deployed  on tomcat 6.x) from an http client.

Can some body please share /let me know what are recommended configuration s=
ettings which i need to take care of at the http client & at the tomcat leve=
l.
I guess that is the issue.

Secondly, which tomcat threads i need to monitor, as in threads dumps i am s=
eeing different types of threads like http ,TP,scheduler etc. it will be gre=
at if you guys can suggest how to analyze these thread dumps

Thanks
Vicky=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238617-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 16:10:31 2012
Return-Path: <users-return-238617-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3CC5CEC90
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 16:10:31 +0000 (UTC)
Received: (qmail 55448 invoked by uid 500); 14 Dec 2012 16:10:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55140 invoked by uid 500); 14 Dec 2012 16:10:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55097 invoked by uid 99); 14 Dec 2012 16:10:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:10:21 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 74.125.82.45 as permitted sender)
Received: from [74.125.82.45] (HELO mail-wg0-f45.google.com) (74.125.82.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:10:15 +0000
Received: by mail-wg0-f45.google.com with SMTP id dq12so1447263wgb.0
        for <users@tomcat.apache.org>; Fri, 14 Dec 2012 08:09:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=x-received:message-id:date:from:organization:user-agent
         :mime-version:to:subject:references:in-reply-to:x-enigmail-version
         :openpgp:content-type;
        bh=FLGABMzN703bZ2/rGQ+bXCJMd44xzr1W/FwrwGkQqz4=;
        b=BaGQJNUj9OrI3fSbriFBdfKVrDFfVteZdsZ2G4zJ3+rys50WxLk2mGFAhOVl61JxZp
         vAyE3i8DUfcIHGk0U2k9WfEfsmKxcmze5Ps1++SjcWMO7dGCT23KfLLS/EIVK9cjkjjE
         FXYsPP9JgkYkiIcVmhQwb5bvUcezar7dj96ZI=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=x-received:message-id:date:from:organization:user-agent
         :mime-version:to:subject:references:in-reply-to:x-enigmail-version
         :openpgp:content-type:x-gm-message-state;
        bh=FLGABMzN703bZ2/rGQ+bXCJMd44xzr1W/FwrwGkQqz4=;
        b=eRtgX/KP7z/GsXPsELKCJfjFLu+ioZC9VQpNO+A86r+dTn4abVXoL3cn8CeSAm8C7i
         o/VXPYgFETe9vThDttzCfQmMMvrxhu3ZG7jmER6ZKoLVKE7wKPlZZOrdJu+iHM2xkSlI
         3qmOAIIa9CY1YD3uyG4/AArm/tIn1rUd4ufqRFYfA3gwd+OLyp9vi9DBZmY13k96BQsl
         PEW0ZXeufmjMP57LQHrDSjCXWqJgN2hLphCTsJ2BLLU8DCpfMUSRxK5PKRs31d+C/Mw9
         iXPU6JOw55pDWaiKIoMTpSAzZ0MxJ7TEXIgO4GPf6oZOXEYg+tDip+T3191uqmak0Evt
         hB1w==
X-Received: by 10.180.107.130 with SMTP id hc2mr3547241wib.12.1355501393113;
        Fri, 14 Dec 2012 08:09:53 -0800 (PST)
Received: from sw-vmw-mbp.local (82-70-73-254.dsl.in-addr.zen.co.uk. [82.70.73.254])
        by mx.google.com with ESMTPS id bd7sm8272582wib.8.2012.12.14.08.09.50
        (version=SSLv3 cipher=OTHER);
        Fri, 14 Dec 2012 08:09:51 -0800 (PST)
Message-ID: <50CB4F66.8040400@pidster.com>
Date: Fri, 14 Dec 2012 16:10:14 +0000
From: Pid <pid@pidster.com>
Organization: Pidster Inc
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 - http client
References: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in>
In-Reply-To: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in>
X-Enigmail-Version: 1.4.6
OpenPGP: id=62590808
Content-Type: multipart/signed; micalg=pgp-sha512;
 protocol="application/pgp-signature";
 boundary="------------enigAA7067996DFE3C1181A9A4B9"
X-Gm-Message-State: ALoCoQkHAuzfAjJ1mp9Otnygns0N/fc5VY5MHBhzGwB8m15vqpNq20X+7QtORzqIcrOvDGyuYNqd
X-Virus-Checked: Checked by ClamAV on apache.org

--------------enigAA7067996DFE3C1181A9A4B9
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

On 14/12/2012 11:03, vicky007aggarwal@yahoo.co.in wrote:
> Hello Guys,
>=20
> I am facing response latency issue when i am invoking the web service c=
all ( deployed  on tomcat 6.x) from an http client.
>=20
> Can some body please share /let me know what are recommended configurat=
ion settings which i need to take care of at the http client & at the tom=
cat level.
> I guess that is the issue.

Maybe your webservice is just really slow?


p

> Secondly, which tomcat threads i need to monitor, as in threads dumps i=
 am seeing different types of threads like http ,TP,scheduler etc. it wil=
l be great if you guys can suggest how to analyze these thread dumps
>=20
> Thanks
> Vicky
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


--=20

[key:62590808]


--------------enigAA7067996DFE3C1181A9A4B9
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="signature.asc"

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.18 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBCgAGBQJQy09qAAoJEGoM2OGpOvr9+EUP/jJIZODNGXMCrIMWBz7nc3oV
+NSfGGAAtIIYbFP96o/uWAq/pKgOwdnM35yJCT4y2OrMF/s+oG3gjpktO5yZ+sXk
1M3ALifF1J58mDiDjAXH6Le+00ZMTPWEIjRgfAVvVn/ccdv2gMsF2jqTckVXR5kS
e5uI5gDPcubxpZpi21Jp0iL5nJQcbshoV82zqrMaL1lSAUIBMxOv9t6P4ccKXFua
N2YyDB3ddduQ6nOtLP8aQCZToHqs/DG4V7mNIxGns1M6pT2miVeKgNKUsJig7yb/
DkJR44eB5JHbFS6nhqf5V2K2U+npoVEH182XvuGMA2AR9jaJb+lKStUzrygicloZ
o/wAqKuIIRhmYFrxqy+rEoquCyHGUENOKP22pfVGrJMb/8GoqAog/BKJzK/qv9jZ
5iYQ1OydX+ct9rsM/ojiyn6JQhW8WNFLCCe1m3z/JlZdRwIl4gY8WQC5O/wKyDE3
6ukdu1ex6XuT0oab2dSPkDoUWGupon+aGRSMko/TZO8d9jxEYC13HoPXctujaumt
qVk0/MPGGovbajHyZRM6zpwFurkFNC7es8xBiff0DyZnbx7UE0dfFt/IeeeJNsb3
hg9cha5iUsHKv1J0zSpdu2RYOGNaZ29ciGYYOOH6J4ZNCd8BJ5X1LnACr67B1c9V
z/VP/SB2KtTcg5osueDz
=9EMF
-----END PGP SIGNATURE-----

--------------enigAA7067996DFE3C1181A9A4B9--

From users-return-238618-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 16:29:50 2012
Return-Path: <users-return-238618-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54F5DDE99
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 16:29:50 +0000 (UTC)
Received: (qmail 25908 invoked by uid 500); 14 Dec 2012 16:29:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25760 invoked by uid 500); 14 Dec 2012 16:29:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25730 invoked by uid 99); 14 Dec 2012 16:29:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:29:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.243] (HELO qmta13.westchester.pa.mail.comcast.net) (76.96.59.243)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:29:38 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta13.westchester.pa.mail.comcast.net with comcast
	id bQkb1k0020Fqzac5DUVFsZ; Fri, 14 Dec 2012 16:29:15 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id bUVC1k00P38FjT13UUVEXd; Fri, 14 Dec 2012 16:29:14 +0000
Message-ID: <50CB53D4.9010609@christopherschultz.net>
Date: Fri, 14 Dec 2012 11:29:08 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0.35, PersistentManager with FileStore - Session file
 size increases endlessly
References: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com>
In-Reply-To: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355502555;
	bh=Yeozzwr65soeqBRXFfwpvVuhwbvCjIBVpndniOmZKuc=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=TdXeBPvUqJDOnALe3nA/sx+zIGO2XhYZNVpdiqoLCZZfPegW07KrNA/Zpu+BPSgNY
	 zOCYLn3VrJozuiNy6BgcBN/OM/Avp2YcBGvThuWjJvF3j9uCOVU6GLYdQHRHRjhZ4j
	 hvA125VhDhbKKaG0gkQgvXexpS4eFBl2kE88JRcPZQfkteiLhy0oE8P/imR3tm5pV4
	 5LBWbM8IWTvwAh/6BNUC3w7oxTC5F7mnAtWXb2jkyYNoUpp8UhbFu9ZLx/25X+CV+s
	 oZoDass0eB2+Nb9Tn+2cFQcR7sj3YaPKmwL4MnQpUIfHPgZBuEkjppZHB/HV4N74zw
	 9onbKEHjLjXsQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Nico,

On 12/13/12 4:29 AM, Nico Peters wrote:
> First, some information to our setup:

Manager configuration?

> We have recognized an unusually high number of disk operations on
> one of our servers and investigated the origin. We found out that
> there was one tomcat session file that grew already to 235GB and
> was increasing quickly (all other sessions on our server are less
> than 10KB). We then removed that session file, but it was recreated
> (starting from 0 bytes) and was again growing quickly. We then did
> a backup of that file and removed it again. After the second
> removal the session file didn't appear again. The server returned
> to normal operation.

Did the session file represent an actual session that Tomcat was still
maintaining? Did you inspect the HttpSession object to see if it
contained any large piece of data (like a String containing q~"q~#...)?

> I've investigated the session file and the file contained 3 lines.
> I was able to recognize the data of the first two lines (the
> default session parameters like lastAccessedTime as well as some
> POJOs we have added to that session). But the third line was
> endlessly repeating the following string:
> 
> q~"q~#q~'q~(

The same thing, over and over again, like
"q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(q~"q~#q~'q~(..."?

> And now my questions: Does anyone know what this string means?

Not I.

> How is it possible that a session can increase to this size (larger
> than the heap size of tomcat)?

Good question.

> Is it a known tomcat bug?

Not that I know of.

> Is it a known type of attack?

It seems like it might be an attack -- like someone trying to fill-up
your session (and heap) with junk. It could also have been some
component going absolutely crazy (JVM, filesystem, etc.).

> How can you prevent this problem?

We don't know what caused it.

If it happens again, please take a few thread dumps of the JVM that is
creating the file. That will help significantly.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLU9QACgkQ9CaO5/Lv0PAIFgCfZoWB+DeAPWy4XWXbLiNuuys/
6R0AoJzZdKKMUDQv5azyELTXwNSZZX9z
=WUsT
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238619-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 16:46:25 2012
Return-Path: <users-return-238619-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08713DEFD
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 16:46:25 +0000 (UTC)
Received: (qmail 78294 invoked by uid 500); 14 Dec 2012 16:46:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 78134 invoked by uid 500); 14 Dec 2012 16:46:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 78112 invoked by uid 99); 14 Dec 2012 16:46:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:46:21 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.17] (HELO qmta10.westchester.pa.mail.comcast.net) (76.96.62.17)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:46:14 +0000
Received: from omta03.westchester.pa.mail.comcast.net ([76.96.62.27])
	by qmta10.westchester.pa.mail.comcast.net with comcast
	id bUgA1k0010bG4ec5AUltxl; Fri, 14 Dec 2012 16:45:53 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta03.westchester.pa.mail.comcast.net with comcast
	id bUlq1k00T38FjT13PUltME; Fri, 14 Dec 2012 16:45:53 +0000
Message-ID: <50CB57B9.2060701@christopherschultz.net>
Date: Fri, 14 Dec 2012 11:45:45 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat uses only a single Core
References: <139F8039C4424E308B086371F836FD14@msrvcn04>
In-Reply-To: <139F8039C4424E308B086371F836FD14@msrvcn04>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355503553;
	bh=zFMnX/ow+ovgItgx79fgFA1dB5XRGcpXtwZB1BdzUgw=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=i3vBXcfD00XXtk+0gJM09aQqWtCz/CjBDe0iyqQUWiafSWi4q3+R06269LX5AdU3E
	 2WUcsKqlczU+sOJ/++l5GRXsNuzlSi82wOC9lmnA6MvcH4pUH172raEEOurqoe0fOD
	 6SQloRzynjm8mS2/J2s1hn7bTFHap52StbDFM2z2UXexnTUA9hdLqXO4yyfmxb5wwg
	 vsMjGJWPc6gnh5x9PBMJ8mUTHn9fAJGK2WdegQA/9M0mxzEb4t0Bdld/KViYgtC68I
	 +/AjZWvCFUQD5VuPiS1GLIgUfviEShZZ7xZdHoXcgckZj5p/d0wz5O5MI1EDhj3iGY
	 37R8rNmyip+tA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

To whom it may concern,

On 12/13/12 2:44 PM, spring@gmx.eu wrote:
> I have an application running on Tomcat 7 on a 8-Core Linux 64 bit
> System.
> 
> Unfortunately it uses only a single core. I have googled alot about
> this fact but did not found a solution, even not a clear reason for
> it.

How do you determine how many cores the JVM is using? What kind of
load are you putting on it? Are there any other cirumstances you
aren't describing (such as heavy load coming from anywhere else,
processor affinity, virtualization, etc.)?

> What can be the problem here?

Anything from instrumentation to configuration.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLV7kACgkQ9CaO5/Lv0PCtLACfYxQXn1HiE3no5FeWHRSewZ11
fYkAmwTX95Ucjg40Ev7SVZDZefqchzl9
=45s6
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238620-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 16:59:31 2012
Return-Path: <users-return-238620-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 21D31DF64
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 16:59:31 +0000 (UTC)
Received: (qmail 14877 invoked by uid 500); 14 Dec 2012 16:59:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 14710 invoked by uid 500); 14 Dec 2012 16:59:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14676 invoked by uid 99); 14 Dec 2012 16:59:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:59:26 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 16:59:19 +0000
Received: from omta04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id bR3o1k0070ldTLk53UyxJZ; Fri, 14 Dec 2012 16:58:57 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta04.westchester.pa.mail.comcast.net with comcast
	id bUyv1k00D38FjT13QUyxdt; Fri, 14 Dec 2012 16:58:57 +0000
Message-ID: <50CB5ACA.4020901@christopherschultz.net>
Date: Fri, 14 Dec 2012 11:58:50 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Data sources definitions are lost in memory
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com> <CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com> <CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com> <CAGrg8DW1aXPnpQMuKaeBSg8xO_HTcD5VfAdrmCME7LQLwvsZpg@mail.gmail.com>
In-Reply-To: <CAGrg8DW1aXPnpQMuKaeBSg8xO_HTcD5VfAdrmCME7LQLwvsZpg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355504337;
	bh=0pMSb3TCq6iZccWAYugarkNqP+hKCI5+bAsEiRYVvag=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=eK0f6MqUPpV1BqV3MBCwSGa7l5xJHU8RgPJ6QwEOX4KX2H/bv933H9+MvtQ1evXwy
	 pOrIi/v64vgnV56ffKUxwblw03jLiZSU5vU3xd3cujaxsVfzPOOdhGPk92RQNSy7hd
	 2jqq4k3REhpH1oQ2sH1SjX8zYa6Uh13FeWbk3/sUrzvy4PCiN+2o0AJC3+9JU0MnIE
	 nmohirEhncG9LciUHPKblMpgx3OkdIihttfwRbS+KgwoZ2PlF2ENDHMJnzK5gUjv/q
	 bNqr442RK6XiUQ54cK+geY31DE/AmquARLNaBYOjrmu+TsaHd29c+zygBzDxtnE7k2
	 ggEmXxFC/oZuw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Robert,

On 12/13/12 3:34 PM, Robert Anderson wrote:
> Caused by: java.lang.ClassNotFoundException: 
> com.sun.jndi.fscontext.RefFSContextFactory

In my Oracle 1.7.0 JRE's rt.jar, I can find a few JNDI ContextFactory
classes, but not this one. I looked in 1.6.0 but couldn't find that
class, either. I looked in other JARs but couldn't find anything
containing the "fscontext" package.

Are you using an alternative JNDI provider?

http://www.jarfinder.com/index.php/java/info/com.sun.jndi.fscontext.RefFSContextFactory

Looks like you may have some old stuff sitting around in your JRE
installation, or even in your webapp.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLWsoACgkQ9CaO5/Lv0PAXDACfXjUbGlPbzJJy5qhJDBxUfqUN
ljgAn0RZCDKnYkt51GIUfvtYzeMbwxAo
=sylS
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238621-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 17:03:29 2012
Return-Path: <users-return-238621-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 08C08DFA1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 17:03:29 +0000 (UTC)
Received: (qmail 37102 invoked by uid 500); 14 Dec 2012 17:03:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36975 invoked by uid 500); 14 Dec 2012 17:03:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36959 invoked by uid 99); 14 Dec 2012 17:03:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:03:25 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:03:19 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id bTz01k0040Fqzac51V2t6e; Fri, 14 Dec 2012 17:02:53 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id bV2q1k00h38FjT13UV2rq0; Fri, 14 Dec 2012 17:02:53 +0000
Message-ID: <50CB5BB5.9080909@christopherschultz.net>
Date: Fri, 14 Dec 2012 12:02:45 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
In-Reply-To: <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355504573;
	bh=3ckVmLoVPSfE7BBzLbVmniKutfrXvgjjDnHfbjFiBIM=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=jx1Dc+O1THRwmAjLJyUy/TItT617OC6q3hE08w3+TkaSEIcifiv05eWOpwomkKw93
	 DMiSWwW0P+hKtiVy77Ppg3+USbPQ+BynO4hawCuC3qrkoFEv9luZRioZlvcaE6ztDz
	 BL0i6Hpe8HtKF1M6hWlKO5s8/MrAfJCagX89hnFIsg6Sg2eG8Vg0NLmunxRII4cYsu
	 A14KJHj6EP1C+tsz6sdhXewM51fhN8d5wUAKcpCpQO378LEYeOmDGIHeQkGRKFpvkH
	 aYvGpk0gupaudgTTohd8++blxNrBN6S9oFdGJ4g9QxsovBHWi+HD2K6YjATrppBAhl
	 mjk76IjADbTQg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Mark,

On 12/13/12 10:27 AM, Mark Thomas wrote:
> 
> 
> Kai Weber <kai.weber@glorybox.de> wrote:
> 
>> I see the following behaviour on Tomcat 6.0.24:
>> 
>> The maxPostSize is not set, so uses the default of 2MB. I can
>> upload files bigger than 2MB (5MB for example). I use
>> commons-fileupload to read the file.
> 
> As expected.
> 
>> Does a file upload as multipart/form-data not count to the size
>> of the POST?
> 
> No, as the doc make clear.

I'm not so sure the docs make it clear. Here's what that attribute
currently says (in its entirety):

"
The maximum size in bytes of the POST which will be handled by the
container FORM URL parameter parsing. The limit can be disabled by
setting this attribute to a value less than or equal to 0. If not
specified, this attribute is set to 2097152 (2 megabytes).
"

It says "FORM URL parameter parsing". That may be some kind of code
that means "only when the type is application/x-www-form-urlencoded".
We could probably explicitly state that multipart requests are
excepted from this limit.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLW7UACgkQ9CaO5/Lv0PANRgCfUA69SHOZk5O87VlcoFz4LELt
lYQAoMH4B2tFFDnARGkRoB5BDR2GxfV1
=itOY
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238622-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 17:24:28 2012
Return-Path: <users-return-238622-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2CD80D25B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 17:24:28 +0000 (UTC)
Received: (qmail 1917 invoked by uid 500); 14 Dec 2012 17:24:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1870 invoked by uid 500); 14 Dec 2012 17:24:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1856 invoked by uid 99); 14 Dec 2012 17:24:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:24:24 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:24:17 +0000
Received: from omta24.westchester.pa.mail.comcast.net ([76.96.62.76])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id bNwS1k0061ei1Bg53VPwo4; Fri, 14 Dec 2012 17:23:56 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta24.westchester.pa.mail.comcast.net with comcast
	id bVPu1k00C38FjT13kVPviG; Fri, 14 Dec 2012 17:23:56 +0000
Message-ID: <50CB60A9.2000607@christopherschultz.net>
Date: Fri, 14 Dec 2012 12:23:53 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 - http client
References: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in> <50CB4F66.8040400@pidster.com>
In-Reply-To: <50CB4F66.8040400@pidster.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355505836;
	bh=/H5G8h/QK5NsDYx+LWjNOMF8PHeosqqmt/DiUJA5KAI=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=m7D79E3U+RTnNiOTJt6WPk8rmHywPfF7rBD/XxC88l5/2pKztWo2zSJ278/qcsM3G
	 9A537z926F5yW3zcddW86HJyefHGdrw/thQeReEDfQoqQVI3bDNfhdGJ86v1Fy5gyc
	 nzGjGkwRaCA+RYYRKMxRL9Doo4dnwt9gHZg/IdTZoQTWJDJBXP2LX/bR1pLyZazRE9
	 vEKPDemUFjDubhTXVV9Tjpk7nrqbaf4YKRl+S4o9gGtFuPE0p0G5c7mz2tAKepMbNx
	 of/Qnx/Q2hPaYioLn9zUtz7r6GaUCPsd6tJ+bptmv1kDX7Kkdx/cijKfHebi6Y/ME+
	 Yb+QGpKC1mUmA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Pid,

On 12/14/12 11:10 AM, Pid wrote:
> On 14/12/2012 11:03, vicky007aggarwal@yahoo.co.in wrote:
>> Hello Guys,
>> 
>> I am facing response latency issue when i am invoking the web
>> service call ( deployed  on tomcat 6.x) from an http client.
>> 
>> Can some body please share /let me know what are recommended
>> configuration settings which i need to take care of at the http
>> client & at the tomcat level. I guess that is the issue.
> 
> Maybe your webservice is just really slow?

+1

Usually, network latency can be separated from all other factors by
just using 'ping'.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLYKgACgkQ9CaO5/Lv0PDQ8ACfZShWQtiFRLOhuPjY/Gokw+HZ
xjcAn3H7K27XjqwTXs45iTZU2RTQWPVa
=scvf
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238623-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 17:33:43 2012
Return-Path: <users-return-238623-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D218BD262
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 17:33:43 +0000 (UTC)
Received: (qmail 27851 invoked by uid 500); 14 Dec 2012 17:33:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27662 invoked by uid 500); 14 Dec 2012 17:33:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27593 invoked by uid 99); 14 Dec 2012 17:33:38 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:33:38 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ranomail@gmail.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:33:33 +0000
Received: by mail-wg0-f41.google.com with SMTP id ds1so530118wgb.0
        for <users@tomcat.apache.org>; Fri, 14 Dec 2012 09:33:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=8AWxtckYcvkTqU8I3idP9SVeDtlJ2/aJEIHoH/R1IR4=;
        b=CCQOMhoz/ITNJtUA1R+7Q6O3IFCyt9PXfPf2mvlhb3j/O2hzcLyiMdGQ4P/OigyZF8
         veD66qI9ETylgRZ822BuaHccBvUr1Lb/zBcRpHTpnNUbyl2kGyYg6rRA8iDfjK0Tt2Dw
         AH4GCGBFML62KTSz2a6qi3Nc2Kd+mTPqgu2/q8/8h7RZyX9cUYtZL/fs1ZQOsKg8uuNO
         FzqOBF0+MJU89igiMe6Uwo6DEL8IgvP4twTOpvCvIfZ3boN4uITuOulzjOodRkCagZiR
         NsavCrZ1Oae7abaeKGEDd6Btfc9Xmh1KyQOwzPWIZ2NecbHu3Lz0APRi5GvPkt/5XaGr
         QCwg==
MIME-Version: 1.0
Received: by 10.180.20.177 with SMTP id o17mr3960332wie.18.1355506392371; Fri,
 14 Dec 2012 09:33:12 -0800 (PST)
Received: by 10.180.146.137 with HTTP; Fri, 14 Dec 2012 09:33:12 -0800 (PST)
In-Reply-To: <50CB5ACA.4020901@christopherschultz.net>
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
	<CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
	<CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com>
	<CAGrg8DW1aXPnpQMuKaeBSg8xO_HTcD5VfAdrmCME7LQLwvsZpg@mail.gmail.com>
	<50CB5ACA.4020901@christopherschultz.net>
Date: Fri, 14 Dec 2012 14:33:12 -0300
Message-ID: <CAGrg8DWAvBULL6Cf2b4sVaHez=1dKD1zfXAsyCoQgJyrH2g1kg@mail.gmail.com>
Subject: Re: Data sources definitions are lost in memory
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec53d5b4b02127104d0d36d31
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec53d5b4b02127104d0d36d31
Content-Type: text/plain; charset=ISO-8859-1

Hi Christopher,

I'm suspecting that some webapp is causing this problem, because nothing
has changed neither in JVM nor Tomcat (I'm a sysadmin in this company). We
will investigate each application looking for suspects JARs (Developers
have access to webapp directory and can deploy applications without the
intervention of sysadmins :( ).

It's a powerfull and bad jar! It makes two tomcats (load balanced) lose all
data sources definitions and we need restart them. The strange thing is
that most of the time everything works normal.


Thanks,

Robert


On Fri, Dec 14, 2012 at 1:58 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Robert,
>
> On 12/13/12 3:34 PM, Robert Anderson wrote:
> > Caused by: java.lang.ClassNotFoundException:
> > com.sun.jndi.fscontext.RefFSContextFactory
>
> In my Oracle 1.7.0 JRE's rt.jar, I can find a few JNDI ContextFactory
> classes, but not this one. I looked in 1.6.0 but couldn't find that
> class, either. I looked in other JARs but couldn't find anything
> containing the "fscontext" package.
>
> Are you using an alternative JNDI provider?
>
>
> http://www.jarfinder.com/index.php/java/info/com.sun.jndi.fscontext.RefFSContextFactory
>
> Looks like you may have some old stuff sitting around in your JRE
> installation, or even in your webapp.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDLWsoACgkQ9CaO5/Lv0PAXDACfXjUbGlPbzJJy5qhJDBxUfqUN
> ljgAn0RZCDKnYkt51GIUfvtYzeMbwxAo
> =sylS
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec53d5b4b02127104d0d36d31--

From users-return-238624-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 17:38:54 2012
Return-Path: <users-return-238624-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FCF1D28D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 17:38:54 +0000 (UTC)
Received: (qmail 45653 invoked by uid 500); 14 Dec 2012 17:38:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44793 invoked by uid 500); 14 Dec 2012 17:38:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44765 invoked by uid 99); 14 Dec 2012 17:38:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:38:48 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.241.196 as permitted sender)
Received: from [216.82.241.196] (HELO mail46.messagelabs.com) (216.82.241.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:38:41 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-10.tower-46.messagelabs.com!1355506698!29693369!2
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 14563 invoked from network); 14 Dec 2012 17:38:19 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-10.tower-46.messagelabs.com with RC4-SHA encrypted SMTP; 14 Dec 2012 17:38:19 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Fri, 14 Dec 2012 11:38:18 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Fri, 14 Dec
 2012 11:38:17 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 14 Dec 2012 11:38:33 -0600
Subject: RE: Does maxPostSize has an effect on file upload?
Thread-Topic: Does maxPostSize has an effect on file upload?
Thread-Index: Ac3aHPE80JQxxuWtTxOHB1cvu572UAABI7MA
Message-ID: <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
 <50CB5BB5.9080909@christopherschultz.net>
In-Reply-To: <50CB5BB5.9080909@christopherschultz.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Christopher Schultz [mailto:chris@christopherschultz.net]=20
> Subject: Re: Does maxPostSize has an effect on file upload?

> > > Does a file upload as multipart/form-data not count to the size
> > > of the POST?

> > No, as the doc make clear.

> I'm not so sure the docs make it clear.

I think you have to read the relevant RFC:
    http://www.ietf.org/rfc/rfc1867.txt
which is implicitly part of the doc.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.

=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238625-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 17:42:29 2012
Return-Path: <users-return-238625-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF225D2B1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 17:42:28 +0000 (UTC)
Received: (qmail 59214 invoked by uid 500); 14 Dec 2012 17:42:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59169 invoked by uid 500); 14 Dec 2012 17:42:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59159 invoked by uid 99); 14 Dec 2012 17:42:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:42:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hassan.schroeder@gmail.com designates 209.85.216.52 as permitted sender)
Received: from [209.85.216.52] (HELO mail-qa0-f52.google.com) (209.85.216.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 17:42:21 +0000
Received: by mail-qa0-f52.google.com with SMTP id d13so922681qak.18
        for <users@tomcat.apache.org>; Fri, 14 Dec 2012 09:42:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=6yVkw2s80S6jCDO7XARQTtDzFMnf27OSSPlZNvEffGk=;
        b=ITznvreHLBnUX1AG59WtINHLiOuQGJJhpyVpPNAjeaVKXp7Gb1kx/UbOT1Me+D4/PG
         vWYWncjd1gXcTY6KnZfyqXr/AAVCCuxMVWOF6ITloAcTcb7FHx/22R09jLggmr95G5Jr
         4UuH1Q7lKdA7fzXyZNd/pcH3KzUepf1echgptNi3wEm0OHs0fgLJYRcutNI4FdfgaTaw
         5t4PDk3fonQU1I0SzfHQYNwv8+fbQNXBxX7DbgIK0TXGW96nzEJBmiqra9I+i6KccOXB
         9rDP89WcIHIW0IZW/P+H1DLMeh4/+e/HkwvIc+4IpvoNjMJ7a93vwp/H4O07uDIXhTeL
         ocWw==
MIME-Version: 1.0
Received: by 10.49.71.178 with SMTP id w18mr3358923qeu.11.1355506920432; Fri,
 14 Dec 2012 09:42:00 -0800 (PST)
Received: by 10.49.41.68 with HTTP; Fri, 14 Dec 2012 09:42:00 -0800 (PST)
In-Reply-To: <50CB60A9.2000607@christopherschultz.net>
References: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in>
	<50CB4F66.8040400@pidster.com>
	<50CB60A9.2000607@christopherschultz.net>
Date: Fri, 14 Dec 2012 09:42:00 -0800
Message-ID: <CACmC4yB00XWMZD1bb1jnK4upARVHrZw8DrrDOpQtORza-Pjw5w@mail.gmail.com>
Subject: Re: Tomcat 6.0 - http client
From: Hassan Schroeder <hassan.schroeder@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Dec 14, 2012 at 9:23 AM, Christopher Schultz
<chris@christopherschultz.net> wrote:

>>> I am facing response latency issue when i am invoking the web
>>> service call ( deployed  on tomcat 6.x) from an http client.

>> Maybe your webservice is just really slow?

> Usually, network latency can be separated from all other factors by
> just using 'ping'.

But "response" latency is not necessarily (or even usually) related
to network latency :-)

May I suggest NewRelic (http://newrelic.com/) for analyzing your
application to find out where the time is being taken up?

Disclaimer: just a satisfied customer.
-- 
Hassan Schroeder ------------------------ hassan.schroeder@gmail.com
http://about.me/hassanschroeder
twitter: @hassan

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238626-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 18:07:58 2012
Return-Path: <users-return-238626-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D6110D3F2
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 18:07:58 +0000 (UTC)
Received: (qmail 50474 invoked by uid 500); 14 Dec 2012 18:07:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50407 invoked by uid 500); 14 Dec 2012 18:07:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50397 invoked by uid 99); 14 Dec 2012 18:07:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 18:07:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 74.125.82.173 as permitted sender)
Received: from [74.125.82.173] (HELO mail-we0-f173.google.com) (74.125.82.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 18:07:49 +0000
Received: by mail-we0-f173.google.com with SMTP id z2so1644878wey.18
        for <users@tomcat.apache.org>; Fri, 14 Dec 2012 10:07:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=2YqJMRZe+qaZ7wDWHldDvdXqJyVzAiu4watmVV75yCA=;
        b=z6ksorA6ocpSIA9HibRWGsmaP4vKr8M5LCHefdUXy74vfzVqYEZ0dE5ngEqU5wnAhG
         s+TDh8RiFPVo5QwXjfRsmW9X9NgpVdX+a78rwvTurNngOsexMpHHxoeO5e8M4pkzEFGc
         E3cWRzOQiu6faW75GUB0B8i1buHPdHyYTTWl/gbXx9xxhl5IaVkYTwwJJBOLbiDSoXe+
         9scDRzz7HqKGj8bsAszajl9gj1YuFjEeWCATILfOa0KnzAP63xrNw1IrlcvI5RKrZcAJ
         FXxTO0cK4djNoOgC7zlnlA6tII3wsCTlJ6T3mcNik/3N9iv46ujKhJafgpHiGc7D7n3s
         MyYA==
MIME-Version: 1.0
Received: by 10.194.9.162 with SMTP id a2mr5011325wjb.33.1355508448937; Fri,
 14 Dec 2012 10:07:28 -0800 (PST)
Received: by 10.180.146.137 with HTTP; Fri, 14 Dec 2012 10:07:28 -0800 (PST)
In-Reply-To: <CAGrg8DWAvBULL6Cf2b4sVaHez=1dKD1zfXAsyCoQgJyrH2g1kg@mail.gmail.com>
References: <CAGrg8DW9Q4CCBDT0qt6X1RzqcjBtALnHd2N99oaagv6gPSm=iA@mail.gmail.com>
	<CABzHfV=xKwJWvNAXbT_3bCNHOccsiY36w6d4-wk3jtnL1UZgrQ@mail.gmail.com>
	<CAGrg8DVFVQaoneLvWFhK8aeujt37jN_HCQZfHvuv=hGHdSeRbQ@mail.gmail.com>
	<CAGrg8DW1aXPnpQMuKaeBSg8xO_HTcD5VfAdrmCME7LQLwvsZpg@mail.gmail.com>
	<50CB5ACA.4020901@christopherschultz.net>
	<CAGrg8DWAvBULL6Cf2b4sVaHez=1dKD1zfXAsyCoQgJyrH2g1kg@mail.gmail.com>
Date: Fri, 14 Dec 2012 15:07:28 -0300
Message-ID: <CAGrg8DVvXrPUUcDqG=kipEJZm06T-=rAsK7H5dN=nxfwWUceog@mail.gmail.com>
Subject: Re: Data sources definitions are lost in memory
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b5d9cb396c7f704d0d3e777
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b5d9cb396c7f704d0d3e777
Content-Type: text/plain; charset=ISO-8859-1

Hi,

We've found a suspect application:

[root@tomcat3 webapps]# locate fscontext.jar
/usr/java/tomcat/webapps/ebookapp/WEB-INF/lib/fscontext.jar
[root@tomcat3 lib]# jar
-tf /usr/java/tomcat/webapps/ebookapp/WEB-INF/lib/fscontext.jar
META-INF/
META-INF/MANIFEST.MF
com/sun/jndi/fscontext/
com/sun/jndi/fscontext/RefFSContextFactory.class
com/sun/jndi/fscontext/FSContext.class
com/sun/jndi/fscontext/FSContext$FSFile.class
com/sun/jndi/fscontext/FSContext$FileBindingEnumeration.class
com/sun/jndi/fscontext/FSNameParser.class
com/sun/jndi/fscontext/FileNameClassEnumeration.class
com/sun/jndi/fscontext/FSContextFactory.class
com/sun/jndi/fscontext/RefFSContext.class
com/sun/jndi/fscontext/RefFSContext$ObjectBindingEnumeration.class
com/sun/jndi/fscontext/ObjectNameClassEnumeration.class
com/sun/jndi/fscontext/AggregateNamingEnumeration.class
com/sun/jndi/url/file/
com/sun/jndi/url/file/fileURLContext.class
com/sun/jndi/url/file/fileURLContextFactory.class


It's a third party application. Now we need to get in touch with suppliers.

Best regards,

Robert

On Fri, Dec 14, 2012 at 2:33 PM, Robert Anderson <ranomail@gmail.com> wrote:

> Hi Christopher,
>
> I'm suspecting that some webapp is causing this problem, because nothing
> has changed neither in JVM nor Tomcat (I'm a sysadmin in this company). We
> will investigate each application looking for suspects JARs (Developers
> have access to webapp directory and can deploy applications without the
> intervention of sysadmins :( ).
>
> It's a powerfull and bad jar! It makes two tomcats (load balanced) lose
> all data sources definitions and we need restart them. The strange thing is
> that most of the time everything works normal.
>
>
> Thanks,
>
> Robert
>
>
> On Fri, Dec 14, 2012 at 1:58 PM, Christopher Schultz <
> chris@christopherschultz.net> wrote:
>
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA256
>>
>> Robert,
>>
>> On 12/13/12 3:34 PM, Robert Anderson wrote:
>> > Caused by: java.lang.ClassNotFoundException:
>> > com.sun.jndi.fscontext.RefFSContextFactory
>>
>> In my Oracle 1.7.0 JRE's rt.jar, I can find a few JNDI ContextFactory
>> classes, but not this one. I looked in 1.6.0 but couldn't find that
>> class, either. I looked in other JARs but couldn't find anything
>> containing the "fscontext" package.
>>
>> Are you using an alternative JNDI provider?
>>
>>
>> http://www.jarfinder.com/index.php/java/info/com.sun.jndi.fscontext.RefFSContextFactory
>>
>> Looks like you may have some old stuff sitting around in your JRE
>> installation, or even in your webapp.
>>
>> - -chris
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
>> Comment: GPGTools - http://gpgtools.org
>> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>>
>> iEYEAREIAAYFAlDLWsoACgkQ9CaO5/Lv0PAXDACfXjUbGlPbzJJy5qhJDBxUfqUN
>> ljgAn0RZCDKnYkt51GIUfvtYzeMbwxAo
>> =sylS
>> -----END PGP SIGNATURE-----
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--047d7b5d9cb396c7f704d0d3e777--

From users-return-238627-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 18:50:19 2012
Return-Path: <users-return-238627-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1BB54E387
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 18:50:19 +0000 (UTC)
Received: (qmail 1470 invoked by uid 500); 14 Dec 2012 18:50:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1413 invoked by uid 500); 14 Dec 2012 18:50:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1404 invoked by uid 99); 14 Dec 2012 18:50:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 18:50:15 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 18:50:09 +0000
Received: from omta09.westchester.pa.mail.comcast.net ([76.96.62.20])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id bNzr1k0010SCNGk51WpoYP; Fri, 14 Dec 2012 18:49:48 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta09.westchester.pa.mail.comcast.net with comcast
	id bWpl1k00o38FjT13VWpomz; Fri, 14 Dec 2012 18:49:48 +0000
Message-ID: <50CB74C7.5080900@christopherschultz.net>
Date: Fri, 14 Dec 2012 13:49:43 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355510988;
	bh=isSsXQrRgHHpHKkj21AUngb0ie4V8ilHNG+K602C03U=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=gfRYi/1pCe6GqfQs2NIMbdW3PXbUCc+sXqAbm15Sa1NNCDfN8hpXzX9E0VRg80LkJ
	 okvZkGAHe8laCMfCalJaorP6McJg0fnabuguogBcNrtZcIPlxbpbPqqOREGdijEAyz
	 uBk0zyn5DOmV+rjdO8+WHjusN/SblNTHxyr0VFAqSUoDvcZ6Syw5Xt6DcZCO7Q5s7F
	 eP85LlPNPmrVE0naL4PY2N8IAdaFxRnXe9LnE3DRPQrWN9t8kLFD3B5UWEIMkvl76j
	 PGYLGX0uiHukfPQ7finnCDuQQN7hnHmDXdCj45aCKTrWdo57TAsQHzGfGd6ZEg5Ox1
	 Su99zYJLTtwaA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Chuck,

On 12/14/12 12:38 PM, Caldarale, Charles R wrote:
>> From: Christopher Schultz [mailto:chris@christopherschultz.net] 
>> Subject: Re: Does maxPostSize has an effect on file upload?
> 
>>>> Does a file upload as multipart/form-data not count to the
>>>> size of the POST?
> 
>>> No, as the doc make clear.
> 
>> I'm not so sure the docs make it clear.
> 
> I think you have to read the relevant RFC: 
> http://www.ietf.org/rfc/rfc1867.txt which is implicitly part of the
> doc.

I'm not sure what part of that spec would apply.

Given the (Tomcat) documentation, one might reasonably believe that
the maxPostSize would refer to either the total Content-Length for an
application/x-www-form-urlencoded POST message or an individual
Content-Length of a single part of a multipart/form-data POST message.

The latter is not the case, and I think it's worth pointing that out.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDLdMcACgkQ9CaO5/Lv0PCkPwCghEQ2KYNPSCV+buGj/VtDvmme
e/cAoJ3ci461Q4xD992azyLQi8FxRAym
=+GMt
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238628-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 19:13:13 2012
Return-Path: <users-return-238628-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 949EAE426
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 19:13:13 +0000 (UTC)
Received: (qmail 58227 invoked by uid 500); 14 Dec 2012 19:13:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 57999 invoked by uid 500); 14 Dec 2012 19:13:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57990 invoked by uid 99); 14 Dec 2012 19:13:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:13:10 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [106.10.151.228] (HELO nm33-vm5.bullet.mail.sg3.yahoo.com) (106.10.151.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:13:04 +0000
Received: from [106.10.166.117] by nm33.bullet.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 19:12:40 -0000
Received: from [106.10.150.25] by tm6.bullet.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 19:12:40 -0000
Received: from [127.0.0.1] by omp1026.mail.sg3.yahoo.com with NNFMP; 14 Dec 2012 19:12:40 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 872799.85338.bm@omp1026.mail.sg3.yahoo.com
Received: (qmail 91404 invoked by uid 60001); 14 Dec 2012 19:12:40 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355512360; bh=ZceY0bY65zXCh3vuNV5wfEr8/a8dHFy9Kh84l/usIxQ=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=cHGx1gICOQmr8eYHO77AvHE3Or15zt44uqKNMpwOuU/AL5QfCUB+m6yBYZ0JSqUAL7tbRkpit+wZuPZN4AxDbOn+keaK9hrossvw9m06RvEYujczLFa4LdXAYb9phYuBOsWXHa8Vmb1iP1zhXOrCoGBPlynqaGXpTpSrEIbKlcI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=I1NoXRGRRqWwXKrelwY29yypLK55nSZDJfVFzYsL6LAF+dq13TuwKnTzxbbk0Y3Q4oondLYSmmsel8E5ue+IIMYoFmDHStsSEnm8IcXC7NEBY3POTmcuTlK9Q0iZDrZSmNO6+sTvl/+lWeIWxGcV+8kzJipAXo8tiVEyoygRaxE=;
X-YMail-OSG: 2QwXrV8VM1lAq7MNUzcEvMfJsbI8pw.OoZ9tZiJ.Wmyxe7Z
 huCW3e52KffvhAnexZuAV2vIQBy_sfOkHXRyyUlYHz5zufHs3CMIvM6Hre9K
 YpypvG.abY6uIZnj8V_YrFgdneQWqKKHI_PXDxWqpGKsVOyNf4boETP7RdLc
 VE5RtEbDwa1M.5c1PFtEHW67KrGPsTugifKKuVxzRcT4izN.vLHHYYsXKmU_
 5IqN24KNdtS0NrxxjlUTb9fBTpirJ7TMLwpqG10.cwqD02ptT2buXw35Irut
 0k3qlyIzA7qKLDIw6RVqCCRkVA3O8fkZKyBBlQliQdjcjPqFaxOa7bSEteOX
 qgwgShb3jEJ1Nc9EZP1WvtEV7GN.UTvAeLZ3Gep8CE6bUg9ZE8Ukv9MS8Vic
 _khWLHm.DBwDZa4tdvO8azDxyokRDuAOROAKhHR7xTkbapp9qU9mHFS5oyVo
 rZJ5q55yUWOfMO_UZmtleCkVIuC.pt7Y.R8lx9feFtErgPGOyc2LQNaxW_zd
 e6DpM0U3Q7D6pCHJFXw.5lb69f36740wj2JDkEKuszCUgU5u796Oki0nPWXe
 wU9z18H6b5tOY9HMN1a3fHBmGMZ3oNlfrK535fFTcUSACJ.9FHnKp
Received: from [180.151.36.169] by web193103.mail.sg3.yahoo.com via HTTP; Sat, 15 Dec 2012 03:12:40 SGT
X-Rocket-MIMEInfo: 001.001,VGhhbmtzIGd1eXMgZm9yIHJlc3BvbmRpbmcsIGZyb20gbmV0d29yayBzaWRlIHRoZXJlIGFyZSBubyBpc3N1ZXMgaW5mYWN0IGFzIGNvbmZpcm1lZCBieSBvdXIgTmV0d29yayB0ZWFtCsKgCkkgYW0gYWNjZXNzaW5nIG15IGFwcGxpY2F0aW9uIG92ZXIgaHR0cCBwb3J0LCBpIHNlZWsgeW91ciBhZHZpc2Ugb24gdHVubmluZyBteSBodHRwIGNsaWVudCB3aXRoIHJlc3BlY3QgdG8gbXkgdG9tY2F0CsKgCjE.PldlJ3JlIHVzaW5nIE11bHRpVGhyZWFkZWRIdHRwQ29ubmVjdGlvbk1hbmFnZXIsIEluIHRoaXMgZG8BMAEBAQE-
X-Mailer: YahooMailWebService/0.8.128.478
References: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in> <50CB4F66.8040400@pidster.com> <50CB60A9.2000607@christopherschultz.net> <CACmC4yB00XWMZD1bb1jnK4upARVHrZw8DrrDOpQtORza-Pjw5w@mail.gmail.com>
Message-ID: <1355512360.86524.YahooMailNeo@web193103.mail.sg3.yahoo.com>
Date: Sat, 15 Dec 2012 03:12:40 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Tomcat 6.0 - http client
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CACmC4yB00XWMZD1bb1jnK4upARVHrZw8DrrDOpQtORza-Pjw5w@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-814770868-220791962-1355512360=:86524"
X-Virus-Checked: Checked by ClamAV on apache.org

---814770868-220791962-1355512360=:86524
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks guys for responding, from network side there are no issues infact as=
 confirmed by our Network team=0A=A0=0AI am accessing my application over h=
ttp port, i seek your advise on tunning my http client with respect to my t=
omcat=0A=A0=0A1>>We're using MultiThreadedHttpConnectionManager, In this do=
 you guys have any recommendation/best practices=A0for setting up the =0Apa=
rameters like maxHostConnections, maxTotalConnections,connection timeout w.=
r.t tomcat=0A=A0=0ATo narrow down response time issue , i took couple of th=
read dumps ,related to it i have following concerns=0AI am getting hard tim=
e in making sense out of thread dumps , please=A0 shed some light on my bel=
ow queries=A0,=A0Any weblink will=A0be a great help=A0:-=0A=A0=0A2>> There =
were many http threads were in waiting state, is it bad ??=0A=A0=0A3>> In t=
hread dumps there are many types of thread like http ,TP,scheduler etc=0A=
=A0=A0=A0=A0=A0=A0=A0=A0a) when request is received by tomcat which type of=
 thread will handle the request. ??=0A=A0=A0=A0=A0=A0=A0=A0=A0 b) does=A0th=
ere is a different thread type in case we're forwarding a request from apac=
he to Tomcat over AJP port ?? =A0 =0A=A0=A0=A0=A0=A0=A0=A0=A0 c) In case if=
 slow response respone from an application , what ideally we should look in=
 thread dumps??.Does=0A=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0=A0 we should focus=
 on the no. of=A0 HTTP idle threads or scheduler threads or something else.=
 ??=0A=A0=A0=A0=A0=A0=A0=A0=0AThanks for your help & Time =0AVicky=0A=0A=A0=
=A0=A0=A0=A0=A0=A0=A0 =0A=0A________________________________=0A From: Hassa=
n Schroeder <hassan.schroeder@gmail.com>=0ATo: Tomcat Users List <users@tom=
cat.apache.org> =0ASent: Friday, 14 December 2012 11:12 PM=0ASubject: Re: T=
omcat 6.0 - http client=0A  =0AOn Fri, Dec 14, 2012 at 9:23 AM, Christopher=
 Schultz=0A<chris@christopherschultz.net> wrote:=0A=0A>>> I am facing respo=
nse latency issue when i am invoking the web=0A>>> service call ( deployed=
=A0 on tomcat 6.x) from an http client.=0A=0A>> Maybe your webservice is ju=
st really slow?=0A=0A> Usually, network latency can be separated from all o=
ther factors by=0A> just using 'ping'.=0A=0ABut "response" latency is not n=
ecessarily (or even usually) related=0Ato network latency :-)=0A=0AMay I su=
ggest NewRelic (http://newrelic.com/) for analyzing your=0Aapplication to f=
ind out where the time is being taken up?=0A=0ADisclaimer: just a satisfied=
 customer.=0A-- =0AHassan Schroeder ------------------------ hassan.schroed=
er@gmail.com=0Ahttp://about.me/hassanschroeder=0Atwitter: @hassan=0A=0A----=
-----------------------------------------------------------------=0ATo unsu=
bscribe, e-mail: users-unsubscribe@tomcat.apache.org=0AFor additional comma=
nds, e-mail: users-help@tomcat.apache.org
---814770868-220791962-1355512360=:86524--

From users-return-238629-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 19:16:05 2012
Return-Path: <users-return-238629-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 39CEFE431
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 19:16:05 +0000 (UTC)
Received: (qmail 66850 invoked by uid 500); 14 Dec 2012 19:16:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66788 invoked by uid 500); 14 Dec 2012 19:16:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66779 invoked by uid 99); 14 Dec 2012 19:16:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:16:01 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:15:54 +0000
Received: from [192.168.245.129] (p549E1136.dip0.t-ipconnect.de [84.158.17.54])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 79F283C1543
	for <users@tomcat.apache.org>; Fri, 14 Dec 2012 20:16:28 +0100 (CET)
Message-ID: <50CB7ACE.3070101@ice-sa.com>
Date: Fri, 14 Dec 2012 20:15:26 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net>
In-Reply-To: <50CB74C7.5080900@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Christopher Schultz wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> Chuck,
> 
> On 12/14/12 12:38 PM, Caldarale, Charles R wrote:
>>> From: Christopher Schultz [mailto:chris@christopherschultz.net] 
>>> Subject: Re: Does maxPostSize has an effect on file upload?
>>>>> Does a file upload as multipart/form-data not count to the
>>>>> size of the POST?
>>>> No, as the doc make clear.
>>> I'm not so sure the docs make it clear.
>> I think you have to read the relevant RFC: 
>> http://www.ietf.org/rfc/rfc1867.txt which is implicitly part of the
>> doc.
> 
> I'm not sure what part of that spec would apply.
> 
> Given the (Tomcat) documentation, one might reasonably believe that
> the maxPostSize would refer to either the total Content-Length for an
> application/x-www-form-urlencoded POST message or an individual
> Content-Length of a single part of a multipart/form-data POST message.
> 
> The latter is not the case, and I think it's worth pointing that out.
> 

Just a suggestion : maybe one of the Tomcat/Java gurus here could first explain to what 
the maxPostSize attribute of the Connector really does relate ?
What /is/ being measured there ?
Is it, like, just the request's "Content-length" header, or is there a counter which 
really counts the bytes being read e.g.
(and yes, obviously, if this is limited to an "application/x-www-form-urlencoded" POST, 
then it wouldn't be just the Content-length header)
(and, if it covers a "multipart/form-data" POST, then is it the total body size, before of 
after decoding the Base-64 encoded bits ?)
After all, this is a "Tomcat users" list, not a "Tomcat dev" list; so we can't really 
expect the public here to go delve into the Java code to find out.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238630-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 19:59:32 2012
Return-Path: <users-return-238630-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 09EF4D49B
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 19:59:32 +0000 (UTC)
Received: (qmail 98559 invoked by uid 500); 14 Dec 2012 19:59:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 98488 invoked by uid 500); 14 Dec 2012 19:59:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 98479 invoked by uid 99); 14 Dec 2012 19:59:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:59:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nicholas.williams@ul.com designates 216.32.181.184 as permitted sender)
Received: from [216.32.181.184] (HELO ch1outboundpool.messaging.microsoft.com) (216.32.181.184)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 19:59:19 +0000
Received: from mail135-ch1-R.bigfish.com (10.43.68.231) by
 CH1EHSOBE012.bigfish.com (10.43.70.62) with Microsoft SMTP Server id
 14.1.225.23; Fri, 14 Dec 2012 19:58:58 +0000
Received: from mail135-ch1 (localhost [127.0.0.1])	by
 mail135-ch1-R.bigfish.com (Postfix) with ESMTP id 4D36C40086	for
 <users@tomcat.apache.org>; Fri, 14 Dec 2012 19:58:58 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT002.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -34
X-BigFish: PS-34(zzbb2dI98dI154cP9371Ic89bhd6eah542I1432I62a3Izz1de0h1202h1e76h1d1ah1d2ahzz17326ah8275dh1033ILz2fh2a8h668h839h93fhd25hf0ah1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1758h1155h)
Received-SPF: pass (mail135-ch1: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT002.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail135-ch1 (localhost.localdomain [127.0.0.1]) by mail135-ch1
 (MessageSwitch) id 1355515135885681_30891; Fri, 14 Dec 2012 19:58:55 +0000
 (UTC)
Received: from CH1EHSMHS012.bigfish.com (snatpool1.int.messaging.microsoft.com
 [10.43.68.253])	by mail135-ch1.bigfish.com (Postfix) with ESMTP id
 CAFA04C0063	for <users@tomcat.apache.org>; Fri, 14 Dec 2012 19:58:55 +0000
 (UTC)
Received: from CH1PRD0410HT002.namprd04.prod.outlook.com (157.56.244.181) by
 CH1EHSMHS012.bigfish.com (10.43.70.12) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 14 Dec 2012 19:58:55 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.16]) by
 CH1PRD0410HT002.namprd04.prod.outlook.com ([10.255.147.37]) with mapi id
 14.16.0245.002; Fri, 14 Dec 2012 19:58:54 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Does maxPostSize has an effect on file upload?
Thread-Topic: Does maxPostSize has an effect on file upload?
Thread-Index: AQHN2TJFgzUrzqmAbkqFhUfhcMAqzJgW2nGAgAGs1oCAAAoBgIAAE+KAgAAHLwCAAAbJYA==
Date: Fri, 14 Dec 2012 19:58:54 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
 <50CB5BB5.9080909@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
 <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com>
In-Reply-To: <50CB7ACE.3070101@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

U28gSSByZWFkIHNvbWUgY29kZSBpbiBvcmcuYXBhY2hlLmNhdGFsaW5hLmNvbm5lY3Rvci5SZXF1
ZXN0LmphdmEuIFdoZW4gcGFyc2VQYXJhbWV0ZXJzKCkgaXMgY2FsbGVkLCBpdCBjaGVja3Mgd2hl
dGhlciB0aGUgQ29udGVudC1UeXBlIGlzICJtdWx0aXBhcnQvZm9ybS1kYXRhIiBvciAiYXBwbGlj
YXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIi4gSWYgaXQncyAiYXBwbGljYXRpb24veC13d3ct
Zm9ybS11cmxlbmNvZGVkIiwgaXQgY2hlY2tzIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBDb250ZW50
LUxlbmd0aCBpcyBub3QgZ3JlYXRlciB0aGFuIG1heFBvc3RTaXplLiBJZiBpdCdzICJtdWx0aXBh
cnQvZm9ybS1kYXRhIiwgaXQgZGVsZWdhdGVzIHRvIGFub3RoZXIgbWV0aG9kLCBwYXJzZVBhcnRz
KCkuDQoNCkluIHBhcnNlUGFydHMoKSwgdGhlIGNvZGUgYmVnaW5zIGxvb3Bpbmcgb3ZlciB0aGUg
cGFydHMgYW5kIHBsYWNpbmcgdGhlbSBpbnRvIHRoZSBsaXN0IG9mIHBhcnRzIGZvciB0aGUgcmVx
dWVzdC4gQXMgaXQgcHJvY2Vzc2VzIGVhY2ggcGFydCwgaXQgYWRkcyB0aGUgc2l6ZSAoaW4gYnl0
ZXMpIG9mIHRoYXQgcGFydCAoaW5jbHVkaW5nIHRoZSBwYXJ0IGNvbnRlbnRzIG9yIGZpbGUgY29u
dGVudHMgaWYgdGhpcyBpcyBhIGZpbGUgdXBsb2FkKSB0byBhbiBhZ2dyZWdhdGUgcG9zdCBzaXpl
IHZhcmlhYmxlLiBJZiBhdCBhbnkgcG9pbnQgdGhlIGFnZ3JlZ2F0ZSBwb3N0IHNpemUgZXhjZWVk
cyB0aGUgbWF4UG9zdFNpemUgdmFyaWFibGUsIGl0IGZhaWxzLiBXaHkgdGhlIENvbnRlbnQtTGVu
Z3RoIGlzIG5vdCBjaGVja2VkLCBJIGFtIHVuc3VyZS4gSXQgc2VlbXMgaXQgd291bGQgYmUgbGVz
cyBleHBlbnNpdmUgdG8gdGhyb3cgdGhlIGV4Y2VwdGlvbiBiZWZvcmUgZXZlciB0cnlpbmcgdG8g
cGFyc2UgdGhlIHBhcnRzLiBIb3dldmVyLCB0aGlzIEFQUEVBUlMgdG8gYmUgdGhlIGZ1bmN0aW9u
YWwgZXF1aXZhbGVudCBvZiBjaGVja2luZyB0aGUgQ29udGVudC1MZW5ndGguDQoNClNvLCBpdCB3
b3VsZCBzZWVtIHRoYXQgbWF4UG9zdFNpemUgZG9lcywgaW5kZWVkLCBhZmZlY3QgZmlsZSB1cGxv
YWRzLCBhbmQgdGhhdCBpZiB0aGUgdG90YWwgc2l6ZSBvZiB5b3VyIHJlcXVlc3QsIGluY2x1ZGlu
ZyBmaWxlIHBhcnRzLCBleGNlZWRzIG1heFBvc3RTaXplLCB0aGF0IHRoZSByZXF1ZXN0IHdpbGwg
ZmFpbC4gV2hldGhlciB0aGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGF0IHNwZWNp
ZmllZCBpbiB0aGUgc3BlYywgSSBhbSBub3QgYW4gZXhwZXJ0IG9uIHRoYXQuDQoNCk5vdCB0aGF0
IGl0IG1hdHRlcnMsIGJ1dCB0aGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aCB0aGUgbGFu
ZCBvZiBQSFAsIHdoZXJlIGEgbWF4VXBsb2FkRmlsZVNpemUgdmFsdWUgb2YgNTBNQiBkb2VzIHlv
dSBubyBnb29kIGlmIHlvdSBmb3JnZXQgdG8gaW5jcmVhcyB5b3VyIG1heFBvc3RTaXplIGZyb20g
dGhlIGRlZmF1bHQgb2YgNU1CLg0KDQooTm90ZTogSXQncyBlbnRpcmVseSBwb3NzaWJsZSB0aGF0
IEknbSByZWFkaW5nIHRoZSBjb2RlIHdyb25nLiBJIHdvdWxkIHN1Z2dlc3QgdGhhdCBhbiBleHBl
cmltZW50IG1pZ2h0IHNvbHZlIHRoaXMgY29uY2x1c2l2ZWx5LCBidXQgcGVyaGFwcyB0aGF0IGhh
cyBiZWVuIHRyaWVkIGFuZCBJIG1pc3NlZCB0aGF0IHNvbWV3aGVyZSBpbiB0aGUgY2hhaW4uKQ0K
DQpOaWNrDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBBbmRyw6kgV2Fybmll
ciBbbWFpbHRvOmF3QGljZS1zYS5jb21dDQpTZW50OiBGcmlkYXksIERlY2VtYmVyIDE0LCAyMDEy
IDE6MTUgUE0NClRvOiBUb21jYXQgVXNlcnMgTGlzdA0KU3ViamVjdDogUmU6IERvZXMgbWF4UG9z
dFNpemUgaGFzIGFuIGVmZmVjdCBvbiBmaWxlIHVwbG9hZD8NCg0KQ2hyaXN0b3BoZXIgU2NodWx0
eiB3cm90ZToNCj4gLS0tLS1CRUdJTiBQR1AgU0lHTkVEIE1FU1NBR0UtLS0tLQ0KPiBIYXNoOiBT
SEEyNTYNCj4NCj4gQ2h1Y2ssDQo+DQo+IE9uIDEyLzE0LzEyIDEyOjM4IFBNLCBDYWxkYXJhbGUs
IENoYXJsZXMgUiB3cm90ZToNCj4+PiBGcm9tOiBDaHJpc3RvcGhlciBTY2h1bHR6IFttYWlsdG86
Y2hyaXNAY2hyaXN0b3BoZXJzY2h1bHR6Lm5ldF0NCj4+PiBTdWJqZWN0OiBSZTogRG9lcyBtYXhQ
b3N0U2l6ZSBoYXMgYW4gZWZmZWN0IG9uIGZpbGUgdXBsb2FkPw0KPj4+Pj4gRG9lcyBhIGZpbGUg
dXBsb2FkIGFzIG11bHRpcGFydC9mb3JtLWRhdGEgbm90IGNvdW50IHRvIHRoZSBzaXplIG9mDQo+
Pj4+PiB0aGUgUE9TVD8NCj4+Pj4gTm8sIGFzIHRoZSBkb2MgbWFrZSBjbGVhci4NCj4+PiBJJ20g
bm90IHNvIHN1cmUgdGhlIGRvY3MgbWFrZSBpdCBjbGVhci4NCj4+IEkgdGhpbmsgeW91IGhhdmUg
dG8gcmVhZCB0aGUgcmVsZXZhbnQgUkZDOg0KPj4gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZj
MTg2Ny50eHQgd2hpY2ggaXMgaW1wbGljaXRseSBwYXJ0IG9mIHRoZQ0KPj4gZG9jLg0KPg0KPiBJ
J20gbm90IHN1cmUgd2hhdCBwYXJ0IG9mIHRoYXQgc3BlYyB3b3VsZCBhcHBseS4NCj4NCj4gR2l2
ZW4gdGhlIChUb21jYXQpIGRvY3VtZW50YXRpb24sIG9uZSBtaWdodCByZWFzb25hYmx5IGJlbGll
dmUgdGhhdA0KPiB0aGUgbWF4UG9zdFNpemUgd291bGQgcmVmZXIgdG8gZWl0aGVyIHRoZSB0b3Rh
bCBDb250ZW50LUxlbmd0aCBmb3IgYW4NCj4gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNv
ZGVkIFBPU1QgbWVzc2FnZSBvciBhbiBpbmRpdmlkdWFsDQo+IENvbnRlbnQtTGVuZ3RoIG9mIGEg
c2luZ2xlIHBhcnQgb2YgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIFBPU1QgbWVzc2FnZS4NCj4NCj4g
VGhlIGxhdHRlciBpcyBub3QgdGhlIGNhc2UsIGFuZCBJIHRoaW5rIGl0J3Mgd29ydGggcG9pbnRp
bmcgdGhhdCBvdXQuDQo+DQoNCkp1c3QgYSBzdWdnZXN0aW9uIDogbWF5YmUgb25lIG9mIHRoZSBU
b21jYXQvSmF2YSBndXJ1cyBoZXJlIGNvdWxkIGZpcnN0IGV4cGxhaW4gdG8gd2hhdCB0aGUgbWF4
UG9zdFNpemUgYXR0cmlidXRlIG9mIHRoZSBDb25uZWN0b3IgcmVhbGx5IGRvZXMgcmVsYXRlID8N
CldoYXQgL2lzLyBiZWluZyBtZWFzdXJlZCB0aGVyZSA/DQpJcyBpdCwgbGlrZSwganVzdCB0aGUg
cmVxdWVzdCdzICJDb250ZW50LWxlbmd0aCIgaGVhZGVyLCBvciBpcyB0aGVyZSBhIGNvdW50ZXIg
d2hpY2ggcmVhbGx5IGNvdW50cyB0aGUgYnl0ZXMgYmVpbmcgcmVhZCBlLmcuDQooYW5kIHllcywg
b2J2aW91c2x5LCBpZiB0aGlzIGlzIGxpbWl0ZWQgdG8gYW4gImFwcGxpY2F0aW9uL3gtd3d3LWZv
cm0tdXJsZW5jb2RlZCIgUE9TVCwgdGhlbiBpdCB3b3VsZG4ndCBiZSBqdXN0IHRoZSBDb250ZW50
LWxlbmd0aCBoZWFkZXIpIChhbmQsIGlmIGl0IGNvdmVycyBhICJtdWx0aXBhcnQvZm9ybS1kYXRh
IiBQT1NULCB0aGVuIGlzIGl0IHRoZSB0b3RhbCBib2R5IHNpemUsIGJlZm9yZSBvZiBhZnRlciBk
ZWNvZGluZyB0aGUgQmFzZS02NCBlbmNvZGVkIGJpdHMgPykgQWZ0ZXIgYWxsLCB0aGlzIGlzIGEg
IlRvbWNhdCB1c2VycyIgbGlzdCwgbm90IGEgIlRvbWNhdCBkZXYiIGxpc3Q7IHNvIHdlIGNhbid0
IHJlYWxseSBleHBlY3QgdGhlIHB1YmxpYyBoZXJlIHRvIGdvIGRlbHZlIGludG8gdGhlIEphdmEg
Y29kZSB0byBmaW5kIG91dC4NCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1h
aWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBj
b21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoNCg0KDQpUaGlz
IGUtbWFpbCBtYXkgY29udGFpbiBwcml2aWxlZ2VkIG9yIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlv
bi4gSWYgeW91IGFyZSBub3QgdGhlIGludGVuZGVkIHJlY2lwaWVudDogKDEpIHlvdSBtYXkgbm90
IGRpc2Nsb3NlLCB1c2UsIGRpc3RyaWJ1dGUsIGNvcHkgb3IgcmVseSB1cG9uIHRoaXMgbWVzc2Fn
ZSBvciBhdHRhY2htZW50KHMpOyBhbmQgKDIpIHBsZWFzZSBub3RpZnkgdGhlIHNlbmRlciBieSBy
ZXBseSBlLW1haWwsIGFuZCB0aGVuIGRlbGV0ZSB0aGlzIG1lc3NhZ2UgYW5kIGl0cyBhdHRhY2ht
ZW50KHMpLiBVbmRlcndyaXRlcnMgTGFib3JhdG9yaWVzIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVz
IGRpc2NsYWltIGFsbCBsaWFiaWxpdHkgZm9yIGFueSBlcnJvcnMsIG9taXNzaW9ucywgY29ycnVw
dGlvbiBvciB2aXJ1cyBpbiB0aGlzIG1lc3NhZ2Ugb3IgYW55IGF0dGFjaG1lbnRzLg0K

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238631-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 21:13:38 2012
Return-Path: <users-return-238631-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4A936D9E4
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 21:13:38 +0000 (UTC)
Received: (qmail 7273 invoked by uid 500); 14 Dec 2012 21:13:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7190 invoked by uid 500); 14 Dec 2012 21:13:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7147 invoked by uid 99); 14 Dec 2012 21:13:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:13:34 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:13:26 +0000
Received: from [192.168.245.129] (p549E1136.dip0.t-ipconnect.de [84.158.17.54])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 87F633C1565
	for <users@tomcat.apache.org>; Fri, 14 Dec 2012 22:14:00 +0100 (CET)
Message-ID: <50CB965D.5080209@ice-sa.com>
Date: Fri, 14 Dec 2012 22:13:01 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Williams, Nick wrote:
> So I read some code in org.apache.catalina.connector.Request.java. When parseParameters() is called, it checks whether the Content-Type is "multipart/form-data" or "application/x-www-form-urlencoded". If it's "application/x-www-form-urlencoded", it checks to make sure that the Content-Length is not greater than maxPostSize.

That is probably because in that case, the body is not encoded, and the Content-length 
matches the length of the posted data.

  If it's "multipart/form-data", it delegates to another method, parseParts().
> 
> In parseParts(), the code begins looping over the parts and placing them into the list of parts for the request. As it processes each part, it adds the size (in bytes) of that part (including the part contents or file contents if this is a file upload) to an aggregate post size variable. If at any point the aggregate post size exceeds the maxPostSize variable, it fails.

This thus looks like it applies to the total size of the parts, after decoding the ones 
that are Base-64 encoded (such as uploaded files contents).

  Why the Content-Length is not checked, I am unsure. It seems it would be less expensive 
to throw the exception before ever trying to parse the parts. However, this APPEARS to be 
the functional equivalent of checking the Content-Length.

If it was using the global Content-length header, it would count not only the encoded data 
bytes, but also the parts separators, headers etc..

So that's nice. It counts only the net data bytes, which is easier to compare to the size 
on disk of a file that you would upload.

> 
> So, it would seem that maxPostSize does, indeed, affect file uploads, and that if the total size of your request, including file parts, exceeds maxPostSize, that the request will fail. Whether this behavior is consistent with that specified in the spec, I am not an expert on that.
> 

You've done a pretty good job so far, I believe.

What maybe is the difference here, is that you probably looked at the Tomcat 7 code, in 
which I believe the FileUpload code has been integrated/merged.

Maybe in Tomcat 6 it is different, and when FileUpload is used, it doesn't count the 
bytes, or doesn't pass the result back to Tomcat to match the MaxPostSize ?


> Not that it matters, but this behavior is consistent with the land of PHP, where a maxUploadFileSize value of 50MB does you no good if you forget to increas your maxPostSize from the default of 5MB.
> 
> (Note: It's entirely possible that I'm reading the code wrong. I would suggest that an experiment might solve this conclusively, but perhaps that has been tried and I missed that somewhere in the chain.)
> 
> Nick
> 
> -----Original Message-----
> From: AndrÃ© Warnier [mailto:aw@ice-sa.com]
> Sent: Friday, December 14, 2012 1:15 PM
> To: Tomcat Users List
> Subject: Re: Does maxPostSize has an effect on file upload?
> 
> Christopher Schultz wrote:
>> -----BEGIN PGP SIGNED MESSAGE-----
>> Hash: SHA256
>>
>> Chuck,
>>
>> On 12/14/12 12:38 PM, Caldarale, Charles R wrote:
>>>> From: Christopher Schultz [mailto:chris@christopherschultz.net]
>>>> Subject: Re: Does maxPostSize has an effect on file upload?
>>>>>> Does a file upload as multipart/form-data not count to the size of
>>>>>> the POST?
>>>>> No, as the doc make clear.
>>>> I'm not so sure the docs make it clear.
>>> I think you have to read the relevant RFC:
>>> http://www.ietf.org/rfc/rfc1867.txt which is implicitly part of the
>>> doc.
>> I'm not sure what part of that spec would apply.
>>
>> Given the (Tomcat) documentation, one might reasonably believe that
>> the maxPostSize would refer to either the total Content-Length for an
>> application/x-www-form-urlencoded POST message or an individual
>> Content-Length of a single part of a multipart/form-data POST message.
>>
>> The latter is not the case, and I think it's worth pointing that out.
>>
> 
> Just a suggestion : maybe one of the Tomcat/Java gurus here could first explain to what the maxPostSize attribute of the Connector really does relate ?
> What /is/ being measured there ?
> Is it, like, just the request's "Content-length" header, or is there a counter which really counts the bytes being read e.g.
> (and yes, obviously, if this is limited to an "application/x-www-form-urlencoded" POST, then it wouldn't be just the Content-length header) (and, if it covers a "multipart/form-data" POST, then is it the total body size, before of after decoding the Base-64 encoded bits ?) After all, this is a "Tomcat users" list, not a "Tomcat dev" list; so we can't really expect the public here to go delve into the Java code to find out.
> 
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 
> 
> 
> This e-mail may contain privileged or confidential information. If you are not the intended recipient: (1) you may not disclose, use, distribute, copy or rely upon this message or attachment(s); and (2) please notify the sender by reply e-mail, and then delete this message and its attachment(s). Underwriters Laboratories Inc. and its affiliates disclaim all liability for any errors, omissions, corruption or virus in this message or any attachments.
> 
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238632-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 21:17:04 2012
Return-Path: <users-return-238632-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E402BD9FA
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 21:17:03 +0000 (UTC)
Received: (qmail 18340 invoked by uid 500); 14 Dec 2012 21:17:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 18113 invoked by uid 500); 14 Dec 2012 21:17:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 18101 invoked by uid 99); 14 Dec 2012 21:17:00 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:17:00 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:17:00 +0000
Message-ID: <50CB974A.5060403@apache.org>
Date: Fri, 14 Dec 2012 21:16:58 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

On 14/12/2012 19:58, Williams, Nick wrote:
> (Note: It's entirely possible that I'm reading the code wrong.

Yes you are. Not completely wrongly but there are errors.

The short version is as follows:

If Tomcat is responsible for reading the request body such as via a call
to a method like getParameters(), getParts() etc. then Tomcat will apply
the maxPostSize limit.

If the application is responsible for reading the request body then the
limit does not apply. Hence if an application uses a third-party file
upload library or just calls getInputStream() or getReader() the limit
will not apply.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238633-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 21:27:47 2012
Return-Path: <users-return-238633-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CEF6AD132
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 21:27:47 +0000 (UTC)
Received: (qmail 54905 invoked by uid 500); 14 Dec 2012 21:27:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 54853 invoked by uid 500); 14 Dec 2012 21:27:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 54844 invoked by uid 99); 14 Dec 2012 21:27:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:27:44 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nicholas.williams@ul.com designates 216.32.180.31 as permitted sender)
Received: from [216.32.180.31] (HELO va3outboundpool.messaging.microsoft.com) (216.32.180.31)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:27:33 +0000
Received: from mail81-va3-R.bigfish.com (10.7.14.243) by
 VA3EHSOBE004.bigfish.com (10.7.40.24) with Microsoft SMTP Server id
 14.1.225.23; Fri, 14 Dec 2012 21:27:12 +0000
Received: from mail81-va3 (localhost [127.0.0.1])	by mail81-va3-R.bigfish.com
 (Postfix) with ESMTP id 62FE13001D0	for <users@tomcat.apache.org>; Fri, 14
 Dec 2012 21:27:12 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT003.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -6
X-BigFish: PS-6(zzbb2dI98dI9371Id6eah148cI542I62a3Izz1de0h1202h1e76h1d1ah1d2ahzz8275dhz2fh2a8h668h839h93fhd25hf0ah1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1758h1155h)
Received-SPF: pass (mail81-va3: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT003.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail81-va3 (localhost.localdomain [127.0.0.1]) by mail81-va3
 (MessageSwitch) id 1355520430564074_18945; Fri, 14 Dec 2012 21:27:10 +0000
 (UTC)
Received: from VA3EHSMHS011.bigfish.com (unknown [10.7.14.247])	by
 mail81-va3.bigfish.com (Postfix) with ESMTP id 7B2F2260058	for
 <users@tomcat.apache.org>; Fri, 14 Dec 2012 21:27:10 +0000 (UTC)
Received: from CH1PRD0410HT003.namprd04.prod.outlook.com (157.56.244.181) by
 VA3EHSMHS011.bigfish.com (10.7.99.21) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 14 Dec 2012 21:27:04 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.16]) by
 CH1PRD0410HT003.namprd04.prod.outlook.com ([10.255.147.38]) with mapi id
 14.16.0245.002; Fri, 14 Dec 2012 21:27:03 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Does maxPostSize has an effect on file upload?
Thread-Topic: Does maxPostSize has an effect on file upload?
Thread-Index: AQHN2TJFgzUrzqmAbkqFhUfhcMAqzJgW2nGAgAGs1oCAAAoBgIAAE+KAgAAHLwCAAAbJYIAAGywAgAACaMA=
Date: Fri, 14 Dec 2012 21:27:03 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023825F7BA@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
 <50CB5BB5.9080909@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
 <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com>
 <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
 <50CB974A.5060403@apache.org>
In-Reply-To: <50CB974A.5060403@apache.org>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

QSB2YWxpZCBwb2ludCB0aGF0IEkgaGF2ZSBub3QgY29uc2lkZXJlZC4gU2luY2UgcGFyc2VQYXJh
bWV0ZXJzKCkgaXMgbm90IGNhbGxlZCB1bnRpbCB5b3UgZ2V0IHRoZSByZXF1ZXN0IHBhcmFtZXRl
cnMgb3IgcGFydHMsIGEgZGV2ZWxvcGVyIGNvdWxkIGdldElucHV0U3RyZWFtKCkgYW5kIHBhcnNl
IGFsbCB0aGUgcGFydHMvcGFyYW1ldGVycyB0aGVtc2VsdmVzLCB0aGVyZWJ5IGNvbXBsZXRlbHkg
c2tpcHBpbmcgdGhlIG1heFBvc3RTaXplIGNoZWNrcy4gVGhhbmtzIGZvciBjb3JyZWN0aW5nIG1l
IGhlcmUsIE1hcmsuDQoNCk5pY2sNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206
IE1hcmsgVGhvbWFzIFttYWlsdG86bWFya3RAYXBhY2hlLm9yZ10NClNlbnQ6IEZyaWRheSwgRGVj
ZW1iZXIgMTQsIDIwMTIgMzoxNyBQTQ0KVG86IFRvbWNhdCBVc2VycyBMaXN0DQpTdWJqZWN0OiBS
ZTogRG9lcyBtYXhQb3N0U2l6ZSBoYXMgYW4gZWZmZWN0IG9uIGZpbGUgdXBsb2FkPw0KDQpPbiAx
NC8xMi8yMDEyIDE5OjU4LCBXaWxsaWFtcywgTmljayB3cm90ZToNCj4gKE5vdGU6IEl0J3MgZW50
aXJlbHkgcG9zc2libGUgdGhhdCBJJ20gcmVhZGluZyB0aGUgY29kZSB3cm9uZy4NCg0KWWVzIHlv
dSBhcmUuIE5vdCBjb21wbGV0ZWx5IHdyb25nbHkgYnV0IHRoZXJlIGFyZSBlcnJvcnMuDQoNClRo
ZSBzaG9ydCB2ZXJzaW9uIGlzIGFzIGZvbGxvd3M6DQoNCklmIFRvbWNhdCBpcyByZXNwb25zaWJs
ZSBmb3IgcmVhZGluZyB0aGUgcmVxdWVzdCBib2R5IHN1Y2ggYXMgdmlhIGEgY2FsbCB0byBhIG1l
dGhvZCBsaWtlIGdldFBhcmFtZXRlcnMoKSwgZ2V0UGFydHMoKSBldGMuIHRoZW4gVG9tY2F0IHdp
bGwgYXBwbHkgdGhlIG1heFBvc3RTaXplIGxpbWl0Lg0KDQpJZiB0aGUgYXBwbGljYXRpb24gaXMg
cmVzcG9uc2libGUgZm9yIHJlYWRpbmcgdGhlIHJlcXVlc3QgYm9keSB0aGVuIHRoZSBsaW1pdCBk
b2VzIG5vdCBhcHBseS4gSGVuY2UgaWYgYW4gYXBwbGljYXRpb24gdXNlcyBhIHRoaXJkLXBhcnR5
IGZpbGUgdXBsb2FkIGxpYnJhcnkgb3IganVzdCBjYWxscyBnZXRJbnB1dFN0cmVhbSgpIG9yIGdl
dFJlYWRlcigpIHRoZSBsaW1pdCB3aWxsIG5vdCBhcHBseS4NCg0KTWFyaw0KDQotLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vic2NyaWJlQHRvbWNhdC5hcGFj
aGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1tYWlsOiB1c2Vycy1oZWxwQHRvbWNh
dC5hcGFjaGUub3JnDQoNCg0KDQpUaGlzIGUtbWFpbCBtYXkgY29udGFpbiBwcml2aWxlZ2VkIG9y
IGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbi4gSWYgeW91IGFyZSBub3QgdGhlIGludGVuZGVkIHJl
Y2lwaWVudDogKDEpIHlvdSBtYXkgbm90IGRpc2Nsb3NlLCB1c2UsIGRpc3RyaWJ1dGUsIGNvcHkg
b3IgcmVseSB1cG9uIHRoaXMgbWVzc2FnZSBvciBhdHRhY2htZW50KHMpOyBhbmQgKDIpIHBsZWFz
ZSBub3RpZnkgdGhlIHNlbmRlciBieSByZXBseSBlLW1haWwsIGFuZCB0aGVuIGRlbGV0ZSB0aGlz
IG1lc3NhZ2UgYW5kIGl0cyBhdHRhY2htZW50KHMpLiBVbmRlcndyaXRlcnMgTGFib3JhdG9yaWVz
IEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzIGRpc2NsYWltIGFsbCBsaWFiaWxpdHkgZm9yIGFueSBl
cnJvcnMsIG9taXNzaW9ucywgY29ycnVwdGlvbiBvciB2aXJ1cyBpbiB0aGlzIG1lc3NhZ2Ugb3Ig
YW55IGF0dGFjaG1lbnRzLg0K

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238634-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 21:28:46 2012
Return-Path: <users-return-238634-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 112A3D710
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 21:28:46 +0000 (UTC)
Received: (qmail 61124 invoked by uid 500); 14 Dec 2012 21:28:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61065 invoked by uid 500); 14 Dec 2012 21:28:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61055 invoked by uid 99); 14 Dec 2012 21:28:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:28:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of nicholas.williams@ul.com designates 216.32.180.11 as permitted sender)
Received: from [216.32.180.11] (HELO va3outboundpool.messaging.microsoft.com) (216.32.180.11)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:28:33 +0000
Received: from mail69-va3-R.bigfish.com (10.7.14.243) by
 VA3EHSOBE002.bigfish.com (10.7.40.22) with Microsoft SMTP Server id
 14.1.225.23; Fri, 14 Dec 2012 21:28:12 +0000
Received: from mail69-va3 (localhost [127.0.0.1])	by mail69-va3-R.bigfish.com
 (Postfix) with ESMTP id 467C62E021C	for <users@tomcat.apache.org>; Fri, 14
 Dec 2012 21:28:12 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT002.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -3
X-BigFish: PS-3(zz103dKzz1de0h1202h1e76h1d1ah1d2ahzzz2fh2a8h668h839h93fhd25hf0ah1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1758h1155h)
Received-SPF: pass (mail69-va3: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT002.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail69-va3 (localhost.localdomain [127.0.0.1]) by mail69-va3
 (MessageSwitch) id 135552049053849_3676; Fri, 14 Dec 2012 21:28:10 +0000
 (UTC)
Received: from VA3EHSMHS021.bigfish.com (unknown [10.7.14.248])	by
 mail69-va3.bigfish.com (Postfix) with ESMTP id 080F32C00AD	for
 <users@tomcat.apache.org>; Fri, 14 Dec 2012 21:28:10 +0000 (UTC)
Received: from CH1PRD0410HT002.namprd04.prod.outlook.com (157.56.244.181) by
 VA3EHSMHS021.bigfish.com (10.7.99.31) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 14 Dec 2012 21:28:04 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.16]) by
 CH1PRD0410HT002.namprd04.prod.outlook.com ([10.255.147.37]) with mapi id
 14.16.0245.002; Fri, 14 Dec 2012 21:28:04 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Does maxPostSize has an effect on file upload?
Thread-Topic: Does maxPostSize has an effect on file upload?
Thread-Index: AQHN2TJFgzUrzqmAbkqFhUfhcMAqzJgW2nGAgAGs1oCAAAoBgIAAE+KAgAAHLwCAAAbJYIAAGhKAgAAD92A=
Date: Fri, 14 Dec 2012 21:28:02 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023825F7CB@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
 <50CB5BB5.9080909@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
 <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com>
 <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
 <50CB965D.5080209@ice-sa.com>
In-Reply-To: <50CB965D.5080209@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

PiBJZiBpdCB3YXMgdXNpbmcgdGhlIGdsb2JhbCBDb250ZW50LWxlbmd0aCBoZWFkZXIsIGl0IHdv
dWxkIGNvdW50IG5vdCBvbmx5IHRoZSBlbmNvZGVkIGRhdGEgYnl0ZXMsIGJ1dCBhbHNvIHRoZSBw
YXJ0cyBzZXBhcmF0b3JzLCBoZWFkZXJzIGV0Yy4uDQoNCj4gU28gdGhhdCdzIG5pY2UuIEl0IGNv
dW50cyBvbmx5IHRoZSBuZXQgZGF0YSBieXRlcywgd2hpY2ggaXMgZWFzaWVyIHRvIGNvbXBhcmUg
dG8gdGhlIHNpemUgb24gZGlzayBvZiBhIGZpbGUgdGhhdCB5b3Ugd291bGQgdXBsb2FkLg0KDQpJ
bmRlZWQuIEEgZ3JlYXQgZXhwbGFuYXRpb24gZm9yIHdoeSB0aGlzIHdvdWxkIGJlIGRvbmUsIGFu
ZCBhIG11Y2ggbW9yZSBsb2dpY2FsIHdheSB0byBkbyBpdCB0aGFuIGp1c3QgdXNpbmcgQ29udGVu
dC1MZW5ndGggKCJ0aGUgZWFzeSB3YXkgb3V0IikuDQoNClRoYW5rcyENCg0KDQpUaGlzIGUtbWFp
bCBtYXkgY29udGFpbiBwcml2aWxlZ2VkIG9yIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvbi4gSWYg
eW91IGFyZSBub3QgdGhlIGludGVuZGVkIHJlY2lwaWVudDogKDEpIHlvdSBtYXkgbm90IGRpc2Ns
b3NlLCB1c2UsIGRpc3RyaWJ1dGUsIGNvcHkgb3IgcmVseSB1cG9uIHRoaXMgbWVzc2FnZSBvciBh
dHRhY2htZW50KHMpOyBhbmQgKDIpIHBsZWFzZSBub3RpZnkgdGhlIHNlbmRlciBieSByZXBseSBl
LW1haWwsIGFuZCB0aGVuIGRlbGV0ZSB0aGlzIG1lc3NhZ2UgYW5kIGl0cyBhdHRhY2htZW50KHMp
LiBVbmRlcndyaXRlcnMgTGFib3JhdG9yaWVzIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzIGRpc2Ns
YWltIGFsbCBsaWFiaWxpdHkgZm9yIGFueSBlcnJvcnMsIG9taXNzaW9ucywgY29ycnVwdGlvbiBv
ciB2aXJ1cyBpbiB0aGlzIG1lc3NhZ2Ugb3IgYW55IGF0dGFjaG1lbnRzLg0K

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238635-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 21:30:14 2012
Return-Path: <users-return-238635-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 084E9DC3C
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 21:30:14 +0000 (UTC)
Received: (qmail 66187 invoked by uid 500); 14 Dec 2012 21:30:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66102 invoked by uid 500); 14 Dec 2012 21:30:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66093 invoked by uid 99); 14 Dec 2012 21:30:10 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:30:10 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 21:30:10 +0000
Message-ID: <50CB9A60.1010901@apache.org>
Date: Fri, 14 Dec 2012 21:30:08 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CB965D.5080209@ice-sa.com>
In-Reply-To: <50CB965D.5080209@ice-sa.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

On 14/12/2012 21:13, AndrÃ© Warnier wrote:

<snip/>

>  If it's "multipart/form-data", it delegates to another method,
> parseParts().

<snip/>

>  Why the Content-Length is not checked, I am unsure. It seems it would
> be less expensive to throw the exception before ever trying to parse the
> parts. However, this APPEARS to be the functional equivalent of checking
> the Content-Length.

I think that is simply an oversight in the commit [1] that added the
checking. If a content-length is present then checking it would be
simpler. The existing checks need to be kept for the chunked request
body case.

As always, patches welcome.

Mark

[1] http://svn.apache.org/viewvc?view=revision&revision=1195968


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238636-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 22:07:48 2012
Return-Path: <users-return-238636-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 49040DE84
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 22:07:48 +0000 (UTC)
Received: (qmail 81240 invoked by uid 500); 14 Dec 2012 22:07:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81173 invoked by uid 500); 14 Dec 2012 22:07:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81163 invoked by uid 99); 14 Dec 2012 22:07:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 22:07:44 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 22:07:36 +0000
Received: from [192.168.245.129] (p549E1136.dip0.t-ipconnect.de [84.158.17.54])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id AAB433C1551
	for <users@tomcat.apache.org>; Fri, 14 Dec 2012 23:08:10 +0100 (CET)
Message-ID: <50CBA30E.6010907@ice-sa.com>
Date: Fri, 14 Dec 2012 23:07:10 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CB965D.5080209@ice-sa.com> <50CB9A60.1010901@apache.org>
In-Reply-To: <50CB9A60.1010901@apache.org>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mark Thomas wrote:
> On 14/12/2012 21:13, AndrÃ© Warnier wrote:
> 
> <snip/>
> 
>>  If it's "multipart/form-data", it delegates to another method,
>> parseParts().
> 
> <snip/>
> 
>>  Why the Content-Length is not checked, I am unsure. It seems it would
>> be less expensive to throw the exception before ever trying to parse the
>> parts. However, this APPEARS to be the functional equivalent of checking
>> the Content-Length.
> 
> I think that is simply an oversight in the commit [1] that added the
> checking. If a content-length is present then checking it would be
> simpler. The existing checks need to be kept for the chunked request
> body case.
> 
> As always, patches welcome.
> 

In the Apache httpd DAV implementation, the LimitXMLRequestBody is the only way to control 
the maximum size of an upload.  It is a p-i-t-a, because that size does not relate easily 
to the size of the file one is really uploading, making it difficult to set a sensible limit.

The way Tomcat is apparently doing it now is much more sensible, in my humble opinion, 
because it does allow a direct and easy comparison with the files being uploaded.
And since as per above it needs to be kept in some cases anyway, my vote - if I had one - 
would be to not change it.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238637-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 14 22:37:28 2012
Return-Path: <users-return-238637-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D56B9D1B5
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 14 Dec 2012 22:37:28 +0000 (UTC)
Received: (qmail 75607 invoked by uid 500); 14 Dec 2012 22:37:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75549 invoked by uid 500); 14 Dec 2012 22:37:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75539 invoked by uid 99); 14 Dec 2012 22:37:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 22:37:25 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=MIME_BASE64_BLANKS,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nicholas.williams@ul.com designates 213.199.154.144 as permitted sender)
Received: from [213.199.154.144] (HELO db3outboundpool.messaging.microsoft.com) (213.199.154.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 14 Dec 2012 22:37:14 +0000
Received: from mail86-db3-R.bigfish.com (10.3.81.237) by
 DB3EHSOBE009.bigfish.com (10.3.84.29) with Microsoft SMTP Server id
 14.1.225.23; Fri, 14 Dec 2012 22:36:53 +0000
Received: from mail86-db3 (localhost [127.0.0.1])	by mail86-db3-R.bigfish.com
 (Postfix) with ESMTP id 7DA32460441	for <users@tomcat.apache.org>; Fri, 14
 Dec 2012 22:36:53 +0000 (UTC)
X-Forefront-Antispam-Report: CIP:157.56.244.181;KIP:(null);UIP:(null);IPV:NLI;H:CH1PRD0410HT001.namprd04.prod.outlook.com;RD:none;EFVD:NLI
X-SpamScore: -1
X-BigFish: PS-1(zzc89bh146fIzz1de0h1202h1e76h1d1ah1d2ahzzz2fh2a8h668h839h93fhd25hf0ah1288h12a5h12a9h12bdh137ah13b6h1441h1504h1537h153bh15d0h162dh1631h1758h1155h)
Received-SPF: pass (mail86-db3: domain of ul.com designates 157.56.244.181 as permitted sender) client-ip=157.56.244.181; envelope-from=nicholas.williams@ul.com; helo=CH1PRD0410HT001.namprd04.prod.outlook.com ;.outlook.com ;
Received: from mail86-db3 (localhost.localdomain [127.0.0.1]) by mail86-db3
 (MessageSwitch) id 1355524611390624_9162; Fri, 14 Dec 2012 22:36:51 +0000
 (UTC)
Received: from DB3EHSMHS003.bigfish.com (unknown [10.3.81.237])	by
 mail86-db3.bigfish.com (Postfix) with ESMTP id 5182A4005B	for
 <users@tomcat.apache.org>; Fri, 14 Dec 2012 22:36:51 +0000 (UTC)
Received: from CH1PRD0410HT001.namprd04.prod.outlook.com (157.56.244.181) by
 DB3EHSMHS003.bigfish.com (10.3.87.103) with Microsoft SMTP Server (TLS) id
 14.1.225.23; Fri, 14 Dec 2012 22:36:48 +0000
Received: from CH1PRD0410MB369.namprd04.prod.outlook.com ([169.254.9.16]) by
 CH1PRD0410HT001.namprd04.prod.outlook.com ([10.255.147.36]) with mapi id
 14.16.0245.002; Fri, 14 Dec 2012 22:36:43 +0000
From: "Williams, Nick" <nicholas.williams@ul.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Does maxPostSize has an effect on file upload?
Thread-Topic: Does maxPostSize has an effect on file upload?
Thread-Index: AQHN2TJFgzUrzqmAbkqFhUfhcMAqzJgW2nGAgAGs1oCAAAoBgIAAE+KAgAAHLwCAAAbJYIAAGhKAgAAEyACAAApZAIAAB1BA
Date: Fri, 14 Dec 2012 22:36:43 +0000
Message-ID: <7CF0788AAB53854AB15567D68F4196023825F818@CH1PRD0410MB369.namprd04.prod.outlook.com>
References: <20121213130246.GA23330@computer.corp.ebay.com>
 <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com>
 <50CB5BB5.9080909@christopherschultz.net>
 <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com>
 <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com>
 <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com>
 <50CB965D.5080209@ice-sa.com> <50CB9A60.1010901@apache.org>
 <50CBA30E.6010907@ice-sa.com>
In-Reply-To: <50CBA30E.6010907@ice-sa.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-originating-ip: [67.90.155.66]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: ul.com
X-Virus-Checked: Checked by ClamAV on apache.org

PiBUaGUgd2F5IFRvbWNhdCBpcyBhcHBhcmVudGx5IGRvaW5nIGl0IG5vdyBpcyBtdWNoIG1vcmUg
c2Vuc2libGUsIGluIG15IGh1bWJsZSBvcGluaW9uLCBiZWNhdXNlIGl0IGRvZXMgYWxsb3cgYSBk
aXJlY3QgYW5kIGVhc3kgY29tcGFyaXNvbiB3aXRoIHRoZSBmaWxlcyBiZWluZyB1cGxvYWRlZC4N
Cj4gQW5kIHNpbmNlIGFzIHBlciBhYm92ZSBpdCBuZWVkcyB0byBiZSBrZXB0IGluIHNvbWUgY2Fz
ZXMgYW55d2F5LCBteSB2b3RlIC0gaWYgSSBoYWQgb25lIC0gd291bGQgYmUgdG8gbm90IGNoYW5n
ZSBpdC4NCg0KSSBtdXN0IGFncmVlIHdpdGggQW5kcsOpLiBUaGUgcHJvY2VzcyBvZiBiYXNlNjQg
ZW5jb2RpbmcgYSBmaWxlIGluY3JlYXNlcyB0aGUgbnVtYmVyIG9mIGJ5dGVzIGl0IHRha2VzIHRv
IHRyYW5zbWl0IGl0LiBCdXQgc2luY2UgdGhhdCBpcyBub3QgdGhlIGFjdHVhbCBzaXplIG9mIHRo
ZSBmaWxlLCB0aGUgZXh0cmEgbGVuZ3RoIHNob3VsZCBub3QgYmUgY291bnRlZCB0b3dhcmRzIHRo
ZSBwb3N0IHNpemUuIFRoZSBwcm9jZXNzIGJ5IHdoaWNoIHRoZSBwYXJ0IGxlbmd0aHMgYXJlIGFk
ZGVkIHVwIERFQ09ERUQgaXMgYSBtdWNoIG1vcmUgYWNjdXJhdGUgd2F5IHRvIGRvIGl0LCBpbiBt
eSBvcGluaW9uLiBIb3cgY29uZnVzaW5nIHdvdWxkIGl0IGJlIHRvIGEgdXNlciB3aG8gdXBsb2Fk
cyBhIGZpbGUgdGhhdCBpcyAxLDk4OSw5NTYgYnl0ZXMgdG8gZ2V0IG5vdGlmaWVkIHRoYXQgdGhl
IGZpbGUgZXhjZWVkZWQgdGhlIDIgTUIgbGltaXQ/IFRoZSB1c2VyIGNlcnRhaW5seSB3b3VsZG4n
dCB1bmRlcnN0YW5kIHRoYXQgaGlzIGZpbGUgYmFzZTY0IGVuY29kZWQgd2FzIGxhcmdlciB0aGFu
IDIgTUIuIEhlIHdvdWxkIHRoaW5rIHRoZSBzaXRlIHdhcyBicm9rZW4uDQoNCk4NCg0KVGhpcyBl
LW1haWwgbWF5IGNvbnRhaW4gcHJpdmlsZWdlZCBvciBjb25maWRlbnRpYWwgaW5mb3JtYXRpb24u
IElmIHlvdSBhcmUgbm90IHRoZSBpbnRlbmRlZCByZWNpcGllbnQ6ICgxKSB5b3UgbWF5IG5vdCBk
aXNjbG9zZSwgdXNlLCBkaXN0cmlidXRlLCBjb3B5IG9yIHJlbHkgdXBvbiB0aGlzIG1lc3NhZ2Ug
b3IgYXR0YWNobWVudChzKTsgYW5kICgyKSBwbGVhc2Ugbm90aWZ5IHRoZSBzZW5kZXIgYnkgcmVw
bHkgZS1tYWlsLCBhbmQgdGhlbiBkZWxldGUgdGhpcyBtZXNzYWdlIGFuZCBpdHMgYXR0YWNobWVu
dChzKS4gVW5kZXJ3cml0ZXJzIExhYm9yYXRvcmllcyBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcyBk
aXNjbGFpbSBhbGwgbGlhYmlsaXR5IGZvciBhbnkgZXJyb3JzLCBvbWlzc2lvbnMsIGNvcnJ1cHRp
b24gb3IgdmlydXMgaW4gdGhpcyBtZXNzYWdlIG9yIGFueSBhdHRhY2htZW50cy4NCg==

DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0NClRvIHVuc3Vic2NyaWJlLCBlLW1haWw6IHVzZXJzLXVuc3Vi
c2NyaWJlQHRvbWNhdC5hcGFjaGUub3JnDQpGb3IgYWRkaXRpb25hbCBjb21tYW5kcywgZS1t
YWlsOiB1c2Vycy1oZWxwQHRvbWNhdC5hcGFjaGUub3JnDQoN

From users-return-238638-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 16 13:13:16 2012
Return-Path: <users-return-238638-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6CE8CD847
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 16 Dec 2012 13:13:16 +0000 (UTC)
Received: (qmail 32876 invoked by uid 500); 16 Dec 2012 13:13:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 32401 invoked by uid 500); 16 Dec 2012 13:13:06 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 32351 invoked by uid 99); 16 Dec 2012 13:13:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Dec 2012 13:13:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.219.45] (HELO mail-oa0-f45.google.com) (209.85.219.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Dec 2012 13:12:58 +0000
Received: by mail-oa0-f45.google.com with SMTP id i18so4983579oag.18
        for <users@tomcat.apache.org>; Sun, 16 Dec 2012 05:12:37 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:from:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=qgpz9vp7tmFphCM7TiCdJrGRiF8t6cBg/+HZ8yKwql4=;
        b=A9eEoeteQT9J9ZdJuII9AeiOP2KlpRQ9ijPLsyF9s70LdqOV4px2eafsXoRLaSBzQ6
         V8wvapbjk20jmySd3HYIPRZzB4XBZr37kAHFAWGlNADyCUgsz+LmtpH40rfnxn3332yF
         9BKwajfGKihCCJxj78bpTvn/VTIVHsH8TlFTCSIJIHTGwOk/NHzXJxFO8WHER48URuND
         WhPUoS3gv8N0H+CCfGogODpQ0mRXGRysZffw29OSS0dc+wU11O/hPdUUJsmpV7lSzelX
         zspAlqqY6oygu0doBa7aE4ZR4p3v76jSJsfeVhacdriqCUK4BiYxp8yCd7MX/zu1Imdf
         t7eg==
Received: by 10.182.3.144 with SMTP id c16mr9330212obc.42.1355663557641; Sun,
 16 Dec 2012 05:12:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.76.169.130 with HTTP; Sun, 16 Dec 2012 05:12:17 -0800 (PST)
X-Originating-IP: [85.137.199.179]
From: =?ISO-8859-1?Q?Antonio_Manuel_Mu=F1iz_Mart=EDn?= <amuniz@klicap.es>
Date: Sun, 16 Dec 2012 14:12:17 +0100
Message-ID: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
Subject: Tomcat common and webapp classloader
To: users@tomcat.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQnBnnCH4FNUM2fZ3tNZGLAVT1rE7e4Db9+QkZR1MQ0mw/bup/DGRYdtaJUgR27lXEOWDK9H
X-Virus-Checked: Checked by ClamAV on apache.org

Hello.

I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great!

I'm getting some extrange behavior with classloaders, I think that
tomcat common classloader is interfering in webapp classloader. I have
Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 is
loaded before in the webapp.

I tried to use "delegate =3D false" in the plugin config in order to get
first the webapp artifacts, but the behavior is the same.

My plugin config:
<plugin>
    <groupId>org.apache.tomcat.maven</groupId>
    <artifactId>tomcat6-maven-plugin</artifactId>
    <version>2.0</version>
    <configuration>
        <port>8080</port>
        <path>/app</path>
        <serverXml>src/main/config/server.xml</serverXml>
        <additionalConfigFilesDir>src/main/config/tomcat-conf</additionalCo=
nfigFilesDir>
        <systemProperties>
            <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HOME/c=
onf/jaas.conf</JAVA_OPTS>
        </systemProperties>
        <delegate>false</delegate>
    </configuration>
    <dependencies>
        <dependency>
            <groupId>es.klicap.clinker</groupId>
            <artifactId>josso-tomcat60-agent</artifactId>
            <version>1.3.0</version>
        </dependency>
    </dependencies>
</plugin>

Note that josso-tomcat60-agent is the dependency that I want at tomcat
level and it gets Spring 2.5.5 transitively.

Am I using "delegate" correctly?

Thanks!

--=20
Antonio Manuel Mu=F1iz Mart=EDn
Software Developer at klicap - ingenier=EDa del puzle

work phone + 34 954 894 322
www.klicap.es | blog.klicap.es

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238639-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 16 22:03:41 2012
Return-Path: <users-return-238639-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CE22CE89A
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 16 Dec 2012 22:03:41 +0000 (UTC)
Received: (qmail 44509 invoked by uid 500); 16 Dec 2012 22:03:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44421 invoked by uid 500); 16 Dec 2012 22:03:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44408 invoked by uid 99); 16 Dec 2012 22:03:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Dec 2012 22:03:37 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of balteo@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 16 Dec 2012 22:03:30 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so4721086iac.18
        for <users@tomcat.apache.org>; Sun, 16 Dec 2012 14:03:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=uJUMA36Vsh3RDVYBdQpnEMTc3tLRyVpOZwsPhZVQtVE=;
        b=vQc7GdOEf+52UYpeShFci6jHSTHKPRcE6JU2C0PK2QBV/eMRK77Xx4+xAmjbr/2D6r
         7jzXoxBp5dEjf73abcDEslAD5Ogq5wMjMgyb6KH40a6atAyrMifqGwN9lMzpBxeadrm3
         1RQx5wh382lnXfPH9WeDiHsXLJlr/b5/068GsHjjvaa45eMtDU86PTU1Y3XTAhJ9GwE8
         ZZqY8rDgj1ApMTMzjZWeStroupLaIkLsgcnwo0CBvNPgTXzI12Plu7RyaKs8NhEfq+5S
         melQRG+qFK68gtoOcXLzaSQ/BKe62ebQMW1g7sJbLGFUyyAM3Gl0b2RvoixlcsNOAH70
         r+WA==
MIME-Version: 1.0
Received: by 10.50.242.73 with SMTP id wo9mr7548934igc.36.1355695389388; Sun,
 16 Dec 2012 14:03:09 -0800 (PST)
Received: by 10.64.43.130 with HTTP; Sun, 16 Dec 2012 14:03:09 -0800 (PST)
Date: Sun, 16 Dec 2012 23:03:09 +0100
Message-ID: <CA+uk_pLCd9tubsDDkHLyxa7HMrc+zNshHdBaqT6kvU4OPp+FKQ@mail.gmail.com>
Subject: Odd behavior observed on Eclipse's tomcat: added webapp silently ignored...
From: Julien Martin <balteo@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044787571baf7604d0ff6ea2
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044787571baf7604d0ff6ea2
Content-Type: text/plain; charset=ISO-8859-1

Hello,

After adding a webapp (war) to my Eclipse's Tomcat (7.0.34), I
unfortunately noticed that tomcat does add it to the server but doesn't
attempt to deploy it!!

The only suspicious log was the following one:

*ATTENTION: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting
property 'source' to 'org.eclipse.jst.jee.server:kadjoukor' did not find a
matching property*
*
*
FYI, this started occuring after I added the latest tomcat server (7.0.34)
to eclipse. Also my app is called *kadkjoukor*.

Can anyone please help?

Regards,

Julien.
*
*

--f46d044787571baf7604d0ff6ea2--

From users-return-238640-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 08:47:43 2012
Return-Path: <users-return-238640-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4938EDC51
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 08:47:43 +0000 (UTC)
Received: (qmail 26155 invoked by uid 500); 17 Dec 2012 08:47:39 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25942 invoked by uid 500); 17 Dec 2012 08:47:38 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25906 invoked by uid 99); 17 Dec 2012 08:47:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 08:47:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goelenv@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 08:47:30 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so6779844vcb.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 00:47:09 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=Z5jlx+ZLMFToR/6jj4R5f4aV+sjoLAuwGiiInM3uTCs=;
        b=OI6/Szw5yQ1gt7QcDtQ6c1ENMSwCN5plNovspyZkEd4eHzJ3m88o4hR+FI4Nm6xfF/
         ZZHopJMTOVdC/N0l2GjT4ZPQ2AsPzqmmwVxFYUrr5qgwLOcttFGvcAt4lqD3ld4P4pJn
         Fjn9QXLrw6LIRfqkolE7lK3RBkRsP7I51to6tmDFhTnCFaYFPvAVGMAo7wfiNOL81tDS
         GSjE8lq5qcSM4izOsSvv7jDTun55e//gfPTPnmtL8rhYf3ftt1w57gpX9AYikws6QKQg
         tGdokieGcFfXnwzuu1shMV4pHmmZuCDJnWGDREDVsKCy5/JaN50ub2k5rKAenWV2vDqD
         fuiQ==
MIME-Version: 1.0
Received: by 10.52.68.46 with SMTP id s14mr379939vdt.103.1355734029771; Mon,
 17 Dec 2012 00:47:09 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Mon, 17 Dec 2012 00:47:09 -0800 (PST)
In-Reply-To: <50C65E12.8000206@christopherschultz.net>
References: <C45352600C954650B20BA82D82D1315D@HP6910P>
	<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
	<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>
	<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
	<D29BD2074E4E418399AFF7462E353635@HP6910P>
	<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
	<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>
	<CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>
	<BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>
	<50C65E12.8000206@christopherschultz.net>
Date: Mon, 17 Dec 2012 09:47:09 +0100
Message-ID: <CAGVpwCwm+bsQpHBsqi60+xXchLzYjY81=Hsp4Q4k7ifmnoLrLg@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=bcaec50165b74121d004d1086d57
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec50165b74121d004d1086d57
Content-Type: text/plain; charset=ISO-8859-1

Hey,

http://users.telenet.be/goelenv/SSLTomcat.zip

in this link you can find a netbeans project that will generate the fault..
The index.html page will send requests to the index.jsp page, the thread
sleep is just to emulate a long process of a request (like database things,
etc)

Kind regards,
Vincent

2012/12/10 Christopher Schultz <chris@christopherschultz.net>

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Martin,
>
> On 12/10/12 10:22 AM, Martin Gainty wrote:
> > we need to get your architect into this discussion
> >
> > Why is your code implementing 2 different Connections to
> > accomplish this functionality when one Connection at a time will
> > suffice?
>
> You have no idea what you are talking about. There is only one
> connection. There is only one connector. The OP is reporting that his
> SSL session id expires long before he is expecting it to expire.
>
> This has nothing to do with webapps and connectors except he happens
> to have a connector and a webapp.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDGXhIACgkQ9CaO5/Lv0PDwtQCgk63c5ZUVojVhdgVpHpF5IMkX
> 3lYAoKPCpNeo8lEquukN/BRxPjuFfl1E
> =tdIg
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--bcaec50165b74121d004d1086d57--

From users-return-238641-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 11:59:46 2012
Return-Path: <users-return-238641-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 29A68DF09
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 11:59:46 +0000 (UTC)
Received: (qmail 37870 invoked by uid 500); 17 Dec 2012 11:59:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 37828 invoked by uid 500); 17 Dec 2012 11:59:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 37810 invoked by uid 99); 17 Dec 2012 11:59:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 11:59:42 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 11:59:35 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so5160521iac.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 03:59:15 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=sBgWSbA/8z3iZfmBQDkWPei8xvMsrZOulNDvB/wOs9c=;
        b=bNm8uEtLSCT9nlQCFeA0wFnKcPz0qkK8mpQI4zZ/KibFI80InHGbpoBCInEgo1jlfG
         4EGbOyULUG+jdhFqjDxiscuC2N5KJna7xY7cPcS6zcEveFBcC8h6xJIMBgrEWrp5m0tK
         jseh2jcyajvaTiJdpRxiE+1/yvIHtMVCd55qXdHybQbyp0ZfkH5aMR1zLAWwWzV99a3R
         X5Lq0AN5tgoi+8594Of8uU5hdLZG20nRjC2pkuratfMM2J5h3wY2GNeDu+thYiBWSMaC
         mrg0hesa1+Kl0WM/ySEelCPTNkzYtB1rPhgl8KHzFNNIupgc+uVpMEugDaf7PnbIgYbL
         WZGw==
MIME-Version: 1.0
Received: by 10.50.15.134 with SMTP id x6mr8858401igc.27.1355745555239; Mon,
 17 Dec 2012 03:59:15 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Mon, 17 Dec 2012 03:59:15 -0800 (PST)
In-Reply-To: <50C7AB5A.5020606@ice-sa.com>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
	<50C750A7.6010304@christopherschultz.net>
	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
	<50C7AB5A.5020606@ice-sa.com>
Date: Mon, 17 Dec 2012 12:59:15 +0100
Message-ID: <CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>
Subject: Re: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/11 Andr=E9 Warnier <aw@ice-sa.com>:
> C=E9dric Couralet wrote:
> ...
>
>>
>> One question, though, in the tomcat doc (for 6.0.x) for the
>> JMXRemoteListener, the configuration is :
>>
>>
>> -Dcom.sun.management.jmxremote.password.file=3D$CATALINA_BASE/conf/jmxre=
mote.password
>>
>> -Dcom.sun.management.jmxremote.access.file=3D$CATALINA_BASE/conf/jmxremo=
te.access
>>
>> while mine is
>> -Dcom.sun.management.jmxremote.password.file=3D${CATALINA_BASE}/conf/jmx=
remote.password
>> (notice the {} ).
>>
>> is it my mistake?
>>
>>
>
> No, it is not a mistake.  The above are lines extracted from a shell scri=
pt,
> I presume.
> In this particular case, $CATALINA_BASE and ${CATALINA_BASE} are equivale=
nt.
> The {} form helps to clarify things for the shell when the character whic=
h
> *follows* the name of the variable, could be considered by the shell as p=
art
> of the variable name.
> For example in :
>
> echo "something" > $my_file_conf
>
> it is not clear whether the name of the variable is "my" or "my_file" or
> "my_file_conf".
> (or anything in-between), and by default the shell will use the longer
> possibility.
>
> Writing this as
>
> echo "something" > ${my_file}_conf
>
> leaves only one possible interpretation.
>
> In "$CATALINA_BASE/conf/jmxremote.password" there is really no ambiguity
> (because "/" cannot be part of a variable name), but the form
> "${CATALINA_BASE}/conf/jmxremote.password" is anyway clearer and less pro=
ne
> to oversights.
> (But it is slightly more work to type, and as programmers are a notorious=
ly
> lazy and hubristic bunch, they rarely go through the trouble).
>
> I suppose that - just to kid Christopher - I could on like this, talking
> about interpolation and stuff, but I'll leave it at that because it's
> already late here.
>

I finally had some times to do some testing.
First even with useLocalPorts=3Dtrue, the JmxConnectorServer listen on
all interfaces but won't accept connection from remote host. From the
tomcat code, only the rmi client socket is forced to localhost at
least on tomcat 6.0.x. A RMI server Socket could be created to force
listening on a specified interface but I am not sure of any side
effect.

Second, for my password problem, there was a problem with my
configuration. In the tomcat service for JavaOptions, i had
-Dcom.sun.management.jmxremote.authenticate=3Dtrue (with a space after
true), so when parsing the system properties in the Listener, the
lines (in the init() method):
   String authenticateValue =3D System.getProperty(
                "com.sun.management.jmxremote.authenticate", "true");
   authenticate =3D Boolean.parseBoolean(authenticateValue);
returned false.

This is only a problem with tomcat as a service (on windows), in
command line i'm guessing the double space won't be taken into account
by the shell.


And now, another problem with this is that i can't reference
catalina.base in those options. I tried :
%CATALINA_BASE%, $CATALINA_BASE , ${catalina.base} and neither values
are expanded.
Is it possible at all?
It is not so much of a problem, i can write the path by hand, but it
would be nice to have.

C=E9dric

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238642-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 12:22:33 2012
Return-Path: <users-return-238642-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 35E77DFCD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 12:22:33 +0000 (UTC)
Received: (qmail 96351 invoked by uid 500); 17 Dec 2012 12:22:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 95936 invoked by uid 500); 17 Dec 2012 12:22:27 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 95880 invoked by uid 99); 17 Dec 2012 12:22:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 12:22:25 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mgainty@hotmail.com designates 65.55.111.77 as permitted sender)
Received: from [65.55.111.77] (HELO blu0-omc2-s2.blu0.hotmail.com) (65.55.111.77)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 12:22:19 +0000
Received: from BLU172-W31 ([65.55.111.71]) by blu0-omc2-s2.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Mon, 17 Dec 2012 04:21:58 -0800
X-EIP: [malPDrZderlJ7Hwy8uYogN/mdMRF1aQf]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W31C2ACC70EEC7F8878EF51AE320@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_c602baa1-4949-498f-8261-f66c653224df_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Tomcat 7 SSL Session ID
Date: Mon, 17 Dec 2012 07:21:58 -0500
Importance: Normal
In-Reply-To:
 <CAGVpwCwm+bsQpHBsqi60+xXchLzYjY81=Hsp4Q4k7ifmnoLrLg@mail.gmail.com>
References:
 <C45352600C954650B20BA82D82D1315D@HP6910P>,<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>,<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>,<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>,<D29BD2074E4E418399AFF7462E353635@HP6910P>,<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>,<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>,<CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>,<BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>,<50C65E12.8000206@christopherschultz.net>,<CAGVpwCwm+bsQpHBsqi60+xXchLzYjY81=Hsp4Q4k7ifmnoLrLg@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 17 Dec 2012 12:21:58.0471 (UTC) FILETIME=[1C0D5570:01CDDC51]
X-Virus-Checked: Checked by ClamAV on apache.org

--_c602baa1-4949-498f-8261-f66c653224df_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


Session.SessionTrackingModelListener.java contains
context.setSessionTrackingModes(modes)=3B with no exception handling   /**
     * @param sessionTrackingModes
     * @throws IllegalArgumentException
     *             If sessionTrackingModes specifies
     *             {@link SessionTrackingMode#SSL} in combination with any =
other
     *             {@link SessionTrackingMode}
     * @throws IllegalStateException
     *             If the context has already been initialised
     * @throws UnsupportedOperationException
     * @since Servlet 3.0 TODO SERVLET3 - Add comments
     */

    public void setSessionTrackingModes(Set<SessionTrackingMode> sessionTra=
ckingModes) throws IllegalStateException=2C IllegalArgumentException=3B
Moral of the story..always catch declared Exceptions
where is the jsp you test with?
Martin=20
______________________________________________ Please do not alter or other=
wise disrupt this communication..thank you
 > Date: Mon=2C 17 Dec 2012 09:47:09 +0100
> Subject: Re: Tomcat 7 SSL Session ID
> From: goelenv@gmail.com
> To: users@tomcat.apache.org
>=20
> Hey=2C
>=20
> http://users.telenet.be/goelenv/SSLTomcat.zip
>=20
> in this link you can find a netbeans project that will generate the fault=
..
> The index.html page will send requests to the index.jsp page=2C the threa=
d
> sleep is just to emulate a long process of a request (like database thing=
s=2C
> etc)
>=20
> Kind regards=2C
> Vincent
>=20
> 2012/12/10 Christopher Schultz <chris@christopherschultz.net>
>=20
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA256
> >
> > Martin=2C
> >
> > On 12/10/12 10:22 AM=2C Martin Gainty wrote:
> > > we need to get your architect into this discussion
> > >
> > > Why is your code implementing 2 different Connections to
> > > accomplish this functionality when one Connection at a time will
> > > suffice?
> >
> > You have no idea what you are talking about. There is only one
> > connection. There is only one connector. The OP is reporting that his
> > SSL session id expires long before he is expecting it to expire.
> >
> > This has nothing to do with webapps and connectors except he happens
> > to have a connector and a webapp.
> >
> > - -chris
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > Comment: GPGTools - http://gpgtools.org
> > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> >
> > iEYEAREIAAYFAlDGXhIACgkQ9CaO5/Lv0PDwtQCgk63c5ZUVojVhdgVpHpF5IMkX
> > 3lYAoKPCpNeo8lEquukN/BRxPjuFfl1E
> > =3DtdIg
> > -----END PGP SIGNATURE-----
> >
> > ---------------------------------------------------------------------
> > To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands=2C e-mail: users-help@tomcat.apache.org
> >
> >
 		 	   		  =

--_c602baa1-4949-498f-8261-f66c653224df_--

From users-return-238643-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 13:10:14 2012
Return-Path: <users-return-238643-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8E4EBED57
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 13:10:14 +0000 (UTC)
Received: (qmail 71693 invoked by uid 500); 17 Dec 2012 13:10:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71589 invoked by uid 500); 17 Dec 2012 13:10:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71580 invoked by uid 99); 17 Dec 2012 13:10:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:10:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:10:03 +0000
Received: from [192.168.245.129] (p549E908E.dip0.t-ipconnect.de [84.158.144.142])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id E92BD3C0560
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 14:10:38 +0100 (CET)
Message-ID: <50CF1993.20009@ice-sa.com>
Date: Mon, 17 Dec 2012 14:09:39 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JMX with Listener
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>	<50C750A7.6010304@christopherschultz.net>	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>	<50C7AB5A.5020606@ice-sa.com> <CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>
In-Reply-To: <CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Cédric Couralet wrote:
> 2012/12/11 André Warnier <aw@ice-sa.com>:
>> Cédric Couralet wrote:
>> ...
>>
>>> One question, though, in the tomcat doc (for 6.0.x) for the
>>> JMXRemoteListener, the configuration is :
>>>
>>>
>>> -Dcom.sun.management.jmxremote.password.file=$CATALINA_BASE/conf/jmxremote.password
>>>
>>> -Dcom.sun.management.jmxremote.access.file=$CATALINA_BASE/conf/jmxremote.access
>>>
>>> while mine is
>>> -Dcom.sun.management.jmxremote.password.file=${CATALINA_BASE}/conf/jmxremote.password
>>> (notice the {} ).
>>>
>>> is it my mistake?
>>>
>>>
>> No, it is not a mistake.  The above are lines extracted from a shell script,
>> I presume.
>> In this particular case, $CATALINA_BASE and ${CATALINA_BASE} are equivalent.
>> The {} form helps to clarify things for the shell when the character which
>> *follows* the name of the variable, could be considered by the shell as part
>> of the variable name.
>> For example in :
>>
>> echo "something" > $my_file_conf
>>
>> it is not clear whether the name of the variable is "my" or "my_file" or
>> "my_file_conf".
>> (or anything in-between), and by default the shell will use the longer
>> possibility.
>>
>> Writing this as
>>
>> echo "something" > ${my_file}_conf
>>
>> leaves only one possible interpretation.
>>
>> In "$CATALINA_BASE/conf/jmxremote.password" there is really no ambiguity
>> (because "/" cannot be part of a variable name), but the form
>> "${CATALINA_BASE}/conf/jmxremote.password" is anyway clearer and less prone
>> to oversights.
>> (But it is slightly more work to type, and as programmers are a notoriously
>> lazy and hubristic bunch, they rarely go through the trouble).
>>
>> I suppose that - just to kid Christopher - I could on like this, talking
>> about interpolation and stuff, but I'll leave it at that because it's
>> already late here.
>>
> 
> I finally had some times to do some testing.
> First even with useLocalPorts=true, the JmxConnectorServer listen on
> all interfaces but won't accept connection from remote host. From the
> tomcat code, only the rmi client socket is forced to localhost at
> least on tomcat 6.0.x. A RMI server Socket could be created to force
> listening on a specified interface but I am not sure of any side
> effect.
> 
> Second, for my password problem, there was a problem with my
> configuration. In the tomcat service for JavaOptions, i had
> -Dcom.sun.management.jmxremote.authenticate=true (with a space after
> true), so when parsing the system properties in the Listener, the
> lines (in the init() method):
>    String authenticateValue = System.getProperty(
>                 "com.sun.management.jmxremote.authenticate", "true");
>    authenticate = Boolean.parseBoolean(authenticateValue);
> returned false.
> 
> This is only a problem with tomcat as a service (on windows), in
> command line i'm guessing the double space won't be taken into account
> by the shell.
> 
> 
> And now, another problem with this is that i can't reference
> catalina.base in those options. I tried :
> %CATALINA_BASE%, $CATALINA_BASE , ${catalina.base} and neither values
> are expanded.
> Is it possible at all?
> It is not so much of a problem, i can write the path by hand, but it
> would be nice to have.
> 

Where do you /set/ CATALINA_BASE ?


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238644-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 13:13:32 2012
Return-Path: <users-return-238644-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5AAF2ED74
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 13:13:32 +0000 (UTC)
Received: (qmail 82047 invoked by uid 500); 17 Dec 2012 13:13:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81994 invoked by uid 500); 17 Dec 2012 13:13:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81985 invoked by uid 99); 17 Dec 2012 13:13:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:13:29 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:13:24 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so8934856iej.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:13:03 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=eus53SSqBm9rPY+z8Qgsd1pOd316T+rH8hUxkhjjejc=;
        b=aIOtBDA56XxAJbv8mlpRshKcF+adqkbBWHbVdB4Wdr3x2FXPrAaG+ga/NNofpULclR
         75qF8qHH+kqtNDReLLnYwihkogghT03cYAhXdJyCZmKxegvLecRI0tGn4jiJx97V8ePU
         lcr3AkjOsFN+nU2hjLZ6+6B5aZZNCdY5/f3J1v0GOOnDDtZocwHnSTl3RFkPV8gOU2c9
         5P9YEBO4Tvoh6zhc8lGYtIvuy5WSmbTeHnBbhl28qq+Cg0GNi9rtt0XnMEGqIrjjZ9br
         3bzyh4MGznC99IClL2x4HRBp4OpLN+l35kSbE3zXRATfNjJaXB1Hg22hXBtq1HzRI2Ym
         DOHg==
MIME-Version: 1.0
Received: by 10.50.151.166 with SMTP id ur6mr8831828igb.66.1355749983794; Mon,
 17 Dec 2012 05:13:03 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Mon, 17 Dec 2012 05:13:03 -0800 (PST)
In-Reply-To: <CAFpYQw9kroXt2vjn878Xk4qrUDyO3+ZDan0Uze4vXE0VUBYyGQ@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
	<CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
	<CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
	<CAPoyBqSoVwn1johY757tKDekWoPdqV1z-WCDyvHSMjNufJQhbg@mail.gmail.com>
	<CAFpYQw9kroXt2vjn878Xk4qrUDyO3+ZDan0Uze4vXE0VUBYyGQ@mail.gmail.com>
Date: Mon, 17 Dec 2012 08:13:03 -0500
Message-ID: <CAFpYQw9EkY9K6aE3DpSM9yYR1zTHwignNTVnTc9+VqYi1P4Z1g@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f23549d30359104d10c24a7
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f23549d30359104d10c24a7
Content-Type: text/plain; charset=ISO-8859-1

As far as this goes, there is definitely something strange going on, and I
think it points to the SSL self signed cert.  Can someone verify that the
tomcat7 maven plugin works with self signed SSL?

I have setup another TC7 server on a remote BSD VM with the absolute basic
configuration.  Since the first server has the manager application running
on a self signed SSL certificate (not sure if I mentioned that before), I
decided NOT to set it [SSL] up on the new machine, and it works as expected
and can be reproduced on demand.  I notice that when I script the command
using curl, I have to pass it the -k option to get it to work.

I am wondering if that might be the problem that I am seeing, just masked
by the 401 error.  I'm looking in the tomcat logs and I'm not seeing
anything out of the ordinary though.  Maybe that error is only returned by
maven.

Anyone?


On Thu, Dec 13, 2012 at 9:48 AM, Josh Gooding <josh.gooding@gmail.com>wrote:

>
>
> On Thu, Dec 13, 2012 at 9:36 AM, Olivier Lamy <olamy@apache.org> wrote:
>
>> 2012/12/13 Josh Gooding <josh.gooding@gmail.com>:
>> > On Wed, Dec 12, 2012 at 6:05 PM, Olivier Lamy <olamy@apache.org> wrote:
>> >
>> >> Good detailed description :-).
>> >>
>> >
>> > Hey even I get it right once in a while... ;)
>> >
>> >
>> >> I just wonder about the cli you are using ?
>> >>
>> >
>> >  cli as in command line interface?  - Win 7, CentOS, and Ubuntu
>> terminals,
>> > and yes I get my fair share of flack for not letting Eclipse "just do
>> it".
>> > Of course I'm a control freak when it comes to my code...
>> :-)
>>
>> I mean mvn tomcat7:deploy or something else ?
>> or you bind deploy to a lifecycle phase ?
>>
>>
> Oh I gotcha.  tomcat7:deploy  I didn't bind the deploy to the life-cycle
> phase yet.  I want to get it working first.
>

So let me form possibly some better questions here:

1 - Where does the plug in


>
>
>>  >
>> >>
>> >> 2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
>> >> > I didn't want to come here to ask as I always hate to bother anyone,
>> but
>> >> > maybe I should have come here first.  I'm coming up short on answers
>> and
>> >> > ideas.  I'm having an issue with using maven and the tomcat7 plugin.
>> >> >
>> >> > Maven version -3.0.4
>> >> > Tomcat version - 7.0.29
>> >> > .jdk version - 1.6
>> >> > tomcat7-maven-plugin version - 2.0
>> >> >
>> >> > Hey group,  I am having an issue here with using the
>> tomcat7-maven-plugin
>> >> > in conjunction with the tomcat 7 manager.  here's what I have so far.
>> >> >
>> >> > tomcat-users.xml -
>> >> >
>> >> > <tomcat-users>
>> >> >     <role rolename="manager-gui"/>
>> >> >     <role rolename="manager-script"/>
>> >> >     <role rolename="admin"/>
>> >> >     <user username="localTomcatAdmin" password="password"
>> >> > roles="manager-gui,manager-script,admin"/>
>> >> > </tomcat-users>
>> >> >
>> >> > in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
>> >> > (I'll get to this definition in a minute)
>> >> >   <pluginGroups>
>> >> >     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
>> >> >   </pluginGroups>
>> >> >
>> >> > <servers>
>> >> >     <server>
>> >> >       <id>LocalTomcatServer</id>
>> >> >       <username>localTomcatAdmin</username>
>> >> >       <password>password</password>
>> >> >     </server>
>> >> >   </servers>
>> >> >
>> >> > now for the last piece, in my pom-deploy.xml (parent) I have this:
>> >> >
>> >> > <plugin>
>> >> >      <groupId>org.apache.tomcat.maven</groupId>
>> >> >      <artifactId>tomcat7-maven-plugin</artifactId>
>> >> >      <version>2.0</version>
>> >> >      <configuration>
>> >> >           <server>LocalTomcatServer</server>
>> >> >           <path>/TripTixRX</path>
>> >> >           <port>8080</port>
>> >> >      </configuration>
>> >> > </plugin>
>> >> >
>> >> > I have verified that the manager works with the applied credentials,
>> I
>> >> can
>> >> > login and supply the credentials to my local /manager/html.
>> >> >
>> >> > The problem is that when I deploy through maven as mvn
>> tomcat7:deploy and
>> >> > returns me the dreaded 401 - Unauthorized page with the same
>> credentials.
>> >> > It's almost like maven is not parsing the configuration for the
>> plugin
>> >> > maybe?
>> >> >
>> >> > At this point I don't know what to do.  I've turned on verbose
>> output in
>> >> > maven and it shows what appears that the plugin is attempting to
>> upload
>> >> the
>> >> > war file twice and returns the 401 page.
>> >> >
>> >> >
>> >> > I also have a question as to getting this to work initially.  I
>> added the
>> >> > <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my
>> >> conf/settings.xml
>> >> > to get the tomcat7 plugin to download and work, is this normal or
>> should
>> >> I
>> >> > not have to define it here?  I mean having to change and version
>> maven
>> >> > settings.xml files seems a bit counter intuitive for preserving
>> maximum
>> >> > portability right, or am I looking at this from the wrong angle?
>> >> >
>> >> > Any information anyone can provide as to where to look or what could
>> be
>> >> > causing this issue, I would be greatly appreciated.
>> >> >
>> >> > Warmest regards,
>> >> >
>> >> > - Josh
>> >>
>> >>
>> >>
>> >> --
>> >> Olivier Lamy
>> >> Talend: http://coders.talend.com
>> >> http://twitter.com/olamy | http://linkedin.com/in/olamy
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> >> For additional commands, e-mail: users-help@tomcat.apache.org
>> >>
>> >>
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>
>

--e89a8f23549d30359104d10c24a7--

From users-return-238645-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 13:18:47 2012
Return-Path: <users-return-238645-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 814AAED9C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 13:18:47 +0000 (UTC)
Received: (qmail 1165 invoked by uid 500); 17 Dec 2012 13:18:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1013 invoked by uid 500); 17 Dec 2012 13:18:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1002 invoked by uid 99); 17 Dec 2012 13:18:43 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:18:43 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.210.173 as permitted sender)
Received: from [209.85.210.173] (HELO mail-ia0-f173.google.com) (209.85.210.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:18:37 +0000
Received: by mail-ia0-f173.google.com with SMTP id w21so5217670iac.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:18:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=5h+gojutzHP7to9UrJSc4Adk6vzXHwwcdhCG/YdWp9I=;
        b=ar2flVV+VQwrd3QXq9zWaNO2GTuQQX3OY7u1WbTGIQ/pEqLIti424B0Q/pOGmsRrRg
         VdPq7YbGZ6sVagcjfBiWsCUzA/t12yw3zNnKU9nl/rqsj99oW7kDdNdRSAcksKyHhDw3
         5sOGh+oD2O708iLTv43lFN8yAQcJsV004sfhKcj8CpGuHkAln3NqLqfQ0+oHGXVNlkKI
         ldw4DfUhm/gNWZTc9dSw9sAVw5slLWP1wDBKlyNkWBuq3wgFMsvZxH4Sdw1Rww+edOmt
         MV+5HzkHTZAS1GUusRncjh5ajpzQPFxiY1/i6MeLRmCezIMUimt+fTtmQ2O74hRTBXqG
         pw5w==
MIME-Version: 1.0
Received: by 10.42.101.144 with SMTP id e16mr11146987ico.5.1355750297023; Mon,
 17 Dec 2012 05:18:17 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Mon, 17 Dec 2012 05:18:16 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Mon, 17 Dec 2012 05:18:16 -0800 (PST)
In-Reply-To: <50CF1993.20009@ice-sa.com>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
	<50C750A7.6010304@christopherschultz.net>
	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
	<50C7AB5A.5020606@ice-sa.com>
	<CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>
	<50CF1993.20009@ice-sa.com>
Date: Mon, 17 Dec 2012 14:18:16 +0100
Message-ID: <CAMwoAzfEjfUVT-UOOh8ZW2J-yYiU67xFn_YXH9VkbEyPDH0UhA@mail.gmail.com>
Subject: Re: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7beba2f8dbb66504d10c36fd
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7beba2f8dbb66504d10c36fd
Content-Type: text/plain; charset=ISO-8859-1

>
> Where do you /set/ CATALINA_BASE?

Hum nowhere. Ok my mistake but i set catalina.base as a jvm options and I
would like to reference it in another.  As I say it, I don't think java can
do it so i may be out of luck.

--047d7beba2f8dbb66504d10c36fd--

From users-return-238646-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 13:42:30 2012
Return-Path: <users-return-238646-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 46A49DF79
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 13:42:30 +0000 (UTC)
Received: (qmail 61004 invoked by uid 500); 17 Dec 2012 13:42:24 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 60925 invoked by uid 500); 17 Dec 2012 13:42:24 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 60867 invoked by uid 99); 17 Dec 2012 13:42:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:42:22 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 13:42:15 +0000
Received: from sc9-mailhost3.vmware.com (sc9-mailhost3.vmware.com [10.113.161.73])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 167E22826A
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:41:55 -0800 (PST)
Received: from zcs-prod-mta-3.vmware.com (zcs-prod-mta-3.vmware.com [10.113.163.65])
	by sc9-mailhost3.vmware.com (Postfix) with ESMTP id 12ADD4015A
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:41:55 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTP id 063B8E05DD
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:41:55 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-3.vmware.com
Received: from zcs-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id eG5d10i4v_Bq for <users@tomcat.apache.org>;
	Mon, 17 Dec 2012 05:41:54 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTP id B5711E0713
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:41:54 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-3.vmware.com
Received: from zcs-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id P9TRDT2A2g_Y for <users@tomcat.apache.org>;
	Mon, 17 Dec 2012 05:41:54 -0800 (PST)
Received: from [10.113.233.124] (unknown [10.113.160.14])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTPSA id 18F6DE05C6
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 05:41:53 -0800 (PST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Odd behavior observed on Eclipse's tomcat: added webapp silently ignored...
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <CA+uk_pLCd9tubsDDkHLyxa7HMrc+zNshHdBaqT6kvU4OPp+FKQ@mail.gmail.com>
Date: Mon, 17 Dec 2012 08:41:59 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <B9A8269C-4364-45F2-B5CB-738DA088A96A@vmware.com>
References: <CA+uk_pLCd9tubsDDkHLyxa7HMrc+zNshHdBaqT6kvU4OPp+FKQ@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 16, 2012, at 5:03 PM, Julien Martin wrote:

> Hello,
>=20
> After adding a webapp (war) to my Eclipse's Tomcat (7.0.34), I
> unfortunately noticed that tomcat does add it to the server but =
doesn't
> attempt to deploy it!!

Hard to say what's going on here, with the given info.  Couple =
suggestions...

1.) Try generating a WAR file and deploying it outside of Eclipse?  If =
this works, the you know the problem is with your Eclipse setup.
2.) Try creating a simple test WAR with a "Hello World" servlet and =
deploy that.  Does it work?

>=20
> The only suspicious log was the following one:
>=20
> *ATTENTION: [SetPropertiesRule]{Server/Service/Engine/Host/Context} =
Setting
> property 'source' to 'org.eclipse.jst.jee.server:kadjoukor' did not =
find a
> matching property*

I don't think this will prevent your application from starting.  It's =
simply saying that you have a Context element that has an attribute =
"source", however "source" is not a valid attribute for the Context =
element.  To correct this, locate the Context element that has this =
attribute and remove it.

For a list of valid properties, see the docs here.

  https://tomcat.apache.org/tomcat-7.0-doc/config/context.html

> *
> *
> FYI, this started occuring after I added the latest tomcat server =
(7.0.34)
> to eclipse. Also my app is called *kadkjoukor*.

It's likely that the previous version you were using did not check for =
invalid attributes.  Older versions of Tocmat just ignored invalid =
attributes.

Dan



>=20
> Can anyone please help?
>=20
> Regards,
>=20
> Julien.
> *
> *


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238647-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 14:10:44 2012
Return-Path: <users-return-238647-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63C91D0AA
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 14:10:44 +0000 (UTC)
Received: (qmail 50732 invoked by uid 500); 17 Dec 2012 14:10:40 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 50681 invoked by uid 500); 17 Dec 2012 14:10:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 50671 invoked by uid 99); 17 Dec 2012 14:10:40 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 14:10:40 +0000
Received: from localhost (HELO mail-lb0-f173.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 14:10:40 +0000
Received: by mail-lb0-f173.google.com with SMTP id c1so4602643lbg.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 06:10:38 -0800 (PST)
Received: by 10.152.47.75 with SMTP id b11mr10847828lan.14.1355753438397; Mon,
 17 Dec 2012 06:10:38 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.76.231 with HTTP; Mon, 17 Dec 2012 06:10:17 -0800 (PST)
In-Reply-To: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
References: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Mon, 17 Dec 2012 15:10:17 +0100
Message-ID: <CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com>
Subject: Re: Tomcat common and webapp classloader
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Any sample project you could share ? Attach it in a new jira issue.
That will help for debugging your use case.
Thanks

2012/12/16 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
> Hello.
>
> I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great!
>
> I'm getting some extrange behavior with classloaders, I think that
> tomcat common classloader is interfering in webapp classloader. I have
> Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
> at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 is
> loaded before in the webapp.
>
> I tried to use "delegate =3D false" in the plugin config in order to get
> first the webapp artifacts, but the behavior is the same.
>
> My plugin config:
> <plugin>
>     <groupId>org.apache.tomcat.maven</groupId>
>     <artifactId>tomcat6-maven-plugin</artifactId>
>     <version>2.0</version>
>     <configuration>
>         <port>8080</port>
>         <path>/app</path>
>         <serverXml>src/main/config/server.xml</serverXml>
>         <additionalConfigFilesDir>src/main/config/tomcat-conf</additional=
ConfigFilesDir>
>         <systemProperties>
>             <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HOME=
/conf/jaas.conf</JAVA_OPTS>
>         </systemProperties>
>         <delegate>false</delegate>
>     </configuration>
>     <dependencies>
>         <dependency>
>             <groupId>es.klicap.clinker</groupId>
>             <artifactId>josso-tomcat60-agent</artifactId>
>             <version>1.3.0</version>
>         </dependency>
>     </dependencies>
> </plugin>
>
> Note that josso-tomcat60-agent is the dependency that I want at tomcat
> level and it gets Spring 2.5.5 transitively.
>
> Am I using "delegate" correctly?
>
> Thanks!
>
> --
> Antonio Manuel Mu=F1iz Mart=EDn
> Software Developer at klicap - ingenier=EDa del puzle
>
> work phone + 34 954 894 322
> www.klicap.es | blog.klicap.es
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238648-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 14:15:16 2012
Return-Path: <users-return-238648-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5956DD0EB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 14:15:15 +0000 (UTC)
Received: (qmail 64702 invoked by uid 500); 17 Dec 2012 14:15:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64639 invoked by uid 500); 17 Dec 2012 14:15:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64216 invoked by uid 99); 17 Dec 2012 14:15:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 14:15:10 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 14:14:53 +0000
Received: from [192.168.245.129] (p549E908E.dip0.t-ipconnect.de [84.158.144.142])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id AE93F3C03ED
	for <users@tomcat.apache.org>; Mon, 17 Dec 2012 15:15:29 +0100 (CET)
Message-ID: <50CF28C7.50104@ice-sa.com>
Date: Mon, 17 Dec 2012 15:14:31 +0100
From: =?ISO-8859-1?Q?Andr=E9_Warnier?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: JMX with Listener
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>	<50C750A7.6010304@christopherschultz.net>	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>	<50C7AB5A.5020606@ice-sa.com>	<CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>	<50CF1993.20009@ice-sa.com> <CAMwoAzfEjfUVT-UOOh8ZW2J-yYiU67xFn_YXH9VkbEyPDH0UhA@mail.gmail.com>
In-Reply-To: <CAMwoAzfEjfUVT-UOOh8ZW2J-yYiU67xFn_YXH9VkbEyPDH0UhA@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Cédric Couralet wrote:
>> Where do you /set/ CATALINA_BASE?
> 
> Hum nowhere. Ok my mistake but i set catalina.base as a jvm options and I
> would like to reference it in another.  As I say it, I don't think java can
> do it so i may be out of luck.
> 

When you run Tomcat 7 as a Service, you run in fact the program tomcat7.exe.
This program is a "service wrapper".  It contains the necessary plumbing to behave like a 
Service for Windows, and itself then runs the Java VM which runs Tomcat.
When it starts the Java VM, it also provides it with run parameters, which it takes from 
the Windows Registry.
Tomcat7.exe is a renamed copy of the Apache "prunsrv" program, of which more info here : 
http://commons.apache.org/daemon/procrun.html

That's one part of it.

The second part is the tomcat7w.exe program. That is also a renamed version of the 
"prunmgr" program of the same Apache procrun project.
This program is a GUI Registry editor, which /sets/ the parameters in the Registry, that 
tomcat7.exe will later read and interpret to run the JVM.

More info here : http://tomcat.apache.org/tomcat-7.0-doc/windows-service-howto.html

To remove/install the Tomcat7 service, you can run the "service.bat" command-file in 
(tomcat_dir)/bin.  Now /this/ command-file is a Windows command-file, and it looks in the 
Windows environment of the process in which you run it, for a value %CATALINA_BASE%.
And then it uses that value to set the appropriate parameters to run the tomcat7.exe 
program in "install service" mode (which initially sets the Registry parameters).

So if you open a command window, set the CATALINA_BASE variable, and then run the 
service.bat script to create the service, that would probably do what you want.

Later if you want to change it, you can probably do this by running tomcat7.exe with the 
//US (update service) switch (see the doc).


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238649-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 16:20:55 2012
Return-Path: <users-return-238649-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 85708E282
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 16:20:55 +0000 (UTC)
Received: (qmail 46212 invoked by uid 500); 17 Dec 2012 16:20:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44132 invoked by uid 500); 17 Dec 2012 16:19:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43498 invoked by uid 99); 17 Dec 2012 16:19:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 16:19:01 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-ie0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 16:18:56 +0000
Received: by mail-ie0-f173.google.com with SMTP id e13so9250308iej.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 08:18:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=81HWcsSRyBYPXZYh9kbrc7siVAvcSIueTquvllTS160=;
        b=NXhvahP0PAkrLCoIvBizvTRftIBjjBAPn1CBR2lQPNNteLfMAK4MwK+kYSbSRPxcxu
         ISqI+gcUciqAA5giob40l+oG5I7PMxB05PjNvciq4pwl1iYmwgxIMGZu4kXAch96gKgv
         YN+R74yy3kBGlytPFv00kkGtbMvH0ILebUqxgNmYHlVOP/plDKL/kV8Aff3a2ezH6N82
         lRvOo+iyLIGlomBy69CSznNwr4mG+D+yuSsrHaJXtsey9VzSb3cYVNPw8woWXZ4as9EJ
         cpwh4SIOhUexs1ainB5HUQ8kthn3Ol7dLoTjIRyphzdrQnlH/KsWK5QSxUeB6gWwvRdk
         xxVg==
MIME-Version: 1.0
Received: by 10.43.117.197 with SMTP id fn5mr11704889icc.7.1355761115581; Mon,
 17 Dec 2012 08:18:35 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Mon, 17 Dec 2012 08:18:35 -0800 (PST)
In-Reply-To: <50CF28C7.50104@ice-sa.com>
References: <CAMwoAzcq6L1VGhcSUay5GA1gCuMfiMCYHx1Dwnh5s05G=zERCg@mail.gmail.com>
	<50C750A7.6010304@christopherschultz.net>
	<CAMwoAzezGtWHpghP5eHcyk+f8f6qJCVsKOrt5tpGo6Jd8oUbGA@mail.gmail.com>
	<50C7AB5A.5020606@ice-sa.com>
	<CAMwoAzcHsFCPtfcc6618dhiC0_F+ooFKmKO9WUB0GJeACrsdHw@mail.gmail.com>
	<50CF1993.20009@ice-sa.com>
	<CAMwoAzfEjfUVT-UOOh8ZW2J-yYiU67xFn_YXH9VkbEyPDH0UhA@mail.gmail.com>
	<50CF28C7.50104@ice-sa.com>
Date: Mon, 17 Dec 2012 17:18:35 +0100
Message-ID: <CAMwoAzdW=CgGXLN+PpBX3twioutjqP2zW-CDZJFS06Unz-sVyA@mail.gmail.com>
Subject: Re: JMX with Listener
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/17 Andr=E9 Warnier <aw@ice-sa.com>:
> C=E9dric Couralet wrote:
>>>
>>> Where do you /set/ CATALINA_BASE?
>>
>>
>> Hum nowhere. Ok my mistake but i set catalina.base as a jvm options and =
I
>> would like to reference it in another.  As I say it, I don't think java
>> can
>> do it so i may be out of luck.
>>
>
[snip great explanation on tomcat as a windows service]
>
> Later if you want to change it, you can probably do this by running
> tomcat7.exe with the //US (update service) switch (see the doc).
>

Thank you for all this :)
I know I can probably do it by updating (or uninstall/install) the
service, but I was wondering if one could set a jvm option like
-Dtest=3Dtrue and then reference it in another Java option like
-Dtest2=3D${test}, but it is far from being a question in topic.

My initial problem is resolved :
 - JMXRemoteLifecycleListener listens on all interface -> seems normal
as any connection from remote hosts seems to be rejected.
 - the authenticate=3Dtrue was not taken into account by tomcat -> it
was due to a space after the "true" in the java_options for the
service. That space cause the line
authenticate=3DBoolean.parseBolean(authenticateValue) to return false.
It can't happen when running in command line, as the spaces will be
considered as one by the shell.

Thanks everyone for the big help.

C=E9dric

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238650-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 16:53:25 2012
Return-Path: <users-return-238650-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 41868D2AE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 16:53:25 +0000 (UTC)
Received: (qmail 56649 invoked by uid 500); 17 Dec 2012 16:53:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56542 invoked by uid 500); 17 Dec 2012 16:53:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56492 invoked by uid 99); 17 Dec 2012 16:53:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 16:53:21 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of goelenv@gmail.com designates 209.85.220.173 as permitted sender)
Received: from [209.85.220.173] (HELO mail-vc0-f173.google.com) (209.85.220.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 16:52:34 +0000
Received: by mail-vc0-f173.google.com with SMTP id f13so7421995vcb.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 08:52:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=sMiB1N/DkIQMlV/QjMUUuJNXsqZeslxzotv3Y2TuXEQ=;
        b=Xn6hEU6zO2KRkOsJidY2VfENYlmxo74yIPlmVhcNuKMfYv6P739lkFhZXkE2PNq8az
         2HL+RwYFbw42KUStZ2tHIk5eW/ZoAnMEKbzk32ibteT/sU7Na+Fmx26OdQf6TaZ3yISl
         bls+8VxnQHW480YGiiDn2WF+Oz1FeTotpLnb0kwBR/mZnkUON5yMxtQ9gkg2WuE06Bmo
         3OE538TAiVb+iMuR2pPadCl1no2nir2NWoDfuGZHhft5GPdlYMXmL/W5bVuvOCreOhgu
         Ev5fxLF7pquwnoDNmbBaINFjgQ1QgNjHN3r3dtcDGunscR1Zn60sOxAbQnz9vkeZrZn8
         X1Mg==
MIME-Version: 1.0
Received: by 10.58.214.231 with SMTP id od7mr24948158vec.44.1355763133773;
 Mon, 17 Dec 2012 08:52:13 -0800 (PST)
Received: by 10.58.89.134 with HTTP; Mon, 17 Dec 2012 08:52:13 -0800 (PST)
In-Reply-To: <BLU172-W31C2ACC70EEC7F8878EF51AE320@phx.gbl>
References: <C45352600C954650B20BA82D82D1315D@HP6910P>
	<BLU172-W17ACD074E3173E222B1DA2AE460@phx.gbl>
	<131AF4D0D1B248CD9F4C95D8290732AF@HP6910P>
	<CAGVpwCzADy+ewrGX3o3MDt2X35L4VD_EMBiU5WN2pu=onO8w5w@mail.gmail.com>
	<D29BD2074E4E418399AFF7462E353635@HP6910P>
	<CAGVpwCyjgEp8abs_NwZhVoWGr8SvG7zTjeHEKWy3_c9Rp4mCgw@mail.gmail.com>
	<BLU172-W2241A6F0E33867884CCAA6AE450@phx.gbl>
	<CAGVpwCyS0CZBJk00A2bChGbiw2+P__YLHEhgaP6HRbYpEvuGdg@mail.gmail.com>
	<BLU172-W7495A03BC0D049DE8B75BAE490@phx.gbl>
	<50C65E12.8000206@christopherschultz.net>
	<CAGVpwCwm+bsQpHBsqi60+xXchLzYjY81=Hsp4Q4k7ifmnoLrLg@mail.gmail.com>
	<BLU172-W31C2ACC70EEC7F8878EF51AE320@phx.gbl>
Date: Mon, 17 Dec 2012 17:52:13 +0100
Message-ID: <CAGVpwCx6SL-8x2-cKsegtNdR8bU+s+OXJgYDRQS7Fo4qbDFKrg@mail.gmail.com>
Subject: Re: Tomcat 7 SSL Session ID
From: Vincent Goelen <goelenv@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=089e01183198fcf83a04d10f3389
X-Virus-Checked: Checked by ClamAV on apache.org

--089e01183198fcf83a04d10f3389
Content-Type: text/plain; charset=ISO-8859-1

If you run the test.jsp page.. When you send a request and interrupt it
while it's processing.. For example by pressing the stop loading button
immediatly after sending the request or by pressing the refresh button fast
enough..

When you look what happens then: the SSL connection sends close notifies
which should make sure no more data is sent over the connection..
This does happen, the client has sent it's TCP close packet and after that
it receives application data from the server while it shouldn't do that
according to the ssl specs.. When the client receives this application data
after the connection is already closed, it sends a TCP rst packet causing
an invalidate of the server...

This problem has nothing to do with not using the exception handling but
seems to me more a problem of Tomcat's priority of TCP specs in front of
SSL specs

2012/12/17 Martin Gainty <mgainty@hotmail.com>

>
> Session.SessionTrackingModelListener.java contains
> context.setSessionTrackingModes(modes); with no exception handling   /**
>      * @param sessionTrackingModes
>      * @throws IllegalArgumentException
>      *             If sessionTrackingModes specifies
>      *             {@link SessionTrackingMode#SSL} in combination with any
> other
>      *             {@link SessionTrackingMode}
>      * @throws IllegalStateException
>      *             If the context has already been initialised
>      * @throws UnsupportedOperationException
>      * @since Servlet 3.0 TODO SERVLET3 - Add comments
>      */
>
>     public void setSessionTrackingModes(Set<SessionTrackingMode>
> sessionTrackingModes) throws IllegalStateException,
> IllegalArgumentException;
> Moral of the story..always catch declared Exceptions
> where is the jsp you test with?
> Martin
> ______________________________________________ Please do not alter or
> otherwise disrupt this communication..thank you
>  > Date: Mon, 17 Dec 2012 09:47:09 +0100
> > Subject: Re: Tomcat 7 SSL Session ID
> > From: goelenv@gmail.com
> > To: users@tomcat.apache.org
> >
> > Hey,
> >
> > http://users.telenet.be/goelenv/SSLTomcat.zip
> >
> > in this link you can find a netbeans project that will generate the
> fault..
> > The index.html page will send requests to the index.jsp page, the thread
> > sleep is just to emulate a long process of a request (like database
> things,
> > etc)
> >
> > Kind regards,
> > Vincent
> >
> > 2012/12/10 Christopher Schultz <chris@christopherschultz.net>
> >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA256
> > >
> > > Martin,
> > >
> > > On 12/10/12 10:22 AM, Martin Gainty wrote:
> > > > we need to get your architect into this discussion
> > > >
> > > > Why is your code implementing 2 different Connections to
> > > > accomplish this functionality when one Connection at a time will
> > > > suffice?
> > >
> > > You have no idea what you are talking about. There is only one
> > > connection. There is only one connector. The OP is reporting that his
> > > SSL session id expires long before he is expecting it to expire.
> > >
> > > This has nothing to do with webapps and connectors except he happens
> > > to have a connector and a webapp.
> > >
> > > - -chris
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> > >
> > > iEYEAREIAAYFAlDGXhIACgkQ9CaO5/Lv0PDwtQCgk63c5ZUVojVhdgVpHpF5IMkX
> > > 3lYAoKPCpNeo8lEquukN/BRxPjuFfl1E
> > > =tdIg
> > > -----END PGP SIGNATURE-----
> > >
> > > ---------------------------------------------------------------------
> > > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >
> > >
>
>

--089e01183198fcf83a04d10f3389--

From users-return-238651-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 17:26:49 2012
Return-Path: <users-return-238651-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CD45E2BB
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 17:26:49 +0000 (UTC)
Received: (qmail 75774 invoked by uid 500); 17 Dec 2012 17:26:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 75568 invoked by uid 500); 17 Dec 2012 17:26:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 75540 invoked by uid 99); 17 Dec 2012 17:26:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 17:26:45 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pid@pidster.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 17:26:40 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so5888636obc.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 09:26:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=IF1MCkGRt6aa3NsxNJyjBNC6i6P4MZUP4KTqbY/95uA=;
        b=KFnazSOnp5W5CegkHwnlcF5DXTM8sw5C8gsh/BXmh77I62TU8fkkkSoGt2nsTJWAau
         QW9/194Epl2zYPE9N1dT2ZH175HQ/gm4cGlkDTYoSQo6wrFWlUNhUErlTxQ45gpOD6+p
         Q6I+QGVykfS8+u0i3RHKMk/95KcC/InC4qqSM=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=IF1MCkGRt6aa3NsxNJyjBNC6i6P4MZUP4KTqbY/95uA=;
        b=SUCZGFMJ1wEmhFDPDHy2j7rYdWXf4eTz7TTszU97pQE4lDKnxY68KG0xGAueyUUv/c
         J4PqgcsY5duwJbZ5jg14k1XSUKvO9B5ShUgkodsa6Fsd+VkHtiZjfKbjb+qEi7hG2aa9
         v7mX66mIO1/e4vWcyYEL/fm4NU2JmIckRNF+hUsSANDYec50QeZ1jmnDYNdJREiKhhsG
         ImmqZDc/K2gd3tMl9xhkQN93Yg1SeP6JUQvUE8vLpCiG6W/JW3Xj4kUKffp8TIa4qsfp
         ToCAv4u3IBIaKyp3faaoKKXs+kdLpgBWQVfOtDEbYffmLkcuz/Z+tA7h5u1VIlOo9x0N
         8Wgw==
Received: by 10.182.88.3 with SMTP id bc3mr12087721obb.8.1355765178663; Mon,
 17 Dec 2012 09:26:18 -0800 (PST)
References: <CA+uk_pLCd9tubsDDkHLyxa7HMrc+zNshHdBaqT6kvU4OPp+FKQ@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CA+uk_pLCd9tubsDDkHLyxa7HMrc+zNshHdBaqT6kvU4OPp+FKQ@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Mon, 17 Dec 2012 17:28:10 +0000
Message-ID: <8152237178970700821@unknownmsgid>
Subject: Re: Odd behavior observed on Eclipse's tomcat: added webapp silently ignored...
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQm7Qqtl9EDNPq3sMAT74V3jPPaONktrbJyvep+a6CcQoppxPyQj2My5K9WZaO2WeZvw6Kak
X-Virus-Checked: Checked by ClamAV on apache.org

On 16 Dec 2012, at 22:03, Julien Martin <balteo@gmail.com> wrote:

> Hello,
>
> After adding a webapp (war) to my Eclipse's Tomcat (7.0.34), I
> unfortunately noticed that tomcat does add it to the server but doesn't
> attempt to deploy it!!
>
> The only suspicious log was the following one:
>
> *ATTENTION: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting
> property 'source' to 'org.eclipse.jst.jee.server:kadjoukor' did not find a
> matching property*

It is not a problem, it's just a warning.

Eclipse adds this property to Context elements for its own purposes.


p



> *
> *
> FYI, this started occuring after I added the latest tomcat server (7.0.34)
> to eclipse. Also my app is called *kadkjoukor*.
>
> Can anyone please help?
>
> Regards,
>
> Julien.
> *
> *

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238652-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 18:00:51 2012
Return-Path: <users-return-238652-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DC210E3E3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 18:00:51 +0000 (UTC)
Received: (qmail 73910 invoked by uid 500); 17 Dec 2012 18:00:48 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 73691 invoked by uid 500); 17 Dec 2012 18:00:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 73665 invoked by uid 99); 17 Dec 2012 18:00:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 18:00:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 18:00:41 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so5932230obc.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 10:00:20 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=AVNGT84tgOsNYyeC0e5DT4sDmD8a2codWem0QOBDrJQ=;
        b=SN/TvlUkgp4Jt84hHtVfC+NU5kwq9+K5eHv89ZdXcM8Ofxv3hXdfh6d9i016iTIcYR
         FwNRu+jgiMdbAeR7Lhn0WKRrYpqR8tfAP9oihLGGnZGSEJJz3wNISHo5xg4WzO01Dd0H
         lG27NYJYYQ8wlGloNpPPA+PvZLbjrXPi/6ywTofBoZu/hUqm8EyKlT/jVk6L7e19rfJo
         qZw6ZIUeaMudpAbADGsMBOwowgBxdvyiq6blOxzFRAapUU0ze2PFlf6PPpHxWeAdFEe6
         pUCYkbBfgENK1ITacV61bTqlIGFzDSWclgdg6zr7f5cRCk197+UKAgOjb+ERB1FVscsS
         /3sA==
Received: by 10.60.1.132 with SMTP id 4mr12148143oem.140.1355767220333; Mon,
 17 Dec 2012 10:00:20 -0800 (PST)
MIME-Version: 1.0
Received: by 10.76.169.130 with HTTP; Mon, 17 Dec 2012 10:00:00 -0800 (PST)
X-Originating-IP: [85.137.199.179]
In-Reply-To: <CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com>
References: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
 <CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com>
From: =?ISO-8859-1?Q?Antonio_Manuel_Mu=F1iz_Mart=EDn?= <amuniz@klicap.es>
Date: Mon, 17 Dec 2012 19:00:00 +0100
Message-ID: <CAPXkZJnDJNq+WfKDVwdgRfpeNY60T=8rXXn7QfzytO318my8VQ@mail.gmail.com>
Subject: Re: Tomcat common and webapp classloader
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQkhmtM+d2ZPYrErtZ5eeGJjj1G+A8C1URjVmYexVKc0ZkcgkTnaLDVPh/4MVuLao7McxYfE
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Olivier,

My fault, I found the problem, I had two spring versions in my dependencies=
.
However I have another question, could I use dependencies from
non-central repository in the plugin dependencies? It seems like the
plugin only search for dependencies at central.

Thanks,
Antonio.

2012/12/17 Olivier Lamy <olamy@apache.org>:
> Any sample project you could share ? Attach it in a new jira issue.
> That will help for debugging your use case.
> Thanks
>
> 2012/12/16 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
>> Hello.
>>
>> I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great!
>>
>> I'm getting some extrange behavior with classloaders, I think that
>> tomcat common classloader is interfering in webapp classloader. I have
>> Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
>> at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 is
>> loaded before in the webapp.
>>
>> I tried to use "delegate =3D false" in the plugin config in order to get
>> first the webapp artifacts, but the behavior is the same.
>>
>> My plugin config:
>> <plugin>
>>     <groupId>org.apache.tomcat.maven</groupId>
>>     <artifactId>tomcat6-maven-plugin</artifactId>
>>     <version>2.0</version>
>>     <configuration>
>>         <port>8080</port>
>>         <path>/app</path>
>>         <serverXml>src/main/config/server.xml</serverXml>
>>         <additionalConfigFilesDir>src/main/config/tomcat-conf</additiona=
lConfigFilesDir>
>>         <systemProperties>
>>             <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HOM=
E/conf/jaas.conf</JAVA_OPTS>
>>         </systemProperties>
>>         <delegate>false</delegate>
>>     </configuration>
>>     <dependencies>
>>         <dependency>
>>             <groupId>es.klicap.clinker</groupId>
>>             <artifactId>josso-tomcat60-agent</artifactId>
>>             <version>1.3.0</version>
>>         </dependency>
>>     </dependencies>
>> </plugin>
>>
>> Note that josso-tomcat60-agent is the dependency that I want at tomcat
>> level and it gets Spring 2.5.5 transitively.
>>
>> Am I using "delegate" correctly?
>>
>> Thanks!
>>
>> --
>> Antonio Manuel Mu=F1iz Mart=EDn
>> Software Developer at klicap - ingenier=EDa del puzle
>>
>> work phone + 34 954 894 322
>> www.klicap.es | blog.klicap.es
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--=20
Antonio Manuel Mu=F1iz Mart=EDn
Software Developer at klicap - ingenier=EDa del puzle

work phone + 34 954 894 322
www.klicap.es | blog.klicap.es

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238653-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 18:29:03 2012
Return-Path: <users-return-238653-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 64D0BDF38
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 18:29:03 +0000 (UTC)
Received: (qmail 67143 invoked by uid 500); 17 Dec 2012 18:29:02 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 67024 invoked by uid 500); 17 Dec 2012 18:29:02 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66611 invoked by uid 99); 17 Dec 2012 18:29:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 18:29:01 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nicopeters.np@gmail.com designates 209.85.215.45 as permitted sender)
Received: from [209.85.215.45] (HELO mail-la0-f45.google.com) (209.85.215.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 18:28:53 +0000
Received: by mail-la0-f45.google.com with SMTP id p9so4872910laa.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 10:28:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=6M/xMorONyvquMNvSDFRWfCkvsKCY+dIxAf6IMP76qI=;
        b=Kyxg4ESwDVMdpssjRW7O7O/tHjzAKrbmZopiqHYb6vEvhGLlPRq11NIgYzy85wgWOW
         66qF7g2dEDFk5OxLJKgaYtjmEiDnJDJXyKsD/CteyB7w1bwxT+cFsKxXbpR/40c7nFOW
         VoetV2kC37Jp0GNEfFF4vLa3+vOG+p0rFMkOpFxW+jPc6Lddlkyrhy6WDxxwzZysRhtk
         8+DHE9gTa45m44NwiX5zwZrnqIR7hvp/SDROl+OHiC3l0bjbNEu3ugDleGe3bKpB5Gjh
         67hSwkrqQmWjmb0EcHB8FiU1snCTH3cH0IAvTsDwVBgvmk5VEBMatjPXLfip3zv7aszp
         4pGQ==
Received: by 10.112.44.134 with SMTP id e6mr816263lbm.134.1355768913332; Mon,
 17 Dec 2012 10:28:33 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.92.37 with HTTP; Mon, 17 Dec 2012 10:28:13 -0800 (PST)
In-Reply-To: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com>
References: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com>
From: Nico Peters <nicopeters.np@gmail.com>
Date: Mon, 17 Dec 2012 19:28:13 +0100
Message-ID: <CAOr=0+2+hOdfZ+HqEG=cm9so0LMZ0gRQBjwoRDDx0xODwrGZVA@mail.gmail.com>
Subject: Re: Tomcat 6.0.35, PersistentManager with FileStore - Session file
 size increases endlessly
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=bcaec554d29a7a0a8004d1108c20
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec554d29a7a0a8004d1108c20
Content-Type: text/plain; charset=ISO-8859-1

Hi Chris,

the context.xml looks like this:

<?xml version='1.0' encoding='utf-8'?>

<Context>

    <!-- Default set of monitored resources -->
    <WatchedResource>WEB-INF/web.xml</WatchedResource>

    <Manager className="org.apache.catalina.session.PersistentManager"
    saveOnRestart="true"
    minIdleSwap="0"
    maxIdleSwap="60"
    maxIdleBackup="0">
    <Store className="org.apache.catalina.session.FileStore" />
    </Manager>
</Context>

Unfortunately, I didn't have any more detailed information. I haven't
thought about dumping the thread, because I had to solve the problem fast.

I hope someone has some more information for that incident.

Best

Nicolas

--bcaec554d29a7a0a8004d1108c20--

From users-return-238654-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 19:07:26 2012
Return-Path: <users-return-238654-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B60A2D5A2
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 19:07:26 +0000 (UTC)
Received: (qmail 88170 invoked by uid 500); 17 Dec 2012 19:07:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87963 invoked by uid 500); 17 Dec 2012 19:07:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87944 invoked by uid 99); 17 Dec 2012 19:07:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:07:22 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.59.211] (HELO QMTA11.westchester.pa.mail.comcast.net) (76.96.59.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:07:16 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by QMTA11.westchester.pa.mail.comcast.net with comcast
	id ch4S1k01f1uE5Es5Bj6sgf; Mon, 17 Dec 2012 19:06:52 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id cj6r1k00A38FjT13cj6ssd; Mon, 17 Dec 2012 19:06:52 +0000
Message-ID: <50CF6D47.9040908@christopherschultz.net>
Date: Mon, 17 Dec 2012 14:06:47 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0 - http client
References: <2BDAA50A-7B1D-4092-958B-3149C8335769@yahoo.co.in> <50CB4F66.8040400@pidster.com> <50CB60A9.2000607@christopherschultz.net> <CACmC4yB00XWMZD1bb1jnK4upARVHrZw8DrrDOpQtORza-Pjw5w@mail.gmail.com> <1355512360.86524.YahooMailNeo@web193103.mail.sg3.yahoo.com>
In-Reply-To: <1355512360.86524.YahooMailNeo@web193103.mail.sg3.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355771212;
	bh=dSZ9/L/J2JAzte8qBKAAEtoWjLN+f1hDKOLLDwD33Y0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=Kbq0M4P2+nI28MMznUklQvn07+khT2y3a126djuXbBsY4Hlx5rrqOLYMnaV2UsWRd
	 JcGfhLc1Jp5R0Kt7Iu9NzYh5vK0NQf8DgrlUlbkefVCBReeXv7rcTgcxlQ55jyZIcJ
	 HsViym8tdD4xBjc9d6N/hr7CIMB52W5T1Dv7N3zIzFD5LyuJtwTfA6ouecbDRdP/oF
	 iX9WC+oNCrpoI281MsJjSMrWAvGi4BEZwceB75ZU1WO76zUoSD01lJfoaXxuwh5P6n
	 vOFNoZLMyt5e1opW3ey5wehH+nfKmyCqYC8br0DkKv3a3thmTF0L2GESgI5W1WoFIz
	 U/dvqsQLwWhfQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Vicky,

On 12/14/12 2:12 PM, vicky wrote:
> Thanks guys for responding, from network side there are no issues 
> infact as confirmed by our Network team

Of /course/ the network team says that the network is fine ;)

> I am accessing my application over http port, i seek your advise
> on tunning my http client with respect to my tomcat

Again, it's likely that your application needs to be tuned, not
Tomcat. If you want to blame Tomcat for overhead, then create a
trivial webapp (or use something from the 'examples' webapp) and run
your load test against that. Then, you'll be tuning Tomcat and not
just randomly changing things and hoping they work.

> 1>>We're using MultiThreadedHttpConnectionManager, In this do you 
> guys have any recommendation/best practices for setting up the 
> parameters like maxHostConnections, maxTotalConnections,connection 
> timeout w.r.t tomcat

Are you using Apache JMeter? Are you running it locally, or over a
network? Please describe your load-test scenario.

> To narrow down response time issue , i took couple of thread dumps 
> ,related to it i have following concerns I am getting hard time in 
> making sense out of thread dumps , please  shed some light on my 
> below queries , Any weblink will be a great help :-

It would help if you were to post one or those.

> 2>> There were many http threads were in waiting state, is it bad
> ??

That depends upon what "waiting" means in your thread dump. Different
JVMs and different tools use different words for different things. Sad
but true. Also, "RUNNABLE" doesn't always mean runnable, which is
frustrating.

> 3>> In thread dumps there are many types of thread like http 
> ,TP,scheduler etc

> a) when request is received by tomcat which type of thread will
> handle the request.

The names of the threads are affected by a number of different
configuration parameters. Posting the thread dump will help. It would
also help to know if you have an <Executor> defined.

> b) does there is a different thread type in case we're forwarding a
> request from apache to Tomcat over AJP port

That depends upon your configuration. Please post your <Connector>
configuration(s).

> c) In case if slow response respone from an application , what
> ideally we should look in thread dumps

Look at methods that often show up on the top of the call stack.

> Does we should focus on the no. of  HTTP idle threads or scheduler
> threads or something else.

Idle threads should not be a problem. If you have idle threads, then
you either

a) are not providing enough load to your webapp and you can pile more on

or

b) have more threads allocated than requests you are willing to accept
   (e.g. your thread pool is too big)

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDPbUcACgkQ9CaO5/Lv0PAHsQCeMfbuLSvvcX7BABjIa0vFJ/qR
bvcAn2i4Oicmbyp8sfCsK7iLH0Ptn1CA
=X3/R
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238655-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 19:12:49 2012
Return-Path: <users-return-238655-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5FA85D5C7
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 19:12:49 +0000 (UTC)
Received: (qmail 4065 invoked by uid 500); 17 Dec 2012 19:12:43 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3665 invoked by uid 500); 17 Dec 2012 19:12:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3281 invoked by uid 99); 17 Dec 2012 19:12:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:12:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:12:08 +0000
Received: from omta04.westchester.pa.mail.comcast.net ([76.96.62.35])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id cbZg1k00F0ldTLk55jBlXq; Mon, 17 Dec 2012 19:11:45 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta04.westchester.pa.mail.comcast.net with comcast
	id cjBj1k00Y38FjT13QjBk6D; Mon, 17 Dec 2012 19:11:45 +0000
Message-ID: <50CF6E6B.1060703@christopherschultz.net>
Date: Mon, 17 Dec 2012 14:11:39 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CB965D.5080209@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F7CB@CH1PRD0410MB369.namprd04.prod.outlook.com>
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023825F7CB@CH1PRD0410MB369.namprd04.prod.outlook.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355771505;
	bh=ThcVP7B0MRlsnKrn7XGgD+g1zCur04sWLzgDvAyvz/I=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=eCKBVjdOKHHBMtS+3kmCSU+6ZkXD/fv//eGhokS/Fd3K/JimLQ7D6b9LxZMunRw2g
	 iPa49HYNM9aKI05z7CBcIvxrt+aj3EzW226Zx/pcW/diCbKJ+rbV0Slj7Mr8V1suJc
	 awcsEdoPWiIc5bd+DUgVpTyZfaxaMX9T89SdOlSJB8Wu+X/UnmkNLx5JdHkSarekaK
	 oCy6AO/gOKPPWYR3/uni3gsnD8one5ROgS5T+mEKBjuL0Pn0uGhF36RAkkF+eeAI8M
	 mRZPKlDAQmvGC3uKMuNBZpH1uUu/F3sr0DmApD5CEUWjnJ5gRIrLy39/o0/f1MCqWH
	 0ttirnhIzgiJA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Nick,

On 12/14/12 4:28 PM, Williams, Nick wrote:
>> If it was using the global Content-length header, it would count 
>> not only the encoded data bytes, but also the parts separators, 
>> headers etc..
> 
>> So that's nice. It counts only the net data bytes, which is
>> easier to compare to the size on disk of a file that you would
>> upload.
> 
> Indeed. A great explanation for why this would be done, and a much 
> more logical way to do it than just using Content-Length ("the
> easy way out").

Also, Tomcat has to fully drain the input stream, anyway, so bombing
"earlier" by checking the Content-Length doesn't actually improve
anything.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDPbmsACgkQ9CaO5/Lv0PDEQgCfYIxtmmsCqWthDN5fciu4CYup
l80An3Bt3nlSB0zfe3YN6ax1VHnnx7o/
=Eny7
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238656-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 19:23:50 2012
Return-Path: <users-return-238656-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F1DCAD67E
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 19:23:49 +0000 (UTC)
Received: (qmail 36699 invoked by uid 500); 17 Dec 2012 19:23:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 36496 invoked by uid 500); 17 Dec 2012 19:23:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 36481 invoked by uid 99); 17 Dec 2012 19:23:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:23:46 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:23:40 +0000
Received: from omta21.westchester.pa.mail.comcast.net ([76.96.62.72])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id cc9v1k0021ZXKqc55jPL8H; Mon, 17 Dec 2012 19:23:20 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta21.westchester.pa.mail.comcast.net with comcast
	id cjPJ1k00o38FjT13hjPKWy; Mon, 17 Dec 2012 19:23:19 +0000
Message-ID: <50CF7125.9060102@christopherschultz.net>
Date: Mon, 17 Dec 2012 14:23:17 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: [OT] Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CB965D.5080209@ice-sa.com> <50CB9A60.1010901@apache.org> <50CBA30E.6010907@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F818@CH1PRD0410MB369.namprd04.prod.outlook.com>
In-Reply-To: <7CF0788AAB53854AB15567D68F4196023825F818@CH1PRD0410MB369.namprd04.prod.outlook.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355772200;
	bh=3RFNGK7OazLH4REVFmCWM637gnPfDD/FpHCakjVU6UY=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=CvkUF5A7gDWXkOHYDIMRlOClifDAPXN5kRwcdSP8P18GTnUBcaNnzlw9OKVh6gKcZ
	 9oUZq/+3Je3GWxET28In0iP1O60IiheYCavLYhwkpqD6JjbJzejz681aTEnJ8ND2Gf
	 vLA9Jt0RwGWfkD1z/R1A/hQfqviGzV5FybycPxFzEuxWy1BgTWZIH/5rFZCW+EQzEF
	 Pau+hhSnHXHj+ujxWxgME5vaGpG6hLa/MlNev8NJpLvmSo8bwoIsxA07OU160JnRAH
	 er1Rk+gdCpRkPUGDu7SQEhUu39bYYAgs+xzfliP8sdxc+VRKDBtczUVarxG+elKdGu
	 J1Vh3D7xRMrLg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Nick,

On 12/14/12 5:36 PM, Williams, Nick wrote:
>> The way Tomcat is apparently doing it now is much more sensible,
>> in my humble opinion, because it does allow a direct and easy 
>> comparison with the files being uploaded. And since as per above
>> it needs to be kept in some cases anyway, my vote - if I had one
>> - would be to not change it.
> 
> I must agree with AndrÃ©. The process of base64 encoding a file 
> increases the number of bytes it takes to transmit it. But since
> that is not the actual size of the file, the extra length should
> not be counted towards the post size. The process by which the part
> lengths are added up DECODED is a much more accurate way to do it,
> in my opinion.

Right.

It also protects against uploading a file using gzip encoding where
the actual file is larger that the "upload limit".

It also means that uploading a zip bomb[1] can be detected and prevented.

Reasonable people can argue about the appropriateness of the first
point above (is the admin trying to cap the number of bytes uploaded
or the number of bytes effectively placed on the filesystem?) but the
second one is very important to the stability of a server.

> How confusing would it be to a user who uploads a file that is
> 1,989,956 bytes to get notified that the file exceeded the 2 MB 
> limit? The user certainly wouldn't understand that his file base64 
> encoded was larger than 2 MB. He would think the site was broken.

Files are rarely uploaded using base64 over HTTP -- that kind of thing
is much more common when using binary-intolerant systems like SMTP.
I'm not sure any normal user-agents can upload using base64, anyway. I
think you basically have identity, compress, gzip, and deflate
content-encodings. Anything done with base64 would have to have a
custom client and the webapp would have to handle the decoding.

- -chris

[1] http://en.wikipedia.org/wiki/Zip_bomb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDPcSUACgkQ9CaO5/Lv0PDmOgCePVBEtJBvjvZKA8Y6q0HJKxx6
v/gAoJwZePfcY+yiCO6A1YtciYH9cJZZ
=sG2l
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238657-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 19:31:05 2012
Return-Path: <users-return-238657-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2D6A6E43C
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 19:31:05 +0000 (UTC)
Received: (qmail 58200 invoked by uid 500); 17 Dec 2012 19:31:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58078 invoked by uid 500); 17 Dec 2012 19:31:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 57805 invoked by uid 99); 17 Dec 2012 19:31:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:31:01 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 19:30:53 +0000
Received: from omta02.westchester.pa.mail.comcast.net ([76.96.62.19])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id ccNg1k0050QuhwU53jWY6m; Mon, 17 Dec 2012 19:30:32 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta02.westchester.pa.mail.comcast.net with comcast
	id cjWW1k00Z38FjT13NjWXT5; Mon, 17 Dec 2012 19:30:32 +0000
Message-ID: <50CF72D5.6030506@christopherschultz.net>
Date: Mon, 17 Dec 2012 14:30:29 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 6.0.35, PersistentManager with FileStore - Session file
 size increases endlessly
References: <CAOr=0+0kuajJs58EAY6F8wtgHk=yEC9khD8b-sz-CdB9_dbp7A@mail.gmail.com> <CAOr=0+2+hOdfZ+HqEG=cm9so0LMZ0gRQBjwoRDDx0xODwrGZVA@mail.gmail.com>
In-Reply-To: <CAOr=0+2+hOdfZ+HqEG=cm9so0LMZ0gRQBjwoRDDx0xODwrGZVA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355772632;
	bh=yjijDTwDwX+ykboLNi4z0SKFgVvgUtAWd+6fjafXTII=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=LCLuDG6PQYK4VWxr5uV9UBh9ilT28inLNjjZOkYyVmmDCjWfINpX+XkpP6UCa6hmj
	 /VyO7XOZtT8/UOUMlj/EIlPN9MCwvKyyJdMO9nkZA/4A8D3Vc9+fUiU0FrwGKUtS6s
	 GRdO5VRhYkX7l81cXFsnZ0PvqWXrU8M2mnyS2hDBO8v0LpMncQZfveJwjL8AZf/GCy
	 Hita97FptZupikBxossQBywHwFgy6lxmLqn6fJCrW6huN8ne0SMw4kAWNRFmxQcOcO
	 KyD7FvUzHRmEvSFHgwVoI/AjVYUIWUwnG5DQJafl/vpmT1fVHrIWV0m45HWQ+UuLv5
	 JsskjYqMPUNlg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256



On 12/17/12 1:28 PM, Nico Peters wrote:
> Hi Chris,
> 
> the context.xml looks like this:
> 
> <?xml version='1.0' encoding='utf-8'?>
> 
> <Context>
> 
> <!-- Default set of monitored resources --> 
> <WatchedResource>WEB-INF/web.xml</WatchedResource>
> 
> <Manager className="org.apache.catalina.session.PersistentManager" 
> saveOnRestart="true" minIdleSwap="0"

So you want sessions to be purged from memory (and put on the disk)
ASAP? That seems aggressive. I don't think you want to use HttpSession
at all if that's the case.

> maxIdleSwap="60"

Force swap-to-disk after 60 seconds.

> maxIdleBackup="0">

So you want to copy sessions to disk as soon as possible?

> <Store className="org.apache.catalina.session.FileStore" /> 
> </Manager> </Context>
> 
> Unfortunately, I didn't have any more detailed information. I
> haven't thought about dumping the thread, because I had to solve
> the problem fast.
> 
> I hope someone has some more information for that incident.

It's tough to tell what might have happened without much information.
Have you performed a read/write test on the disk? Hardware test on the
server?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDPctUACgkQ9CaO5/Lv0PC4DwCeLGGE1UA74RyxZtEsPVxJ86Aj
NrEAnRqboKG0lG45jddMI2YOtbA+DvOa
=mtUW
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238658-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 20:29:19 2012
Return-Path: <users-return-238658-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id AA021D1F5
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 20:29:19 +0000 (UTC)
Received: (qmail 7351 invoked by uid 500); 17 Dec 2012 20:29:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7281 invoked by uid 500); 17 Dec 2012 20:29:16 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 7267 invoked by uid 99); 17 Dec 2012 20:29:16 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 20:29:16 +0000
Received: from localhost (HELO mail-la0-f45.google.com) (127.0.0.1)
  (smtp-auth username olamy, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 20:29:15 +0000
Received: by mail-la0-f45.google.com with SMTP id p9so4980598laa.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 12:29:13 -0800 (PST)
Received: by 10.112.82.226 with SMTP id l2mr23498lby.51.1355776153488; Mon, 17
 Dec 2012 12:29:13 -0800 (PST)
MIME-Version: 1.0
Received: by 10.112.76.231 with HTTP; Mon, 17 Dec 2012 12:28:52 -0800 (PST)
In-Reply-To: <CAPXkZJnDJNq+WfKDVwdgRfpeNY60T=8rXXn7QfzytO318my8VQ@mail.gmail.com>
References: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
 <CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com> <CAPXkZJnDJNq+WfKDVwdgRfpeNY60T=8rXXn7QfzytO318my8VQ@mail.gmail.com>
From: Olivier Lamy <olamy@apache.org>
Date: Mon, 17 Dec 2012 21:28:52 +0100
Message-ID: <CAPoyBqQ8hL5p+LVquNbBLeG9q=P_ohdLTAqUjde1zbG2aw_w1Q@mail.gmail.com>
Subject: Re: Tomcat common and webapp classloader
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

2012/12/17 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
> Hi Olivier,
>
> My fault, I found the problem, I had two spring versions in my dependenci=
es.
> However I have another question, could I use dependencies from
> non-central repository in the plugin dependencies? It seems like the
> plugin only search for dependencies at central.
>
Must work if you declare your repository in <pluginRepositories> section.

> Thanks,
> Antonio.
>
> 2012/12/17 Olivier Lamy <olamy@apache.org>:
>> Any sample project you could share ? Attach it in a new jira issue.
>> That will help for debugging your use case.
>> Thanks
>>
>> 2012/12/16 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
>>> Hello.
>>>
>>> I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great!
>>>
>>> I'm getting some extrange behavior with classloaders, I think that
>>> tomcat common classloader is interfering in webapp classloader. I have
>>> Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
>>> at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 is
>>> loaded before in the webapp.
>>>
>>> I tried to use "delegate =3D false" in the plugin config in order to ge=
t
>>> first the webapp artifacts, but the behavior is the same.
>>>
>>> My plugin config:
>>> <plugin>
>>>     <groupId>org.apache.tomcat.maven</groupId>
>>>     <artifactId>tomcat6-maven-plugin</artifactId>
>>>     <version>2.0</version>
>>>     <configuration>
>>>         <port>8080</port>
>>>         <path>/app</path>
>>>         <serverXml>src/main/config/server.xml</serverXml>
>>>         <additionalConfigFilesDir>src/main/config/tomcat-conf</addition=
alConfigFilesDir>
>>>         <systemProperties>
>>>             <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HO=
ME/conf/jaas.conf</JAVA_OPTS>
>>>         </systemProperties>
>>>         <delegate>false</delegate>
>>>     </configuration>
>>>     <dependencies>
>>>         <dependency>
>>>             <groupId>es.klicap.clinker</groupId>
>>>             <artifactId>josso-tomcat60-agent</artifactId>
>>>             <version>1.3.0</version>
>>>         </dependency>
>>>     </dependencies>
>>> </plugin>
>>>
>>> Note that josso-tomcat60-agent is the dependency that I want at tomcat
>>> level and it gets Spring 2.5.5 transitively.
>>>
>>> Am I using "delegate" correctly?
>>>
>>> Thanks!
>>>
>>> --
>>> Antonio Manuel Mu=F1iz Mart=EDn
>>> Software Developer at klicap - ingenier=EDa del puzle
>>>
>>> work phone + 34 954 894 322
>>> www.klicap.es | blog.klicap.es
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>
>
>
> --
> Antonio Manuel Mu=F1iz Mart=EDn
> Software Developer at klicap - ingenier=EDa del puzle
>
> work phone + 34 954 894 322
> www.klicap.es | blog.klicap.es
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>



--
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238659-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 21:59:41 2012
Return-Path: <users-return-238659-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4526AE5FD
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 21:59:41 +0000 (UTC)
Received: (qmail 53793 invoked by uid 500); 17 Dec 2012 21:59:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 53556 invoked by uid 500); 17 Dec 2012 21:59:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 53545 invoked by uid 99); 17 Dec 2012 21:59:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 21:59:37 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of edludvig80@gmail.com designates 209.85.214.173 as permitted sender)
Received: from [209.85.214.173] (HELO mail-ob0-f173.google.com) (209.85.214.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 21:59:31 +0000
Received: by mail-ob0-f173.google.com with SMTP id xn12so6211748obc.18
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 13:59:10 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=W+MzhgTXWW6amBbci51qT4Ps4RABa4dh/aaQIwuG2+4=;
        b=gN78Vp9SwmXDwGjPMsTQl3UXsaaiTnIg633mjlQWm0ecWIZsuLiMz+4VnzOQGwiyLs
         LwntdKzysEFZuE/gNs3gT37RQERFnMoKz3q+GOjjtwtXtjCpHY0+ZoIdytsxRaO6s3Io
         wyVmNOjoQeoF+juUuGh8F+Fp2sAYtmhDn3ll6KTDAbAPevk4u0CkwCZLxxii51SLRjkr
         oaL4wvsVyvwJHQkYALybPjLxQtdSvuUaleGDjUQOaVPhlKk3crVKOZf9/Bba99vlZurt
         HmAAV7HH3ddx6JoV4WNP4kZLPP4RfyuFNMXoItz7RJDEcuyQ95mgb/ZPcz+8Ho4259cv
         99gA==
MIME-Version: 1.0
Received: by 10.182.141.70 with SMTP id rm6mr13061417obb.59.1355781550435;
 Mon, 17 Dec 2012 13:59:10 -0800 (PST)
Received: by 10.76.82.37 with HTTP; Mon, 17 Dec 2012 13:59:10 -0800 (PST)
In-Reply-To: <OF5BDE1BB4.92089C64-ON85257AD2.004BEE88-85257AD2.004C21AE@nexweb.us>
References: <OF77E4BB73.DD189E55-ON85257AD1.004A73EF-85257AD1.004D885B@nexweb.us>
	<CABzHfV=Vqp9On-nYHRtgvg2E2b+b6yeL7_OhZqv8VPE7QAn6BQ@mail.gmail.com>
	<OF5BDE1BB4.92089C64-ON85257AD2.004BEE88-85257AD2.004C21AE@nexweb.us>
Date: Mon, 17 Dec 2012 16:59:10 -0500
Message-ID: <CAHFhN__jHC3h-o8fRd955nu0+NqM4QsoeyzpwKeh-EqL79feJg@mail.gmail.com>
Subject: Re: Tomcat 7.33 update on Windows
From: Ed Ludvig <edludvig80@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f643ca6b4ee1e04d1137d3e
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f643ca6b4ee1e04d1137d3e
Content-Type: text/plain; charset=ISO-8859-1

good post

On Wed, Dec 12, 2012 at 8:51 AM, Justin Larose <Justin.Larose@nexweb.org>wrote:

> Konstantin Kolinko <knst.kolinko@gmail.com> wrote on 12/11/2012 09:12:16
> AM:
>
> > From: Konstantin Kolinko <knst.kolinko@gmail.com>
> > To: Tomcat Users List <users@tomcat.apache.org>
> > Date: 12/11/2012 09:12 AM
> > Subject: Re: Tomcat 7.33 update on Windows
> >
> > 2012/12/11 Justin Larose <Justin.Larose@nexweb.org>:
> > > I just updated Tomcat 7 from version 7.11 to 7.33 on my windows server
> but
> > > when I goto the URL I am seeing 500 error, "Cannot load JDBC driver
> class
> > > 'com.microsoft.sqlserver.jdbc.SQLServerDriver'"
> > > Not sure why. I made a copy of all config directories prior to install
> and
> > > copied them all to the new Tomcat home. Below is the full stack.
> > >
> > > (...)
> > >
> > > root cause
> > >
> > > java.lang.ClassNotFoundException:
> > > com.microsoft.sqlserver.jdbc.SQLServerDriver
> > >
>
> > What jar contains the above class and whether it is present in your
> > installation? I guess you forgot to copy it.
>
> > (It should be placed into Tomcat's lib/ directory).
>
> Thanks for your help Konstantin.
> It was missing a sql file in the lib directory. It wasn't there when I
> copied the old Tomcat directory so I had to copy it from another server.
>
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
>
>
> ******************************************************************************
> This email and any files transmitted with it are intended solely for
> the use of the individual or agency to whom they are addressed.
> If you have received this email in error please notify the Navy
> Exchange Service Command e-mail administrator. This footnote
> also confirms that this email message has been scanned for the
> presence of computer viruses.
>
> Thank You!
>
> ******************************************************************************
>
>

--e89a8f643ca6b4ee1e04d1137d3e--

From users-return-238660-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 17 22:04:31 2012
Return-Path: <users-return-238660-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A2A6FE63A
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 17 Dec 2012 22:04:31 +0000 (UTC)
Received: (qmail 68386 invoked by uid 500); 17 Dec 2012 22:04:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68288 invoked by uid 500); 17 Dec 2012 22:04:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68227 invoked by uid 99); 17 Dec 2012 22:04:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 22:04:23 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of krismaker188@gmail.com designates 209.85.216.49 as permitted sender)
Received: from [209.85.216.49] (HELO mail-qa0-f49.google.com) (209.85.216.49)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 17 Dec 2012 22:04:17 +0000
Received: by mail-qa0-f49.google.com with SMTP id r4so65727qaq.8
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 14:03:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=rD94Ie8EAHXBK+8ZaP2YUEFI//qa50wQlDtaD5gLz0M=;
        b=ocK2f5DP+PmGqst6ifBLW5mZa/iYCGKMFvk1QxDU1oyJTbGwyXAWs89si+U2G/lK2R
         VLOr0Hq0LzgK+bK2Dyi6tWFlohOWoEVd+a0TLjcL95nJmX4vqKFW4tuSuHvj9DjGb1+m
         FyYKPbt+bw/waKhqIygVulQbnCqp05EPLvj4gpOqWBxOVomW6VCaC7BS4oDSJDo8EfO6
         q6MuBgnw4ND7MXF7Ct9JXRD70fM/14fXwEkif4hnx375VffwOvpvIcu4j8J3RCI9x5bQ
         Uwv+vLNVLl2tCMGrQfEFIDsD8Q2QU0bEUhMgrO4Ymn8bWwLQFpx8P0ZJqAw7MTaCils/
         d41g==
MIME-Version: 1.0
Received: by 10.224.76.208 with SMTP id d16mr11118qak.46.1355781836637; Mon,
 17 Dec 2012 14:03:56 -0800 (PST)
Received: by 10.49.127.180 with HTTP; Mon, 17 Dec 2012 14:03:56 -0800 (PST)
In-Reply-To: <CAPoyBqQ8hL5p+LVquNbBLeG9q=P_ohdLTAqUjde1zbG2aw_w1Q@mail.gmail.com>
References: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
	<CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com>
	<CAPXkZJnDJNq+WfKDVwdgRfpeNY60T=8rXXn7QfzytO318my8VQ@mail.gmail.com>
	<CAPoyBqQ8hL5p+LVquNbBLeG9q=P_ohdLTAqUjde1zbG2aw_w1Q@mail.gmail.com>
Date: Mon, 17 Dec 2012 17:03:56 -0500
Message-ID: <CAKBP=ie5b2K8nJPWOponvcD1_jZVQwPKTWCPyhPAgYZhznv3kQ@mail.gmail.com>
Subject: Re: Tomcat common and webapp classloader
From: Kris Maker <krismaker188@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3074b5b2c404cd04d1138e1f
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3074b5b2c404cd04d1138e1f
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

yea should work

On Mon, Dec 17, 2012 at 3:28 PM, Olivier Lamy <olamy@apache.org> wrote:

> 2012/12/17 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
> > Hi Olivier,
> >
> > My fault, I found the problem, I had two spring versions in my
> dependencies.
> > However I have another question, could I use dependencies from
> > non-central repository in the plugin dependencies? It seems like the
> > plugin only search for dependencies at central.
> >
> Must work if you declare your repository in <pluginRepositories> section.
>
> > Thanks,
> > Antonio.
> >
> > 2012/12/17 Olivier Lamy <olamy@apache.org>:
> >> Any sample project you could share ? Attach it in a new jira issue.
> >> That will help for debugging your use case.
> >> Thanks
> >>
> >> 2012/12/16 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
> >>> Hello.
> >>>
> >>> I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great!
> >>>
> >>> I'm getting some extrange behavior with classloaders, I think that
> >>> tomcat common classloader is interfering in webapp classloader. I hav=
e
> >>> Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
> >>> at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 i=
s
> >>> loaded before in the webapp.
> >>>
> >>> I tried to use "delegate =3D false" in the plugin config in order to =
get
> >>> first the webapp artifacts, but the behavior is the same.
> >>>
> >>> My plugin config:
> >>> <plugin>
> >>>     <groupId>org.apache.tomcat.maven</groupId>
> >>>     <artifactId>tomcat6-maven-plugin</artifactId>
> >>>     <version>2.0</version>
> >>>     <configuration>
> >>>         <port>8080</port>
> >>>         <path>/app</path>
> >>>         <serverXml>src/main/config/server.xml</serverXml>
> >>>
> <additionalConfigFilesDir>src/main/config/tomcat-conf</additionalConfigFi=
lesDir>
> >>>         <systemProperties>
> >>>
> <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HOME/conf/jaas.c=
onf</JAVA_OPTS>
> >>>         </systemProperties>
> >>>         <delegate>false</delegate>
> >>>     </configuration>
> >>>     <dependencies>
> >>>         <dependency>
> >>>             <groupId>es.klicap.clinker</groupId>
> >>>             <artifactId>josso-tomcat60-agent</artifactId>
> >>>             <version>1.3.0</version>
> >>>         </dependency>
> >>>     </dependencies>
> >>> </plugin>
> >>>
> >>> Note that josso-tomcat60-agent is the dependency that I want at tomca=
t
> >>> level and it gets Spring 2.5.5 transitively.
> >>>
> >>> Am I using "delegate" correctly?
> >>>
> >>> Thanks!
> >>>
> >>> --
> >>> Antonio Manuel Mu=F1iz Mart=EDn
> >>> Software Developer at klicap - ingenier=EDa del puzle
> >>>
> >>> work phone + 34 954 894 322
> >>> www.klicap.es | blog.klicap.es
> >>>
> >>> ---------------------------------------------------------------------
> >>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >>> For additional commands, e-mail: users-help@tomcat.apache.org
> >>>
> >>
> >>
> >>
> >> --
> >> Olivier Lamy
> >> Talend: http://coders.talend.com
> >> http://twitter.com/olamy | http://linkedin.com/in/olamy
> >>
> >> ---------------------------------------------------------------------
> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> >> For additional commands, e-mail: users-help@tomcat.apache.org
> >>
> >
> >
> >
> > --
> > Antonio Manuel Mu=F1iz Mart=EDn
> > Software Developer at klicap - ingenier=EDa del puzle
> >
> > work phone + 34 954 894 322
> > www.klicap.es | blog.klicap.es
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
> >
>
>
>
> --
> Olivier Lamy
> Talend: http://coders.talend.com
> http://twitter.com/olamy | http://linkedin.com/in/olamy
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--20cf3074b5b2c404cd04d1138e1f--

From users-return-238661-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 01:44:11 2012
Return-Path: <users-return-238661-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BB91CDBE3
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 01:44:11 +0000 (UTC)
Received: (qmail 50018 invoked by uid 500); 18 Dec 2012 01:44:08 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 49909 invoked by uid 500); 18 Dec 2012 01:44:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 49895 invoked by uid 99); 18 Dec 2012 01:44:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 01:44:04 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of esmond.pitt@bigpond.com designates 61.9.168.146 as permitted sender)
Received: from [61.9.168.146] (HELO nskntmtas04p.mx.bigpond.com) (61.9.168.146)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 01:43:56 +0000
Received: from nskntcmgw08p ([61.9.169.168]) by nskntmtas04p.mx.bigpond.com
          with ESMTP
          id <20121218014333.LXXO27890.nskntmtas04p.mx.bigpond.com@nskntcmgw08p>;
          Tue, 18 Dec 2012 01:43:33 +0000
Received: from HP6910P ([120.151.14.51])
	by nskntcmgw08p with BigPond Outbound
	id cpjY1k00S165irc01pjZoU; Tue, 18 Dec 2012 01:43:33 +0000
X-Authority-Analysis: v=2.0 cv=FNuZNpUs c=1 sm=1
 a=4u9tzJkkMcV5r5ibEi6r6w==:17 a=hesdidE6XCEA:10 a=JDadKst33uMA:10
 a=kj9zAlcOel0A:10 a=1IlZJK9HAAAA:8 a=Z-wADx3DLQcA:10 a=pGLkceISAAAA:8
 a=69EAbJreAAAA:8 a=mV9VRH-2AAAA:8 a=9QprVBgnAAAA:8 a=-57I09spAAAA:8
 a=j4nzMFrpAAAA:8 a=QfKxxUxMAAAA:8 a=6JZFe-61t5qsMgBnHm4A:9 a=CjuIK1q_8ugA:10
 a=MSl-tDqOz04A:10 a=EfJqPEOeqlMA:10 a=EnLKqdGQ194A:10 a=tDQXzUaUpZwA:10
 a=NWVoK91CQyQA:10 a=aUUpPPvxun2wUgjx:21 a=9cXkuSabQIU8Quvx:21
 a=4u9tzJkkMcV5r5ibEi6r6w==:117
From: "Esmond Pitt" <esmond.pitt@bigpond.com>
To: "'Vincent Goelen'" <goelenv@gmail.com>,
	"'Tomcat Users List'" <users@tomcat.apache.org>
References: <BLU172-W31C2ACC70EEC7F8878EF51AE320@phx.gbl> <CAGVpwCx6SL-8x2-cKsegtNdR8bU+s+OXJgYDRQS7Fo4qbDFKrg@mail.gmail.com>
In-Reply-To: <CAGVpwCx6SL-8x2-cKsegtNdR8bU+s+OXJgYDRQS7Fo4qbDFKrg@mail.gmail.com>
Subject: RE: Tomcat 7 SSL Session ID
Date: Tue, 18 Dec 2012 12:43:31 +1100
Message-ID: <1B156DCEDAA64601BD7564434C837C3E@HP6910P>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 11
Thread-Index: Ac3cwG3rGaZ3o969RMSDATWIYoZmgQAAG9bQ
X-MimeOLE: Produced By Microsoft MimeOLE V6.1.7601.17609
X-Virus-Checked: Checked by ClamAV on apache.org

The peer can't receive the SSL close_notify or the TCP FIN until it has
received all the pending data from the sender. Conversely, if there is any
TCP data in flight back to the sender when the peer receives the
close_notify and FIN it will not be discarded. The response close_notify and
FIN can only be sent after any pending data.

EJP 

-----Original Message-----
From: Vincent Goelen [mailto:goelenv@gmail.com] 
Sent: Tuesday, 18 December 2012 3:52 AM
To: Tomcat Users List
Subject: Re: Tomcat 7 SSL Session ID

If you run the test.jsp page.. When you send a request and interrupt it
while it's processing.. For example by pressing the stop loading button
immediatly after sending the request or by pressing the refresh button fast
enough..

When you look what happens then: the SSL connection sends close notifies
which should make sure no more data is sent over the connection..
This does happen, the client has sent it's TCP close packet and after that
it receives application data from the server while it shouldn't do that
according to the ssl specs.. When the client receives this application data
after the connection is already closed, it sends a TCP rst packet causing an
invalidate of the server...

This problem has nothing to do with not using the exception handling but
seems to me more a problem of Tomcat's priority of TCP specs in front of SSL
specs

2012/12/17 Martin Gainty <mgainty@hotmail.com>

>
> Session.SessionTrackingModelListener.java contains
> context.setSessionTrackingModes(modes); with no exception handling   /**
>      * @param sessionTrackingModes
>      * @throws IllegalArgumentException
>      *             If sessionTrackingModes specifies
>      *             {@link SessionTrackingMode#SSL} in combination with any
> other
>      *             {@link SessionTrackingMode}
>      * @throws IllegalStateException
>      *             If the context has already been initialised
>      * @throws UnsupportedOperationException
>      * @since Servlet 3.0 TODO SERVLET3 - Add comments
>      */
>
>     public void setSessionTrackingModes(Set<SessionTrackingMode>
> sessionTrackingModes) throws IllegalStateException, 
> IllegalArgumentException; Moral of the story..always catch declared 
> Exceptions where is the jsp you test with?
> Martin
> ______________________________________________ Please do not alter or 
> otherwise disrupt this communication..thank you  > Date: Mon, 17 Dec 
> 2012 09:47:09 +0100
> > Subject: Re: Tomcat 7 SSL Session ID
> > From: goelenv@gmail.com
> > To: users@tomcat.apache.org
> >
> > Hey,
> >
> > http://users.telenet.be/goelenv/SSLTomcat.zip
> >
> > in this link you can find a netbeans project that will generate the
> fault..
> > The index.html page will send requests to the index.jsp page, the 
> > thread sleep is just to emulate a long process of a request (like 
> > database
> things,
> > etc)
> >
> > Kind regards,
> > Vincent
> >
> > 2012/12/10 Christopher Schultz <chris@christopherschultz.net>
> >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA256
> > >
> > > Martin,
> > >
> > > On 12/10/12 10:22 AM, Martin Gainty wrote:
> > > > we need to get your architect into this discussion
> > > >
> > > > Why is your code implementing 2 different Connections to 
> > > > accomplish this functionality when one Connection at a time will 
> > > > suffice?
> > >
> > > You have no idea what you are talking about. There is only one 
> > > connection. There is only one connector. The OP is reporting that 
> > > his SSL session id expires long before he is expecting it to expire.
> > >
> > > This has nothing to do with webapps and connectors except he 
> > > happens to have a connector and a webapp.
> > >
> > > - -chris
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> > > Comment: GPGTools - http://gpgtools.org
> > > Comment: Using GnuPG with undefined - http://www.enigmail.net/
> > >
> > > iEYEAREIAAYFAlDGXhIACgkQ9CaO5/Lv0PDwtQCgk63c5ZUVojVhdgVpHpF5IMkX
> > > 3lYAoKPCpNeo8lEquukN/BRxPjuFfl1E
> > > =tdIg
> > > -----END PGP SIGNATURE-----
> > >
> > > ------------------------------------------------------------------
> > > --- To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > > For additional commands, e-mail: users-help@tomcat.apache.org
> > >
> > >
>
>


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238662-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 02:03:50 2012
Return-Path: <users-return-238662-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1971FDC75
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 02:03:50 +0000 (UTC)
Received: (qmail 90827 invoked by uid 500); 18 Dec 2012 02:03:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90742 invoked by uid 500); 18 Dec 2012 02:03:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90732 invoked by uid 99); 18 Dec 2012 02:03:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:03:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of james.dekker@gmail.com designates 74.125.82.50 as permitted sender)
Received: from [74.125.82.50] (HELO mail-wg0-f50.google.com) (74.125.82.50)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:03:38 +0000
Received: by mail-wg0-f50.google.com with SMTP id es5so29725wgb.17
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 18:03:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=OmB3pwOB4SL3fIZjOUp+fFVDa1YWl+SbDiAnE28XHqg=;
        b=mDkkYAnBrlt3+taPrHOxDQu6ApBRG9zCGYvsdZwIWpwgHxcCsqoHmTzdyyULo8s8Fk
         /JOZhjUDcL2286jIiQWSyeBnYEnEYddnBIFJ1DwPRSGfG7U2UOb4d7PcRqC3ij32pXEV
         5IRAaQA26BRT1GCQzkFgyxkhWy9SZo9PfNLfZW4DmTE12MIbqEcEsyXlmNE1VlPhUEBb
         vIavIytsO8flB2qssg2MM+2bBQN9HFYNjxYBfl4pYLfJrIyTQutrIKKE/jemGphSp3+K
         fGbel0GjXoq8wI7ZTr8v9ERrARQcG3RjvBqtTagUIDq5CaTpqD9CuHIXHuh4H3J76TOU
         lq2g==
MIME-Version: 1.0
Received: by 10.180.85.165 with SMTP id i5mr707634wiz.11.1355796197343; Mon,
 17 Dec 2012 18:03:17 -0800 (PST)
Received: by 10.194.103.106 with HTTP; Mon, 17 Dec 2012 18:03:17 -0800 (PST)
Date: Mon, 17 Dec 2012 18:03:17 -0800
Message-ID: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
Subject: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
From: James Dekker <james.dekker@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0445182dbb02f704d116e631
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0445182dbb02f704d116e631
Content-Type: text/plain; charset=ISO-8859-1

Am using JDK 1.6, tomcat 7.0.32, and Red Hat Linux.

I need help setting up SSL on my local tomcat instance.

After looking at the instructions on the official tomcat 7 website:

http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html]http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html

I followed the directions like this:

(1) cd $CATALINA_HOME/conf

(2) Create a certificate and store it in a new key store.

keytool -genkey -alias tomcat -keyalg RSA -keystore .jks

(3) Uncomment the SSL connector configuration in Tomcat's conf/server.xml,
specifying your key store file and password.

<Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
               maxThreads="150" scheme="https" secure="true"
   clientAuth="false" sslProtocol="TLS"
   keystoreFile="./conf/keystore.jks"
   keystorePass="mypassword"
/>

(4) Export the certificate from the key store.

keytool -exportcert -alias tomcat -file tomcat.crt -keystore keystore.jks

When I tried to (which would have been Step # 5) import the certificate
into the trust store.

keytool -importcert -alias tomcat -file tomcat.crt -trustcacerts -keystore
$JAVA_HOME/jre/lib/security/cacerts

I get the following prompt for my password (after which I entered in
"mypassword"):

Enter keystore password:

keytool error: java.io.IOException: Keystore was tampered with, or password
was incorrect

(I disregarded this step by the way because I found it on Google but not on
the official Tomcat7-SSL-Howto documentation - please let me know if its
necessary).

Tomcat's server output:

    INFO: Initializing ProtocolHandler ["http-bio-8080"]
    Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
    INFO: Initializing ProtocolHandler ["http-bio-8443"]
    Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
    INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
    Dec 17, 2012 5:43:08 PM org.apache.catalina.startup.Catalina start
    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
    INFO: Starting ProtocolHandler ["http-bio-8080"]
    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
    INFO: Starting ProtocolHandler ["http-bio-8443"]
    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
    INFO: Server startup in 9611 ms

When I go to my bash shell and type this in:

    curl -X GET https://localhost:8443

I get the following error output:

curl: (60) Peer certificate cannot be authenticated with known CA
certificates
More details here: http://curl.haxx.se/docs/sslcerts.html

curl performs SSL certificate verification by default, using a "bundle"
of Certificate Authority (CA) public keys (CA certs). If the default
bundle file isn't adequate, you can specify an alternate file
using the --cacert option.
If this HTTPS server uses a certificate signed by a CA represented in
the bundle, the certificate verification probably failed due to a
problem with the certificate (it might be expired, or the name might
not match the domain name in the URL).
If you'd like to turn off curl's verification of the certificate, use
the -k (or --insecure) option.

Am I missing a step here?

I just want to enable SSL on Tomcat 7 and test it using curl.

Would appreciate it if someone could point me in the right direction.

If you wish to see this posting with better syntax coloring or my full
server.xml, please check out these identical (but with more detail) forum
posts:

http://stackoverflow.com/questions/13925146/how-to-enable-ssl-on-tomcat-7-on-linux-test-using-curl

http://www.coderanch.com/t/600556/Tomcat/Enable-SSL-Tomcat-Linux

Happy programming,

James

--f46d0445182dbb02f704d116e631--

From users-return-238663-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 02:51:14 2012
Return-Path: <users-return-238663-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BCC33DFAC
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 02:51:14 +0000 (UTC)
Received: (qmail 11332 invoked by uid 500); 18 Dec 2012 02:51:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 10929 invoked by uid 500); 18 Dec 2012 02:51:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 10858 invoked by uid 99); 18 Dec 2012 02:51:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:51:04 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of otnateos@gmail.com designates 209.85.214.181 as permitted sender)
Received: from [209.85.214.181] (HELO mail-ob0-f181.google.com) (209.85.214.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:50:57 +0000
Received: by mail-ob0-f181.google.com with SMTP id oi10so106083obb.26
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 18:50:37 -0800 (PST)
X-Received: by 10.60.172.230 with SMTP id bf6mr333112oec.102.1355799037031;
        Mon, 17 Dec 2012 18:50:37 -0800 (PST)
Received: from mail-oa0-f53.google.com (mail-oa0-f53.google.com [209.85.219.53])
        by mx.google.com with ESMTPS id u4sm305113oeh.6.2012.12.17.18.50.35
        (version=SSLv3 cipher=OTHER);
        Mon, 17 Dec 2012 18:50:36 -0800 (PST)
Received: by mail-oa0-f53.google.com with SMTP id j6so103605oag.40
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 18:50:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        bh=yy60GcnyuqNndf0BHG0TTijDdapizBXy+qQMzcU47qE=;
        b=BE6v3RVTZURAXuKTHt8PRTZmvFnRkVtOGloFWbT+uZA12u3p3w3ohw2iRb6Z0hXiGo
         c/JzQSxwXIlBKUiIaAQTPEVyJpZkNYcgdUTEzmSgR8Gap7M1NCNa3Z5TH5KwTW+Nx9u+
         G3/D227Ktp0w80GyxXTftz4zRFUcBj+zU/T5sDOPZYq+4WjtFL9g1Jbo9E42ZhP2njMg
         QBDyX2RXQByzG9QHxBjs5EuamN1badIg/D/GTMGBli5v39HGU3vSMiBvfmhhETMOPYx5
         VQ4xnBmZoaeGE5TJwYGnwkc/PMpCAEjFK8HS97JFbzU1PYo/Q1fkUwY+B5sR5XardO7B
         686Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=yy60GcnyuqNndf0BHG0TTijDdapizBXy+qQMzcU47qE=;
        b=mIqsTbDzWKfkKTv5pjxoPNjhVrE7PkgrGHAXPQ3a59vgWZxtF5hmGx9lC+EofcIzaj
         6VM++kF8pc+iO7gS5HRl+npk1WaMPzOi5Q9ED0XTJ0Ha9sgZp5fxRpoa4Zq4MAVcHR5t
         lx4Mae/ORiKB2SyDY10YJq2IK+daUfkdoZ5cyLlm1IThvwjFVGrqxlwioSt5pLJlQd4V
         GoezEztTIKNU7P5xbfTJXmUWURMkvR0pdAmkMOYmUCxTDcYF6aQRCJopzOUiCN85oaXC
         0ONnUMCOSFOwcEPdif1KuRxRzzNn0l5TmBgixrmMLnnh4YBj8KU4OQWNUMOCubj6eNDD
         WTig==
Received: by 10.182.130.99 with SMTP id od3mr350842obb.61.1355799035638; Mon,
 17 Dec 2012 18:50:35 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.21.33 with HTTP; Mon, 17 Dec 2012 18:50:15 -0800 (PST)
In-Reply-To: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
From: Johanes Soetanto <otnateos@gmail.com>
Date: Tue, 18 Dec 2012 13:50:15 +1100
Message-ID: <CAHn_LrxpJQ-CfKXLAuViXGzHE_UtZziLJbLFidWz8gtNjnCKJQ@mail.gmail.com>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Gm-Message-State: ALoCoQk1HvM9Lh7u03j+w9/9Bj9P+z77IrVQvdAJftLvldo4TYbIXKPtb/K9pHdPMod+ddRiFXBY
X-Virus-Checked: Checked by ClamAV on apache.org

On 18 December 2012 13:03, James Dekker <james.dekker@gmail.com> wrote:
> Am using JDK 1.6, tomcat 7.0.32, and Red Hat Linux.
>
> I need help setting up SSL on my local tomcat instance.
>
> After looking at the instructions on the official tomcat 7 website:
>
> http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html]http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html
>
> I followed the directions like this:
>
> (1) cd $CATALINA_HOME/conf
>
> (2) Create a certificate and store it in a new key store.
>
> keytool -genkey -alias tomcat -keyalg RSA -keystore .jks
>
> (3) Uncomment the SSL connector configuration in Tomcat's conf/server.xml,
> specifying your key store file and password.
>
> <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
>                maxThreads="150" scheme="https" secure="true"
>    clientAuth="false" sslProtocol="TLS"
>    keystoreFile="./conf/keystore.jks"
>    keystorePass="mypassword"
> />
>
> (4) Export the certificate from the key store.
>
> keytool -exportcert -alias tomcat -file tomcat.crt -keystore keystore.jks
>
> When I tried to (which would have been Step # 5) import the certificate
> into the trust store.
>
> keytool -importcert -alias tomcat -file tomcat.crt -trustcacerts -keystore
> $JAVA_HOME/jre/lib/security/cacerts
>
> I get the following prompt for my password (after which I entered in
> "mypassword"):
>
> Enter keystore password:
>
> keytool error: java.io.IOException: Keystore was tampered with, or password
> was incorrect
>
> (I disregarded this step by the way because I found it on Google but not on
> the official Tomcat7-SSL-Howto documentation - please let me know if its
> necessary).
>
> Tomcat's server output:
>
>     INFO: Initializing ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
>     Dec 17, 2012 5:43:08 PM org.apache.catalina.startup.Catalina start
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
>     INFO: Server startup in 9611 ms
>
> When I go to my bash shell and type this in:
>
>     curl -X GET https://localhost:8443
>
> I get the following error output:
>
> curl: (60) Peer certificate cannot be authenticated with known CA
> certificates
> More details here: http://curl.haxx.se/docs/sslcerts.html
>
> curl performs SSL certificate verification by default, using a "bundle"
> of Certificate Authority (CA) public keys (CA certs). If the default
> bundle file isn't adequate, you can specify an alternate file
> using the --cacert option.
> If this HTTPS server uses a certificate signed by a CA represented in
> the bundle, the certificate verification probably failed due to a
> problem with the certificate (it might be expired, or the name might
> not match the domain name in the URL).
> If you'd like to turn off curl's verification of the certificate, use
> the -k (or --insecure) option.
>
> Am I missing a step here?
>
> I just want to enable SSL on Tomcat 7 and test it using curl.

When I was investigating APR and SSL, i found the link
http://code.google.com/p/jianwikis/wiki/TomcatSSLWithAPR . There is
section almost at the end giving and example of using CURL. Maybe that
will help

Johanes
>
> Would appreciate it if someone could point me in the right direction.
>
> If you wish to see this posting with better syntax coloring or my full
> server.xml, please check out these identical (but with more detail) forum
> posts:
>
> http://stackoverflow.com/questions/13925146/how-to-enable-ssl-on-tomcat-7-on-linux-test-using-curl
>
> http://www.coderanch.com/t/600556/Tomcat/Enable-SSL-Tomcat-Linux
>
> Happy programming,
>
> James

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238664-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 02:52:26 2012
Return-Path: <users-return-238664-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1EFFCDFB0
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 02:52:26 +0000 (UTC)
Received: (qmail 15562 invoked by uid 500); 18 Dec 2012 02:52:22 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15488 invoked by uid 500); 18 Dec 2012 02:52:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 15437 invoked by uid 99); 18 Dec 2012 02:52:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:52:20 +0000
X-ASF-Spam-Status: No, hits=1.8 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hanming73@gmail.com designates 209.85.223.175 as permitted sender)
Received: from [209.85.223.175] (HELO mail-ie0-f175.google.com) (209.85.223.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 02:52:13 +0000
Received: by mail-ie0-f175.google.com with SMTP id qd14so142523ieb.34
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 18:51:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=vAnasYOZo7Iue0RBZ2CFTq61NC8c9XBNeE/KcnDmWY0=;
        b=w45rCwyDp8BjlJZqnNoiXTnE7jpPXWQS/eSI8pU8CXh4+oi3AUCVvre+bjU00bPqYk
         cI9c8vjGnrytIQMPcgQkvH6kvc5pue/obzAqIQn+x0fiCakOFqOL2wUySPYZ2gtVpdEu
         yBZMd+WL+6EhmNtW8lCBkMjdqHLoA5R0GzdY5XzRzQ8E6AfU+sXYIY/cIUIo1k7piRMY
         8qpNtOB/09FLot0IaMz/Tqd43pn7hFIHZxokLfOJdiHpwgig6w1g4LHaPiTboerfOqHz
         ZIksDj0/4wb82pPCf2vEXPoWZFGA2DCaRQRiS8lT6uvyImXTjEeYBcwg+29L+ngGR44s
         ccYQ==
MIME-Version: 1.0
Received: by 10.42.54.211 with SMTP id s19mr470155icg.34.1355799112460; Mon,
 17 Dec 2012 18:51:52 -0800 (PST)
Received: by 10.50.125.66 with HTTP; Mon, 17 Dec 2012 18:51:52 -0800 (PST)
In-Reply-To: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
Date: Tue, 18 Dec 2012 10:51:52 +0800
Message-ID: <CA+jSj6Y6hNqqkEUdigtcXgqbeA4=e7q7w2zG9A9XdKP90b_HZA@mail.gmail.com>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
From: Han Ming Low <hanming73@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=90e6ba3fd8b77c288704d1179495
X-Virus-Checked: Checked by ClamAV on apache.org

--90e6ba3fd8b77c288704d1179495
Content-Type: text/plain; charset=ISO-8859-1

I'm not sure about the curl part but I think there is a couple of things
you would want to change.

1) when you use the genkey with -keystore .jks, you should expect a file
name ".jks" (without quotes) to be generated in the /conf directory if you
have CD in as in the step 1. So, the keystoreFile in step 3 should be
keystoreFile=".jks" instead.

If you have configure this correctly, then you should be able to use a
browser and access https://localhost:8443/
Make sure this is working first before proceeding.
If this is working, then any other problem should be with curl instead.

2) when you hit the "Keystore was tampered ..." error, it is because the
password is wrong.
Since you are trying to import the cert in the JVM default cacerts, then
the password should be "changeit" (without quotes)
However, I would think this is unlikely to be of any use because if you are
testing with curl, you need to specify to curl where is the trusted cert
found.
If you are using a java client, then you can define the location of trusted
keystore by specifying the property
-Djavax.net.ssl.trustStore=/path/to/jre/lib/security/cacerts

I believe the error you hit shows that your tomcat is correct but the
parameter defined for curl is not.

Hope this helps.




On Tue, Dec 18, 2012 at 10:03 AM, James Dekker <james.dekker@gmail.com>wrote:

> Am using JDK 1.6, tomcat 7.0.32, and Red Hat Linux.
>
> I need help setting up SSL on my local tomcat instance.
>
> After looking at the instructions on the official tomcat 7 website:
>
>
> http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html]http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html
>
> I followed the directions like this:
>
> (1) cd $CATALINA_HOME/conf
>
> (2) Create a certificate and store it in a new key store.
>
> keytool -genkey -alias tomcat -keyalg RSA -keystore .jks
>
> (3) Uncomment the SSL connector configuration in Tomcat's conf/server.xml,
> specifying your key store file and password.
>
> <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
>                maxThreads="150" scheme="https" secure="true"
>    clientAuth="false" sslProtocol="TLS"
>    keystoreFile="./conf/keystore.jks"
>    keystorePass="mypassword"
> />
>
> (4) Export the certificate from the key store.
>
> keytool -exportcert -alias tomcat -file tomcat.crt -keystore keystore.jks
>
> When I tried to (which would have been Step # 5) import the certificate
> into the trust store.
>
> keytool -importcert -alias tomcat -file tomcat.crt -trustcacerts -keystore
> $JAVA_HOME/jre/lib/security/cacerts
>
> I get the following prompt for my password (after which I entered in
> "mypassword"):
>
> Enter keystore password:
>
> keytool error: java.io.IOException: Keystore was tampered with, or password
> was incorrect
>
> (I disregarded this step by the way because I found it on Google but not on
> the official Tomcat7-SSL-Howto documentation - please let me know if its
> necessary).
>
> Tomcat's server output:
>
>     INFO: Initializing ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
>     Dec 17, 2012 5:43:08 PM org.apache.catalina.startup.Catalina start
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
>     INFO: Server startup in 9611 ms
>
> When I go to my bash shell and type this in:
>
>     curl -X GET https://localhost:8443
>
> I get the following error output:
>
> curl: (60) Peer certificate cannot be authenticated with known CA
> certificates
> More details here: http://curl.haxx.se/docs/sslcerts.html
>
> curl performs SSL certificate verification by default, using a "bundle"
> of Certificate Authority (CA) public keys (CA certs). If the default
> bundle file isn't adequate, you can specify an alternate file
> using the --cacert option.
> If this HTTPS server uses a certificate signed by a CA represented in
> the bundle, the certificate verification probably failed due to a
> problem with the certificate (it might be expired, or the name might
> not match the domain name in the URL).
> If you'd like to turn off curl's verification of the certificate, use
> the -k (or --insecure) option.
>
> Am I missing a step here?
>
> I just want to enable SSL on Tomcat 7 and test it using curl.
>
> Would appreciate it if someone could point me in the right direction.
>
> If you wish to see this posting with better syntax coloring or my full
> server.xml, please check out these identical (but with more detail) forum
> posts:
>
>
> http://stackoverflow.com/questions/13925146/how-to-enable-ssl-on-tomcat-7-on-linux-test-using-curl
>
> http://www.coderanch.com/t/600556/Tomcat/Enable-SSL-Tomcat-Linux
>
> Happy programming,
>
> James
>

--90e6ba3fd8b77c288704d1179495--

From users-return-238665-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 07:45:56 2012
Return-Path: <users-return-238665-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0A98AD0AF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 07:45:56 +0000 (UTC)
Received: (qmail 30627 invoked by uid 500); 18 Dec 2012 07:45:52 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30398 invoked by uid 500); 18 Dec 2012 07:45:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30335 invoked by uid 99); 18 Dec 2012 07:45:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 07:45:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of james.dekker@gmail.com designates 209.85.210.52 as permitted sender)
Received: from [209.85.210.52] (HELO mail-da0-f52.google.com) (209.85.210.52)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 07:45:40 +0000
Received: by mail-da0-f52.google.com with SMTP id f10so183685dak.11
        for <users@tomcat.apache.org>; Mon, 17 Dec 2012 23:45:19 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:content-type:mime-version:subject:from:in-reply-to:date
         :content-transfer-encoding:message-id:references:to:x-mailer;
        bh=SbajF1nZxLtb2xHcNCcfrR8q4R9xkgNtL3awvx2c9Mw=;
        b=pBOye2mc6mj/oTVPnIvfgktqBlVdHryIttJP8OMMTAxJgvLeh+2O69hPyQuU73yu+W
         j1iZ1+X23sVB9FucILaWd08c/sT3oWc/sVshABMK6idThTvpxsMBanrx4SbWE9JON2/B
         48tX1pDH+MNeMqNCSohvGTYZ/lL4eXSEDYxBvJ8YIqduR/Tyl5xXMh7XGGThlixDVqox
         Wm/QKZNf3xQi9Q2auPQm3NNm0LM/pGrxpdK5b2Ryu40f0SMBaodLfWPQNz0xmiqZSUOI
         5Le7HCayb+a7csTxH5Ps0EbLhg0/EQmeyxcGHDnZSG4XJ+7NTwIFY3s0Lenejmp6PJ9F
         RgJg==
X-Received: by 10.68.203.198 with SMTP id ks6mr4122752pbc.35.1355816718996;
        Mon, 17 Dec 2012 23:45:18 -0800 (PST)
Received: from [10.0.1.41] (cpe-24-25-222-141.san.res.rr.com. [24.25.222.141])
        by mx.google.com with ESMTPS id o11sm714452pby.8.2012.12.17.23.45.16
        (version=TLSv1/SSLv3 cipher=OTHER);
        Mon, 17 Dec 2012 23:45:17 -0800 (PST)
Content-Type: text/plain; charset=iso-8859-1
Mime-Version: 1.0 (Mac OS X Mail 6.2 \(1499\))
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
From: James Dekker <james.dekker@gmail.com>
In-Reply-To: <CA+jSj6Y6hNqqkEUdigtcXgqbeA4=e7q7w2zG9A9XdKP90b_HZA@mail.gmail.com>
Date: Mon, 17 Dec 2012 23:44:37 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <A30CD907-4E36-405F-8979-454C896B7390@gmail.com>
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com> <CA+jSj6Y6hNqqkEUdigtcXgqbeA4=e7q7w2zG9A9XdKP90b_HZA@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1499)
X-Virus-Checked: Checked by ClamAV on apache.org

Thanks Mr. Han Ming Low,

But that 2nd line number was a typo its supposed to state:

"(2) Create a certificate and store it in a new key store.

	keytool -genkey -alias tomcat -keyalg RSA -keystore =
keystore.jks"

Thanks for responding to my inquiry,

James

On Dec 17, 2012, at 6:51 PM, Han Ming Low <hanming73@gmail.com> wrote:

> I'm not sure about the curl part but I think there is a couple of =
things
> you would want to change.
>=20
> 1) when you use the genkey with -keystore .jks, you should expect a =
file
> name ".jks" (without quotes) to be generated in the /conf directory if =
you
> have CD in as in the step 1. So, the keystoreFile in step 3 should be
> keystoreFile=3D".jks" instead.
>=20
> If you have configure this correctly, then you should be able to use a
> browser and access https://localhost:8443/
> Make sure this is working first before proceeding.
> If this is working, then any other problem should be with curl =
instead.
>=20
> 2) when you hit the "Keystore was tampered ..." error, it is because =
the
> password is wrong.
> Since you are trying to import the cert in the JVM default cacerts, =
then
> the password should be "changeit" (without quotes)
> However, I would think this is unlikely to be of any use because if =
you are
> testing with curl, you need to specify to curl where is the trusted =
cert
> found.
> If you are using a java client, then you can define the location of =
trusted
> keystore by specifying the property
> -Djavax.net.ssl.trustStore=3D/path/to/jre/lib/security/cacerts
>=20
> I believe the error you hit shows that your tomcat is correct but the
> parameter defined for curl is not.
>=20
> Hope this helps.
>=20
>=20
>=20
>=20
> On Tue, Dec 18, 2012 at 10:03 AM, James Dekker =
<james.dekker@gmail.com>wrote:
>=20
>> Am using JDK 1.6, tomcat 7.0.32, and Red Hat Linux.
>>=20
>> I need help setting up SSL on my local tomcat instance.
>>=20
>> After looking at the instructions on the official tomcat 7 website:
>>=20
>>=20
>> =
http://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html]http://tomcat.apach=
e.org/tomcat-7.0-doc/ssl-howto.html
>>=20
>> I followed the directions like this:
>>=20
>> (1) cd $CATALINA_HOME/conf
>>=20
>> (2) Create a certificate and store it in a new key store.
>>=20
>> keytool -genkey -alias tomcat -keyalg RSA -keystore .jks
>>=20
>> (3) Uncomment the SSL connector configuration in Tomcat's =
conf/server.xml,
>> specifying your key store file and password.
>>=20
>> <Connector port=3D"8443" protocol=3D"HTTP/1.1" SSLEnabled=3D"true"
>>               maxThreads=3D"150" scheme=3D"https" secure=3D"true"
>>   clientAuth=3D"false" sslProtocol=3D"TLS"
>>   keystoreFile=3D"./conf/keystore.jks"
>>   keystorePass=3D"mypassword"
>> />
>>=20
>> (4) Export the certificate from the key store.
>>=20
>> keytool -exportcert -alias tomcat -file tomcat.crt -keystore =
keystore.jks
>>=20
>> When I tried to (which would have been Step # 5) import the =
certificate
>> into the trust store.
>>=20
>> keytool -importcert -alias tomcat -file tomcat.crt -trustcacerts =
-keystore
>> $JAVA_HOME/jre/lib/security/cacerts
>>=20
>> I get the following prompt for my password (after which I entered in
>> "mypassword"):
>>=20
>> Enter keystore password:
>>=20
>> keytool error: java.io.IOException: Keystore was tampered with, or =
password
>> was incorrect
>>=20
>> (I disregarded this step by the way because I found it on Google but =
not on
>> the official Tomcat7-SSL-Howto documentation - please let me know if =
its
>> necessary).
>>=20
>> Tomcat's server output:
>>=20
>>    INFO: Initializing ProtocolHandler ["http-bio-8080"]
>>    Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>>    INFO: Initializing ProtocolHandler ["http-bio-8443"]
>>    Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>>    INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
>>    Dec 17, 2012 5:43:08 PM org.apache.catalina.startup.Catalina start
>>    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>>    INFO: Starting ProtocolHandler ["http-bio-8080"]
>>    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>>    INFO: Starting ProtocolHandler ["http-bio-8443"]
>>    Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
>>    INFO: Server startup in 9611 ms
>>=20
>> When I go to my bash shell and type this in:
>>=20
>>    curl -X GET https://localhost:8443
>>=20
>> I get the following error output:
>>=20
>> curl: (60) Peer certificate cannot be authenticated with known CA
>> certificates
>> More details here: http://curl.haxx.se/docs/sslcerts.html
>>=20
>> curl performs SSL certificate verification by default, using a =
"bundle"
>> of Certificate Authority (CA) public keys (CA certs). If the default
>> bundle file isn't adequate, you can specify an alternate file
>> using the --cacert option.
>> If this HTTPS server uses a certificate signed by a CA represented in
>> the bundle, the certificate verification probably failed due to a
>> problem with the certificate (it might be expired, or the name might
>> not match the domain name in the URL).
>> If you'd like to turn off curl's verification of the certificate, use
>> the -k (or --insecure) option.
>>=20
>> Am I missing a step here?
>>=20
>> I just want to enable SSL on Tomcat 7 and test it using curl.
>>=20
>> Would appreciate it if someone could point me in the right direction.
>>=20
>> If you wish to see this posting with better syntax coloring or my =
full
>> server.xml, please check out these identical (but with more detail) =
forum
>> posts:
>>=20
>>=20
>> =
http://stackoverflow.com/questions/13925146/how-to-enable-ssl-on-tomcat-7-=
on-linux-test-using-curl
>>=20
>> http://www.coderanch.com/t/600556/Tomcat/Enable-SSL-Tomcat-Linux
>>=20
>> Happy programming,
>>=20
>> James
>>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238666-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 10:06:24 2012
Return-Path: <users-return-238666-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6190ED93C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 10:06:24 +0000 (UTC)
Received: (qmail 7781 invoked by uid 500); 18 Dec 2012 10:06:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 7049 invoked by uid 500); 18 Dec 2012 10:06:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6507 invoked by uid 99); 18 Dec 2012 10:06:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 10:06:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 147.91.1.120 is neither permitted nor denied by domain of ognjen.d.blagojevic@gmail.com)
Received: from [147.91.1.120] (HELO afrodita.rcub.bg.ac.rs) (147.91.1.120)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 10:06:05 +0000
Received: from [IPv6:2001:4170:0:4::66] (unknown [IPv6:2001:4170:0:4::66])
	by afrodita.rcub.bg.ac.rs (Postfix) with ESMTP id BC11D191A712
	for <users@tomcat.apache.org>; Tue, 18 Dec 2012 11:05:42 +0100 (CET)
Message-ID: <50D03FF6.5030709@gmail.com>
Date: Tue, 18 Dec 2012 11:05:42 +0100
From: Ognjen Blagojevic <ognjen.d.blagojevic@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
In-Reply-To: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-RCUB-MailScanner-Information: Please contact the ISP for more information
X-RCUB-MailScanner-ID: BC11D191A712.AA171
X-RCUB-MailScanner: Found to be clean
X-RCUB-MailScanner-SpamCheck: not spam, SpamAssassin (not cached,
	score=-2.599, required 6, BAYES_00 -2.60, NO_RELAYS -0.00,
	WEIRD_PORT 0.00)
X-Virus-Checked: Checked by ClamAV on apache.org

James,

On 18.12.2012 3:03, James Dekker wrote:
>      Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>      INFO: Starting ProtocolHandler ["http-bio-8443"]
>      Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
>      INFO: Server startup in 9611 ms

You successfully configured and stared Tomcat with self signed 
certificate. So far, so good.


> When I go to my bash shell and type this in:
>
>      curl -X GET https://localhost:8443
>
> I get the following error output:
>
> curl: (60) Peer certificate cannot be authenticated with known CA
> certificates
> More details here: http://curl.haxx.se/docs/sslcerts.html

If you are using curl just to check the certificate or test HTTPS, it is 
easier and faster to do that with your favorite web browser.

If you need to use curl for some other reason (e.g. it is part of your 
business use case), then it makes sense to stick with curl.


> curl performs SSL certificate verification by default, using a "bundle"
> of Certificate Authority (CA) public keys (CA certs). If the default
> bundle file isn't adequate, you can specify an alternate file
> using the --cacert option.
> If this HTTPS server uses a certificate signed by a CA represented in
> the bundle, the certificate verification probably failed due to a
> problem with the certificate (it might be expired, or the name might
> not match the domain name in the URL).
> If you'd like to turn off curl's verification of the certificate, use
> the -k (or --insecure) option.
>
> Am I missing a step here?

You seem to be confused by the fact that curl and Java are using 
different files and different formats for managing CA certificates.

Java is using its own .jks format, while curl uses PEM format. Java 
stores system wide trusted CA certificates in file 
"$JAVA_HOME/jre/lib/security/cacerts" (where you tried to import your 
self signed certificate in step #4), while curl reads them from file 
"ca-bundle.crt" (where your certificate is not stored, hence the error). 
I believe default location for file ca-bundle.crt in Red Hat is 
/etc/pki/tls/certs.

So, in order to run curl, as suggested by the docs:

1. Use curl -k option.
2. Convert cert to PEM format and use curl -cacert option.
3. Convert cert to PEM format, and add it to system wide CA bundle 
(ca-bundle.crt).

-Ognjen

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238667-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 10:35:29 2012
Return-Path: <users-return-238667-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F246EDBEF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 10:35:28 +0000 (UTC)
Received: (qmail 85134 invoked by uid 500); 18 Dec 2012 10:35:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84871 invoked by uid 500); 18 Dec 2012 10:35:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84822 invoked by uid 99); 18 Dec 2012 10:35:23 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 10:35:23 +0000
Received: from localhost (HELO s2laptop.dev.local) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 10:35:23 +0000
Message-ID: <50D046E9.5080404@apache.org>
Date: Tue, 18 Dec 2012 10:35:21 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Does maxPostSize has an effect on file upload?
References: <20121213130246.GA23330@computer.corp.ebay.com> <e0ee4442-ce1d-44aa-bdc6-6808a05e4f31@email.android.com> <50CB5BB5.9080909@christopherschultz.net> <99C8B2929B39C24493377AC7A121E21FC4979681BB@USEA-EXCH8.na.uis.unisys.com> <50CB74C7.5080900@christopherschultz.net> <50CB7ACE.3070101@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F78A@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CB965D.5080209@ice-sa.com> <7CF0788AAB53854AB15567D68F4196023825F7CB@CH1PRD0410MB369.namprd04.prod.outlook.com> <50CF6E6B.1060703@christopherschultz.net>
In-Reply-To: <50CF6E6B.1060703@christopherschultz.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 17/12/2012 19:11, Christopher Schultz wrote:
> Nick,
> 
> On 12/14/12 4:28 PM, Williams, Nick wrote:
>>> If it was using the global Content-length header, it would
>>> count not only the encoded data bytes, but also the parts
>>> separators, headers etc..
> 
>>> So that's nice. It counts only the net data bytes, which is 
>>> easier to compare to the size on disk of a file that you would 
>>> upload.
> 
>> Indeed. A great explanation for why this would be done, and a
>> much more logical way to do it than just using Content-Length
>> ("the easy way out").
> 
> Also, Tomcat has to fully drain the input stream, anyway, so
> bombing "earlier" by checking the Content-Length doesn't actually
> improve anything.

Not quite. There is a little more to it than that and the exact
behaviour varies depending on the circumstances. See [1] and look for
swallowAbortedUploads. It explains what happens quite nicely.

Mark


[1] http://tomcat.apache.org/tomcat-7.0-doc/config/context.html
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (Darwin)
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iQIcBAEBAgAGBQJQ0EboAAoJEBDAHFovYFnnQ7QQANyzCqL1zpv5r8L1HVT4abaR
0kTy4D5Er4TDsmhA+TvWonGLrNj9nK58OOb5hxx2xz63xLBg/MxjGmo6txxaoxe7
ZYL6wmL2iCp2pthJyhpXA9xFfZvyGfhbmNpxKQ8RHbL3vru5FTPwt69TtpFjtjrL
UJmyZ3LYGjVaDlad6fyR/ZuxmlwxApd1vYDjmNbRUTTL4b3pcSyKYkH9UBs3ukih
toQGU9cCnSwwGRnQaZngvBB8uvedP35j4H2zTkRAhoZ3Il/rVrtDexh+ibgp+tBq
TAat4YSmIgBob7BQMMMFjdWezLn4Zuh99s+oSS1GAO8FkcCw+DfrlodGVFSDjhe4
HwomlIw+1ehLdmAd75D7kkL1arvv7l4Csk+HrC/TFSwyrsfHlOMn7rsam0sXicJ5
jyN17JJK0iY+sddU6E6WVafAKqET5g6bO3s0FtPmREuvQveSwDlz3d4JDK7S/4QN
O9B9cEE4WlroGboNM9CZgdi35JYkM1BfVjm6MIph2ILvnDj+h+pBbmg9lgLO4iH2
uBj3FEJ5Y+7WtLKwNPcJUMD/ErcUoWKQM6yf8fscrARNvu0wBnF8qamvqXGKFlnt
EvetAbSTe31cRbUrDDk8eSmuzpQAvcsuMaUA0/LhvlYkkPSquA9iiKiURk2ZIZo3
lUH9LwbGwVvns6T+bIjF
=ZQTL
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238668-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 16:37:20 2012
Return-Path: <users-return-238668-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 82B49E4CF
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 16:37:20 +0000 (UTC)
Received: (qmail 85120 invoked by uid 500); 18 Dec 2012 16:37:16 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84614 invoked by uid 500); 18 Dec 2012 16:37:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84572 invoked by uid 99); 18 Dec 2012 16:37:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 16:37:06 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vincentogundu@gmail.com designates 209.85.212.51 as permitted sender)
Received: from [209.85.212.51] (HELO mail-vb0-f51.google.com) (209.85.212.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 16:36:58 +0000
Received: by mail-vb0-f51.google.com with SMTP id fq11so1112852vbb.10
        for <users@tomcat.apache.org>; Tue, 18 Dec 2012 08:36:37 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=3XhEx5hTpP39e/MV0VB5L36jXZU0PbRXnLCulI70HQY=;
        b=Xv54/2REJAlG3W3S21D1IKkRQFOQ1KwA7QoofwCEko0vCys6bmi7oHDizhgm30CudQ
         N8ii/UkWQsV61q3m6aSlJjqmQaB1xCBCM2joNZcf4h7rhZJLZylkdem+Vl4fSpSYJ/FR
         Xsqe25ae5y5WKrwdQs/pJZOLnQEoEDu7y/m7SDq10sy2ocIAqp2d4WJzqPhRcerCJXsO
         H/vPvQX6QyEotSlUGoYvGEamC/KuPZUX+tmJpkqbXRP3FR+kvJ6Z5LTB+bHpwi4+opvM
         8PxVqazWEyNZ0pwA3L0vwnA8ARIWnRJXWEgDS9M/nMCllpIHaJRlziXr/rzLZJ/5lsig
         wxIQ==
MIME-Version: 1.0
Received: by 10.52.35.20 with SMTP id d20mr3479111vdj.50.1355848597103; Tue,
 18 Dec 2012 08:36:37 -0800 (PST)
Received: by 10.220.117.133 with HTTP; Tue, 18 Dec 2012 08:36:36 -0800 (PST)
In-Reply-To: <CAAeagyjn3XoHZvDQbdMCFKGFff=4WpE3YJ0KP2fpbeXCo=0jfw@mail.gmail.com>
References: <CAAeagyjn3XoHZvDQbdMCFKGFff=4WpE3YJ0KP2fpbeXCo=0jfw@mail.gmail.com>
Date: Tue, 18 Dec 2012 17:36:36 +0100
Message-ID: <CAAeagyjQ1P7sbpbMbxi4M1MDoXaj-wa0wFvDt47NzuFaMX5DBA@mail.gmail.com>
Subject: Fwd: Error Message on Apache
From: Vincent Ogundu <vincentogundu@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/mixed; boundary=20cf307d00ceffe41404d12319e6
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf307d00ceffe41404d12319e6
Content-Type: multipart/alternative; boundary=20cf307d00ceffe40e04d12319e4

--20cf307d00ceffe40e04d12319e4
Content-Type: text/plain; charset=ISO-8859-1

Hi Good evening,

My Application does not load from browser. I got the attached Apache error.

Please kindly help with possible solutions.

Thanks.

-- 
Vincent Ogundu
for:Easiglobe Messaging Ltd
85a Owukori Crescent, Alaka Estate, Surulere Lagos.
Tel:234-1-7388983 /4.
E-mail:vincentogundu@gmail.com



-- 
Vincent Ogundu
for:Easiglobe Messaging Ltd
85a Owukori Crescent, Alaka Estate, Surulere Lagos.
Tel:234-1-7388983 /4.
E-mail:vincentogundu@gmail.com

--20cf307d00ceffe40e04d12319e4
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<br><div class=3D"gmail_quote">Hi Good evening,<br><br>My Application does =
not load from browser. I got the attached Apache error.<br><br>Please kindl=
y help with possible solutions.<br><br>Thanks.<span class=3D"HOEnZb"><font =
color=3D"#888888"><br clear=3D"all">
<br>-- <br>Vincent Ogundu<br>for:Easiglobe Messaging Ltd<br>
85a Owukori Crescent, Alaka Estate, Surulere Lagos.<br>Tel:234-1-7388983 /4=
.<br><a href=3D"mailto:E-mail%3Avincentogundu@gmail.com" target=3D"_blank">=
E-mail:vincentogundu@gmail.com</a><br>
</font></span></div><br><br clear=3D"all"><br>-- <br>Vincent Ogundu<br>for:=
Easiglobe Messaging Ltd<br>85a Owukori Crescent, Alaka Estate, Surulere Lag=
os.<br>Tel:234-1-7388983 /4.<br><a href=3D"mailto:E-mail%3Avincentogundu@gm=
ail.com">E-mail:vincentogundu@gmail.com</a><br>


--20cf307d00ceffe40e04d12319e4--
--20cf307d00ceffe41404d12319e6
Content-Type: text/plain; charset=US-ASCII; name="APACHE ERROR.txt"
Content-Disposition: attachment; filename="APACHE ERROR.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_hav7bi3m0

SFRUUCBTdGF0dXMgNTAwIC0NCg0KdHlwZSBFeGNlcHRpb24gcmVwb3J0DQoNCm1lc3NhZ2UNCg0K
ZGVzY3JpcHRpb24gVGhlIHNlcnZlciBlbmNvdW50ZXJlZCBhbiBpbnRlcm5hbCBlcnJvciAoKSB0
aGF0IHByZXZlbnRlZCBpdCBmcm9tIGZ1bGZpbGxpbmcgdGhpcyByZXF1ZXN0Lg0KDQpleGNlcHRp
b24NCg0Kb3JnLnNwcmluZ2ZyYW1ld29yay50cmFuc2FjdGlvbi5DYW5ub3RDcmVhdGVUcmFuc2Fj
dGlvbkV4Y2VwdGlvbjogQ291bGQgbm90IG9wZW4gSlBBIEVudGl0eU1hbmFnZXIgZm9yIHRyYW5z
YWN0aW9uOyBuZXN0ZWQgZXhjZXB0aW9uIGlzIGphdmF4LnBlcnNpc3RlbmNlLlBlcnNpc3RlbmNl
RXhjZXB0aW9uOiBvcmcuaGliZXJuYXRlLmV4Y2VwdGlvbi5HZW5lcmljSkRCQ0V4Y2VwdGlvbjog
Q2Fubm90IG9wZW4gY29ubmVjdGlvbg0KCW9yZy5zcHJpbmdmcmFtZXdvcmsub3JtLmpwYS5KcGFU
cmFuc2FjdGlvbk1hbmFnZXIuZG9CZWdpbihKcGFUcmFuc2FjdGlvbk1hbmFnZXIuamF2YTozODIp
DQoJb3JnLnNwcmluZ2ZyYW1ld29yay50cmFuc2FjdGlvbi5zdXBwb3J0LkFic3RyYWN0UGxhdGZv
cm1UcmFuc2FjdGlvbk1hbmFnZXIuZ2V0VHJhbnNhY3Rpb24oQWJzdHJhY3RQbGF0Zm9ybVRyYW5z
YWN0aW9uTWFuYWdlci5qYXZhOjM3MSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnRyYW5zYWN0aW9u
LmludGVyY2VwdG9yLlRyYW5zYWN0aW9uQXNwZWN0U3VwcG9ydC5jcmVhdGVUcmFuc2FjdGlvbklm
TmVjZXNzYXJ5KFRyYW5zYWN0aW9uQXNwZWN0U3VwcG9ydC5qYXZhOjMxNikNCglvcmcuc3ByaW5n
ZnJhbWV3b3JrLnRyYW5zYWN0aW9uLmludGVyY2VwdG9yLlRyYW5zYWN0aW9uSW50ZXJjZXB0b3Iu
aW52b2tlKFRyYW5zYWN0aW9uSW50ZXJjZXB0b3IuamF2YToxMDUpDQoJb3JnLnNwcmluZ2ZyYW1l
d29yay5hb3AuZnJhbWV3b3JrLlJlZmxlY3RpdmVNZXRob2RJbnZvY2F0aW9uLnByb2NlZWQoUmVm
bGVjdGl2ZU1ldGhvZEludm9jYXRpb24uamF2YToxNzIpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5h
b3AuZnJhbWV3b3JrLkpka0R5bmFtaWNBb3BQcm94eS5pbnZva2UoSmRrRHluYW1pY0FvcFByb3h5
LmphdmE6MjAyKQ0KCSRQcm94eTYwLmV4ZWN1dGVTaW1wbGVRdWVyeShVbmtub3duIFNvdXJjZSkN
Cgljb20ucHJpbW92aXNpb24udXNzZC5zZXJ2aWNlcy5BdXRoZW50aWNhdGlvblNlcnZpY2VJbXBs
LmZpbmRSb2xlc0ZvclVSTChBdXRoZW50aWNhdGlvblNlcnZpY2VJbXBsLmphdmE6NTgpDQoJY29t
LnByaW1vdmlzaW9uLnVzc2QuY29yZS5zcHJpbmcuQ3VzdG9tU2VjdXJlUmVzb3VyY2VGaWx0ZXIu
Z2V0QXR0cmlidXRlcyhDdXN0b21TZWN1cmVSZXNvdXJjZUZpbHRlci5qYXZhOjQwKQ0KCW9yZy5z
cHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYWNjZXNzLmludGVyY2VwdC5BYnN0cmFjdFNlY3VyaXR5
SW50ZXJjZXB0b3IuYmVmb3JlSW52b2NhdGlvbihBYnN0cmFjdFNlY3VyaXR5SW50ZXJjZXB0b3Iu
amF2YToxNzEpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLmludGVy
Y2VwdC5GaWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmludm9rZShGaWx0ZXJTZWN1cml0eUludGVy
Y2VwdG9yLmphdmE6MTA2KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmFjY2Vz
cy5pbnRlcmNlcHQuRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRvci5kb0ZpbHRlcihGaWx0ZXJTZWN1
cml0eUludGVyY2VwdG9yLmphdmE6ODMpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53
ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hh
aW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nl
c3MuRXhjZXB0aW9uVHJhbnNsYXRpb25GaWx0ZXIuZG9GaWx0ZXIoRXhjZXB0aW9uVHJhbnNsYXRp
b25GaWx0ZXIuamF2YTo5NykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0
ZXJDaGFpblByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5
LmphdmE6MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmF1dGhlbnRpY2F0
aW9uLkFic3RyYWN0QXV0aGVudGljYXRpb25Qcm9jZXNzaW5nRmlsdGVyLmRvRmlsdGVyKEFic3Ry
YWN0QXV0aGVudGljYXRpb25Qcm9jZXNzaW5nRmlsdGVyLmphdmE6MTg3KQ0KCW9yZy5zcHJpbmdm
cmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRlckNoYWlu
LmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJb3JnLnNwcmluZ2ZyYW1ld29y
ay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24ubG9nb3V0LkxvZ291dEZpbHRlci5kb0ZpbHRl
cihMb2dvdXRGaWx0ZXIuamF2YToxMDUpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53
ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hh
aW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5jb250
ZXh0LlNlY3VyaXR5Q29udGV4dFBlcnNpc3RlbmNlRmlsdGVyLmRvRmlsdGVyKFNlY3VyaXR5Q29u
dGV4dFBlcnNpc3RlbmNlRmlsdGVyLmphdmE6NzkpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1
cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmls
dGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5Lndl
Yi5GaWx0ZXJDaGFpblByb3h5LmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YToxNDkpDQoJ
b3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLkRlbGVnYXRpbmdGaWx0ZXJQcm94eS5pbnZv
a2VEZWxlZ2F0ZShEZWxlZ2F0aW5nRmlsdGVyUHJveHkuamF2YToyMzcpDQoJb3JnLnNwcmluZ2Zy
YW1ld29yay53ZWIuZmlsdGVyLkRlbGVnYXRpbmdGaWx0ZXJQcm94eS5kb0ZpbHRlcihEZWxlZ2F0
aW5nRmlsdGVyUHJveHkuamF2YToxNjcpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5vcm0uanBhLnN1
cHBvcnQuT3BlbkVudGl0eU1hbmFnZXJJblZpZXdGaWx0ZXIuZG9GaWx0ZXJJbnRlcm5hbChPcGVu
RW50aXR5TWFuYWdlckluVmlld0ZpbHRlci5qYXZhOjExMykNCglvcmcuc3ByaW5nZnJhbWV3b3Jr
LndlYi5maWx0ZXIuT25jZVBlclJlcXVlc3RGaWx0ZXIuZG9GaWx0ZXIoT25jZVBlclJlcXVlc3RG
aWx0ZXIuamF2YTo3NikNCg0Kcm9vdCBjYXVzZQ0KDQpqYXZheC5wZXJzaXN0ZW5jZS5QZXJzaXN0
ZW5jZUV4Y2VwdGlvbjogb3JnLmhpYmVybmF0ZS5leGNlcHRpb24uR2VuZXJpY0pEQkNFeGNlcHRp
b246IENhbm5vdCBvcGVuIGNvbm5lY3Rpb24NCglvcmcuaGliZXJuYXRlLmVqYi5BYnN0cmFjdEVu
dGl0eU1hbmFnZXJJbXBsLmNvbnZlcnQoQWJzdHJhY3RFbnRpdHlNYW5hZ2VySW1wbC5qYXZhOjEy
MzUpDQoJb3JnLmhpYmVybmF0ZS5lamIuQWJzdHJhY3RFbnRpdHlNYW5hZ2VySW1wbC5jb252ZXJ0
KEFic3RyYWN0RW50aXR5TWFuYWdlckltcGwuamF2YToxMTY4KQ0KCW9yZy5oaWJlcm5hdGUuZWpi
LkFic3RyYWN0RW50aXR5TWFuYWdlckltcGwudGhyb3dQZXJzaXN0ZW5jZUV4Y2VwdGlvbihBYnN0
cmFjdEVudGl0eU1hbmFnZXJJbXBsLmphdmE6MTI0NSkNCglvcmcuaGliZXJuYXRlLmVqYi5UcmFu
c2FjdGlvbkltcGwuYmVnaW4oVHJhbnNhY3Rpb25JbXBsLmphdmE6NjMpDQoJb3JnLnNwcmluZ2Zy
YW1ld29yay5vcm0uanBhLkRlZmF1bHRKcGFEaWFsZWN0LmJlZ2luVHJhbnNhY3Rpb24oRGVmYXVs
dEpwYURpYWxlY3QuamF2YTo3MCkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEudmVuZG9y
LkhpYmVybmF0ZUpwYURpYWxlY3QuYmVnaW5UcmFuc2FjdGlvbihIaWJlcm5hdGVKcGFEaWFsZWN0
LmphdmE6NTUpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5vcm0uanBhLkpwYVRyYW5zYWN0aW9uTWFu
YWdlci5kb0JlZ2luKEpwYVRyYW5zYWN0aW9uTWFuYWdlci5qYXZhOjMzMikNCglvcmcuc3ByaW5n
ZnJhbWV3b3JrLnRyYW5zYWN0aW9uLnN1cHBvcnQuQWJzdHJhY3RQbGF0Zm9ybVRyYW5zYWN0aW9u
TWFuYWdlci5nZXRUcmFuc2FjdGlvbihBYnN0cmFjdFBsYXRmb3JtVHJhbnNhY3Rpb25NYW5hZ2Vy
LmphdmE6MzcxKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsudHJhbnNhY3Rpb24uaW50ZXJjZXB0b3Iu
VHJhbnNhY3Rpb25Bc3BlY3RTdXBwb3J0LmNyZWF0ZVRyYW5zYWN0aW9uSWZOZWNlc3NhcnkoVHJh
bnNhY3Rpb25Bc3BlY3RTdXBwb3J0LmphdmE6MzE2KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsudHJh
bnNhY3Rpb24uaW50ZXJjZXB0b3IuVHJhbnNhY3Rpb25JbnRlcmNlcHRvci5pbnZva2UoVHJhbnNh
Y3Rpb25JbnRlcmNlcHRvci5qYXZhOjEwNSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLmFvcC5mcmFt
ZXdvcmsuUmVmbGVjdGl2ZU1ldGhvZEludm9jYXRpb24ucHJvY2VlZChSZWZsZWN0aXZlTWV0aG9k
SW52b2NhdGlvbi5qYXZhOjE3MikNCglvcmcuc3ByaW5nZnJhbWV3b3JrLmFvcC5mcmFtZXdvcmsu
SmRrRHluYW1pY0FvcFByb3h5Lmludm9rZShKZGtEeW5hbWljQW9wUHJveHkuamF2YToyMDIpDQoJ
JFByb3h5NjAuZXhlY3V0ZVNpbXBsZVF1ZXJ5KFVua25vd24gU291cmNlKQ0KCWNvbS5wcmltb3Zp
c2lvbi51c3NkLnNlcnZpY2VzLkF1dGhlbnRpY2F0aW9uU2VydmljZUltcGwuZmluZFJvbGVzRm9y
VVJMKEF1dGhlbnRpY2F0aW9uU2VydmljZUltcGwuamF2YTo1OCkNCgljb20ucHJpbW92aXNpb24u
dXNzZC5jb3JlLnNwcmluZy5DdXN0b21TZWN1cmVSZXNvdXJjZUZpbHRlci5nZXRBdHRyaWJ1dGVz
KEN1c3RvbVNlY3VyZVJlc291cmNlRmlsdGVyLmphdmE6NDApDQoJb3JnLnNwcmluZ2ZyYW1ld29y
ay5zZWN1cml0eS5hY2Nlc3MuaW50ZXJjZXB0LkFic3RyYWN0U2VjdXJpdHlJbnRlcmNlcHRvci5i
ZWZvcmVJbnZvY2F0aW9uKEFic3RyYWN0U2VjdXJpdHlJbnRlcmNlcHRvci5qYXZhOjE3MSkNCglv
cmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nlc3MuaW50ZXJjZXB0LkZpbHRlclNl
Y3VyaXR5SW50ZXJjZXB0b3IuaW52b2tlKEZpbHRlclNlY3VyaXR5SW50ZXJjZXB0b3IuamF2YTox
MDYpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLmludGVyY2VwdC5G
aWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmRvRmlsdGVyKEZpbHRlclNlY3VyaXR5SW50ZXJjZXB0
b3IuamF2YTo4MykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFp
blByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6
MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmFjY2Vzcy5FeGNlcHRpb25U
cmFuc2xhdGlvbkZpbHRlci5kb0ZpbHRlcihFeGNlcHRpb25UcmFuc2xhdGlvbkZpbHRlci5qYXZh
Ojk3KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkk
VmlydHVhbEZpbHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJ
b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uQWJzdHJhY3RB
dXRoZW50aWNhdGlvblByb2Nlc3NpbmdGaWx0ZXIuZG9GaWx0ZXIoQWJzdHJhY3RBdXRoZW50aWNh
dGlvblByb2Nlc3NpbmdGaWx0ZXIuamF2YToxODcpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1
cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmls
dGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5Lndl
Yi5hdXRoZW50aWNhdGlvbi5sb2dvdXQuTG9nb3V0RmlsdGVyLmRvRmlsdGVyKExvZ291dEZpbHRl
ci5qYXZhOjEwNSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFp
blByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6
MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmNvbnRleHQuU2VjdXJpdHlD
b250ZXh0UGVyc2lzdGVuY2VGaWx0ZXIuZG9GaWx0ZXIoU2VjdXJpdHlDb250ZXh0UGVyc2lzdGVu
Y2VGaWx0ZXIuamF2YTo3OSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0
ZXJDaGFpblByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5
LmphdmE6MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWlu
UHJveHkuZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjE0OSkNCglvcmcuc3ByaW5nZnJh
bWV3b3JrLndlYi5maWx0ZXIuRGVsZWdhdGluZ0ZpbHRlclByb3h5Lmludm9rZURlbGVnYXRlKERl
bGVnYXRpbmdGaWx0ZXJQcm94eS5qYXZhOjIzNykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5m
aWx0ZXIuRGVsZWdhdGluZ0ZpbHRlclByb3h5LmRvRmlsdGVyKERlbGVnYXRpbmdGaWx0ZXJQcm94
eS5qYXZhOjE2NykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEuc3VwcG9ydC5PcGVuRW50
aXR5TWFuYWdlckluVmlld0ZpbHRlci5kb0ZpbHRlckludGVybmFsKE9wZW5FbnRpdHlNYW5hZ2Vy
SW5WaWV3RmlsdGVyLmphdmE6MTEzKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmZpbHRlci5P
bmNlUGVyUmVxdWVzdEZpbHRlci5kb0ZpbHRlcihPbmNlUGVyUmVxdWVzdEZpbHRlci5qYXZhOjc2
KQ0KDQpyb290IGNhdXNlDQoNCm9yZy5oaWJlcm5hdGUuZXhjZXB0aW9uLkdlbmVyaWNKREJDRXhj
ZXB0aW9uOiBDYW5ub3Qgb3BlbiBjb25uZWN0aW9uDQoJb3JnLmhpYmVybmF0ZS5leGNlcHRpb24u
U1FMU3RhdGVDb252ZXJ0ZXIuaGFuZGxlZE5vblNwZWNpZmljRXhjZXB0aW9uKFNRTFN0YXRlQ29u
dmVydGVyLmphdmE6MTQwKQ0KCW9yZy5oaWJlcm5hdGUuZXhjZXB0aW9uLlNRTFN0YXRlQ29udmVy
dGVyLmNvbnZlcnQoU1FMU3RhdGVDb252ZXJ0ZXIuamF2YToxMjgpDQoJb3JnLmhpYmVybmF0ZS5l
eGNlcHRpb24uSkRCQ0V4Y2VwdGlvbkhlbHBlci5jb252ZXJ0KEpEQkNFeGNlcHRpb25IZWxwZXIu
amF2YTo2NikNCglvcmcuaGliZXJuYXRlLmV4Y2VwdGlvbi5KREJDRXhjZXB0aW9uSGVscGVyLmNv
bnZlcnQoSkRCQ0V4Y2VwdGlvbkhlbHBlci5qYXZhOjUyKQ0KCW9yZy5oaWJlcm5hdGUuamRiYy5D
b25uZWN0aW9uTWFuYWdlci5vcGVuQ29ubmVjdGlvbihDb25uZWN0aW9uTWFuYWdlci5qYXZhOjQ0
OSkNCglvcmcuaGliZXJuYXRlLmpkYmMuQ29ubmVjdGlvbk1hbmFnZXIuZ2V0Q29ubmVjdGlvbihD
b25uZWN0aW9uTWFuYWdlci5qYXZhOjE2NykNCglvcmcuaGliZXJuYXRlLmpkYmMuSkRCQ0NvbnRl
eHQuY29ubmVjdGlvbihKREJDQ29udGV4dC5qYXZhOjE0MikNCglvcmcuaGliZXJuYXRlLnRyYW5z
YWN0aW9uLkpEQkNUcmFuc2FjdGlvbi5iZWdpbihKREJDVHJhbnNhY3Rpb24uamF2YTo4NSkNCglv
cmcuaGliZXJuYXRlLmltcGwuU2Vzc2lvbkltcGwuYmVnaW5UcmFuc2FjdGlvbihTZXNzaW9uSW1w
bC5qYXZhOjE0NjMpDQoJb3JnLmhpYmVybmF0ZS5lamIuVHJhbnNhY3Rpb25JbXBsLmJlZ2luKFRy
YW5zYWN0aW9uSW1wbC5qYXZhOjYwKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsub3JtLmpwYS5EZWZh
dWx0SnBhRGlhbGVjdC5iZWdpblRyYW5zYWN0aW9uKERlZmF1bHRKcGFEaWFsZWN0LmphdmE6NzAp
DQoJb3JnLnNwcmluZ2ZyYW1ld29yay5vcm0uanBhLnZlbmRvci5IaWJlcm5hdGVKcGFEaWFsZWN0
LmJlZ2luVHJhbnNhY3Rpb24oSGliZXJuYXRlSnBhRGlhbGVjdC5qYXZhOjU1KQ0KCW9yZy5zcHJp
bmdmcmFtZXdvcmsub3JtLmpwYS5KcGFUcmFuc2FjdGlvbk1hbmFnZXIuZG9CZWdpbihKcGFUcmFu
c2FjdGlvbk1hbmFnZXIuamF2YTozMzIpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay50cmFuc2FjdGlv
bi5zdXBwb3J0LkFic3RyYWN0UGxhdGZvcm1UcmFuc2FjdGlvbk1hbmFnZXIuZ2V0VHJhbnNhY3Rp
b24oQWJzdHJhY3RQbGF0Zm9ybVRyYW5zYWN0aW9uTWFuYWdlci5qYXZhOjM3MSkNCglvcmcuc3By
aW5nZnJhbWV3b3JrLnRyYW5zYWN0aW9uLmludGVyY2VwdG9yLlRyYW5zYWN0aW9uQXNwZWN0U3Vw
cG9ydC5jcmVhdGVUcmFuc2FjdGlvbklmTmVjZXNzYXJ5KFRyYW5zYWN0aW9uQXNwZWN0U3VwcG9y
dC5qYXZhOjMxNikNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnRyYW5zYWN0aW9uLmludGVyY2VwdG9y
LlRyYW5zYWN0aW9uSW50ZXJjZXB0b3IuaW52b2tlKFRyYW5zYWN0aW9uSW50ZXJjZXB0b3IuamF2
YToxMDUpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5hb3AuZnJhbWV3b3JrLlJlZmxlY3RpdmVNZXRo
b2RJbnZvY2F0aW9uLnByb2NlZWQoUmVmbGVjdGl2ZU1ldGhvZEludm9jYXRpb24uamF2YToxNzIp
DQoJb3JnLnNwcmluZ2ZyYW1ld29yay5hb3AuZnJhbWV3b3JrLkpka0R5bmFtaWNBb3BQcm94eS5p
bnZva2UoSmRrRHluYW1pY0FvcFByb3h5LmphdmE6MjAyKQ0KCSRQcm94eTYwLmV4ZWN1dGVTaW1w
bGVRdWVyeShVbmtub3duIFNvdXJjZSkNCgljb20ucHJpbW92aXNpb24udXNzZC5zZXJ2aWNlcy5B
dXRoZW50aWNhdGlvblNlcnZpY2VJbXBsLmZpbmRSb2xlc0ZvclVSTChBdXRoZW50aWNhdGlvblNl
cnZpY2VJbXBsLmphdmE6NTgpDQoJY29tLnByaW1vdmlzaW9uLnVzc2QuY29yZS5zcHJpbmcuQ3Vz
dG9tU2VjdXJlUmVzb3VyY2VGaWx0ZXIuZ2V0QXR0cmlidXRlcyhDdXN0b21TZWN1cmVSZXNvdXJj
ZUZpbHRlci5qYXZhOjQwKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkuYWNjZXNzLmlu
dGVyY2VwdC5BYnN0cmFjdFNlY3VyaXR5SW50ZXJjZXB0b3IuYmVmb3JlSW52b2NhdGlvbihBYnN0
cmFjdFNlY3VyaXR5SW50ZXJjZXB0b3IuamF2YToxNzEpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5z
ZWN1cml0eS53ZWIuYWNjZXNzLmludGVyY2VwdC5GaWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmlu
dm9rZShGaWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmphdmE6MTA2KQ0KCW9yZy5zcHJpbmdmcmFt
ZXdvcmsuc2VjdXJpdHkud2ViLmFjY2Vzcy5pbnRlcmNlcHQuRmlsdGVyU2VjdXJpdHlJbnRlcmNl
cHRvci5kb0ZpbHRlcihGaWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmphdmE6ODMpDQoJb3JnLnNw
cmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVy
Q2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJh
bWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nlc3MuRXhjZXB0aW9uVHJhbnNsYXRpb25GaWx0ZXIuZG9G
aWx0ZXIoRXhjZXB0aW9uVHJhbnNsYXRpb25GaWx0ZXIuamF2YTo5NykNCglvcmcuc3ByaW5nZnJh
bWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5k
b0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsu
c2VjdXJpdHkud2ViLmF1dGhlbnRpY2F0aW9uLkFic3RyYWN0QXV0aGVudGljYXRpb25Qcm9jZXNz
aW5nRmlsdGVyLmRvRmlsdGVyKEFic3RyYWN0QXV0aGVudGljYXRpb25Qcm9jZXNzaW5nRmlsdGVy
LmphdmE6MTg3KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWlu
UHJveHkkVmlydHVhbEZpbHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YToz
NTUpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24ubG9n
b3V0LkxvZ291dEZpbHRlci5kb0ZpbHRlcihMb2dvdXRGaWx0ZXIuamF2YToxMDUpDQoJb3JnLnNw
cmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVy
Q2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJh
bWV3b3JrLnNlY3VyaXR5LndlYi5jb250ZXh0LlNlY3VyaXR5Q29udGV4dFBlcnNpc3RlbmNlRmls
dGVyLmRvRmlsdGVyKFNlY3VyaXR5Q29udGV4dFBlcnNpc3RlbmNlRmlsdGVyLmphdmE6NzkpDQoJ
b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFs
RmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3By
aW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5LmRvRmlsdGVyKEZpbHRl
ckNoYWluUHJveHkuamF2YToxNDkpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLkRl
bGVnYXRpbmdGaWx0ZXJQcm94eS5pbnZva2VEZWxlZ2F0ZShEZWxlZ2F0aW5nRmlsdGVyUHJveHku
amF2YToyMzcpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLkRlbGVnYXRpbmdGaWx0
ZXJQcm94eS5kb0ZpbHRlcihEZWxlZ2F0aW5nRmlsdGVyUHJveHkuamF2YToxNjcpDQoJb3JnLnNw
cmluZ2ZyYW1ld29yay5vcm0uanBhLnN1cHBvcnQuT3BlbkVudGl0eU1hbmFnZXJJblZpZXdGaWx0
ZXIuZG9GaWx0ZXJJbnRlcm5hbChPcGVuRW50aXR5TWFuYWdlckluVmlld0ZpbHRlci5qYXZhOjEx
MykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5maWx0ZXIuT25jZVBlclJlcXVlc3RGaWx0ZXIu
ZG9GaWx0ZXIoT25jZVBlclJlcXVlc3RGaWx0ZXIuamF2YTo3NikNCg0Kcm9vdCBjYXVzZQ0KDQpq
YXZhLnNxbC5TUUxFeGNlcHRpb246IENvbm5lY3Rpb25zIGNvdWxkIG5vdCBiZSBhY3F1aXJlZCBm
cm9tIHRoZSB1bmRlcmx5aW5nIGRhdGFiYXNlIQ0KCWNvbS5tY2hhbmdlLnYyLnNxbC5TcWxVdGls
cy50b1NRTEV4Y2VwdGlvbihTcWxVdGlscy5qYXZhOjEwNikNCgljb20ubWNoYW5nZS52Mi5jM3Aw
LmltcGwuQzNQMFBvb2xlZENvbm5lY3Rpb25Qb29sLmNoZWNrb3V0UG9vbGVkQ29ubmVjdGlvbihD
M1AwUG9vbGVkQ29ubmVjdGlvblBvb2wuamF2YTo1MjkpDQoJY29tLm1jaGFuZ2UudjIuYzNwMC5p
bXBsLkFic3RyYWN0UG9vbEJhY2tlZERhdGFTb3VyY2UuZ2V0Q29ubmVjdGlvbihBYnN0cmFjdFBv
b2xCYWNrZWREYXRhU291cmNlLmphdmE6MTI4KQ0KCW9yZy5oaWJlcm5hdGUuZWpiLmNvbm5lY3Rp
b24uSW5qZWN0ZWREYXRhU291cmNlQ29ubmVjdGlvblByb3ZpZGVyLmdldENvbm5lY3Rpb24oSW5q
ZWN0ZWREYXRhU291cmNlQ29ubmVjdGlvblByb3ZpZGVyLmphdmE6NzEpDQoJb3JnLmhpYmVybmF0
ZS5qZGJjLkNvbm5lY3Rpb25NYW5hZ2VyLm9wZW5Db25uZWN0aW9uKENvbm5lY3Rpb25NYW5hZ2Vy
LmphdmE6NDQ2KQ0KCW9yZy5oaWJlcm5hdGUuamRiYy5Db25uZWN0aW9uTWFuYWdlci5nZXRDb25u
ZWN0aW9uKENvbm5lY3Rpb25NYW5hZ2VyLmphdmE6MTY3KQ0KCW9yZy5oaWJlcm5hdGUuamRiYy5K
REJDQ29udGV4dC5jb25uZWN0aW9uKEpEQkNDb250ZXh0LmphdmE6MTQyKQ0KCW9yZy5oaWJlcm5h
dGUudHJhbnNhY3Rpb24uSkRCQ1RyYW5zYWN0aW9uLmJlZ2luKEpEQkNUcmFuc2FjdGlvbi5qYXZh
Ojg1KQ0KCW9yZy5oaWJlcm5hdGUuaW1wbC5TZXNzaW9uSW1wbC5iZWdpblRyYW5zYWN0aW9uKFNl
c3Npb25JbXBsLmphdmE6MTQ2MykNCglvcmcuaGliZXJuYXRlLmVqYi5UcmFuc2FjdGlvbkltcGwu
YmVnaW4oVHJhbnNhY3Rpb25JbXBsLmphdmE6NjApDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5vcm0u
anBhLkRlZmF1bHRKcGFEaWFsZWN0LmJlZ2luVHJhbnNhY3Rpb24oRGVmYXVsdEpwYURpYWxlY3Qu
amF2YTo3MCkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEudmVuZG9yLkhpYmVybmF0ZUpw
YURpYWxlY3QuYmVnaW5UcmFuc2FjdGlvbihIaWJlcm5hdGVKcGFEaWFsZWN0LmphdmE6NTUpDQoJ
b3JnLnNwcmluZ2ZyYW1ld29yay5vcm0uanBhLkpwYVRyYW5zYWN0aW9uTWFuYWdlci5kb0JlZ2lu
KEpwYVRyYW5zYWN0aW9uTWFuYWdlci5qYXZhOjMzMikNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnRy
YW5zYWN0aW9uLnN1cHBvcnQuQWJzdHJhY3RQbGF0Zm9ybVRyYW5zYWN0aW9uTWFuYWdlci5nZXRU
cmFuc2FjdGlvbihBYnN0cmFjdFBsYXRmb3JtVHJhbnNhY3Rpb25NYW5hZ2VyLmphdmE6MzcxKQ0K
CW9yZy5zcHJpbmdmcmFtZXdvcmsudHJhbnNhY3Rpb24uaW50ZXJjZXB0b3IuVHJhbnNhY3Rpb25B
c3BlY3RTdXBwb3J0LmNyZWF0ZVRyYW5zYWN0aW9uSWZOZWNlc3NhcnkoVHJhbnNhY3Rpb25Bc3Bl
Y3RTdXBwb3J0LmphdmE6MzE2KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsudHJhbnNhY3Rpb24uaW50
ZXJjZXB0b3IuVHJhbnNhY3Rpb25JbnRlcmNlcHRvci5pbnZva2UoVHJhbnNhY3Rpb25JbnRlcmNl
cHRvci5qYXZhOjEwNSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLmFvcC5mcmFtZXdvcmsuUmVmbGVj
dGl2ZU1ldGhvZEludm9jYXRpb24ucHJvY2VlZChSZWZsZWN0aXZlTWV0aG9kSW52b2NhdGlvbi5q
YXZhOjE3MikNCglvcmcuc3ByaW5nZnJhbWV3b3JrLmFvcC5mcmFtZXdvcmsuSmRrRHluYW1pY0Fv
cFByb3h5Lmludm9rZShKZGtEeW5hbWljQW9wUHJveHkuamF2YToyMDIpDQoJJFByb3h5NjAuZXhl
Y3V0ZVNpbXBsZVF1ZXJ5KFVua25vd24gU291cmNlKQ0KCWNvbS5wcmltb3Zpc2lvbi51c3NkLnNl
cnZpY2VzLkF1dGhlbnRpY2F0aW9uU2VydmljZUltcGwuZmluZFJvbGVzRm9yVVJMKEF1dGhlbnRp
Y2F0aW9uU2VydmljZUltcGwuamF2YTo1OCkNCgljb20ucHJpbW92aXNpb24udXNzZC5jb3JlLnNw
cmluZy5DdXN0b21TZWN1cmVSZXNvdXJjZUZpbHRlci5nZXRBdHRyaWJ1dGVzKEN1c3RvbVNlY3Vy
ZVJlc291cmNlRmlsdGVyLmphdmE6NDApDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS5h
Y2Nlc3MuaW50ZXJjZXB0LkFic3RyYWN0U2VjdXJpdHlJbnRlcmNlcHRvci5iZWZvcmVJbnZvY2F0
aW9uKEFic3RyYWN0U2VjdXJpdHlJbnRlcmNlcHRvci5qYXZhOjE3MSkNCglvcmcuc3ByaW5nZnJh
bWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nlc3MuaW50ZXJjZXB0LkZpbHRlclNlY3VyaXR5SW50ZXJj
ZXB0b3IuaW52b2tlKEZpbHRlclNlY3VyaXR5SW50ZXJjZXB0b3IuamF2YToxMDYpDQoJb3JnLnNw
cmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLmludGVyY2VwdC5GaWx0ZXJTZWN1cml0
eUludGVyY2VwdG9yLmRvRmlsdGVyKEZpbHRlclNlY3VyaXR5SW50ZXJjZXB0b3IuamF2YTo4MykN
Cglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5JFZpcnR1
YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KQ0KCW9yZy5z
cHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmFjY2Vzcy5FeGNlcHRpb25UcmFuc2xhdGlvbkZp
bHRlci5kb0ZpbHRlcihFeGNlcHRpb25UcmFuc2xhdGlvbkZpbHRlci5qYXZhOjk3KQ0KCW9yZy5z
cHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRl
ckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJb3JnLnNwcmluZ2Zy
YW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uQWJzdHJhY3RBdXRoZW50aWNhdGlv
blByb2Nlc3NpbmdGaWx0ZXIuZG9GaWx0ZXIoQWJzdHJhY3RBdXRoZW50aWNhdGlvblByb2Nlc3Np
bmdGaWx0ZXIuamF2YToxODcpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmls
dGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94
eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hdXRoZW50aWNh
dGlvbi5sb2dvdXQuTG9nb3V0RmlsdGVyLmRvRmlsdGVyKExvZ291dEZpbHRlci5qYXZhOjEwNSkN
Cglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5JFZpcnR1
YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KQ0KCW9yZy5z
cHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmNvbnRleHQuU2VjdXJpdHlDb250ZXh0UGVyc2lz
dGVuY2VGaWx0ZXIuZG9GaWx0ZXIoU2VjdXJpdHlDb250ZXh0UGVyc2lzdGVuY2VGaWx0ZXIuamF2
YTo3OSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5
JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KQ0K
CW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkuZG9GaWx0
ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjE0OSkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5m
aWx0ZXIuRGVsZWdhdGluZ0ZpbHRlclByb3h5Lmludm9rZURlbGVnYXRlKERlbGVnYXRpbmdGaWx0
ZXJQcm94eS5qYXZhOjIzNykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLndlYi5maWx0ZXIuRGVsZWdh
dGluZ0ZpbHRlclByb3h5LmRvRmlsdGVyKERlbGVnYXRpbmdGaWx0ZXJQcm94eS5qYXZhOjE2NykN
Cglvcmcuc3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEuc3VwcG9ydC5PcGVuRW50aXR5TWFuYWdlcklu
Vmlld0ZpbHRlci5kb0ZpbHRlckludGVybmFsKE9wZW5FbnRpdHlNYW5hZ2VySW5WaWV3RmlsdGVy
LmphdmE6MTEzKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmZpbHRlci5PbmNlUGVyUmVxdWVz
dEZpbHRlci5kb0ZpbHRlcihPbmNlUGVyUmVxdWVzdEZpbHRlci5qYXZhOjc2KQ0KDQpyb290IGNh
dXNlDQoNCmNvbS5tY2hhbmdlLnYyLnJlc291cmNlcG9vbC5DYW5ub3RBY3F1aXJlUmVzb3VyY2VF
eGNlcHRpb246IEEgUmVzb3VyY2VQb29sIGNvdWxkIG5vdCBhY3F1aXJlIGEgcmVzb3VyY2UgZnJv
bSBpdHMgcHJpbWFyeSBmYWN0b3J5IG9yIHNvdXJjZS4NCgljb20ubWNoYW5nZS52Mi5yZXNvdXJj
ZXBvb2wuQmFzaWNSZXNvdXJjZVBvb2wuYXdhaXRBdmFpbGFibGUoQmFzaWNSZXNvdXJjZVBvb2wu
amF2YToxMzE5KQ0KCWNvbS5tY2hhbmdlLnYyLnJlc291cmNlcG9vbC5CYXNpY1Jlc291cmNlUG9v
bC5wcmVsaW1DaGVja291dFJlc291cmNlKEJhc2ljUmVzb3VyY2VQb29sLmphdmE6NTU3KQ0KCWNv
bS5tY2hhbmdlLnYyLnJlc291cmNlcG9vbC5CYXNpY1Jlc291cmNlUG9vbC5jaGVja291dFJlc291
cmNlKEJhc2ljUmVzb3VyY2VQb29sLmphdmE6NDc3KQ0KCWNvbS5tY2hhbmdlLnYyLmMzcDAuaW1w
bC5DM1AwUG9vbGVkQ29ubmVjdGlvblBvb2wuY2hlY2tvdXRQb29sZWRDb25uZWN0aW9uKEMzUDBQ
b29sZWRDb25uZWN0aW9uUG9vbC5qYXZhOjUyNSkNCgljb20ubWNoYW5nZS52Mi5jM3AwLmltcGwu
QWJzdHJhY3RQb29sQmFja2VkRGF0YVNvdXJjZS5nZXRDb25uZWN0aW9uKEFic3RyYWN0UG9vbEJh
Y2tlZERhdGFTb3VyY2UuamF2YToxMjgpDQoJb3JnLmhpYmVybmF0ZS5lamIuY29ubmVjdGlvbi5J
bmplY3RlZERhdGFTb3VyY2VDb25uZWN0aW9uUHJvdmlkZXIuZ2V0Q29ubmVjdGlvbihJbmplY3Rl
ZERhdGFTb3VyY2VDb25uZWN0aW9uUHJvdmlkZXIuamF2YTo3MSkNCglvcmcuaGliZXJuYXRlLmpk
YmMuQ29ubmVjdGlvbk1hbmFnZXIub3BlbkNvbm5lY3Rpb24oQ29ubmVjdGlvbk1hbmFnZXIuamF2
YTo0NDYpDQoJb3JnLmhpYmVybmF0ZS5qZGJjLkNvbm5lY3Rpb25NYW5hZ2VyLmdldENvbm5lY3Rp
b24oQ29ubmVjdGlvbk1hbmFnZXIuamF2YToxNjcpDQoJb3JnLmhpYmVybmF0ZS5qZGJjLkpEQkND
b250ZXh0LmNvbm5lY3Rpb24oSkRCQ0NvbnRleHQuamF2YToxNDIpDQoJb3JnLmhpYmVybmF0ZS50
cmFuc2FjdGlvbi5KREJDVHJhbnNhY3Rpb24uYmVnaW4oSkRCQ1RyYW5zYWN0aW9uLmphdmE6ODUp
DQoJb3JnLmhpYmVybmF0ZS5pbXBsLlNlc3Npb25JbXBsLmJlZ2luVHJhbnNhY3Rpb24oU2Vzc2lv
bkltcGwuamF2YToxNDYzKQ0KCW9yZy5oaWJlcm5hdGUuZWpiLlRyYW5zYWN0aW9uSW1wbC5iZWdp
bihUcmFuc2FjdGlvbkltcGwuamF2YTo2MCkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEu
RGVmYXVsdEpwYURpYWxlY3QuYmVnaW5UcmFuc2FjdGlvbihEZWZhdWx0SnBhRGlhbGVjdC5qYXZh
OjcwKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsub3JtLmpwYS52ZW5kb3IuSGliZXJuYXRlSnBhRGlh
bGVjdC5iZWdpblRyYW5zYWN0aW9uKEhpYmVybmF0ZUpwYURpYWxlY3QuamF2YTo1NSkNCglvcmcu
c3ByaW5nZnJhbWV3b3JrLm9ybS5qcGEuSnBhVHJhbnNhY3Rpb25NYW5hZ2VyLmRvQmVnaW4oSnBh
VHJhbnNhY3Rpb25NYW5hZ2VyLmphdmE6MzMyKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsudHJhbnNh
Y3Rpb24uc3VwcG9ydC5BYnN0cmFjdFBsYXRmb3JtVHJhbnNhY3Rpb25NYW5hZ2VyLmdldFRyYW5z
YWN0aW9uKEFic3RyYWN0UGxhdGZvcm1UcmFuc2FjdGlvbk1hbmFnZXIuamF2YTozNzEpDQoJb3Jn
LnNwcmluZ2ZyYW1ld29yay50cmFuc2FjdGlvbi5pbnRlcmNlcHRvci5UcmFuc2FjdGlvbkFzcGVj
dFN1cHBvcnQuY3JlYXRlVHJhbnNhY3Rpb25JZk5lY2Vzc2FyeShUcmFuc2FjdGlvbkFzcGVjdFN1
cHBvcnQuamF2YTozMTYpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay50cmFuc2FjdGlvbi5pbnRlcmNl
cHRvci5UcmFuc2FjdGlvbkludGVyY2VwdG9yLmludm9rZShUcmFuc2FjdGlvbkludGVyY2VwdG9y
LmphdmE6MTA1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuYW9wLmZyYW1ld29yay5SZWZsZWN0aXZl
TWV0aG9kSW52b2NhdGlvbi5wcm9jZWVkKFJlZmxlY3RpdmVNZXRob2RJbnZvY2F0aW9uLmphdmE6
MTcyKQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuYW9wLmZyYW1ld29yay5KZGtEeW5hbWljQW9wUHJv
eHkuaW52b2tlKEpka0R5bmFtaWNBb3BQcm94eS5qYXZhOjIwMikNCgkkUHJveHk2MC5leGVjdXRl
U2ltcGxlUXVlcnkoVW5rbm93biBTb3VyY2UpDQoJY29tLnByaW1vdmlzaW9uLnVzc2Quc2Vydmlj
ZXMuQXV0aGVudGljYXRpb25TZXJ2aWNlSW1wbC5maW5kUm9sZXNGb3JVUkwoQXV0aGVudGljYXRp
b25TZXJ2aWNlSW1wbC5qYXZhOjU4KQ0KCWNvbS5wcmltb3Zpc2lvbi51c3NkLmNvcmUuc3ByaW5n
LkN1c3RvbVNlY3VyZVJlc291cmNlRmlsdGVyLmdldEF0dHJpYnV0ZXMoQ3VzdG9tU2VjdXJlUmVz
b3VyY2VGaWx0ZXIuamF2YTo0MCkNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LmFjY2Vz
cy5pbnRlcmNlcHQuQWJzdHJhY3RTZWN1cml0eUludGVyY2VwdG9yLmJlZm9yZUludm9jYXRpb24o
QWJzdHJhY3RTZWN1cml0eUludGVyY2VwdG9yLmphdmE6MTcxKQ0KCW9yZy5zcHJpbmdmcmFtZXdv
cmsuc2VjdXJpdHkud2ViLmFjY2Vzcy5pbnRlcmNlcHQuRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRv
ci5pbnZva2UoRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRvci5qYXZhOjEwNikNCglvcmcuc3ByaW5n
ZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nlc3MuaW50ZXJjZXB0LkZpbHRlclNlY3VyaXR5SW50
ZXJjZXB0b3IuZG9GaWx0ZXIoRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRvci5qYXZhOjgzKQ0KCW9y
Zy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZp
bHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJb3JnLnNwcmlu
Z2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLkV4Y2VwdGlvblRyYW5zbGF0aW9uRmlsdGVy
LmRvRmlsdGVyKEV4Y2VwdGlvblRyYW5zbGF0aW9uRmlsdGVyLmphdmE6OTcpDQoJb3JnLnNwcmlu
Z2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hh
aW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSkNCglvcmcuc3ByaW5nZnJhbWV3
b3JrLnNlY3VyaXR5LndlYi5hdXRoZW50aWNhdGlvbi5BYnN0cmFjdEF1dGhlbnRpY2F0aW9uUHJv
Y2Vzc2luZ0ZpbHRlci5kb0ZpbHRlcihBYnN0cmFjdEF1dGhlbnRpY2F0aW9uUHJvY2Vzc2luZ0Zp
bHRlci5qYXZhOjE4NykNCglvcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJD
aGFpblByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5Lmph
dmE6MzU1KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmF1dGhlbnRpY2F0aW9u
LmxvZ291dC5Mb2dvdXRGaWx0ZXIuZG9GaWx0ZXIoTG9nb3V0RmlsdGVyLmphdmE6MTA1KQ0KCW9y
Zy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZp
bHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJb3JnLnNwcmlu
Z2ZyYW1ld29yay5zZWN1cml0eS53ZWIuY29udGV4dC5TZWN1cml0eUNvbnRleHRQZXJzaXN0ZW5j
ZUZpbHRlci5kb0ZpbHRlcihTZWN1cml0eUNvbnRleHRQZXJzaXN0ZW5jZUZpbHRlci5qYXZhOjc5
KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmly
dHVhbEZpbHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpDQoJb3Jn
LnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eS5kb0ZpbHRlcihG
aWx0ZXJDaGFpblByb3h5LmphdmE6MTQ5KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmZpbHRl
ci5EZWxlZ2F0aW5nRmlsdGVyUHJveHkuaW52b2tlRGVsZWdhdGUoRGVsZWdhdGluZ0ZpbHRlclBy
b3h5LmphdmE6MjM3KQ0KCW9yZy5zcHJpbmdmcmFtZXdvcmsud2ViLmZpbHRlci5EZWxlZ2F0aW5n
RmlsdGVyUHJveHkuZG9GaWx0ZXIoRGVsZWdhdGluZ0ZpbHRlclByb3h5LmphdmE6MTY3KQ0KCW9y
Zy5zcHJpbmdmcmFtZXdvcmsub3JtLmpwYS5zdXBwb3J0Lk9wZW5FbnRpdHlNYW5hZ2VySW5WaWV3
RmlsdGVyLmRvRmlsdGVySW50ZXJuYWwoT3BlbkVudGl0eU1hbmFnZXJJblZpZXdGaWx0ZXIuamF2
YToxMTMpDQoJb3JnLnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLk9uY2VQZXJSZXF1ZXN0Rmls
dGVyLmRvRmlsdGVyKE9uY2VQZXJSZXF1ZXN0RmlsdGVyLmphdmE6NzYpDQoNCm5vdGUgVGhlIGZ1
bGwgc3RhY2sgdHJhY2Ugb2YgdGhlIHJvb3QgY2F1c2UgaXMgYXZhaWxhYmxlIGluIHRoZSBBcGFj
aGUgVG9tY2F0LzYuMC4zMyBsb2dzLg0KQXBhY2hlIFRvbWNhdC82LjAuMzM=

--20cf307d00ceffe41404d12319e6
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--20cf307d00ceffe41404d12319e6--

From users-return-238669-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 16:42:20 2012
Return-Path: <users-return-238669-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D055CE4EE
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 16:42:20 +0000 (UTC)
Received: (qmail 3675 invoked by uid 500); 18 Dec 2012 16:42:17 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3593 invoked by uid 500); 18 Dec 2012 16:42:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3571 invoked by uid 99); 18 Dec 2012 16:42:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 16:42:16 +0000
X-ASF-Spam-Status: No, hits=2.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ajlopez2000@gmail.com designates 209.85.215.179 as permitted sender)
Received: from [209.85.215.179] (HELO mail-ea0-f179.google.com) (209.85.215.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 16:42:09 +0000
Received: by mail-ea0-f179.google.com with SMTP id i12so358558eaa.24
        for <users@tomcat.apache.org>; Tue, 18 Dec 2012 08:41:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9VBIJazyIr2gv0qmU0nM/zi6QPv4tRFzXixe7ues3aQ=;
        b=H8A/TM0wYuPM/88uIDt/p6w5L7m8eTk0ndBi3nZakVaX6p9kXlw2JRuoJlWf7SJI7M
         +z8q87naND0QYIGw3F3YjlZpYlTII9a39Yy/uIDBFi5mq4LS93ZMUzK6FMumQFYpte2P
         NILxp1Wyvc/wN42kcMnAIOrQJKR5pMI9I5yfsGolckkExXVqv0Z1QIkCY6gG6SZvmUEo
         6OUNyEwxXDArUcbpKv4eKoc/qkgexpkSPVSoV6k1nZ21M35lqpqCAf/kfi4sRFlv4m9q
         XEjRL6VmrmKqUtxlrfE5Pc7i41xWaGOlbiAKal67QgeYdzDkQMH1M7WUDNbrzOTBx4ev
         OG/g==
MIME-Version: 1.0
Received: by 10.14.194.4 with SMTP id l4mr6871491een.42.1355848908382; Tue, 18
 Dec 2012 08:41:48 -0800 (PST)
Received: by 10.14.1.4 with HTTP; Tue, 18 Dec 2012 08:41:48 -0800 (PST)
In-Reply-To: <CAAeagyjQ1P7sbpbMbxi4M1MDoXaj-wa0wFvDt47NzuFaMX5DBA@mail.gmail.com>
References: <CAAeagyjn3XoHZvDQbdMCFKGFff=4WpE3YJ0KP2fpbeXCo=0jfw@mail.gmail.com>
	<CAAeagyjQ1P7sbpbMbxi4M1MDoXaj-wa0wFvDt47NzuFaMX5DBA@mail.gmail.com>
Date: Tue, 18 Dec 2012 13:41:48 -0300
Message-ID: <CAMs+DqLPt1PvC1AZ-Q8YEgHrW2maDOPXaeaDZtfwAi1jy_oLUg@mail.gmail.com>
Subject: Re: Error Message on Apache
From: Angel Java Lopez <ajlopez2000@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b342bf28da19704d1232cc7
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b342bf28da19704d1232cc7
Content-Type: text/plain; charset=ISO-8859-1

Ummm... your code fail on connecting to the database.

First things to check:

- your connection string is the right one? (Hibernate? Spring? other
configuration?)
- write a simple console program that connects using that connection
string, to discard security, network, database server problems

On Tue, Dec 18, 2012 at 1:36 PM, Vincent Ogundu <vincentogundu@gmail.com>wrote:

>
> Hi Good evening,
>
> My Application does not load from browser. I got the attached Apache error.
>
> Please kindly help with possible solutions.
>
> Thanks.
>
> --
> Vincent Ogundu
> for:Easiglobe Messaging Ltd
> 85a Owukori Crescent, Alaka Estate, Surulere Lagos.
> Tel:234-1-7388983 /4.
> E-mail:vincentogundu@gmail.com
>
>
>
> --
> Vincent Ogundu
> for:Easiglobe Messaging Ltd
> 85a Owukori Crescent, Alaka Estate, Surulere Lagos.
> Tel:234-1-7388983 /4.
> E-mail:vincentogundu@gmail.com
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

--047d7b342bf28da19704d1232cc7--

From users-return-238670-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 17:12:47 2012
Return-Path: <users-return-238670-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4C304E60C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 17:12:47 +0000 (UTC)
Received: (qmail 2262 invoked by uid 500); 18 Dec 2012 17:12:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 1727 invoked by uid 500); 18 Dec 2012 17:12:41 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 1427 invoked by uid 99); 18 Dec 2012 17:12:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 17:12:39 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.180 as permitted sender)
Received: from [209.85.223.180] (HELO mail-ie0-f180.google.com) (209.85.223.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 17:12:32 +0000
Received: by mail-ie0-f180.google.com with SMTP id c10so1281416ieb.11
        for <users@tomcat.apache.org>; Tue, 18 Dec 2012 09:12:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=NpBZQNcf3EDUBPtJSLDHCodiS15S6SJTct9pD0dCZc4=;
        b=bS4FS4cfrrJxUi9Riyn2Oia+PILuw6LEDQunjYv7/13NK6qw4iWTLCj+N/tCFqIQwO
         QmQyNMNv8i1CMR9RoVImazVKMwoOrkif3qpKthmWDlF9Cst7M7Ajr090plTMo354Ljyf
         h5DMtSk7oF3kELQBmYnQE9bibmU0s3KoLi/b07kzl+Zyp3MFFt1aPhNGzcWXvbIuUqk9
         uAbedrMxdUWCunsOt6LUhHl+54iWuQzvnHSWRm4FF9rQkPFckJEqs0xM1g6NMnwnyxwD
         9aeiRQFWTbNbpZCnWf4qoXSADTzHMAbFzvpOi52z8/t7XiE0ytdUjY4NI6xRBu+MbeMb
         Z9QA==
MIME-Version: 1.0
Received: by 10.50.178.103 with SMTP id cx7mr3620807igc.5.1355850731500; Tue,
 18 Dec 2012 09:12:11 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Tue, 18 Dec 2012 09:12:11 -0800 (PST)
In-Reply-To: <CAFpYQw9EkY9K6aE3DpSM9yYR1zTHwignNTVnTc9+VqYi1P4Z1g@mail.gmail.com>
References: <CAFpYQw89TjX0gMVov_5Xd3T-yO3XJ3Kj9NyBTAs5GVi+w9REUA@mail.gmail.com>
	<CAPoyBqTZuWLSrh-D7zY+9jbMUs5-UHAidwLAn7vh0bLT8kU-Ag@mail.gmail.com>
	<CAFpYQw-o607UGtkWARYLdOsiPn1HiuaL2j5uk0DCu8Aqg0JHsw@mail.gmail.com>
	<CAPoyBqSoVwn1johY757tKDekWoPdqV1z-WCDyvHSMjNufJQhbg@mail.gmail.com>
	<CAFpYQw9kroXt2vjn878Xk4qrUDyO3+ZDan0Uze4vXE0VUBYyGQ@mail.gmail.com>
	<CAFpYQw9EkY9K6aE3DpSM9yYR1zTHwignNTVnTc9+VqYi1P4Z1g@mail.gmail.com>
Date: Tue, 18 Dec 2012 12:12:11 -0500
Message-ID: <CAFpYQw_WD30L7xEHAiExx3Y0uk6iALR-Q23bUx6kncGNjQqcoQ@mail.gmail.com>
Subject: Re: tomcat7-maven-plugin
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8f6430f23834a204d12399fc
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f6430f23834a204d12399fc
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Dec 17, 2012 at 8:13 AM, Josh Gooding <josh.gooding@gmail.com>wrote:

> As far as this goes, there is definitely something strange going on, and I
> think it points to the SSL self signed cert.  Can someone verify that the
> tomcat7 maven plugin works with self signed SSL?
>
> I have setup another TC7 server on a remote BSD VM with the absolute basic
> configuration.  Since the first server has the manager application running
> on a self signed SSL certificate (not sure if I mentioned that before), I
> decided NOT to set it [SSL] up on the new machine, and it works as expected
> and can be reproduced on demand.  I notice that when I script the command
> using curl, I have to pass it the -k option to get it to work.
>
> I am wondering if that might be the problem that I am seeing, just masked
> by the 401 error.  I'm looking in the tomcat logs and I'm not seeing
> anything out of the ordinary though.  Maybe that error is only returned by
> maven.
>
> Anyone?
>
>
I solved the problem.  It ended up being the self signed cert that I
created.  Little did I know that the CN had to match the domain name of the
server.  Had me running around for a few days figuring it out.  The minute
I changed the CN to do a partial match on the domain name (i.e.
*.dev.texas.priv.[companyname].com) and imported everything, restarted
tomcat, BLAM.  It worked.



> On Thu, Dec 13, 2012 at 9:48 AM, Josh Gooding <josh.gooding@gmail.com>wrote:
>
>>
>>
>> On Thu, Dec 13, 2012 at 9:36 AM, Olivier Lamy <olamy@apache.org> wrote:
>>
>>> 2012/12/13 Josh Gooding <josh.gooding@gmail.com>:
>>> > On Wed, Dec 12, 2012 at 6:05 PM, Olivier Lamy <olamy@apache.org>
>>> wrote:
>>> >
>>> >> Good detailed description :-).
>>> >>
>>> >
>>> > Hey even I get it right once in a while... ;)
>>> >
>>> >
>>> >> I just wonder about the cli you are using ?
>>> >>
>>> >
>>> >  cli as in command line interface?  - Win 7, CentOS, and Ubuntu
>>> terminals,
>>> > and yes I get my fair share of flack for not letting Eclipse "just do
>>> it".
>>> > Of course I'm a control freak when it comes to my code...
>>> :-)
>>>
>>> I mean mvn tomcat7:deploy or something else ?
>>> or you bind deploy to a lifecycle phase ?
>>>
>>>
>> Oh I gotcha.  tomcat7:deploy  I didn't bind the deploy to the life-cycle
>> phase yet.  I want to get it working first.
>>
>
> So let me form possibly some better questions here:
>
> 1 - Where does the plug in
>
>
>>
>>
>>>  >
>>> >>
>>> >> 2012/12/12 Josh Gooding <josh.gooding@gmail.com>:
>>> >> > I didn't want to come here to ask as I always hate to bother
>>> anyone, but
>>> >> > maybe I should have come here first.  I'm coming up short on
>>> answers and
>>> >> > ideas.  I'm having an issue with using maven and the tomcat7 plugin.
>>> >> >
>>> >> > Maven version -3.0.4
>>> >> > Tomcat version - 7.0.29
>>> >> > .jdk version - 1.6
>>> >> > tomcat7-maven-plugin version - 2.0
>>> >> >
>>> >> > Hey group,  I am having an issue here with using the
>>> tomcat7-maven-plugin
>>> >> > in conjunction with the tomcat 7 manager.  here's what I have so
>>> far.
>>> >> >
>>> >> > tomcat-users.xml -
>>> >> >
>>> >> > <tomcat-users>
>>> >> >     <role rolename="manager-gui"/>
>>> >> >     <role rolename="manager-script"/>
>>> >> >     <role rolename="admin"/>
>>> >> >     <user username="localTomcatAdmin" password="password"
>>> >> > roles="manager-gui,manager-script,admin"/>
>>> >> > </tomcat-users>
>>> >> >
>>> >> > in my M2_HOME/conf/settings.xml: (note not in my .m2/ directory)
>>> >> > (I'll get to this definition in a minute)
>>> >> >   <pluginGroups>
>>> >> >     <pluginGroup>org.apache.tomcat.maven</pluginGroup>
>>> >> >   </pluginGroups>
>>> >> >
>>> >> > <servers>
>>> >> >     <server>
>>> >> >       <id>LocalTomcatServer</id>
>>> >> >       <username>localTomcatAdmin</username>
>>> >> >       <password>password</password>
>>> >> >     </server>
>>> >> >   </servers>
>>> >> >
>>> >> > now for the last piece, in my pom-deploy.xml (parent) I have this:
>>> >> >
>>> >> > <plugin>
>>> >> >      <groupId>org.apache.tomcat.maven</groupId>
>>> >> >      <artifactId>tomcat7-maven-plugin</artifactId>
>>> >> >      <version>2.0</version>
>>> >> >      <configuration>
>>> >> >           <server>LocalTomcatServer</server>
>>> >> >           <path>/TripTixRX</path>
>>> >> >           <port>8080</port>
>>> >> >      </configuration>
>>> >> > </plugin>
>>> >> >
>>> >> > I have verified that the manager works with the applied
>>> credentials, I
>>> >> can
>>> >> > login and supply the credentials to my local /manager/html.
>>> >> >
>>> >> > The problem is that when I deploy through maven as mvn
>>> tomcat7:deploy and
>>> >> > returns me the dreaded 401 - Unauthorized page with the same
>>> credentials.
>>> >> > It's almost like maven is not parsing the configuration for the
>>> plugin
>>> >> > maybe?
>>> >> >
>>> >> > At this point I don't know what to do.  I've turned on verbose
>>> output in
>>> >> > maven and it shows what appears that the plugin is attempting to
>>> upload
>>> >> the
>>> >> > war file twice and returns the 401 page.
>>> >> >
>>> >> >
>>> >> > I also have a question as to getting this to work initially.  I
>>> added the
>>> >> > <pluginGroup>org.apache.tomcat.maven</pluginGroup> to my
>>> >> conf/settings.xml
>>> >> > to get the tomcat7 plugin to download and work, is this normal or
>>> should
>>> >> I
>>> >> > not have to define it here?  I mean having to change and version
>>> maven
>>> >> > settings.xml files seems a bit counter intuitive for preserving
>>> maximum
>>> >> > portability right, or am I looking at this from the wrong angle?
>>> >> >
>>> >> > Any information anyone can provide as to where to look or what
>>> could be
>>> >> > causing this issue, I would be greatly appreciated.
>>> >> >
>>> >> > Warmest regards,
>>> >> >
>>> >> > - Josh
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> Olivier Lamy
>>> >> Talend: http://coders.talend.com
>>> >> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>> >>
>>> >> ---------------------------------------------------------------------
>>> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> >> For additional commands, e-mail: users-help@tomcat.apache.org
>>> >>
>>> >>
>>>
>>>
>>>
>>> --
>>> Olivier Lamy
>>> Talend: http://coders.talend.com
>>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>>
>>> ---------------------------------------------------------------------
>>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>>> For additional commands, e-mail: users-help@tomcat.apache.org
>>>
>>>
>>
>

--e89a8f6430f23834a204d12399fc--

From users-return-238671-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 18:49:16 2012
Return-Path: <users-return-238671-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C100DDBF2
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 18:49:16 +0000 (UTC)
Received: (qmail 99307 invoked by uid 500); 18 Dec 2012 18:49:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99221 invoked by uid 500); 18 Dec 2012 18:49:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99191 invoked by uid 99); 18 Dec 2012 18:49:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 18:49:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.210.172 as permitted sender)
Received: from [209.85.210.172] (HELO mail-ia0-f172.google.com) (209.85.210.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 18:49:03 +0000
Received: by mail-ia0-f172.google.com with SMTP id z13so903879iaz.3
        for <users@tomcat.apache.org>; Tue, 18 Dec 2012 10:48:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=neydYjkXm+Je+ioVS8dOBBvH5M/+MycFWc9ZFwS0fsk=;
        b=uI83u/wH5vlkl4HuLMazjLiZLydbM+NfXeHk0BHx8wgVaiLGQQ6mwNM7AfZQYzM68U
         hfI+xapbrjsyDkE/L3st3Z6Y2Mxa/GxlCqcPY0+WvqPeTai/oJji8dWqltvgZPZuwhWW
         t13/Mdvyww2elA9n3QirRbVGMBEb5l5Di7KCGVsfA6YRY4FHo06+Io63B1o3kGp815N7
         A7U/xVAHuZ6DZewxpSsRx1b67r88ul7ztFLfvarc3NJaEVdc+x2I4mPAG8fYPvxrLHo4
         0U1a98U0DUI+bdtM+JN2qNvB5vzCZSI7J2rMEjRIUaWziOj24us8LxeuQ281EbIwaajM
         f9iA==
MIME-Version: 1.0
Received: by 10.50.41.165 with SMTP id g5mr4268491igl.66.1355856522848; Tue,
 18 Dec 2012 10:48:42 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Tue, 18 Dec 2012 10:48:42 -0800 (PST)
In-Reply-To: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com>
Date: Tue, 18 Dec 2012 13:48:42 -0500
Message-ID: <CAFpYQw_yOyT8yxGsDO9GUup_F3bZdtGsdnaWjTf6yNUu0vErZw@mail.gmail.com>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae9340f6f6927fd04d124f2ae
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae9340f6f6927fd04d124f2ae
Content-Type: text/plain; charset=ISO-8859-1

I just did this.  I have the tomcat manager application running across
SSL.  Here's what I did....

On Mon, Dec 17, 2012 at 9:03 PM, James Dekker <james.dekker@gmail.com>wrote:

> James said... "STUFF":
>
> (1) cd $CATALINA_HOME/conf
>
> (2) Create a certificate and store it in a new key store.
>
> keytool -genkey -alias tomcat -keyalg RSA -keystore .jks
>
>
./keytool 0genkey -alias [identifier] -keyalg RSA -keystore .keystore


> (3) Uncomment the SSL connector configuration in Tomcat's conf/server.xml,
> specifying your key store file and password.
>
> <Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
>                maxThreads="150" scheme="https" secure="true"
>    clientAuth="false" sslProtocol="TLS"
>    keystoreFile="./conf/keystore.jks"
>    keystorePass="mypassword"
> />
>

3 is good.  Note I used the .keystore file not .keystore.jks, but it should
be all the same.


>
> (4) Export the certificate from the key store.
>
> keytool -exportcert -alias tomcat -file tomcat.crt -keystore keystore.jks
>
> When I tried to (which would have been Step # 5) import the certificate
> into the trust store.
>
> keytool -importcert -alias tomcat -file tomcat.crt -trustcacerts -keystore
> $JAVA_HOME/jre/lib/security/cacerts
>
>
try this:  $JAVA_JRE_HOME/bin/keytool -import -alias tomcat -file
~/tomcat.crt -keystore $JAVA_HOME/jre/lib/security/cacerts


> I get the following prompt for my password (after which I entered in
> "mypassword"):
>
> Enter keystore password:
>
> keytool error: java.io.IOException: Keystore was tampered with, or password
> was incorrect
>

If you are using java's default cacerts truststore the password is not the
.keystore password, it is "changeit" if you haven't tampered with it before.


>
> (I disregarded this step by the way because I found it on Google but not on
> the official Tomcat7-SSL-Howto documentation - please let me know if its
> necessary).
>

restart tomcat at this point and it should work with curl -k option.  I
usually test the manager app by passing in the /list parameter and testing
both SSL and un/pwd all in one.


>
> Tomcat's server output:
>
>     INFO: Initializing ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:17:59 PM org.apache.coyote.AbstractProtocol init
>     INFO: Initializing ProtocolHandler ["ajp-bio-8009"]
>     Dec 17, 2012 5:43:08 PM org.apache.catalina.startup.Catalina start
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8080"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start
>     INFO: Starting ProtocolHandler ["http-bio-8443"]
>     Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractP
>     INFO: Server startup in 9611 ms
>
> When I go to my bash shell and type this in:
>
>     curl -X GET https://localhost:8443
>
> I get the following error output:
>
> curl: (60) Peer certificate cannot be authenticated with known CA
> certificates
> More details here: http://curl.haxx.se/docs/sslcerts.html
>
> curl performs SSL certificate verification by default, using a "bundle"
> of Certificate Authority (CA) public keys (CA certs). If the default
> bundle file isn't adequate, you can specify an alternate file
> using the --cacert option.
> If this HTTPS server uses a certificate signed by a CA represented in
> the bundle, the certificate verification probably failed due to a
> problem with the certificate (it might be expired, or the name might
> not match the domain name in the URL).
> If you'd like to turn off curl's verification of the certificate, use
> the -k (or --insecure) option.
>
> Am I missing a step here?
>
>
- Josh

--14dae9340f6f6927fd04d124f2ae--

From users-return-238672-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 19:45:28 2012
Return-Path: <users-return-238672-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F0349D061
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 19:45:28 +0000 (UTC)
Received: (qmail 89413 invoked by uid 500); 18 Dec 2012 19:45:25 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 89353 invoked by uid 500); 18 Dec 2012 19:45:25 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 89311 invoked by uid 99); 18 Dec 2012 19:45:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 19:45:23 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 19:45:16 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id d0451k0011wpRvQ537kuQP; Tue, 18 Dec 2012 19:44:54 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id d7kr1k00F38FjT13e7ktM3; Tue, 18 Dec 2012 19:44:54 +0000
Message-ID: <50D0C7B1.8010009@christopherschultz.net>
Date: Tue, 18 Dec 2012 14:44:49 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com> <50D03FF6.5030709@gmail.com>
In-Reply-To: <50D03FF6.5030709@gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355859894;
	bh=DcUrAkB/1DHR+Ld1+pDCrQw+ZFTwpvJHiPZJs5eNboE=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=KDi7kX5oLtrG4so5QIdU+95oxZN+ctY+1UilfMDzDL9rDPCzpL4lthBkzmF7TAY7N
	 Fl3KWe4S6KoUSn7i8boSMOuuAaW3BnBZBjVhir59mYQAomgDdJfpwgj5g8SBPHs3ez
	 IunyG69r3LA3lJpJjc0abEFyAG7CBJIEYobJ7zeSxTS2nVpn2VOlxICpprHVhm5waU
	 JVzh+7pGYIKTz6L4Zj5g42/ydj0pVRLrIg/BpX/z6isTF0FsgfVnzIroh1BdLMdBlL
	 mBJUKw/UaafPv/70jAhetCZlhdBATolJ4oB/yLL3uh0f4y3sa+52N9dNS2dX/zwcUR
	 XKo3zaJ3ZujOg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Ognjen,

On 12/18/12 5:05 AM, Ognjen Blagojevic wrote:
> James,
> 
> On 18.12.2012 3:03, James Dekker wrote:
>> Dec 17, 2012 5:43:08 PM org.apache.coyote.AbstractProtocol start 
>> INFO: Starting ProtocolHandler ["http-bio-8443"] Dec 17, 2012
>> 5:43:08 PM org.apache.coyote.AbstractP INFO: Server startup in
>> 9611 ms
> 
> You successfully configured and stared Tomcat with self signed 
> certificate. So far, so good.
> 
> 
>> When I go to my bash shell and type this in:
>> 
>> curl -X GET https://localhost:8443
>> 
>> I get the following error output:
>> 
>> curl: (60) Peer certificate cannot be authenticated with known
>> CA certificates More details here:
>> http://curl.haxx.se/docs/sslcerts.html
> 
> If you are using curl just to check the certificate or test HTTPS,
> it is easier and faster to do that with your favorite web browser.

Better yet, use sslscan.

> If you need to use curl for some other reason (e.g. it is part of
> your business use case), then it makes sense to stick with curl.

+1

>> curl performs SSL certificate verification by default, using a
>> "bundle" of Certificate Authority (CA) public keys (CA certs). If
>> the default bundle file isn't adequate, you can specify an
>> alternate file using the --cacert option. If this HTTPS server
>> uses a certificate signed by a CA represented in the bundle, the
>> certificate verification probably failed due to a problem with
>> the certificate (it might be expired, or the name might not match
>> the domain name in the URL). If you'd like to turn off curl's
>> verification of the certificate, use the -k (or --insecure)
>> option.
>> 
>> Am I missing a step here?
> 
> You seem to be confused by the fact that curl and Java are using 
> different files and different formats for managing CA
> certificates.

Nope, curl doesn't care: X509 certificates are exchanged in a standard
way.

The problem is that curl doesn't trust the self-signed certificate
presented by the server -- which is absolutely the right behavior.

If you want curl to ignore the server's untrusted certificate, just
use -k or --insecure.... just like the error message told you to do.

> Java is using its own .jks format, while curl uses PEM format.
> Java stores system wide trusted CA certificates in file 
> "$JAVA_HOME/jre/lib/security/cacerts" (where you tried to import
> your self signed certificate in step #4), while curl reads them
> from file "ca-bundle.crt" (where your certificate is not stored,
> hence the error). I believe default location for file ca-bundle.crt
> in Red Hat is /etc/pki/tls/certs.
> 
> So, in order to run curl, as suggested by the docs:
> 
> 1. Use curl -k option.

+1

> 2. Convert cert to PEM format and use curl -cacert option.

If you want to go through that effort. If this will be used in a
script in production, then you /absolutely should/ do this.

> 3. Convert cert to PEM format, and add it to system wide CA bundle 
> (ca-bundle.crt).

I wouldn't do #3, here. You don't want to modify the system-trusted
certificates for two reasons:

1) You'll forget why it works on this server but not on one that you
build in 18 months
2) You don't want to modify the system-trusted certificates

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDQx7EACgkQ9CaO5/Lv0PAidwCfTTmgmol4d04dy8J4BXg8SU3V
aB0AnR59bnVU35JIYofolYojiy02Gb49
=Nxeh
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238673-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Tue Dec 18 21:25:15 2012
Return-Path: <users-return-238673-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 81F98DF8C
	for <apmail-tomcat-users-archive@www.apache.org>; Tue, 18 Dec 2012 21:25:15 +0000 (UTC)
Received: (qmail 40396 invoked by uid 500); 18 Dec 2012 21:25:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40209 invoked by uid 500); 18 Dec 2012 21:25:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40188 invoked by uid 99); 18 Dec 2012 21:25:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 21:25:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 147.91.1.120 is neither permitted nor denied by domain of ognjen.d.blagojevic@gmail.com)
Received: from [147.91.1.120] (HELO afrodita.rcub.bg.ac.rs) (147.91.1.120)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 18 Dec 2012 21:25:04 +0000
Received: from [IPv6:2001:4170:0:4::66] (unknown [IPv6:2001:4170:0:4::66])
	by afrodita.rcub.bg.ac.rs (Postfix) with ESMTP id 3B1882150004
	for <users@tomcat.apache.org>; Tue, 18 Dec 2012 22:24:26 +0100 (CET)
Message-ID: <50D0DF0B.2060402@gmail.com>
Date: Tue, 18 Dec 2012 22:24:27 +0100
From: Ognjen Blagojevic <ognjen.d.blagojevic@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: How to Enable SSL on Tomcat 7 on Linux & Test using curl?
References: <CAJqr9zgWG0mTiW1FpXxLuuZ-r=N6iD8Vz0-Af+x6eNeEXQPWRw@mail.gmail.com> <50D03FF6.5030709@gmail.com> <50D0C7B1.8010009@christopherschultz.net>
In-Reply-To: <50D0C7B1.8010009@christopherschultz.net>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-RCUB-MailScanner-Information: Please contact the ISP for more information
X-RCUB-MailScanner-ID: 3B1882150004.AB8F4
X-RCUB-MailScanner: Found to be clean
X-RCUB-MailScanner-SpamCheck: not spam, SpamAssassin (not cached, score=-2.6,
	required 6, autolearn=not spam, BAYES_00 -2.60, NO_RELAYS -0.00)
X-Virus-Checked: Checked by ClamAV on apache.org

Chris,

On 18.12.2012 20:44, Christopher Schultz wrote:
>> If you are using curl just to check the certificate or test HTTPS,
>> it is easier and faster to do that with your favorite web browser.
>
> Better yet, use sslscan.

Nice tool, thank you for the tip.


>> You seem to be confused by the fact that curl and Java are using
>> different files and different formats for managing CA
>> certificates.
>
> Nope, curl doesn't care: X509 certificates are exchanged in a standard
> way.

Sure, TLS protocol defines certificate exchange regardles of the 
TLS/HTTPS client. I was actually reffering to files (and formats) in 
which curl and Java clients look for trusted certificates, as elaborated 
further:

>> Java is using its own .jks format, while curl uses PEM format.
>> Java stores system wide trusted CA certificates in file
>> "$JAVA_HOME/jre/lib/security/cacerts" (where you tried to import
>> your self signed certificate in step #4), while curl reads them
>> from file "ca-bundle.crt" (where your certificate is not stored,
>> hence the error). I believe default location for file ca-bundle.crt
>> in Red Hat is /etc/pki/tls/certs.

OP tried to import certificate into Java system-wide truststore, while 
curl looks up at the OpenSSL CA bundle.

-Ognjen

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238674-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 00:09:03 2012
Return-Path: <users-return-238674-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D54D6DC4B
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 00:09:03 +0000 (UTC)
Received: (qmail 42720 invoked by uid 500); 19 Dec 2012 00:09:00 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 42667 invoked by uid 500); 19 Dec 2012 00:09:00 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 42651 invoked by uid 99); 19 Dec 2012 00:09:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 00:09:00 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [207.38.48.6] (HELO cg.towfiq.com) (207.38.48.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 00:08:50 +0000
Received: from [98.189.206.6] (account bob@nextfort.com HELO [10.0.1.41])
  by cg.towfiq.com (CommuniGate Pro SMTP 5.2.17)
  with ESMTPA id 2517246 for users@tomcat.apache.org; Tue, 18 Dec 2012 16:08:29 -0800
From: Bob Myers <bob@nextfort.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: quoted-printable
Subject: jvmRoute with multiple AJP Connectors for one Engine
Date: Tue, 18 Dec 2012 16:08:29 -0800
Message-Id: <427F2FB4-AA6C-487F-B39B-83F5955DB99E@nextfort.com>
To: users@tomcat.apache.org
Mime-Version: 1.0 (Apple Message framework v1085)
X-Mailer: Apple Mail (2.1085)
X-Virus-Checked: Checked by ClamAV on apache.org

I have more than one AJP connector for my Engine - one for HTTP, and one =
for HTTPS:

    <Connector executor=3D"tomcatThreadPool" port=3D"8009" =
protocol=3D"AJP/1.3" redirectPort=3D"443" />
    <Connector executor=3D"tomcatThreadPool" port=3D"8019" =
protocol=3D"AJP/1.3" scheme=3D"https" secure=3D"true" />

I had two workers, tomcat and tomcatssl, using the two different port =
numbers, one for Apache HTTP and one for HTTPS connections. They use a =
common Engine and Executor thread pool.

So far, so good - until I tried to put in a second Tomcat server with =
load balancing. The jvmRoute is supposed to match the worker name, but =
now I have 2 connectors for a single Engine! The 2 workers can't have =
the same name, though they need to go to the same Engine.

It seems to me that something is wrong here - the jvmRoute needs to be =
set on the connector, not on the Engine.=20

There seems to be no alternative to using 2 separate Engines and not =
just 2 Connectors, and that also means separate Services, and a =
non-common Executor pool.=20

Is there any way around this? Why is the jvmRoute set on the Engine =
instead of the Connector?





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238675-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 01:29:40 2012
Return-Path: <users-return-238675-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 888E9DD9E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 01:29:40 +0000 (UTC)
Received: (qmail 62641 invoked by uid 500); 19 Dec 2012 01:29:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62469 invoked by uid 500); 19 Dec 2012 01:29:37 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62460 invoked by uid 99); 19 Dec 2012 01:29:37 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 01:29:37 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.40] (HELO qmta04.westchester.pa.mail.comcast.net) (76.96.62.40)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 01:29:30 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta04.westchester.pa.mail.comcast.net with comcast
	id cztV1k0011uE5Es54DV9h0; Wed, 19 Dec 2012 01:29:09 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id dDV71k00r38FjT13cDV8Z8; Wed, 19 Dec 2012 01:29:09 +0000
Message-ID: <50D11863.7090605@christopherschultz.net>
Date: Tue, 18 Dec 2012 20:29:07 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
References: <427F2FB4-AA6C-487F-B39B-83F5955DB99E@nextfort.com>
In-Reply-To: <427F2FB4-AA6C-487F-B39B-83F5955DB99E@nextfort.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1355880549;
	bh=35yRF/HvO8b/rivutAkNA9KLjTySikz+nbRzFdcMxsQ=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=rvRd5MdsOE8/62LcIvxS8mLn/TbMDMLnjnXwRtw03MwT6gIf27bVetAj/hWpSZYNB
	 69KH99AaY3CFALSrYgQxI1yA24rfV7U3fXcKxuvBeINrHYKw+XcNwdAiuonVv6i7JN
	 NEDOo21X7vP7ptNMJVKj2rtJp8J9elCJMJmjYEPDCg4RdFVohOkzFxr2QnvYnA/mD/
	 /THvuKEGoGH4oB8g6I0/HOeEtw3Xa0fKhh7NsGPyAze68veGNNK588vSW/V6E0FIxk
	 D8PPp1Rw3DJRr8oiEQu+1sRu9a0rtHPlVYbFXxJAzuNrzR5Mz9+AcoWwO9AXWqnGMp
	 i2nQSjnzkMj5g==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Bob,

On 12/18/12 7:08 PM, Bob Myers wrote:
> I have more than one AJP connector for my Engine - one for HTTP, 
> and one for HTTPS:
> 
> <Connector executor="tomcatThreadPool" port="8009" 
> protocol="AJP/1.3" redirectPort="443" /> <Connector 
> executor="tomcatThreadPool" port="8019" protocol="AJP/1.3" 
> scheme="https" secure="true" />

Why bother?

> I had two workers, tomcat and tomcatssl, using the two different 
> port numbers, one for Apache HTTP and one for HTTPS connections. 
> They use a common Engine and Executor thread pool.
> 
> So far, so good - until I tried to put in a second Tomcat server 
> with load balancing. The jvmRoute is supposed to match the worker 
> name, but now I have 2 connectors for a single Engine! The 2 
> workers can't have the same name, though they need to go to the 
> same Engine.
> 
> It seems to me that something is wrong here - the jvmRoute needs to
> be set on the connector, not on the Engine.
> 
> There seems to be no alternative to using 2 separate Engines and 
> not just 2 Connectors, and that also means separate Services, and a
> non-common Executor pool.
> 
> Is there any way around this? Why is the jvmRoute set on the Engine
> instead of the Connector?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDRGGMACgkQ9CaO5/Lv0PAT5ACeKZrg5A0oRMQdxDJrjaJE4ctm
JAoAn04/IXEKbg0pfpoHD5XWhgNUUsmS
=VsS+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238676-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 01:48:33 2012
Return-Path: <users-return-238676-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6EE66D289
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 01:48:33 +0000 (UTC)
Received: (qmail 99951 invoked by uid 500); 19 Dec 2012 01:48:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99893 invoked by uid 500); 19 Dec 2012 01:48:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99882 invoked by uid 99); 19 Dec 2012 01:48:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 01:48:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.38.48.6] (HELO cg.towfiq.com) (207.38.48.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 01:48:23 +0000
Received: from [98.189.206.6] (account bob@nextfort.com HELO [10.0.1.41])
  by cg.towfiq.com (CommuniGate Pro SMTP 5.2.17)
  with ESMTPA id 2517326 for users@tomcat.apache.org; Tue, 18 Dec 2012 17:48:03 -0800
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1085)
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
From: Bob Myers <bob@nextfort.com>
In-Reply-To: <50D11863.7090605@christopherschultz.net>
Date: Tue, 18 Dec 2012 17:48:02 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <7DA6E807-4418-46AD-851E-985431B799D8@nextfort.com>
References: <427F2FB4-AA6C-487F-B39B-83F5955DB99E@nextfort.com> <50D11863.7090605@christopherschultz.net>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1085)
X-Virus-Checked: Checked by ClamAV on apache.org

Some particular apps require HTTPS, so we use (in the web.xml for that =
webapp)

  <transport-guarantee>confidential</transport-guarantee>

Then if the app is accessed by HTTP (Apache port 80), and is routed =
(AJP) to the insecure Tomcat app on 8009, it is redirected to port 443 =
(redirectPort=3D443) for HTTPS instead, and Apache passes 443/HTTPS =
traffic to Tomcat port 8019. Tomcat handles this well with the =
Connectors using redirectPort and the secure=3Dtrue/scheme=3Dhttps =
parameters.

What do you mean, why bother?=20

Some apps need HTTPS, some don't. We can define which is which in the =
web.xml files, so our content developers control that themselves.




On Dec 18, 2012, at 5:29 PM, Christopher Schultz wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>=20
> Bob,
>=20
> On 12/18/12 7:08 PM, Bob Myers wrote:
>> I have more than one AJP connector for my Engine - one for HTTP,=20
>> and one for HTTPS:
>>=20
>> <Connector executor=3D"tomcatThreadPool" port=3D"8009"=20
>> protocol=3D"AJP/1.3" redirectPort=3D"443" /> <Connector=20
>> executor=3D"tomcatThreadPool" port=3D"8019" protocol=3D"AJP/1.3"=20
>> scheme=3D"https" secure=3D"true" />
>=20
> Why bother?
>=20
>> I had two workers, tomcat and tomcatssl, using the two different=20
>> port numbers, one for Apache HTTP and one for HTTPS connections.=20
>> They use a common Engine and Executor thread pool.
>>=20
>> So far, so good - until I tried to put in a second Tomcat server=20
>> with load balancing. The jvmRoute is supposed to match the worker=20
>> name, but now I have 2 connectors for a single Engine! The 2=20
>> workers can't have the same name, though they need to go to the=20
>> same Engine.
>>=20
>> It seems to me that something is wrong here - the jvmRoute needs to
>> be set on the connector, not on the Engine.
>>=20
>> There seems to be no alternative to using 2 separate Engines and=20
>> not just 2 Connectors, and that also means separate Services, and a
>> non-common Executor pool.
>>=20
>> Is there any way around this? Why is the jvmRoute set on the Engine
>> instead of the Connector?
>=20
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>=20
> iEYEAREIAAYFAlDRGGMACgkQ9CaO5/Lv0PAT5ACeKZrg5A0oRMQdxDJrjaJE4ctm
> JAoAn04/IXEKbg0pfpoHD5XWhgNUUsmS
> =3DVsS+
> -----END PGP SIGNATURE-----
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238677-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 02:40:41 2012
Return-Path: <users-return-238677-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 63400E1DE
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 02:40:41 +0000 (UTC)
Received: (qmail 25777 invoked by uid 500); 19 Dec 2012 02:40:37 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25388 invoked by uid 500); 19 Dec 2012 02:40:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25344 invoked by uid 99); 19 Dec 2012 02:40:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 02:40:34 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.249.147 as permitted sender)
Received: from [216.82.249.147] (HELO mail29.messagelabs.com) (216.82.249.147)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 02:40:27 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-6.tower-29.messagelabs.com!1355884803!26943982!3
X-Originating-IP: [192.61.61.104]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 27834 invoked from network); 19 Dec 2012 02:40:05 -0000
Received: from unknown (HELO USEA-NAEDGE1.unisys.com) (192.61.61.104)
  by server-6.tower-29.messagelabs.com with RC4-SHA encrypted SMTP; 19 Dec 2012 02:40:05 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE1.unisys.com (192.61.61.104) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Tue, 18 Dec 2012 20:39:54 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Tue, 18 Dec
 2012 20:39:54 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: "Tomcat Users List (users@tomcat.apache.org)" <users@tomcat.apache.org>
Date: Tue, 18 Dec 2012 20:40:08 -0600
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
Thread-Topic: Re: jvmRoute with multiple AJP Connectors for one Engine
Thread-Index: Ac3dkijUeBm7GVyGTY6MfmANnAGUpQ==
Message-ID: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Bob Myers <bob@nextfort.com>
> Re: jvmRoute with multiple AJP Connectors for one Engine

Don't top post - it's really annoying, and makes it extremely difficult to =
follow the points of a conversation.

> > > <Connector executor=3D"tomcatThreadPool" port=3D"8009"=20
> > > protocol=3D"AJP/1.3" redirectPort=3D"443" /> <Connector=20
> > > executor=3D"tomcatThreadPool" port=3D"8019" protocol=3D"AJP/1.3"=20
> > > scheme=3D"https" secure=3D"true" />

> > Why bother?

> What do you mean, why bother?

Because the AJP <Connector> automatically sets the scheme and secure attrib=
utes when the original request is via SSL.  Consequently, you don't need a =
separate <Connector> just for that.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.



---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238678-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 03:04:24 2012
Return-Path: <users-return-238678-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 7BFCBE27E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 03:04:24 +0000 (UTC)
Received: (qmail 80276 invoked by uid 500); 19 Dec 2012 03:04:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 80092 invoked by uid 500); 19 Dec 2012 03:04:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 80062 invoked by uid 99); 19 Dec 2012 03:04:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 03:04:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [207.38.48.6] (HELO cg.towfiq.com) (207.38.48.6)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 03:04:13 +0000
Received: from [98.189.206.6] (account bob@nextfort.com HELO [10.0.1.41])
  by cg.towfiq.com (CommuniGate Pro SMTP 5.2.17)
  with ESMTPA id 2517360 for users@tomcat.apache.org; Tue, 18 Dec 2012 19:03:51 -0800
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1085)
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
From: Bob Myers <bob@nextfort.com>
In-Reply-To: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
Date: Tue, 18 Dec 2012 19:03:51 -0800
Content-Transfer-Encoding: quoted-printable
Message-Id: <6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com>
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1085)
X-Virus-Checked: Checked by ClamAV on apache.org


On Dec 18, 2012, at 6:40 PM, Caldarale, Charles R wrote:

>> From: Bob Myers <bob@nextfort.com>
>> Re: jvmRoute with multiple AJP Connectors for one Engine
>=20
>>>> <Connector executor=3D"tomcatThreadPool" port=3D"8009"=20
>>>> protocol=3D"AJP/1.3" redirectPort=3D"443" /> <Connector=20
>>>> executor=3D"tomcatThreadPool" port=3D"8019" protocol=3D"AJP/1.3"=20
>>>> scheme=3D"https" secure=3D"true" />
>=20
>>> Why bother?
>=20
>> What do you mean, why bother?
>=20
> Because the AJP <Connector> automatically sets the scheme and secure =
attributes when the original request is via SSL.  Consequently, you =
don't need a separate <Connector> just for that.

Ok, I missed that. Thanks, that solves it. I had it that way originally =
and for some reason I thought it wasn't working without the explicit =
scheme and secure attributes. I must have had that wrong.





---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238679-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 10:48:36 2012
Return-Path: <users-return-238679-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8B90E29C
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 10:48:36 +0000 (UTC)
Received: (qmail 41473 invoked by uid 500); 19 Dec 2012 10:48:33 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 41396 invoked by uid 500); 19 Dec 2012 10:48:33 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 41382 invoked by uid 99); 19 Dec 2012 10:48:32 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 10:48:32 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 74.125.82.181 as permitted sender)
Received: from [74.125.82.181] (HELO mail-we0-f181.google.com) (74.125.82.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 10:48:25 +0000
Received: by mail-we0-f181.google.com with SMTP id t11so821253wey.26
        for <users@tomcat.apache.org>; Wed, 19 Dec 2012 02:48:05 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=7UNk5fNC2mt6JAkKOYyeWQzNmEMF1Nt0Kb+6pgO8e4E=;
        b=t95aGv6CwXSN0k7t8GQ9us5quqKpgW7qpzThRAk9a82ovZ5hSh67Au27Pmnav4Aat5
         Rq64Ecy21i9lKcq/5rTtlSVV+L8IwMC808LmCFcCDF+LX0aNbehyniWQxD4ROpcupcUD
         ISPdlA+wYt3GkZWaucIXf1Hfbi21zStdDtTjFd8sOw+iK+OhzhNk2RFKRC4TsozKvdZN
         1tVO75i63EZcRhML05JPSW+rugUzgowMqshtQFkqRNVJFCOKIcmD3PBD+IUmk1XyToLW
         aZO7Iz9DWiBFGnIoaRZTnRPm2Y2vYkkOiml1M3HId1XXgaX4QBK5Bwyf7aBaFHs6UUwL
         229w==
MIME-Version: 1.0
Received: by 10.194.9.162 with SMTP id a2mr10653968wjb.33.1355914085423; Wed,
 19 Dec 2012 02:48:05 -0800 (PST)
Received: by 10.180.146.137 with HTTP; Wed, 19 Dec 2012 02:48:05 -0800 (PST)
In-Reply-To: <6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com>
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
	<6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com>
Date: Wed, 19 Dec 2012 07:48:05 -0300
Message-ID: <CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=047d7b5d9cb3685bc804d13259cd
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b5d9cb3685bc804d13259cd
Content-Type: text/plain; charset=ISO-8859-1

Hi,

server.xml

<Connector port="8009" enableLookups="false" connectionTimeout="20000"
protocol="AJP/1.3" redirectPort="8443" />
<Connector port="8010" protocol="AJP/1.3" secure="true" scheme="https"
enableLookups="false" connectionTimeout="20000" />

 <Engine name="Catalina" defaultHost="localhost" jvmRoute="*tomsrv02*">

worker.properties

worker.*tomsrv02*.type=ajp13
worker.*tomsrv02*.host=172.17.1.45
worker.*tomsrv02*.port=8009
worker.*tomsrv02*.lbfactor=1
worker.*tomsrv02*.connection_pool_timeout=20

worker.tomsrv02sec.type=ajp13
worker.tomsrv02sec.host=172.17.1.45
worker.tomsrv02sec.port=8010
*worker.tomsrv02sec.route=tomsrv02*
worker.tomsrv02sec.lbfactor=1
worker.tomsrv02sec.connection_pool_timeout=20


We use two connectors to apply separate rules (e.g. firewall, monitoring
tools) for each one of them.

Best regards,

Robert

On Wed, Dec 19, 2012 at 12:03 AM, Bob Myers <bob@nextfort.com> wrote:

>
> On Dec 18, 2012, at 6:40 PM, Caldarale, Charles R wrote:
>
> >> From: Bob Myers <bob@nextfort.com>
> >> Re: jvmRoute with multiple AJP Connectors for one Engine
> >
> >>>> <Connector executor="tomcatThreadPool" port="8009"
> >>>> protocol="AJP/1.3" redirectPort="443" /> <Connector
> >>>> executor="tomcatThreadPool" port="8019" protocol="AJP/1.3"
> >>>> scheme="https" secure="true" />
> >
> >>> Why bother?
> >
> >> What do you mean, why bother?
> >
> > Because the AJP <Connector> automatically sets the scheme and secure
> attributes when the original request is via SSL.  Consequently, you don't
> need a separate <Connector> just for that.
>
> Ok, I missed that. Thanks, that solves it. I had it that way originally
> and for some reason I thought it wasn't working without the explicit scheme
> and secure attributes. I must have had that wrong.
>
>
>
>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--047d7b5d9cb3685bc804d13259cd--

From users-return-238680-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 13:58:03 2012
Return-Path: <users-return-238680-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2C17BD461
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 13:58:03 +0000 (UTC)
Received: (qmail 27006 invoked by uid 500); 19 Dec 2012 13:57:59 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 26635 invoked by uid 500); 19 Dec 2012 13:57:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 26600 invoked by uid 99); 19 Dec 2012 13:57:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 13:57:56 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.149.38] (HELO nm14-vm7.bullet.mail.sg3.yahoo.com) (106.10.149.38)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 13:57:47 +0000
Received: from [106.10.166.119] by nm14.bullet.mail.sg3.yahoo.com with NNFMP; 19 Dec 2012 13:57:25 -0000
Received: from [106.10.167.109] by tm8.bullet.mail.sg3.yahoo.com with NNFMP; 19 Dec 2012 13:57:25 -0000
Received: from [127.0.0.1] by smtp111-mob.biz.mail.sg3.yahoo.com with NNFMP; 19 Dec 2012 13:57:25 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1355925445; bh=EJi/Sqsd45tIPNXsqQG2mod1ZQzC2FdENUqOU9Xpz0g=; h=X-Yahoo-Newman-Id:X-Yahoo-Newman-Property:X-YMail-OSG:X-Yahoo-SMTP:Received:Subject:From:Content-Type:X-Mailer:Message-Id:Date:To:Content-Transfer-Encoding:Mime-Version; b=kmOvsdETdCbJia95VEbo1Wg6fduxtgHGu6/0b1wMFyru6wHanyYNrKq7KWnGG5VhrHuf3si+9h/rUgr4AvpopggQlD/ALx4XG0EVdloCpvdOii6C9JxenTAW5hfF7a97ajMbsyaD90rAPbEqnp8Z+eU3styLX6oyq3RrS9rTv/U=
X-Yahoo-Newman-Id: 45141.71469.bm@smtp111-mob.biz.mail.sg3.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: _KY2ka4VM1nG4HVthgqaqDgrHMaa6REDEDB.U5Q.O.uv33I
 OMYFgpn_VpXlydozNgEalpJ7n5MaINThlXZrieSr4Djw44iK0sO_FZCLA3KG
 jQi9uxk2qAYjVXP2ryoetrLkV7Uk6JBmgGb5qvAn1esn_gE2su2A5OzyjAlG
 Lx8mlrNq9.cN7D6ze3.7ePc9g7WHDEDaTlB8oT3s7vvoU6h43j5Lv.0ROvtU
 uiXaOPkDMXMjZY..ZFFPFiv8WLMNnSsOzDRnHr07ChUQDCNZtF8Yn2SbaRR0
 56jDobKBy9T.oAM.kujvar1Crpdsuyt8vIyLpSFWlhqiWl8pFH5UCN5DHRz5
 hb_6.5hLxgcMvUfyagULhu9.aNgqgG7wPzip14mCwwYgNpjXeVER2O1eq7cy
 ekO4QYyRzKJ1fnvw_QjHPQbDj0BqxTUZqyg9lqgk0ftMRfJHwhQctbaQO0Q-
 -
X-Yahoo-SMTP: ajpxA4uswBBx5xUesqpGwIxhJ2rBVD6Wr1LeDLQ-
Received: from [223.237.218.230] (vicky007aggarwal@223.237.218.230 with xymcookie)
        by smtp111-mob.biz.mail.sg3.yahoo.com with SMTP; 19 Dec 2012 13:57:24 +0000 UTC
Subject: Tomcat app log4j 
From: vicky007aggarwal@yahoo.co.in
Content-Type: text/plain;
	charset=us-ascii
X-Mailer: iPhone Mail (10A403)
Message-Id: <107D1F69-497C-48D6-9C17-EBCECD3266AA@yahoo.co.in>
Date: Wed, 19 Dec 2012 19:27:21 +0530
To: users@tomcat.apache.org
Content-Transfer-Encoding: quoted-printable
Mime-Version: 1.0 (1.0)
X-Virus-Checked: Checked by ClamAV on apache.org

My tomcat 6.x is using currently is using the default logging i.e JULI.

But my application deployed on it is using log4j which was working fine on j=
boss earlier but when i deployed the same on tomcat i got below error
+++++++++++++++++
SEVERE:Error listener start
++++++++++++++++
When i googled i came to know the tomcat by default expects webapps/<App>/WE=
B-INF/classes/logging.properties .

By creating the above file my error mentioned above got resolved. Does this i=
s the right approach, will now i wont be able to make use of log 4j for my a=
pplication??

 Soon after that i encounter errors that class not found w.r.t class  i ment=
ioned in my application web.xml under Listener tag & strange thing is i have=
 already place the respective jars under my CATALINA_BASE/lib directory.=20

Ques-1
I didnt understand & i dont know how to=20
Implement log4j for an application when my tomcat is using JULIE framework??=


Ques-2: inspite of placing my custom jars needed by my application under CAT=
ALINA_BASE/lib directory , still i am getting class not found exception??

Ques-3 do i need to implement log4j at tomcat first then only i can make it a=
vailable to my application ?

=20
Thanks,
Vicky


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238681-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 15:26:58 2012
Return-Path: <users-return-238681-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 37E29D51E
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 15:26:58 +0000 (UTC)
Received: (qmail 90272 invoked by uid 500); 19 Dec 2012 15:26:54 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90206 invoked by uid 500); 19 Dec 2012 15:26:54 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90191 invoked by uid 99); 19 Dec 2012 15:26:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 15:26:54 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 15:26:48 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 294B62813D
	for <users@tomcat.apache.org>; Wed, 19 Dec 2012 07:26:26 -0800 (PST)
Received: from zcs-prod-mta-3.vmware.com (zcs-prod-mta-3.vmware.com [10.113.163.65])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 1B63F18371
	for <users@tomcat.apache.org>; Wed, 19 Dec 2012 07:26:26 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTP id 08357E0819
	for <users@tomcat.apache.org>; Wed, 19 Dec 2012 07:26:26 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-3.vmware.com
Received: from zcs-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Qeyb4nSu97yN for <users@tomcat.apache.org>;
	Wed, 19 Dec 2012 07:26:25 -0800 (PST)
Received: from localhost (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTP id C9578E09D8
	for <users@tomcat.apache.org>; Wed, 19 Dec 2012 07:26:25 -0800 (PST)
X-Virus-Scanned: amavisd-new at zcs-prod-mta-3.vmware.com
Received: from zcs-prod-mta-3.vmware.com ([127.0.0.1])
	by localhost (zcs-prod-mta-3.vmware.com [127.0.0.1]) (amavisd-new, port 10026)
	with ESMTP id cvxboAefspi5 for <users@tomcat.apache.org>;
	Wed, 19 Dec 2012 07:26:25 -0800 (PST)
Received: from [10.16.244.6] (unknown [10.113.160.14])
	by zcs-prod-mta-3.vmware.com (Postfix) with ESMTPSA id 40A9AE08D0
	for <users@tomcat.apache.org>; Wed, 19 Dec 2012 07:26:25 -0800 (PST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Tomcat app log4j 
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <107D1F69-497C-48D6-9C17-EBCECD3266AA@yahoo.co.in>
Date: Wed, 19 Dec 2012 10:26:23 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <F85335BA-211A-4E32-BAFF-A7759A90A5DF@vmware.com>
References: <107D1F69-497C-48D6-9C17-EBCECD3266AA@yahoo.co.in>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 19, 2012, at 8:57 AM, vicky007aggarwal@yahoo.co.in wrote:

> My tomcat 6.x is using currently is using the default logging i.e =
JULI.

Please include the specific version of Tomcat that you are using.  There =
are 36 releases in the 6.0.x branch, it helps to know exactly which one =
you are using.

>=20
> But my application deployed on it is using log4j which was working =
fine on jboss earlier but when i deployed the same on tomcat i got below =
error
> +++++++++++++++++
> SEVERE:Error listener start
> ++++++++++++++++

This could mean any number of things.  If you look in the =
"localhost.YYYY-MM-DD.log" file, you should see a full stack trace.  =
We'll need to see that to tell you more.

> When i googled i came to know the tomcat by default expects =
webapps/<App>/WEB-INF/classes/logging.properties .

This is wrong.  You can use any type of logging that you want in your =
application. =20

>=20
> By creating the above file my error mentioned above got resolved. Does =
this is the right approach, will

As mentioned above, we'll need to see the exact error to know what is =
happening and how best to resolve it.

> now i wont be able to make use of log 4j for my application??

You can use Log4j with your application, it works great, I do it all the =
time.  Of course, this assumes that you wrote your application to use =
Log4j or some compatible logging framework, like SLF4J.

>=20
> Soon after that i encounter errors that class not found w.r.t class  i =
mentioned in my application web.xml under Listener tag & strange thing =
is i have already place the respective jars under my CATALINA_BASE/lib =
directory.=20
>=20

This sounds like you might be on track to finding the real problem here.

> Ques-1
> I didnt understand & i dont know how to=20
> Implement log4j for an application when my tomcat is using JULIE =
framework??

Tomcat uses JULI logging internally.  This choice does not impact your =
application.  You can use whatever logging framework (or none) that you =
want.

>=20
> Ques-2: inspite of placing my custom jars needed by my application =
under CATALINA_BASE/lib directory , still i am getting class not found =
exception??

Probably not a good idea to place them here unless you really know what =
you are doing and have a specific reason for doing it.  I would suggest =
that you just put them inside your WAR file in the "WEB-INF/lib" =
directory.

>=20
> Ques-3 do i need to implement log4j at tomcat first then only i can =
make it available to my application ?
>=20

No, see above.

Dan


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238682-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 19:41:49 2012
Return-Path: <users-return-238682-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 05DC4DFB2
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 19:41:49 +0000 (UTC)
Received: (qmail 61722 invoked by uid 500); 19 Dec 2012 19:41:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 61628 invoked by uid 500); 19 Dec 2012 19:41:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 61617 invoked by uid 99); 19 Dec 2012 19:41:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 19:41:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.172 as permitted sender)
Received: from [209.85.223.172] (HELO mail-ie0-f172.google.com) (209.85.223.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 19:41:37 +0000
Received: by mail-ie0-f172.google.com with SMTP id c13so3473693ieb.3
        for <users@tomcat.apache.org>; Wed, 19 Dec 2012 11:41:16 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=m982GSD/HbH8IY3HzunqnDFEmBKxoOXnbG2vpe+Pl5c=;
        b=TiagEgO4vhShel85az0Of6swy8Cjsp8wkztgHLjwXFdj227RothpZVOyGjkPYfJP40
         pQndOHOOB1eA+pv4wDqUIBBnwalzobv9RmhAj4+REJfIoALJ4BXiGwMOZPD7eLiED/31
         nVgXA3GwPZ7iBHdv8AbJHuBn259CyXI0pt3iJ3MOiwCL2Q0oALQCNo6YqqLIJNo/IRcl
         2qVUx6LHAuAzGJccDuB5Rgq+F2acsRg+8El5rZsSnzD/JvLvtXvlJsbRd8+rS4HhsEgD
         ygVZ+A41XjVlenn6cMxilh0bWQKQALj4TwK1oZYhCvplXiOAtc2iTjVi8TEb2rp0d0N2
         xUxw==
MIME-Version: 1.0
Received: by 10.50.197.169 with SMTP id iv9mr7943672igc.32.1355946076549; Wed,
 19 Dec 2012 11:41:16 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Wed, 19 Dec 2012 11:41:16 -0800 (PST)
Date: Wed, 19 Dec 2012 14:41:16 -0500
Message-ID: <CAFpYQw_VjF5eMq39Yg-GmS-UR4obe3LA4CGHB=DkPN1jBuQveg@mail.gmail.com>
Subject: War Farmer and Parallel Deployment
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93404c53a313304d139ccc6
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae93404c53a313304d139ccc6
Content-Type: text/plain; charset=ISO-8859-1

Hey group,

Just a quick question. Can I utilize the parallel deployment in conjunction
with the war farmer for the cluster?  It should be independent right?

- Josh

--14dae93404c53a313304d139ccc6--

From users-return-238683-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Wed Dec 19 19:50:40 2012
Return-Path: <users-return-238683-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2FC6DDFD8
	for <apmail-tomcat-users-archive@www.apache.org>; Wed, 19 Dec 2012 19:50:40 +0000 (UTC)
Received: (qmail 84932 invoked by uid 500); 19 Dec 2012 19:50:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 84869 invoked by uid 500); 19 Dec 2012 19:50:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 84852 invoked by uid 99); 19 Dec 2012 19:50:36 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 19:50:36 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Wed, 19 Dec 2012 19:50:36 +0000
Message-ID: <50D21A88.4080507@apache.org>
Date: Wed, 19 Dec 2012 19:50:32 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: War Farmer and Parallel Deployment
References: <CAFpYQw_VjF5eMq39Yg-GmS-UR4obe3LA4CGHB=DkPN1jBuQveg@mail.gmail.com>
In-Reply-To: <CAFpYQw_VjF5eMq39Yg-GmS-UR4obe3LA4CGHB=DkPN1jBuQveg@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 19/12/2012 19:41, Josh Gooding wrote:
> Hey group,
> 
> Just a quick question. Can I utilize the parallel deployment in conjunction
> with the war farmer for the cluster?  It should be independent right?

Yes and yes.

Mark


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238684-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 01:32:13 2012
Return-Path: <users-return-238684-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20203D8C3
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 01:32:13 +0000 (UTC)
Received: (qmail 56297 invoked by uid 500); 20 Dec 2012 01:32:09 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 56236 invoked by uid 500); 20 Dec 2012 01:32:09 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 56227 invoked by uid 99); 20 Dec 2012 01:32:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 01:32:09 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pete.lamborne@gmail.com designates 209.85.214.175 as permitted sender)
Received: from [209.85.214.175] (HELO mail-ob0-f175.google.com) (209.85.214.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 01:32:01 +0000
Received: by mail-ob0-f175.google.com with SMTP id vb8so2795793obc.34
        for <users@tomcat.apache.org>; Wed, 19 Dec 2012 17:31:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=01v55XC+ocRhGACRJWXMNU1NK08gsBmXMQa4V98E0eg=;
        b=T6U1B00mnKRsyWLwELqPVmhAz595hX8H1EQFPwkIrDCKGijU8+no1hG1pARtWKbw6d
         JIVQQ4+DFItF/QstA/RBIjz7+xd36JSkZ4b97HNoS7DP4VYCJeRzlHT1jpM1PEjJDve/
         Da2rM7lbx0jbbwOCXBzIeYSShbXWbbStIFM3B94AsvxnTkNVGmYdSlnQXEjn8Pp50bpy
         aBtYIaRuzp0SxhW06oq1z3m2UjreMao2hzPNHbGckPFuB3oEjmkzAkB6ckITO99DzTax
         FIc3X87Qy1UvfDPnmAXYqr642kzBzeD0oKdxPogdy3W/Ptq1ZRZiWUjgnJ0v0jV1vLrt
         6GEQ==
MIME-Version: 1.0
Received: by 10.60.8.131 with SMTP id r3mr6569336oea.14.1355967100597; Wed, 19
 Dec 2012 17:31:40 -0800 (PST)
Received: by 10.76.129.134 with HTTP; Wed, 19 Dec 2012 17:31:40 -0800 (PST)
Date: Wed, 19 Dec 2012 18:31:40 -0700
Message-ID: <CADtunaAsw3y5oQQLu3wVOCDuW35p=z7wZLXY2PmqPtC+zTEY7Q@mail.gmail.com>
Subject: mavan tomcat plugin (embedded tomcat) - access log format
From: Pete Lamborne <pete.lamborne@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8fb1ff065bb51304d13eb1d1
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb1ff065bb51304d13eb1d1
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

I've got a unique deployment -- I'm using the new <webapp> tag in the
plugin to deploy multiple webapps in an embedded plugin, then running
load/integration tests against them.  I have all that working great.
 Problem is I need to analyze the access logs and the default format with
the plugin does not contain the response time.  So I need to furnish a
custom conversion pattern to tomcat.

The only option I can see with the plugin is using a custom server.xml, but
I can't get that working correctly because the war's won't expand since
they live outside of embedded-tomcat-7's docBase.  The plugin seems to do
some magic to work around that using the <webapp> configuration option.

Can anyone tell me, or give an example, of how I can pass a conversion
pattern to the access valve logging system?

Maybe passing a file using
"*tomcatLoggingFile<http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/run-war-mojo.html#tomcatLoggingFile>",
or a jvm argument, or suggestions on how to make a server.xml work that
will expand the war's from my build's sub-modules?*
*
*
*Thanks,*
*Pete*

--e89a8fb1ff065bb51304d13eb1d1--

From users-return-238685-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 04:56:34 2012
Return-Path: <users-return-238685-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id F2150D3AD
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 04:56:33 +0000 (UTC)
Received: (qmail 34780 invoked by uid 500); 20 Dec 2012 04:56:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34571 invoked by uid 500); 20 Dec 2012 04:56:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34524 invoked by uid 99); 20 Dec 2012 04:56:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 04:56:27 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pete.lamborne@gmail.com designates 74.125.82.181 as permitted sender)
Received: from [74.125.82.181] (HELO mail-we0-f181.google.com) (74.125.82.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 04:56:19 +0000
Received: by mail-we0-f181.google.com with SMTP id t11so1311722wey.40
        for <users@tomcat.apache.org>; Wed, 19 Dec 2012 20:55:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=pcML/mnEF13QgnNVLJx4LMpHAHrs92xVslJtUDc2UMw=;
        b=YCFRoAHG6oTWZDt0wo5a/05FfLggown/LU/p+6OOOHxsTZfWp04tOWntRn+NIhemfu
         WlFtVERe2URivyCRxpjUc4/Ywjgnq0xWYf6xSvJQfpaCF6HrpYoAd/pyB4d+5Ky0o7jy
         4Zerq4zx9wLIxCFzvDkL/Jdx8obg3/e+mn7MVP7qrXmS4Gd+w0S1bm34ladbBJzpVtLF
         2Sm26aSqaKwYBd6jNt0YyOkWSQtNRDJ9fqP4WTR4r1joeaJeUXoc20RuFxS/aC0hQoXV
         9Lx/UuHGYpXF5agC3rGHsrfOitix2i99koFX4PeMZhrBqJMUvFBnPYJVn9JUzgdPAVAo
         bFow==
MIME-Version: 1.0
Received: by 10.194.7.104 with SMTP id i8mr15219746wja.27.1355979359608; Wed,
 19 Dec 2012 20:55:59 -0800 (PST)
Received: by 10.217.70.73 with HTTP; Wed, 19 Dec 2012 20:55:59 -0800 (PST)
In-Reply-To: <CADtunaAsw3y5oQQLu3wVOCDuW35p=z7wZLXY2PmqPtC+zTEY7Q@mail.gmail.com>
References: <CADtunaAsw3y5oQQLu3wVOCDuW35p=z7wZLXY2PmqPtC+zTEY7Q@mail.gmail.com>
Date: Wed, 19 Dec 2012 21:55:59 -0700
Message-ID: <CADtunaDddG2YSM+RLDRKy+1jcnrROSP=p7yLKJbKggW2Uh8Agg@mail.gmail.com>
Subject: Re: mavan tomcat plugin (embedded tomcat) - access log format
From: Pete Lamborne <pete.lamborne@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=047d7b5d43a40d5e7504d1418c75
X-Virus-Checked: Checked by ClamAV on apache.org

--047d7b5d43a40d5e7504d1418c75
Content-Type: text/plain; charset=ISO-8859-1

Solution:

It's easy to specify a context.xml.  I'm already using a special one for
injection of performance-gauging configs, and a valve is attachable to a
host, engine, or context.  I attached access log valves to each context
with the requisite conversion patterns in each app's context.xml.


On Wed, Dec 19, 2012 at 6:31 PM, Pete Lamborne <pete.lamborne@gmail.com>wrote:

> Hi all,
>
> I've got a unique deployment -- I'm using the new <webapp> tag in the
> plugin to deploy multiple webapps in an embedded plugin, then running
> load/integration tests against them.  I have all that working great.
>  Problem is I need to analyze the access logs and the default format with
> the plugin does not contain the response time.  So I need to furnish a
> custom conversion pattern to tomcat.
>
> The only option I can see with the plugin is using a custom server.xml,
> but I can't get that working correctly because the war's won't expand since
> they live outside of embedded-tomcat-7's docBase.  The plugin seems to do
> some magic to work around that using the <webapp> configuration option.
>
> Can anyone tell me, or give an example, of how I can pass a conversion
> pattern to the access valve logging system?
>
> Maybe passing a file using "*tomcatLoggingFile<http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/run-war-mojo.html#tomcatLoggingFile>",
> or a jvm argument, or suggestions on how to make a server.xml work that
> will expand the war's from my build's sub-modules?*
> *
> *
> *Thanks,*
> *Pete*
>

--047d7b5d43a40d5e7504d1418c75--

From users-return-238686-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 16:58:01 2012
Return-Path: <users-return-238686-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B0D71D6B1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 16:58:01 +0000 (UTC)
Received: (qmail 45238 invoked by uid 500); 20 Dec 2012 16:57:58 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45093 invoked by uid 500); 20 Dec 2012 16:57:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45083 invoked by uid 99); 20 Dec 2012 16:57:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 16:57:57 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.24] (HELO qmta02.westchester.pa.mail.comcast.net) (76.96.62.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 16:57:50 +0000
Received: from omta16.westchester.pa.mail.comcast.net ([76.96.62.88])
	by qmta02.westchester.pa.mail.comcast.net with comcast
	id dpL71k0091uE5Es51sxU50; Thu, 20 Dec 2012 16:57:28 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta16.westchester.pa.mail.comcast.net with comcast
	id dsxR1k00W38FjT13csxTDN; Thu, 20 Dec 2012 16:57:27 +0000
Message-ID: <50D34374.9070008@christopherschultz.net>
Date: Thu, 20 Dec 2012 11:57:24 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
References: <427F2FB4-AA6C-487F-B39B-83F5955DB99E@nextfort.com> <50D11863.7090605@christopherschultz.net> <7DA6E807-4418-46AD-851E-985431B799D8@nextfort.com>
In-Reply-To: <7DA6E807-4418-46AD-851E-985431B799D8@nextfort.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356022648;
	bh=bxfArLvkaQt6x1LKEy6FhtyXIO5F5dj+Mr/Y2l99N5k=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=SyhYUXvw7g+/bVyo/yPk+nOCW2ZiTGTc5RHTVSs0q+A5axoXxe+b790ths/rwQH8N
	 7MEe6WrUGqCL0GE1amMEpD4Zhn3zOb/3NE4OEo4VSl8KVT8d33pdK7ZwNh3pukPrJY
	 zZz+U8MwijuTl4Csyi574UCs14mnMA4Eqfdp/N1oXOAdOYlSfMOofy096PoGzkYo6I
	 amA/wPm27BfVJIIAGUmrNknp9T3LaRIVLdvcnC5JU7ldM37dqhewLdsEXRjxyaxrKB
	 eK0rFVyPhR4HnxAMdU/9cV9eHnaZY7iIoAGSMNGG2BZOticRZD9i6qFd4brXQicfTG
	 mI5gLrkGSD72A==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Bob,

On 12/18/12 8:48 PM, Bob Myers wrote:
> Some particular apps require HTTPS, so we use (in the web.xml for 
> that webapp)
> 
> <transport-guarantee>confidential</transport-guarantee>
> 
> Then if the app is accessed by HTTP (Apache port 80), and is
> routed (AJP) to the insecure Tomcat app on 8009, it is redirected
> to port 443 (redirectPort=443) for HTTPS instead, and Apache passes
> 443/HTTPS traffic to Tomcat port 8019. Tomcat handles this well
> with the Connectors using redirectPort and the
> secure=true/scheme=https parameters.
> 
> What do you mean, why bother?

I mean that AJP propagates SSL information from the reverse proxy, so
there is no need to have separate AJP connectors: a single connector
will handle both HTTPS and HTTP connections via Apache httpd.

The AJP connector sets the appropriate flags in the request, etc. so
that your application can see if the (original) request is secure or not.

(Of course, unless you have made arrangements for secure AJP
communication, all AJP communication is insecure regardless of the
original protocol used between the client and the reverse proxy).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDTQ3QACgkQ9CaO5/Lv0PDoHgCfbE0eAfDzczXZohIHdE1T+XRT
rioAn0QK9PdfMrqEtVRilytYV1+NmEuK
=hcgJ
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238687-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 16:59:49 2012
Return-Path: <users-return-238687-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EA7C3D767
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 16:59:48 +0000 (UTC)
Received: (qmail 55680 invoked by uid 500); 20 Dec 2012 16:59:45 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 55583 invoked by uid 500); 20 Dec 2012 16:59:45 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 55573 invoked by uid 99); 20 Dec 2012 16:59:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 16:59:45 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 16:59:38 +0000
Received: from omta10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id dp7K1k00F0cZkys53szHBJ; Thu, 20 Dec 2012 16:59:17 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta10.westchester.pa.mail.comcast.net with comcast
	id dszE1k00Q38FjT13WszFLm; Thu, 20 Dec 2012 16:59:16 +0000
Message-ID: <50D343E1.2040603@christopherschultz.net>
Date: Thu, 20 Dec 2012 11:59:13 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com> <6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com> <CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com>
In-Reply-To: <CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356022757;
	bh=k5Woe8Li4dMRBoJoYM0vDoY8d7LLJIvKencC0DCuCpY=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=hs8ALribItn+VMRIf9EzLfzocN1l4BHXJSjibsmtCNVVXQNgSZGaQlVt+Zh894A3R
	 XuvxiUmpUD/LRWYcn6TjlzqqZ18lnrLuCKZ0e3VwykNswrIkDSI0SZnpqddCa0dTl0
	 VKnq3eORzdFBU7zRR7xvHECqF4VEGGwp+s/iZNdUTFH/pwq78CY1cGu9kA/LnOyicK
	 dreYMgV37iJUMLYbuyvLQfHYyBwGVPPlFpetjrh+VSaAB5FRttEZ904rCgVqK52gev
	 VeSoONurAYXn5gGhgQxK7Uc7HdrCtTaQGiN3HNJtchDplqnc1R/PKzBhSxtg3WJjnH
	 yiC/czmKbfjNA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Robert,

On 12/19/12 5:48 AM, Robert Anderson wrote:
> <Connector port="8009" enableLookups="false"
> connectionTimeout="20000" protocol="AJP/1.3" redirectPort="8443"
> /> <Connector port="8010" protocol="AJP/1.3" secure="true"
> scheme="https" enableLookups="false" connectionTimeout="20000" />
> 
> <Engine name="Catalina" defaultHost="localhost"
> jvmRoute="*tomsrv02*">
> 
> worker.properties
> 
> worker.*tomsrv02*.type=ajp13 worker.*tomsrv02*.host=172.17.1.45 
> worker.*tomsrv02*.port=8009 worker.*tomsrv02*.lbfactor=1 
> worker.*tomsrv02*.connection_pool_timeout=20
> 
> worker.tomsrv02sec.type=ajp13 worker.tomsrv02sec.host=172.17.1.45 
> worker.tomsrv02sec.port=8010 *worker.tomsrv02sec.route=tomsrv02* 
> worker.tomsrv02sec.lbfactor=1 
> worker.tomsrv02sec.connection_pool_timeout=20
> 
> 
> We use two connectors to apply separate rules (e.g. firewall,
> monitoring tools) for each one of them.

How does mod_jk know which worker to use when the session id ends in
".tomsrv02"?

Or are you not using sticky sessions?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDTQ+EACgkQ9CaO5/Lv0PBjQwCeLKfGha/tT6+0M+aM6HcPjIzy
hdIAnRSamTwZKIwDdFrPkQJRp4Ac9mco
=pMq+
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238688-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 19:18:24 2012
Return-Path: <users-return-238688-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8CA4FD15A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 19:18:24 +0000 (UTC)
Received: (qmail 88028 invoked by uid 500); 20 Dec 2012 19:18:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87977 invoked by uid 500); 20 Dec 2012 19:18:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87964 invoked by uid 99); 20 Dec 2012 19:18:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 19:18:21 +0000
X-ASF-Spam-Status: No, hits=2.9 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [106.10.151.242] (HELO nm34-vm3.bullet.mail.sg3.yahoo.com) (106.10.151.242)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 19:18:12 +0000
Received: from [106.10.166.126] by nm34.bullet.mail.sg3.yahoo.com with NNFMP; 20 Dec 2012 19:17:49 -0000
Received: from [106.10.150.27] by tm15.bullet.mail.sg3.yahoo.com with NNFMP; 20 Dec 2012 19:17:49 -0000
Received: from [127.0.0.1] by omp1028.mail.sg3.yahoo.com with NNFMP; 20 Dec 2012 19:17:49 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 233092.48381.bm@omp1028.mail.sg3.yahoo.com
Received: (qmail 59735 invoked by uid 60001); 20 Dec 2012 19:17:49 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.co.in; s=s1024; t=1356031069; bh=LQbv22jJ9E7hn7o61mw+tr+56fedPfiQ7jJaTlWxPu0=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=M7PANdAWWcQyudM5yRcvs81KKJw7QW2q/H/9gyFycPPxxw0zP+9VY3JtOhGLJwCXhuNyfGfROOrqv+t/7nOrJXnyZX3NxmF2yYlwUNilb8xGyl69XQ8BdlDuppHFe9uGu1vijyMmTnN+lrnpy6r7OgCB2xfqL1v2lu4eHEI7jPQ=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.co.in;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Y8NFRitbkLGabJSDFXhqf5IQ/MvhwmeRh1cRuY3flXsCxFXoRWuvqfZSM1mImc5Eu+lGrjdBk8GvWypi5nNrp6BJuDW1IblpPhvUIgsFUBkqDERHJeO1i8j6/7suwpYBhP4f13tv9EFUYko+SNB/A8AuHuwSDA3DecR3I+gJoXI=;
X-YMail-OSG: stXl2l0VM1kQo5QBv.49XDfu4hi0mYvOgQga1ELu_NyC7Tf
 jNrinTxQ3fkK5o6JH.djPjPBQ4JnyLESFLMiUBld6YR7DlYkZvTadC3RQ8_K
 Tiyzn3CqDJXTb_ycSJR_slHv6ZN.nEASAAam_LzaxzMI25ErqWOOKBkYF0rw
 caNH.J5Lxvt.xuVJ7wUt2qGmHo_.gi_mN_AeAFPNz6lza6Bb5Qc_Mfq4fJwT
 sNWyJzT40hwXrdHLvOFpWaoDtm_CFSQZqc2TsQzOzcurRSoGl1G9uisJ22Gk
 DpaCojiEAluwaYnuZaTEIjn.dUlKGwNAsGUTyk4FI9B4yDZB0iPvIx_8vmMR
 W40Df4cRuLjyBGuL8H3NMzgheJWZPuliRHWANB5t6cT1NGI0tmYjAF6JHUDz
 EMBfjWXfgoOma25kXllnh1uiqf9HCLJ5RVTeD3jy12puojN9YPkWYpWFDqWC
 vhJbLMLuCOn8nGZtzUxEZ82K_LTSYC3b1W4jmA_IzhYt0J.9S1lExhZA7lJn
 nFA--
Received: from [180.151.36.169] by web193105.mail.sg3.yahoo.com via HTTP; Fri, 21 Dec 2012 03:17:48 SGT
X-Rocket-MIMEInfo: 001.001,VGhhbmtzIERhbmllbCwgaSBnb3QgbXkgcHJvYmxlbSByZXNvbHZlZCwgdGhlcmUgd2VyZSBjZXJ0YWluIEphcnMgd2hpY2ggd2VyZSBtaXNzaW5nLgrCoApJIGNhbWUgdG8ga25vdyBvbmx5IGFmdGVyIGNoZWNraW5nIHRoZSAibG9jYWxob3N0LllZWVktTU0tREQubG9nIiBmaWxlIGFzIFlPVSBzdWdnZXN0ZWQuCgpUaGFua3MgYWdhaW4gZm9yIHlvdXIgdGltZQp2aWNreQogCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwogRnJvbTogRGFuaWVsIE1pa3VzYSA8ZG1pa3VzYUB2bXdhcmUuY29tPgoBMAEBAQE-
X-Mailer: YahooMailWebService/0.8.129.483
References: <107D1F69-497C-48D6-9C17-EBCECD3266AA@yahoo.co.in> <F85335BA-211A-4E32-BAFF-A7759A90A5DF@vmware.com>
Message-ID: <1356031068.59663.YahooMailNeo@web193105.mail.sg3.yahoo.com>
Date: Fri, 21 Dec 2012 03:17:48 +0800 (SGT)
From: vicky <vicky007aggarwal@yahoo.co.in>
Reply-To: vicky <vicky007aggarwal@yahoo.co.in>
Subject: Re: Tomcat app log4j 
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <F85335BA-211A-4E32-BAFF-A7759A90A5DF@vmware.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="2118110249-1473387074-1356031068=:59663"
X-Virus-Checked: Checked by ClamAV on apache.org

--2118110249-1473387074-1356031068=:59663
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks Daniel, i got my problem resolved, there were certain Jars which wer=
e missing.=0A=A0=0AI came to know only after checking the "localhost.YYYY-M=
M-DD.log" file as YOU suggested.=0A=0AThanks again for your time=0Avicky=0A=
 =0A=0A________________________________=0A From: Daniel Mikusa <dmikusa@vmw=
are.com>=0ATo: Tomcat Users List <users@tomcat.apache.org> =0ASent: Wednesd=
ay, 19 December 2012 8:56 PM=0ASubject: Re: Tomcat app log4j =0A  =0AOn Dec=
 19, 2012, at 8:57 AM, vicky007aggarwal@yahoo.co.in wrote:=0A=0A> My tomcat=
 6.x is using currently is using the default logging i.e JULI.=0A=0APlease =
include the specific version of Tomcat that you are using.=A0 There are 36 =
releases in the 6.0.x branch, it helps to know exactly which one you are us=
ing.=0A=0A> =0A> But my application deployed on it is using log4j which was=
 working fine on jboss earlier but when i deployed the same on tomcat i got=
 below error=0A> +++++++++++++++++=0A> SEVERE:Error listener start=0A> ++++=
++++++++++++=0A=0AThis could mean any number of things.=A0 If you look in t=
he "localhost.YYYY-MM-DD.log" file, you should see a full stack trace.=A0 W=
e'll need to see that to tell you more.=0A=0A> When i googled i came to kno=
w the tomcat by default expects webapps/<App>/WEB-INF/classes/logging.prope=
rties .=0A=0AThis is wrong.=A0 You can use any type of logging that you wan=
t in your application.=A0 =0A=0A> =0A> By creating the above file my error =
mentioned above got resolved. Does this is the right approach, will=0A=0AAs=
 mentioned above, we'll need to see the exact error to know what is happeni=
ng and how best to resolve it.=0A=0A> now i wont be able to make use of log=
 4j for my application??=0A=0AYou can use Log4j with your application, it w=
orks great, I do it all the time.=A0 Of course, this assumes that you wrote=
 your application to use Log4j or some compatible logging framework, like S=
LF4J.=0A=0A> =0A> Soon after that i encounter errors that class not found w=
.r.t class=A0 i mentioned in my application web.xml under Listener tag & st=
range thing is i have already place the respective jars under my CATALINA_B=
ASE/lib directory. =0A> =0A=0AThis sounds like you might be on track to fin=
ding the real problem here.=0A=0A> Ques-1=0A> I didnt understand & i dont k=
now how to =0A> Implement log4j for an application when my tomcat is using =
JULIE framework??=0A=0ATomcat uses JULI logging internally.=A0 This choice =
does not impact your application.=A0 You can use whatever logging framework=
 (or none) that you want.=0A=0A> =0A> Ques-2: inspite of placing my custom =
jars needed by my application under CATALINA_BASE/lib directory , still i a=
m getting class not found exception??=0A=0AProbably not a good idea to plac=
e them here unless you really know what you are doing and have a specific r=
eason for doing it.=A0 I would suggest that you just put them inside your W=
AR file in the "WEB-INF/lib" directory.=0A=0A> =0A> Ques-3 do i need to imp=
lement log4j at tomcat first then only i can make it available to my applic=
ation ?=0A> =0A=0ANo, see above.=0A=0ADan=0A=0A=0A-------------------------=
--------------------------------------------=0ATo unsubscribe, e-mail: user=
s-unsubscribe@tomcat.apache.org=0AFor additional commands, e-mail: users-he=
lp@tomcat.apache.org
--2118110249-1473387074-1356031068=:59663--

From users-return-238689-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 19:36:07 2012
Return-Path: <users-return-238689-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ACE13D3D1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 19:36:07 +0000 (UTC)
Received: (qmail 44568 invoked by uid 500); 20 Dec 2012 19:36:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 44527 invoked by uid 500); 20 Dec 2012 19:36:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 44516 invoked by uid 99); 20 Dec 2012 19:36:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 19:36:04 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.217.29] (HELO nm19-vm6.bullet.mail.gq1.yahoo.com) (98.136.217.29)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 19:35:53 +0000
Received: from [98.137.12.175] by nm19.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 19:35:31 -0000
Received: from [98.137.12.194] by tm14.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 19:35:31 -0000
Received: from [127.0.0.1] by omp1002.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 19:35:31 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 742901.89307.bm@omp1002.mail.gq1.yahoo.com
Received: (qmail 41877 invoked by uid 60001); 20 Dec 2012 19:35:31 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1356032131; bh=j+EysfMi/VXRSJvhPn3um+cfgpNGeMo1g/SCp0obBe0=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type; b=1ujTjR5+Tps/37sCI3l40g+QOGWdFvftiA1/PO80DWLDFW1MS3w0nz+EVqGhA1W9WlKBsFheZ+oedp0qEOb4HiCHsO6A1RoGWDE2Mn9Db0j0xzEfo3u+KEaqyEVqU8KOeJhP9XZ1EWv0xEpsfgJtpZjGK5AHDclI3ate3xmB9cc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:MIME-Version:Content-Type;
  b=yTGZVKCvKFTyl0F7CkWeywMsH8l/9bUnEJBHyfxMVPbLQH0XbyDyEaNdQ+kKp/33VwI0Jnf/bgAk5xEudFHYU2Egf6DgLWMJuk3b0MHMJnk9Y2fXvq2IqATN2bNG7WGG2p6y9wHhB0ZtQalKilDlDGZvXNYdE63vytxauHuKO68=;
X-YMail-OSG: 5CEw0C4VM1nuE3DewRSlsH9SFo1rW3cJhUKvex_9FZGFnbj
 f7RcucjzDpxEs1Lhnsm7OYERSdj_nRM46pNtS.5CrAAXCqBfp2YEwsT_J1p4
 CkAcDFP8L16CGbe.YRL7MGrG0K4d0Cf5b6gPkV_C_2xYEtw7czjep18PXkM4
 91FNAYUuIcvFZ6KbIctZ1jmpSuS6nHixVSY2n1aMO.WB41NGZEkzXg2Y_OlT
 _n3m8StiimvbDtFCb.x9E2qXs1rPLJ.FhaD8OLaXKxVaACbo9g0Ph2GgfMqT
 S5zZpplU7fP4TgYjRkgtix2dzMoL770Thb5vchrQsqPB5JeXxDN8AZXYZ5Ns
 zCiKpIYWKErxjv7Lvij2xgu3720cHnGHwfvNk1b9fENTHe5yi3ZI9AfgHwZi
 cYKAnpDVbSjWvQmY2hXXJFzjsTnhjyW0TcLJkIMyps7.6RXSa_.iRKw8iEN.
 7oi8YJdYs4Kdpzq5nouu7oNdqpb_4YmViNRd5YSND9sWbQ2HtCDcU8g8dX78
 k2g--
Received: from [167.234.14.240] by web113601.mail.gq1.yahoo.com via HTTP; Thu, 20 Dec 2012 11:35:31 PST
X-Rocket-MIMEInfo: 001.001,SGkgQWxsLA0KDQpJIGhhdmUgbm90aWNlZCBzaW5jZSBzd2l0Y2hpbmcgdG8gVG9tY2F0IDcuMC4zMyA2NC1iaXQgdGhhdCBzb21ldGltZXMgaXQganVzdCBzdG9wcyBmdW5jdGlvbmluZyB3aXRoIG5vIGVycm9ycyBhbmQgbm8gZXZlbnRzIGluIHdpbmRvd3MgdG8gZ2l2ZSBtZSBhIHJlYXNvbiB3aHkuIEl0IHNlZW1zIHRvIGRvIGl0IG9uY2UgZXZlcnkgY291cGxlIG9mIHdlZWtzLg0KSGFzIGFueW9uZSBleHBlcmllbmNlZCB0aGF0PyBJIGFtIHRoaW5raW5nIG5leHQgdGltZSB0byBob29rdXAgdmlzdWFsdm0BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.129.483
Message-ID: <1356032131.41504.YahooMailClassic@web113601.mail.gq1.yahoo.com>
Date: Thu, 20 Dec 2012 11:35:31 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Tomcat 7.0.33 just stops without any errors...
To: Tomcat Users Group <users@tomcat.apache.org>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="1302226735-1076825678-1356032131=:41504"
X-Virus-Checked: Checked by ClamAV on apache.org

--1302226735-1076825678-1356032131=:41504
Content-Type: text/plain; charset=us-ascii

Hi All,

I have noticed since switching to Tomcat 7.0.33 64-bit that sometimes it just stops functioning with no errors and no events in windows to give me a reason why. It seems to do it once every couple of weeks.
Has anyone experienced that? I am thinking next time to hookup visualvm to see what I can see.

Thanks,
-Tony

--1302226735-1076825678-1356032131=:41504--

From users-return-238690-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 20:05:50 2012
Return-Path: <users-return-238690-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8E2FD4ED
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 20:05:50 +0000 (UTC)
Received: (qmail 27509 invoked by uid 500); 20 Dec 2012 20:05:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27462 invoked by uid 500); 20 Dec 2012 20:05:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27452 invoked by uid 99); 20 Dec 2012 20:05:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 20:05:47 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cedric.couralet@gmail.com designates 209.85.212.45 as permitted sender)
Received: from [209.85.212.45] (HELO mail-vb0-f45.google.com) (209.85.212.45)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 20:05:41 +0000
Received: by mail-vb0-f45.google.com with SMTP id p1so4251144vbi.18
        for <users@tomcat.apache.org>; Thu, 20 Dec 2012 12:05:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=IsdQ1GQ0omRWQzr+OL3vXkHbmQDodQE80/7qNakeOPE=;
        b=WIASm7w8GsV+4BK9dsmi6ZG7ZZumV3NSpiZmS8A9gK1KU50pPOWqlRLjNB/TkkwI/j
         o6MRzXp8IawhiLzY0Lb9zelakm4A/w7VQKJcAkvnTiZdCQSvP2d8WG6fjlOjbMEIPtwX
         VjAO/4Lpk8XZCsIczNpk/serAlo5BhUXBwAM9/lnh97y93wJyCgCId2h97Gs+Ys/yJ39
         FzWE6E6HxSjZoUPlZmhX5u8gk2RY7tTAalyW53HF7a4o41ywwQNyIdE7hTFxp5ENcqwh
         0nG7unZPLJ8nwuAvnyVQ2zk5L1Jldu/ZL+cD8JkdOdKTGLdbHd2cMMABba2yf8O38c2x
         vEIA==
MIME-Version: 1.0
Received: by 10.52.38.163 with SMTP id h3mr14560641vdk.35.1356033920712; Thu,
 20 Dec 2012 12:05:20 -0800 (PST)
Received: by 10.52.95.244 with HTTP; Thu, 20 Dec 2012 12:05:20 -0800 (PST)
In-Reply-To: <1356032131.41504.YahooMailClassic@web113601.mail.gq1.yahoo.com>
References: <1356032131.41504.YahooMailClassic@web113601.mail.gq1.yahoo.com>
Date: Thu, 20 Dec 2012 21:05:20 +0100
Message-ID: <CAMwoAzcD5ASRCm5Ex3SpMdzCOb8krmMCNtFeO9iPvyyZ396YyQ@mail.gmail.com>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/20 Tony Anecito <adanecito@yahoo.com>:
> Hi All,
>
> I have noticed since switching to Tomcat 7.0.33 64-bit that sometimes it just stops functioning with no errors and no events in windows to give me a reason why. It seems to do it once every couple of weeks.
> Has anyone experienced that? I am thinking next time to hookup visualvm to see what I can see.
>

Hello,

If there is really nothing in all the logs generated by Tomcat then it
could be a JVM crash. Some explanation could be found in a file named
hs_err_pidXXXX.log. By default it is in the working directory.
For tomcat as a service in windows, i noticed it is in %WIN_DIR%/system32/

http://www.oracle.com/technetwork/java/javase/felog-138657.html#gbwcy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238691-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 21:59:09 2012
Return-Path: <users-return-238691-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 02197D982
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 21:59:09 +0000 (UTC)
Received: (qmail 71604 invoked by uid 500); 20 Dec 2012 21:59:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71491 invoked by uid 500); 20 Dec 2012 21:59:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71482 invoked by uid 99); 20 Dec 2012 21:59:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 21:59:05 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.216.140] (HELO nm34-vm1.bullet.mail.gq1.yahoo.com) (98.136.216.140)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 21:58:58 +0000
Received: from [98.137.12.191] by nm34.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 21:58:38 -0000
Received: from [98.137.12.234] by tm12.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 21:58:38 -0000
Received: from [127.0.0.1] by omp1042.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 21:58:38 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 147686.46959.bm@omp1042.mail.gq1.yahoo.com
Received: (qmail 87570 invoked by uid 60001); 20 Dec 2012 21:58:38 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1356040717; bh=LVyQl9vrzwK7ETqSuPxmYOaMwbAZdzPMRCdtUfs8Zog=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=N6dy7WVTN/hc7M5YflYqVm3M2tMmpIyMjhvxsMcFJuMc8iB54Xwiitp7SKTrpM7l96r3UVCRhDpRp3ZF9E04awvG55bHEac7u4z6pYet2qMeu0QPVMY4tJFAqMrQgrgn3xCSP3jcx6F7guK7Sa8Q6N1k+p+1+w/l99H4S+TGdPI=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=CYrdVbZlIBUTU5gKeBep+ftHmf5gajCGepDeu/n9WNcatoXYSU+o8FCqUHSyUbEAFminXTULd7+v3uRfi9dZYIoNTrbUfjzzRTIP691K2eZzAwDsU35VCGz/j56izE9lXoBdH+YybpkoCrCJuhF+MZSnF5Auala4uatwH5zLJhI=;
X-YMail-OSG: M9X0Q1sVM1mPY4.4755_OvUeAW8EkhRzbBp2WBBhA7_1a8w
 n.TM3RLvQnK1Cbz8IgmWPW7P3V4V.IFOw0CFpGfHX2TLJURBcKi9xZ5BsU8X
 H2.b_8wvcLSYiG9Apy5pUF5g1ZfMJUPcad0WfdNV7.VyEMcC6PHMsSzPekjx
 1_NeViQVY.W44GGPzcrScYf0FAwcrrZGtp4oC5cAdX_moB4EilwmWzRdub5E
 Z2_9ZDqWoAyLBfQD34eRmZFfAZ42O..yYsqQig6DYqGb77VaFG3RsRt8hynq
 3t2jk5LTSqBjGhiH8sTJ.1.oiaNM4eDnTK5XIqyFGyCpyFga1J1hRWbCDm9z
 K.HWQ1rJDp1ruJaOhRl_Qys71KbHB4i3QfJGgbjQ7owEYqxLDQxx5LwvkCyp
 St08Ek8bvF9.dfFwo9AWUCyv7BHpUYm4PYCxQOQ9auzwctXx_9BZ1xF_na.D
 Em8yFSIyXx.mNebX5n4Km07chdVfUNV48oJMEkHuK1E5tlhwExfH1ECzDEMm
 ycAn6RL..Hzxi_lfgEUTJ6HQJ9M.qUTqMwvscPKlBQ7ZkxQIdLDH5OXyUvF3
 c.WXbPFur3Coms_BnV4J2UVcLpG00wB78ox4e59KYVD3dRxVG6ozfJYg-
Received: from [167.234.14.240] by web113614.mail.gq1.yahoo.com via HTTP; Thu, 20 Dec 2012 13:58:37 PST
X-Rocket-MIMEInfo: 001.001,VGhhbmtzIEkgaGFkIGZvcmdvdHRlbiBhYm91dCB0aGF0IGZpbGUuDQoNCkJlc3QgUmVnYXJkcywNCi1Ub255DQoNCi0tLSBPbiBUaHUsIDEyLzIwLzEyLCBDw6lkcmljIENvdXJhbGV0IDxjZWRyaWMuY291cmFsZXRAZ21haWwuY29tPiB3cm90ZToNCg0KRnJvbTogQ8OpZHJpYyBDb3VyYWxldCA8Y2VkcmljLmNvdXJhbGV0QGdtYWlsLmNvbT4NClN1YmplY3Q6IFJlOiBUb21jYXQgNy4wLjMzIGp1c3Qgc3RvcHMgd2l0aG91dCBhbnkgZXJyb3JzLi4uDQpUbzogIlRvbWNhdCBVc2VycyBMaXN0IiA8dXNlcnNAdG8BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.129.483
Message-ID: <1356040717.83265.YahooMailClassic@web113614.mail.gq1.yahoo.com>
Date: Thu, 20 Dec 2012 13:58:37 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAMwoAzcD5ASRCm5Ex3SpMdzCOb8krmMCNtFeO9iPvyyZ396YyQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="-1256962162-68570866-1356040717=:83265"
X-Virus-Checked: Checked by ClamAV on apache.org

---1256962162-68570866-1356040717=:83265
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks I had forgotten about that file.

Best Regards,
-Tony

--- On Thu, 12/20/12, C=E9dric Couralet <cedric.couralet@gmail.com> wrote:

From: C=E9dric Couralet <cedric.couralet@gmail.com>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Thursday, 20 Dec 2012, 1:05 PM

2012/12/20 Tony Anecito <adanecito@yahoo.com>:
> Hi All,
>
> I have noticed since switching to Tomcat 7.0.33 64-bit that sometimes it =
just stops functioning with no errors and no events in windows to give me a=
 reason why. It seems to do it once every couple of weeks.
> Has anyone experienced that? I am thinking next time to hookup visualvm t=
o see what I can see.
>

Hello,

If there is really nothing in all the logs generated by Tomcat then it
could be a JVM crash. Some explanation could be found in a file named
hs_err_pidXXXX.log. By default it is in the working directory.
For tomcat as a service in windows, i noticed it is in %WIN_DIR%/system32/

http://www.oracle.com/technetwork/java/javase/felog-138657.html#gbwcy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


---1256962162-68570866-1356040717=:83265--

From users-return-238692-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 20 23:16:54 2012
Return-Path: <users-return-238692-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 0E854E8A5
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 20 Dec 2012 23:16:54 +0000 (UTC)
Received: (qmail 77367 invoked by uid 500); 20 Dec 2012 23:16:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 77302 invoked by uid 500); 20 Dec 2012 23:16:50 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 77291 invoked by uid 99); 20 Dec 2012 23:16:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 23:16:50 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.216.167] (HELO nm28-vm8.bullet.mail.gq1.yahoo.com) (98.136.216.167)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 20 Dec 2012 23:16:41 +0000
Received: from [98.137.12.57] by nm28.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 23:16:20 -0000
Received: from [98.137.12.246] by tm2.bullet.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 23:16:20 -0000
Received: from [127.0.0.1] by omp1054.mail.gq1.yahoo.com with NNFMP; 20 Dec 2012 23:16:20 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 515930.83379.bm@omp1054.mail.gq1.yahoo.com
Received: (qmail 17338 invoked by uid 60001); 20 Dec 2012 23:16:20 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1356045380; bh=CIMGEIddcQotsy2028pVHf0IVrqLBkft/RcRDb4P/kA=; h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=TN+FNYzkmT6s4MR+tFSxc5XywGmCV9RmljGMR1YGYmNwejJUwfIhM8mnhDFr0GZKxOjJx4SIrmlUyGKUcUrIhMFA+iH72AGt2dN3byoEu3TZ4i2cGvVn82iokdj9eiE6sKfcVGiNVa4yiEUeg92EVyPX5L10YHg8v2W94iG+ujc=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=X-YMail-OSG:Received:X-Rocket-MIMEInfo:X-Mailer:Message-ID:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=FQtMvTsfQy7cGP3IhfXvvUJM71j6JC3XgAvGBxEG9gHKNIkxKZCl0ybvgpTBhWvbPVf0JLMSMg4onQ+F+1dpcOVxEdVFqWnBlB9tmyqBa6jcpTrajaGTy2oLD4ggnRjvucTKL0Y617qCRp7wx9b7Kfg4+42WIrqX4oy5jsViQ/I=;
X-YMail-OSG: xIhp5T4VM1lArqjto2cnNAFKIY5n0CS8MQC7QU_Bsa6twhj
 xt6EaSwkC17trC_L9dWD3exkdtd4En8sqw9oi8fV45QzeIfCtwFPqrd.kOSL
 Cw2WqiuiYTFDVQQzebRYTzgGI5rGKRmvIKR5FELfAPksEr02hylHhen_4LWo
 l_pm1.yuccBCUpPGZeeodHt.XhDV5xdQ4Wl34tyID7cTE1DbtyZzA5LnFkkn
 hbRc.qJ2v_O5CdbDXHmX3B8D90geynsEqjBWGaLQPCz4W5kdUy2vRpXBEF9e
 9MuJzmMHkLuPC31DDPehY0y6l4s74xhivh7m2pZpG8.GF.uj7H02RZcucz_w
 4GdLn5PTf88JIPrFwR7ZVs5nVURZeHKu4sG0PAhri_0ICUxaW2rKkKzzP03g
 v8G9AxgZCh2tC4U5pb1OSFgJ_AAv_CJglYyO7wPbfmD5XRno9ETjzo1eHQh4
 5W_mugjq8vwQfoB7UzaC31yHxtFmJSl_InQLhl.7m7.pfLXaOEjMFtUEbxtj
 EA9apHoSnaYM4uHGjDFFd5UuvONfc9cLimJkCGzo0pq5aKPxGcmEfRSl_jLy
 ZR_Xx5svPG6nbyblbeQMMSuBqyo14h2oxta0A9LKi8lO035VNe7paMZemYak
 5d1wrf4vbnrce0n4rNjmq2ABXCHUTNjvKx.Y.tdz1RrQB6ck0vO79sUEWuSE
 hEXJ7jt3DSrj0ux6H02p6RdPLNeBHCewDpoxD207A7ClaUnBNZQ0JsBITCA-
 -
Received: from [204.228.207.218] by web113620.mail.gq1.yahoo.com via HTTP; Thu, 20 Dec 2012 15:16:19 PST
X-Rocket-MIMEInfo: 001.001,VGhhbmtzIEkgZGlkIGEgc2VhcmNoIHRocm91Z2ggYWxsIGZvbGRlciBmb3IgdGhvc2UgdHlwZXMgb2YgZmlsZXMgYW5kIG5vbmUgZm91bmQuDQrCoA0KSSBhbSB0aGlua2luZyBpdCByYW4gb3V0IG9mIGEgcmVzb3VyY2UuDQrCoA0KSSB3aWxsIGtlZXAgdHJ5aW5nLg0KLVRvbnkNCg0KLS0tIE9uIFRodSwgMTIvMjAvMTIsIEPDqWRyaWMgQ291cmFsZXQgPGNlZHJpYy5jb3VyYWxldEBnbWFpbC5jb20.IHdyb3RlOg0KDQoNCkZyb206IEPDqWRyaWMgQ291cmFsZXQgPGNlZHJpYy5jb3VyYWxldEBnbWFpbC5jb20BMAEBAQE-
X-Mailer: YahooMailClassic/15.1.1 YahooMailWebService/0.8.129.483
Message-ID: <1356045379.10430.YahooMailClassic@web113620.mail.gq1.yahoo.com>
Date: Thu, 20 Dec 2012 15:16:19 -0800 (PST)
From: Tony Anecito <adanecito@yahoo.com>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
To: Tomcat Users List <users@tomcat.apache.org>
In-Reply-To: <CAMwoAzcD5ASRCm5Ex3SpMdzCOb8krmMCNtFeO9iPvyyZ396YyQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="332959377-1690134391-1356045379=:10430"
X-Virus-Checked: Checked by ClamAV on apache.org

--332959377-1690134391-1356045379=:10430
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Thanks I did a search through all folder for those types of files and none =
found.
=A0
I am thinking it ran out of a resource.
=A0
I will keep trying.
-Tony

--- On Thu, 12/20/12, C=E9dric Couralet <cedric.couralet@gmail.com> wrote:


From: C=E9dric Couralet <cedric.couralet@gmail.com>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
To: "Tomcat Users List" <users@tomcat.apache.org>
Date: Thursday, 20 Dec 2012, 1:05 PM


2012/12/20 Tony Anecito <adanecito@yahoo.com>:
> Hi All,
>
> I have noticed since switching to Tomcat 7.0.33 64-bit that sometimes it =
just stops functioning with no errors and no events in windows to give me a=
 reason why. It seems to do it once every couple of weeks.
> Has anyone experienced that? I am thinking next time to hookup visualvm t=
o see what I can see.
>

Hello,

If there is really nothing in all the logs generated by Tomcat then it
could be a JVM crash. Some explanation could be found in a file named
hs_err_pidXXXX.log. By default it is in the working directory.
For tomcat as a service in windows, i noticed it is in %WIN_DIR%/system32/

http://www.oracle.com/technetwork/java/javase/felog-138657.html#gbwcy

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


--332959377-1690134391-1356045379=:10430--

From users-return-238693-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 01:40:01 2012
Return-Path: <users-return-238693-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F6E7DB6D
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 01:40:01 +0000 (UTC)
Received: (qmail 71621 invoked by uid 500); 21 Dec 2012 01:39:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71561 invoked by uid 500); 21 Dec 2012 01:39:57 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71545 invoked by uid 99); 21 Dec 2012 01:39:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 01:39:57 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 74.125.82.180 as permitted sender)
Received: from [74.125.82.180] (HELO mail-we0-f180.google.com) (74.125.82.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 01:39:51 +0000
Received: by mail-we0-f180.google.com with SMTP id t57so1868162wey.39
        for <users@tomcat.apache.org>; Thu, 20 Dec 2012 17:39:31 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=9aDuTpLVQYPn5gnD6f/VvNi8DoQsAtgA4KCoAKJlCAk=;
        b=HCs64N3ob7smPTDQBp0ze5zIKlGz66WmchiJNfcNr6ZWTn+uqdQ5YivTRGjCh97kuj
         KmMFgBjnHLIEtHaR2Wq+qEYD4+wbgPzRqT+BOtS/hvDf51P1jy0dsyLVbmZ6w5d9t86h
         3HgmbrvGpQQOqjr6uF8mesYlw+Py4LWe5gqhdFRz+oLRV4fBXN4Hef1OCS1khKCKBD9l
         2mSyXvxHfl78sI+KOP3X6ko+nfu+cRd30/xPCNf05zCYgkaXvXREbyKCLlH10jsM5VAV
         ihy8aQO9FHu8C0ZmLyooD1ZT4uzU+b/AsbNy1XWciW+aBarp0yXxtQf3j5jejbiKJbSh
         afjA==
MIME-Version: 1.0
Received: by 10.180.87.102 with SMTP id w6mr19937820wiz.19.1356053971646; Thu,
 20 Dec 2012 17:39:31 -0800 (PST)
Received: by 10.180.146.137 with HTTP; Thu, 20 Dec 2012 17:39:31 -0800 (PST)
In-Reply-To: <50D343E1.2040603@christopherschultz.net>
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
	<6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com>
	<CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com>
	<50D343E1.2040603@christopherschultz.net>
Date: Thu, 20 Dec 2012 22:39:31 -0300
Message-ID: <CAGrg8DWsLObbEku0qdL2BeNpi2JROwDY2hOvup3-1mc3raG+tQ@mail.gmail.com>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d044304f846ba6304d152ebb5
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d044304f846ba6304d152ebb5
Content-Type: text/plain; charset=ISO-8859-1

Hi Chris,

It's a very good question. Yes, I'm using stick sessions.

-->server.xml (tomsrv01)

    <Connector port="8009" enableLookups="false" connectionTimeout="20000"
protocol="AJP/1.3" redirectPort="8443" />
    <Connector port="8010" protocol="AJP/1.3" secure="true" scheme="https"
enableLookups="false" connectionTimeout="20000" />

<Engine name="Catalina" defaultHost="localhost" jvmRoute="tomsrv01">

--> server.xml (tomsrv02)

    <Connector port="8009" enableLookups="false" connectionTimeout="20000"
protocol="AJP/1.3" redirectPort="8443" />
    <Connector port="8010" protocol="AJP/1.3" secure="true" scheme="https"
enableLookups="false" connectionTimeout="20000" />

<Engine name="Catalina" defaultHost="localhost" jvmRoute="tomsrv02">



-->worker.properties

worker.list=balancer,balancersec

worker.tomsrv01.type=ajp13
worker.tomsrv01.host=172.17.1.65
worker.tomsrv01.port=8009
worker.tomsrv01.lbfactor=1
worker.tomsrv01.connection_pool_timeout=20

worker.tomsrv01sec.type=ajp13
worker.tomsrv01sec.host=172.17.1.65
worker.tomsrv01sec.port=8010
worker.tomsrv01sec.route=tomsrv01
worker.tomsrv01sec.lbfactor=1
worker.tomsrv01sec.connection_pool_timeout=20

worker.tomsrv02.type=ajp13
worker.tomsrv02.host=172.17.1.66
worker.tomsrv02.port=8009
worker.tomsrv02.lbfactor=1
worker.tomsrv02.connection_pool_timeout=20

worker.tomsrv02sec.type=ajp13
worker.tomsrv02sec.host=172.17.1.66
worker.tomsrv02sec.port=8010
worker.tomsrv02sec.route=tomsrv02
worker.tomsrv02sec.lbfactor=1
worker.tomsrv02sec.connection_pool_timeout=20

worker.balancer.type=lb
worker.balancer.balance_workers=tomsrv01,tomsrv02
worker.balancer.sticky_session=1

worker.balancersec.type=lb
worker.balancersec.balance_workers=tomsrv01sec,tomsrv02sec
worker.balancersec.sticky_session=1


--> mod_jk.mounts

/app1/* balancer
/app2/* balancer

--> mod_jk_sec.mounts

/app1/* balancersec
/app2/* balancersec


Now, the "trick":



-->httpd.conf

<VirtualHost *:80>
        ...
        Include conf.d/mod_jk.mounts
        ...
</VirtualHost>

<VirtualHost *:443>
        ...
        Include conf.d/mod_jk_sec.mounts
        ...
</VirtualHost>


Regards,

Robert








On Thu, Dec 20, 2012 at 1:59 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Robert,
>
> On 12/19/12 5:48 AM, Robert Anderson wrote:
> > <Connector port="8009" enableLookups="false"
> > connectionTimeout="20000" protocol="AJP/1.3" redirectPort="8443"
> > /> <Connector port="8010" protocol="AJP/1.3" secure="true"
> > scheme="https" enableLookups="false" connectionTimeout="20000" />
> >
> > <Engine name="Catalina" defaultHost="localhost"
> > jvmRoute="*tomsrv02*">
> >
> > worker.properties
> >
> > worker.*tomsrv02*.type=ajp13 worker.*tomsrv02*.host=172.17.1.45
> > worker.*tomsrv02*.port=8009 worker.*tomsrv02*.lbfactor=1
> > worker.*tomsrv02*.connection_pool_timeout=20
> >
> > worker.tomsrv02sec.type=ajp13 worker.tomsrv02sec.host=172.17.1.45
> > worker.tomsrv02sec.port=8010 *worker.tomsrv02sec.route=tomsrv02*
> > worker.tomsrv02sec.lbfactor=1
> > worker.tomsrv02sec.connection_pool_timeout=20
> >
> >
> > We use two connectors to apply separate rules (e.g. firewall,
> > monitoring tools) for each one of them.
>
> How does mod_jk know which worker to use when the session id ends in
> ".tomsrv02"?
>
> Or are you not using sticky sessions?
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDTQ+EACgkQ9CaO5/Lv0PBjQwCeLKfGha/tT6+0M+aM6HcPjIzy
> hdIAnRSamTwZKIwDdFrPkQJRp4Ac9mco
> =pMq+
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--f46d044304f846ba6304d152ebb5--

From users-return-238694-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 11:16:26 2012
Return-Path: <users-return-238694-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B9218E232
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 11:16:26 +0000 (UTC)
Received: (qmail 15246 invoked by uid 500); 21 Dec 2012 11:16:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 15026 invoked by uid 500); 21 Dec 2012 11:16:22 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 14995 invoked by uid 99); 21 Dec 2012 11:16:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 11:16:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.214.176] (HELO mail-ob0-f176.google.com) (209.85.214.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 11:16:14 +0000
Received: by mail-ob0-f176.google.com with SMTP id un3so4389874obb.21
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 03:15:53 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:x-originating-ip:in-reply-to:references:from:date
         :message-id:subject:to:content-type:content-transfer-encoding
         :x-gm-message-state;
        bh=Bm3VLdYG/O8klVygVxL7q0H8YmGRxvwpuFsRi0RJxco=;
        b=pFioAIcpz3pAN0R+gxPbAancO4fct97TFz+a3MV4R8M09zdKZ/s+FL2qlGOVSM0cef
         nL7Jnrn/sAKee+N0nsFEFLuDni7o8xjYmte81GE/hhYvQaZRdBG2gmcI3m16lonyBv4m
         6uIgy6pHiZSgGEJfigAx8wBM2UpykUV5Fq+OWa7lRiGkSqW9hN1IZC/cYghpB2IF305O
         gYQigltogioNAoM7ChDePs8DpGU1x+NPKR2vdWz2NarWzJpFPs4Y6BVaCg8ScXbYstY1
         NxfXP0TcipVYBqqvhNDT0oh8D+DeDJtuKNF+utlLEu8L/8Eu7HU7NX7yDMa7Zb1Cknfd
         9alw==
Received: by 10.182.89.42 with SMTP id bl10mr10739141obb.27.1356088553765;
 Fri, 21 Dec 2012 03:15:53 -0800 (PST)
MIME-Version: 1.0
Received: by 10.76.131.52 with HTTP; Fri, 21 Dec 2012 03:15:33 -0800 (PST)
X-Originating-IP: [87.111.8.12]
In-Reply-To: <CAKBP=ie5b2K8nJPWOponvcD1_jZVQwPKTWCPyhPAgYZhznv3kQ@mail.gmail.com>
References: <CAPXkZJmS-qtq_eyz94uPOkodvmC2MqUBxOUO6TvHfJcr7OWdPw@mail.gmail.com>
 <CAPoyBqQc1c48zfV8R0ktsSvD7fd-U3Akmp+guFZ1FxanoO3c5g@mail.gmail.com>
 <CAPXkZJnDJNq+WfKDVwdgRfpeNY60T=8rXXn7QfzytO318my8VQ@mail.gmail.com>
 <CAPoyBqQ8hL5p+LVquNbBLeG9q=P_ohdLTAqUjde1zbG2aw_w1Q@mail.gmail.com> <CAKBP=ie5b2K8nJPWOponvcD1_jZVQwPKTWCPyhPAgYZhznv3kQ@mail.gmail.com>
From: =?ISO-8859-1?Q?Antonio_Manuel_Mu=F1iz_Mart=EDn?= <amuniz@klicap.es>
Date: Fri, 21 Dec 2012 12:15:33 +0100
Message-ID: <CAPXkZJm6GrePibrdegmLi4cKwdSParb_=PmjLa9o6Yba=7F3Yg@mail.gmail.com>
Subject: Re: Tomcat common and webapp classloader
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQlplUOwj2Oaab3FDTLifJT7qImP+i9TfZfUO+RBWhx3IFivtTTfXCCVIC/xHDypxIrGyRM0
X-Virus-Checked: Checked by ClamAV on apache.org

It works! Thank you guys!

2012/12/17 Kris Maker <krismaker188@gmail.com>:
> yea should work
>
> On Mon, Dec 17, 2012 at 3:28 PM, Olivier Lamy <olamy@apache.org> wrote:
>
>> 2012/12/17 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
>> > Hi Olivier,
>> >
>> > My fault, I found the problem, I had two spring versions in my
>> dependencies.
>> > However I have another question, could I use dependencies from
>> > non-central repository in the plugin dependencies? It seems like the
>> > plugin only search for dependencies at central.
>> >
>> Must work if you declare your repository in <pluginRepositories> section=
.
>>
>> > Thanks,
>> > Antonio.
>> >
>> > 2012/12/17 Olivier Lamy <olamy@apache.org>:
>> >> Any sample project you could share ? Attach it in a new jira issue.
>> >> That will help for debugging your use case.
>> >> Thanks
>> >>
>> >> 2012/12/16 Antonio Manuel Mu=F1iz Mart=EDn <amuniz@klicap.es>:
>> >>> Hello.
>> >>>
>> >>> I'm giving a try to tomcat6-maven-plugin. Good work guys, it's great=
!
>> >>>
>> >>> I'm getting some extrange behavior with classloaders, I think that
>> >>> tomcat common classloader is interfering in webapp classloader. I ha=
ve
>> >>> Spring 2.5.5 artifacts at tomcat level (tomcat lib) and Spring 3.1.1
>> >>> at webapp level (WEB-INF/lib), and I'm getting errors because 2.5.5 =
is
>> >>> loaded before in the webapp.
>> >>>
>> >>> I tried to use "delegate =3D false" in the plugin config in order to=
 get
>> >>> first the webapp artifacts, but the behavior is the same.
>> >>>
>> >>> My plugin config:
>> >>> <plugin>
>> >>>     <groupId>org.apache.tomcat.maven</groupId>
>> >>>     <artifactId>tomcat6-maven-plugin</artifactId>
>> >>>     <version>2.0</version>
>> >>>     <configuration>
>> >>>         <port>8080</port>
>> >>>         <path>/app</path>
>> >>>         <serverXml>src/main/config/server.xml</serverXml>
>> >>>
>> <additionalConfigFilesDir>src/main/config/tomcat-conf</additionalConfigF=
ilesDir>
>> >>>         <systemProperties>
>> >>>
>> <JAVA_OPTS>-Djava.security.auth.login.config=3D$CATALINA_HOME/conf/jaas.=
conf</JAVA_OPTS>
>> >>>         </systemProperties>
>> >>>         <delegate>false</delegate>
>> >>>     </configuration>
>> >>>     <dependencies>
>> >>>         <dependency>
>> >>>             <groupId>es.klicap.clinker</groupId>
>> >>>             <artifactId>josso-tomcat60-agent</artifactId>
>> >>>             <version>1.3.0</version>
>> >>>         </dependency>
>> >>>     </dependencies>
>> >>> </plugin>
>> >>>
>> >>> Note that josso-tomcat60-agent is the dependency that I want at tomc=
at
>> >>> level and it gets Spring 2.5.5 transitively.
>> >>>
>> >>> Am I using "delegate" correctly?
>> >>>
>> >>> Thanks!
>> >>>
>> >>> --
>> >>> Antonio Manuel Mu=F1iz Mart=EDn
>> >>> Software Developer at klicap - ingenier=EDa del puzle
>> >>>
>> >>> work phone + 34 954 894 322
>> >>> www.klicap.es | blog.klicap.es
>> >>>
>> >>> --------------------------------------------------------------------=
-
>> >>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> >>> For additional commands, e-mail: users-help@tomcat.apache.org
>> >>>
>> >>
>> >>
>> >>
>> >> --
>> >> Olivier Lamy
>> >> Talend: http://coders.talend.com
>> >> http://twitter.com/olamy | http://linkedin.com/in/olamy
>> >>
>> >> ---------------------------------------------------------------------
>> >> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> >> For additional commands, e-mail: users-help@tomcat.apache.org
>> >>
>> >
>> >
>> >
>> > --
>> > Antonio Manuel Mu=F1iz Mart=EDn
>> > Software Developer at klicap - ingenier=EDa del puzle
>> >
>> > work phone + 34 954 894 322
>> > www.klicap.es | blog.klicap.es
>> >
>> > ---------------------------------------------------------------------
>> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> > For additional commands, e-mail: users-help@tomcat.apache.org
>> >
>>
>>
>>
>> --
>> Olivier Lamy
>> Talend: http://coders.talend.com
>> http://twitter.com/olamy | http://linkedin.com/in/olamy
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>>



--=20
Antonio Manuel Mu=F1iz Mart=EDn
Software Developer at klicap - ingenier=EDa del puzle

work phone + 34 954 894 322
www.klicap.es | blog.klicap.es

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238695-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 12:36:00 2012
Return-Path: <users-return-238695-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 31DB9E1CC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 12:36:00 +0000 (UTC)
Received: (qmail 17027 invoked by uid 500); 21 Dec 2012 12:35:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 16936 invoked by uid 500); 21 Dec 2012 12:35:56 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 16911 invoked by uid 99); 21 Dec 2012 12:35:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 12:35:55 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of quark122@gmail.com designates 209.85.212.41 as permitted sender)
Received: from [209.85.212.41] (HELO mail-vb0-f41.google.com) (209.85.212.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 12:35:47 +0000
Received: by mail-vb0-f41.google.com with SMTP id l22so5144306vbn.0
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 04:35:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=dbZswldEue2Y/8KTV5uDV1OxIjtjyBTYc6GKHG1D+yI=;
        b=Og654yYOBmSD2OCrYB4NZ8qJFcI3LPBKZ8iR+K+StVBnXlBZII2pL6ZhmI1nQgNhX9
         0rSte6i3qzE5greRWfsXoENR10fVyZ1POOExrgAVg6MdrdZIbLkmgT4yRIQPo0TBoftO
         fVPgyCzE9nmwsbJG27uppPX+c5OMgteLhw37s9eHRb+mucK60xj/58Uqpw0jM/2O9583
         1ZAheaBLah6RqfEQn6MpXHeTmj6YQqajBR43mxMqaMfQz8lCH1b4QcDYDe68F+gpAIYk
         4lp8UcM9PjxaFkI0nVrv+9/tw6NFwvxnnuUqaLjlG6TSZx/5bUZQngSylYdBMdcCUha6
         i/PQ==
MIME-Version: 1.0
Received: by 10.52.36.19 with SMTP id m19mr16840275vdj.33.1356093326882; Fri,
 21 Dec 2012 04:35:26 -0800 (PST)
Received: by 10.52.18.166 with HTTP; Fri, 21 Dec 2012 04:35:26 -0800 (PST)
Date: Fri, 21 Dec 2012 07:35:26 -0500
Message-ID: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
Subject: Reporting a revoked certificate
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

At long last, I have tomcat configured, I have revoked certificates to
test with... my question today...

When I try using a revoked certificate, I get the lovely and
meaningful "page cannot be displayed."  So it is properly denying
access - but it doesn't provide appear to provide any other feedback
to the browser.

Is that correct, or is it configurable so it could report -
certificate revoked, or certificate invalid or something?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238696-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 13:36:07 2012
Return-Path: <users-return-238696-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 9C0D9D265
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 13:36:07 +0000 (UTC)
Received: (qmail 6698 invoked by uid 500); 21 Dec 2012 13:36:04 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6647 invoked by uid 500); 21 Dec 2012 13:36:04 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6623 invoked by uid 99); 21 Dec 2012 13:36:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 13:36:03 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 13:35:56 +0000
Received: from sc9-mailhost1.vmware.com (sc9-mailhost1.vmware.com [10.113.161.71])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 4968E28476
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 05:35:34 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (zcs-prod-mta-1.vmware.com [10.113.163.63])
	by sc9-mailhost1.vmware.com (Postfix) with ESMTP id 455AA18169
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 05:35:34 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTP id 31AEEE176F
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 05:35:34 -0800 (PST)
Received: from [10.113.231.28] (unknown [10.113.160.14])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTPSA id DE710E1776
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 05:35:33 -0800 (PST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Reporting a revoked certificate
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
Date: Fri, 21 Dec 2012 08:35:31 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 21, 2012, at 7:35 AM, Will Nordmeyer wrote:

> At long last, I have tomcat configured, I have revoked certificates to
> test with=85

Nice!

> my question today...
>=20
> When I try using a revoked certificate, I get the lovely and
> meaningful "page cannot be displayed." =20

What browser are you using?  This sounds like the generic IE message.

> So it is properly denying
> access - but it doesn't provide appear to provide any other feedback
> to the browser.

Tomcat should be returning some HTTP error code like 400 Bad request, =
401 Unauthorized or 403 Forbidden.  If your browser is masking it, you =
can see exactly what is returned by looking at the access log.  You can =
then override that code and provide a custom error page (like Twitter's =
Fail Whale).  See the <error-page> tag in web.xml for more details.

One note about this.  If you are using IE, your custom error page has to =
be over a certain size or IE will still continue to display it's generic =
messages.  I believe it's 512 bytes.

Dan

>=20
> Is that correct, or is it configurable so it could report -
> certificate revoked, or certificate invalid or something?
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238697-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 14:29:24 2012
Return-Path: <users-return-238697-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2543B9197
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 14:29:24 +0000 (UTC)
Received: (qmail 63190 invoked by uid 500); 21 Dec 2012 14:29:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62894 invoked by uid 500); 21 Dec 2012 14:29:20 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62860 invoked by uid 99); 21 Dec 2012 14:29:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:29:19 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of quark122@gmail.com designates 209.85.220.181 as permitted sender)
Received: from [209.85.220.181] (HELO mail-vc0-f181.google.com) (209.85.220.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:29:13 +0000
Received: by mail-vc0-f181.google.com with SMTP id gb30so5050733vcb.26
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 06:28:52 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=bxpHTvHPx63pg1XDUHGBjKuQbnxqI6WgWHVEurs98ao=;
        b=OUTQCTJrZMdL1RiJj6s1IJosP8EA5r9K5bOkf3PQnriV1aAHzCM5MlcRvw3sEp31U8
         H69NusYCGxid3oZfvCSNMSorBofkQtKsdqhx+RwNyfmyRRTfHvpPBPw7X/W4cXy5APvi
         WO+yzDdHM+C4J2EQi1n6dA9EkIOJ+R7fGZ0iy6umajtCxppI1ugCtwJtA5Apd9InPlVC
         SM7kYXiIU2FHzdnjoTX7OUCAGPKtwBKNZbo2503woY6dAqCS6qaniNDB2IVwFK9NN98/
         7lxxzUO7smnX7P/6r2qBKmC+UVgmrNLxz0Kmu9/tt5gtMMg+Izj2KRLbsyhetwwj16Ph
         lwjg==
MIME-Version: 1.0
Received: by 10.220.239.14 with SMTP id ku14mr19939906vcb.57.1356100132274;
 Fri, 21 Dec 2012 06:28:52 -0800 (PST)
Received: by 10.52.18.166 with HTTP; Fri, 21 Dec 2012 06:28:52 -0800 (PST)
In-Reply-To: <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
	<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
Date: Fri, 21 Dec 2012 09:28:52 -0500
Message-ID: <CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
Subject: Re: Reporting a revoked certificate
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Dec 21, 2012 at 8:35 AM, Daniel Mikusa <dmikusa@vmware.com> wrote:
> On Dec 21, 2012, at 7:35 AM, Will Nordmeyer wrote:
>
>> At long last, I have tomcat configured, I have revoked certificates to
>> test with=85
>
> Nice!
>
>> my question today...
>>
>> When I try using a revoked certificate, I get the lovely and
>> meaningful "page cannot be displayed."
>
> What browser are you using?  This sounds like the generic IE message.
>
>> So it is properly denying
>> access - but it doesn't provide appear to provide any other feedback
>> to the browser.
>
> Tomcat should be returning some HTTP error code like 400 Bad request, 401=
 Unauthorized or 403 Forbidden.  If your browser is masking it, you can see=
 exactly what is returned by looking at the access log.  You can then overr=
ide that code and provide a custom error page (like Twitter's Fail Whale). =
 See the <error-page> tag in web.xml for more details.
>
> One note about this.  If you are using IE, your custom error page has to =
be over a certain size or IE will still continue to display it's generic me=
ssages.  I believe it's 512 bytes.
>
> Dan
>
Thanks Dan - which access log should I look at?  all of the tomcat
logs don't show anything.  I've got it configured with APR & TCNATIVE

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238698-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 14:35:25 2012
Return-Path: <users-return-238698-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DD0709833
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 14:35:24 +0000 (UTC)
Received: (qmail 87938 invoked by uid 500); 21 Dec 2012 14:35:21 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87891 invoked by uid 500); 21 Dec 2012 14:35:21 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87878 invoked by uid 99); 21 Dec 2012 14:35:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:35:20 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.223.169 as permitted sender)
Received: from [209.85.223.169] (HELO mail-ie0-f169.google.com) (209.85.223.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:35:14 +0000
Received: by mail-ie0-f169.google.com with SMTP id c14so6304821ieb.14
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 06:34:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=cH4LlINB2MF7n5H96cAv5psWsBSFfLWgx6Mwfad+WRg=;
        b=kY3H93eExMEdh8qxhKIWCN8yc52ojfk5jl+sbmuyC8YOtxEVCNIdzBH+jP42eD/Nbj
         TUvwmq9LwE+M3D3ollfsirW2aDFBBc8xksDeTW+qgKK4ggRNUslYMb9NynpOVNeulUNc
         58h8lbzIL4ZcMzenNLSKkt8Ql6laz7EeNyowTIEJilpqcNf3DB2FsnOVdlMk2TajsoLJ
         chT/gRYMEEZIBt/3L2z2dBaPGj2GyfJXEMDsUKQuL9+l7abUOj+S8FTY+XnyV1Ltfevt
         L7R2nI82b1YbN/pRNjcGf7Ehd9Iwwh6k9T5h85+hGkA2HHVltPXjg0cIEmZ2zzwvBd7z
         3c6g==
MIME-Version: 1.0
Received: by 10.50.159.228 with SMTP id xf4mr4133189igb.108.1356100493800;
 Fri, 21 Dec 2012 06:34:53 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Fri, 21 Dec 2012 06:34:53 -0800 (PST)
In-Reply-To: <CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
	<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
	<CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
Date: Fri, 21 Dec 2012 15:34:53 +0100
Message-ID: <CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>
Subject: Re: Reporting a revoked certificate
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>>
> Thanks Dan - which access log should I look at?  all of the tomcat
> logs don't show anything.  I've got it configured with APR & TCNATIVE
>

Hello,

I'm not sure you could get an error page. The ssl dialog takes place
before any http communication. So I don't think tomcat can send an
http response if the certificate is revoked.

You could use openssl s_client to try and connect to your server to
see what is returned from Tomcat exactly.

C=E9dric

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238699-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 14:37:16 2012
Return-Path: <users-return-238699-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 40E5B983F
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 14:37:16 +0000 (UTC)
Received: (qmail 99428 invoked by uid 500); 21 Dec 2012 14:37:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 99382 invoked by uid 500); 21 Dec 2012 14:37:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 99335 invoked by uid 99); 21 Dec 2012 14:37:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:37:10 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cedric.couralet@gmail.com designates 209.85.223.176 as permitted sender)
Received: from [209.85.223.176] (HELO mail-ie0-f176.google.com) (209.85.223.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:37:04 +0000
Received: by mail-ie0-f176.google.com with SMTP id 13so6230428iea.35
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 06:36:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=D83uvFLkp576RAM57owSBQn4QI1hCc/hBMzm2M92WOM=;
        b=NDenROyzbDS6fAb//j9ge/6JCpUc37BTwN6jt2jvIKdvQKILf2KwztDjbbdUcygm4T
         eLqxK5TMB2x+6qHnesRZ3ohLZW25CMalCDcLroVXjwVnbI48eEjIIIRMNhidyFy/2ISy
         72jfzdRZXEljTNJUlVKR646IqMohAG8fNpVFqtexjCJIhRioRk0TV31zlod3tE9gUHtN
         QgK4QARFJRWIJYqTP8kZ+BuaUmYNWMILtWAmySCxA3wrZg4bUe+zN8gbYN43HpgzUKeI
         KGQ0WGbHGiBOKmxLwb5ntypzpiP+Lahy9TYthmIMhAj7FZ0alInndmeMNha6Ji5RBB00
         QYWQ==
MIME-Version: 1.0
Received: by 10.50.33.212 with SMTP id t20mr8891808igi.108.1356100603685; Fri,
 21 Dec 2012 06:36:43 -0800 (PST)
Received: by 10.42.247.135 with HTTP; Fri, 21 Dec 2012 06:36:43 -0800 (PST)
In-Reply-To: <CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
	<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
	<CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
	<CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>
Date: Fri, 21 Dec 2012 15:36:43 +0100
Message-ID: <CAMwoAzetEeJB7ipg=drKWakCvQg7Zn1AkmbUrsA5L0vY6CLfjg@mail.gmail.com>
Subject: Re: Reporting a revoked certificate
From: =?ISO-8859-1?Q?C=E9dric_Couralet?= <cedric.couralet@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

>
> Hello,
>
> I'm not sure you could get an error page. The ssl dialog takes place
> before any http communication. So I don't think tomcat can send an
> http response if the certificate is revoked.
>
> You could use openssl s_client to try and connect to your server to
> see what is returned from Tomcat exactly.

And as a quick test, you could try with Firefox. I've found it gives
almost meaningful error dialog when dealing with ssl.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238700-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 14:51:51 2012
Return-Path: <users-return-238700-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5063F98CD
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 14:51:51 +0000 (UTC)
Received: (qmail 62700 invoked by uid 500); 21 Dec 2012 14:51:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 62536 invoked by uid 500); 21 Dec 2012 14:51:47 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 62507 invoked by uid 99); 21 Dec 2012 14:51:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:51:46 +0000
X-ASF-Spam-Status: No, hits=3.2 required=5.0
	tests=FREEMAIL_REPLY,HTML_MESSAGE,RCVD_IN_DNSWL_NONE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mgainty@hotmail.com designates 65.55.111.96 as permitted sender)
Received: from [65.55.111.96] (HELO blu0-omc2-s21.blu0.hotmail.com) (65.55.111.96)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:51:37 +0000
Received: from BLU172-W41 ([65.55.111.72]) by blu0-omc2-s21.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4675);
	 Fri, 21 Dec 2012 06:51:15 -0800
X-EIP: [iFYsNQ7TXLkd673CYz17rzy5M0wkoCWy]
X-Originating-Email: [mgainty@hotmail.com]
Message-ID: <BLU172-W41083CF9C29C4CA9371FE1AE360@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_d11c9604-97ae-430a-b7b6-d4821c1a2e11_"
From: Martin Gainty <mgainty@hotmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Subject: RE: Reporting a revoked certificate
Date: Fri, 21 Dec 2012 09:51:15 -0500
Importance: Normal
In-Reply-To:
 <CAMwoAzetEeJB7ipg=drKWakCvQg7Zn1AkmbUrsA5L0vY6CLfjg@mail.gmail.com>
References:
 <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>,<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>,<CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>,<CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>,<CAMwoAzetEeJB7ipg=drKWakCvQg7Zn1AkmbUrsA5L0vY6CLfjg@mail.gmail.com>
MIME-Version: 1.0
X-OriginalArrivalTime: 21 Dec 2012 14:51:15.0943 (UTC) FILETIME=[A0C61770:01CDDF8A]
X-Virus-Checked: Checked by ClamAV on apache.org

--_d11c9604-97ae-430a-b7b6-d4821c1a2e11_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


things to check
=20
1)are you implementing mod_ssl or any ssl modules in apache
2)if not mod_ssl are you implementing ssl in Tomcat bio-connector

3)if not mod_ssl are you implementing ssl in Tomcat nio-connector

http://tomcat.apache.org/tomcat-7.0-doc/config/http.html#SSL_Support
Martin______________________________________________=20
..place long-winded disclaimer here..
 > Date: Fri=2C 21 Dec 2012 15:36:43 +0100
> Subject: Re: Reporting a revoked certificate
> From: cedric.couralet@gmail.com
> To: users@tomcat.apache.org
>=20
> >
> > Hello=2C
> >
> > I'm not sure you could get an error page. The ssl dialog takes place
> > before any http communication. So I don't think tomcat can send an
> > http response if the certificate is revoked.
> >
> > You could use openssl s_client to try and connect to your server to
> > see what is returned from Tomcat exactly.
>=20
> And as a quick test=2C you could try with Firefox. I've found it gives
> almost meaningful error dialog when dealing with ssl.
>=20
> ---------------------------------------------------------------------
> To unsubscribe=2C e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands=2C e-mail: users-help@tomcat.apache.org
>=20
 		 	   		  =

--_d11c9604-97ae-430a-b7b6-d4821c1a2e11_--

From users-return-238701-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 14:59:26 2012
Return-Path: <users-return-238701-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 8FC859904
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 14:59:26 +0000 (UTC)
Received: (qmail 85656 invoked by uid 500); 21 Dec 2012 14:59:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85578 invoked by uid 500); 21 Dec 2012 14:59:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85566 invoked by uid 99); 21 Dec 2012 14:59:22 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:59:22 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 14:59:22 +0000
Message-ID: <50D47947.9030404@apache.org>
Date: Fri, 21 Dec 2012 14:59:19 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Reporting a revoked certificate
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com> <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
In-Reply-To: <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: 8bit

On 21/12/2012 13:35, Daniel Mikusa wrote:
> On Dec 21, 2012, at 7:35 AM, Will Nordmeyer wrote:
> 
>> At long last, I have tomcat configured, I have revoked certificates
>> to test with
> 
> Nice!
> 
>> my question today...
>> 
>> When I try using a revoked certificate, I get the lovely and 
>> meaningful "page cannot be displayed."
> 
> What browser are you using?  This sounds like the generic IE
> message.
> 
>> So it is properly denying access - but it doesn't provide appear to
>> provide any other feedback to the browser.
> 
> Tomcat should be returning some HTTP error code

Nope.

If the SSL session is not established (and if the client cert isn't
valid there will not be an SSL session), there is no HTTP request for
Tomcat to respond to.

You'll get whatever (un)helpful message the browser decides to display.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238702-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:00:30 2012
Return-Path: <users-return-238702-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 550F79918
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:00:30 +0000 (UTC)
Received: (qmail 90709 invoked by uid 500); 21 Dec 2012 15:00:27 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90622 invoked by uid 500); 21 Dec 2012 15:00:26 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90598 invoked by uid 99); 21 Dec 2012 15:00:26 -0000
Received: from minotaur.apache.org (HELO minotaur.apache.org) (140.211.11.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:00:26 +0000
Received: from localhost (HELO [192.168.23.9]) (127.0.0.1)
  (smtp-auth username markt, mechanism plain)
  by minotaur.apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:00:26 +0000
Message-ID: <50D47986.7000904@apache.org>
Date: Fri, 21 Dec 2012 15:00:22 +0000
From: Mark Thomas <markt@apache.org>
User-Agent: Mozilla/5.0 (Windows NT 5.2; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Reporting a revoked certificate
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>,<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>,<CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>,<CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>,<CAMwoAzetEeJB7ipg=drKWakCvQg7Zn1AkmbUrsA5L0vY6CLfjg@mail.gmail.com> <BLU172-W41083CF9C29C4CA9371FE1AE360@phx.gbl>
In-Reply-To: <BLU172-W41083CF9C29C4CA9371FE1AE360@phx.gbl>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit

On 21/12/2012 14:51, Martin Gainty wrote:
> 
> things to check

Don't bother. This is yet more irrelevant nonsense from Martin.

Mark


>  
> 1)are you implementing mod_ssl or any ssl modules in apache
> 2)if not mod_ssl are you implementing ssl in Tomcat bio-connector
> 
> 3)if not mod_ssl are you implementing ssl in Tomcat nio-connector
> 
> http://tomcat.apache.org/tomcat-7.0-doc/config/http.html#SSL_Support
> Martin______________________________________________ 
> ..place long-winded disclaimer here..
>  > Date: Fri, 21 Dec 2012 15:36:43 +0100
>> Subject: Re: Reporting a revoked certificate
>> From: cedric.couralet@gmail.com
>> To: users@tomcat.apache.org
>>
>>>
>>> Hello,
>>>
>>> I'm not sure you could get an error page. The ssl dialog takes place
>>> before any http communication. So I don't think tomcat can send an
>>> http response if the certificate is revoked.
>>>
>>> You could use openssl s_client to try and connect to your server to
>>> see what is returned from Tomcat exactly.
>>
>> And as a quick test, you could try with Firefox. I've found it gives
>> almost meaningful error dialog when dealing with ssl.
>>
>> ---------------------------------------------------------------------
>> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
>> For additional commands, e-mail: users-help@tomcat.apache.org
>>
>  		 	   		  
> 


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238703-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:31:19 2012
Return-Path: <users-return-238703-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 54A28DBAB
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:31:19 +0000 (UTC)
Received: (qmail 86708 invoked by uid 500); 21 Dec 2012 15:31:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 86648 invoked by uid 500); 21 Dec 2012 15:31:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 86638 invoked by uid 99); 21 Dec 2012 15:31:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:31:15 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [208.91.2.13] (HELO smtp-outbound-2.vmware.com) (208.91.2.13)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:31:07 +0000
Received: from sc9-mailhost2.vmware.com (sc9-mailhost2.vmware.com [10.113.161.72])
	by smtp-outbound-2.vmware.com (Postfix) with ESMTP id 154DC28391
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 07:30:47 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (zcs-prod-mta-1.vmware.com [10.113.163.63])
	by sc9-mailhost2.vmware.com (Postfix) with ESMTP id 125D8B019A
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 07:30:47 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTP id 04275E175F
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 07:30:47 -0800 (PST)
Received: from [10.113.231.28] (unknown [10.113.160.14])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTPSA id 9914FE1748
	for <users@tomcat.apache.org>; Fri, 21 Dec 2012 07:30:46 -0800 (PST)
Content-Type: text/plain; charset=windows-1252
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: Reporting a revoked certificate
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
Date: Fri, 21 Dec 2012 10:30:44 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <DC5589D2-FB68-44A7-80C4-45DEC7F5C2BB@vmware.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com> <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com> <CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 21, 2012, at 9:28 AM, Will Nordmeyer wrote:

> On Fri, Dec 21, 2012 at 8:35 AM, Daniel Mikusa <dmikusa@vmware.com> =
wrote:
>> On Dec 21, 2012, at 7:35 AM, Will Nordmeyer wrote:
>>=20
>>> At long last, I have tomcat configured, I have revoked certificates =
to
>>> test with=85
>>=20
>> Nice!
>>=20
>>> my question today...
>>>=20
>>> When I try using a revoked certificate, I get the lovely and
>>> meaningful "page cannot be displayed."
>>=20
>> What browser are you using?  This sounds like the generic IE message.
>>=20
>>> So it is properly denying
>>> access - but it doesn't provide appear to provide any other feedback
>>> to the browser.
>>=20
>> Tomcat should be returning some HTTP error code like 400 Bad request, =
401 Unauthorized or 403 Forbidden.  If your browser is masking it, you =
can see exactly what is returned by looking at the access log.  You can =
then override that code and provide a custom error page (like Twitter's =
Fail Whale).  See the <error-page> tag in web.xml for more details.
>>=20
>> One note about this.  If you are using IE, your custom error page has =
to be over a certain size or IE will still continue to display it's =
generic messages.  I believe it's 512 bytes.
>>=20
>> Dan
>>=20
> Thanks Dan - which access log should I look at?  all of the tomcat
> logs don't show anything.  I've got it configured with APR & TCNATIVE

Mark and C=E9dric are right. =20

Ignore my post, sorry about sending you down the wrong path.

Dan


> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238704-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:46:26 2012
Return-Path: <users-return-238704-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 86046DDA7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:46:26 +0000 (UTC)
Received: (qmail 38474 invoked by uid 500); 21 Dec 2012 15:46:23 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 38282 invoked by uid 500); 21 Dec 2012 15:46:23 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 38273 invoked by uid 99); 21 Dec 2012 15:46:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:46:23 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of quark122@gmail.com designates 209.85.220.177 as permitted sender)
Received: from [209.85.220.177] (HELO mail-vc0-f177.google.com) (209.85.220.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:46:16 +0000
Received: by mail-vc0-f177.google.com with SMTP id m8so5216398vcd.8
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 07:45:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=yuR7yRwFavq2CXE7qh0GdNugMi+IFq+BWiXX+rSMiQk=;
        b=CXVjQIqhUVCJob3E1G3V+8VV1vwC0QPaaWfdu0Lgb58D+jrcy++1wnI/sPjdeP26FA
         gVuW4pT2Gfhe3n/rs9vptjJY5BVHdj+ErUZ6OsChthT3JYwg/dtuFZyCcE8z0Pef/wMb
         4VGAc+cUtoM0ape7NGtAtMrEL0AsVv2Ej2HtxWMwJMY+fQ3razvksa0z/hIE0Wnif0XS
         K4VpRa5BqPScAZpkg8UQVND5mpBulo3Qg2hDF5yDBOjCpK+cptjQd2V5pizivNjjoFm/
         a4N2TH2LhPVTGIySKAuyQvLpoCSM3ATj4TnjC595xDC2BaJgq/L3vXFVn5HPCBBWYXjn
         ylLw==
MIME-Version: 1.0
Received: by 10.52.75.105 with SMTP id b9mr18055198vdw.28.1356104756010; Fri,
 21 Dec 2012 07:45:56 -0800 (PST)
Received: by 10.52.18.166 with HTTP; Fri, 21 Dec 2012 07:45:55 -0800 (PST)
In-Reply-To: <DC5589D2-FB68-44A7-80C4-45DEC7F5C2BB@vmware.com>
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com>
	<F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com>
	<CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com>
	<DC5589D2-FB68-44A7-80C4-45DEC7F5C2BB@vmware.com>
Date: Fri, 21 Dec 2012 10:45:55 -0500
Message-ID: <CAN=ruA6bVNixEmFz-PBYLku9dKva850EtkqVKmFDK40oY0yFTg@mail.gmail.com>
Subject: Re: Reporting a revoked certificate
From: Will Nordmeyer <quark122@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Dec 21, 2012 at 10:30 AM, Daniel Mikusa <dmikusa@vmware.com> wrote:
> On Dec 21, 2012, at 9:28 AM, Will Nordmeyer wrote:
>
>> On Fri, Dec 21, 2012 at 8:35 AM, Daniel Mikusa <dmikusa@vmware.com> wrot=
e:
>>> On Dec 21, 2012, at 7:35 AM, Will Nordmeyer wrote:
>>>
>>>> At long last, I have tomcat configured, I have revoked certificates to
>>>> test with=85
>>>
>>> Nice!
>>>
>>>> my question today...
>>>>
>>>> When I try using a revoked certificate, I get the lovely and
>>>> meaningful "page cannot be displayed."
>>>
>>> What browser are you using?  This sounds like the generic IE message.
>>>
>>>> So it is properly denying
>>>> access - but it doesn't provide appear to provide any other feedback
>>>> to the browser.
>>>
>>> Tomcat should be returning some HTTP error code like 400 Bad request, 4=
01 Unauthorized or 403 Forbidden.  If your browser is masking it, you can s=
ee exactly what is returned by looking at the access log.  You can then ove=
rride that code and provide a custom error page (like Twitter's Fail Whale)=
.  See the <error-page> tag in web.xml for more details.
>>>
>>> One note about this.  If you are using IE, your custom error page has t=
o be over a certain size or IE will still continue to display it's generic =
messages.  I believe it's 512 bytes.
>>>
>>> Dan
>>>
>> Thanks Dan - which access log should I look at?  all of the tomcat
>> logs don't show anything.  I've got it configured with APR & TCNATIVE
>
> Mark and C=E9dric are right.
>
> Ignore my post, sorry about sending you down the wrong path.
>
> Dan
>
OK - I thought my answer was no luck since I didn't see anything in my
googling before running to you all.  But thought I'd ask just in case.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238705-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:54:23 2012
Return-Path: <users-return-238705-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2E0DBDE0A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:54:23 +0000 (UTC)
Received: (qmail 64987 invoked by uid 500); 21 Dec 2012 15:54:20 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 64938 invoked by uid 500); 21 Dec 2012 15:54:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 64920 invoked by uid 99); 21 Dec 2012 15:54:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:54:19 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:54:12 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id eBN51k0071wpRvQ53Ftram; Fri, 21 Dec 2012 15:53:51 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id eFtp1k00j38FjT13eFtqxR; Fri, 21 Dec 2012 15:53:51 +0000
Message-ID: <50D4860D.6090504@christopherschultz.net>
Date: Fri, 21 Dec 2012 10:53:49 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat 7.0.33 just stops without any errors...
References: <1356045379.10430.YahooMailClassic@web113620.mail.gq1.yahoo.com>
In-Reply-To: <1356045379.10430.YahooMailClassic@web113620.mail.gq1.yahoo.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356105231;
	bh=IeqB9LQgBAE8hfMiCBl4toZcdLox8ADQUVlvJJrLc7s=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=oGgt/GLyDgyPkfqjC+tzbl6w6n6Vv7QiJOeicX0CnUM1mF0zfENwL3vsmNXpUV3KT
	 mFXbf+dU0otYpm+GRqReCLZ5NS9kLt9XVKCt7VptwM3nuz7VgRRrv3i1rlJR/tlqZh
	 1d/49sKXZjVOsNvbDhbuEMCkfEky00pa/SYhcMtZ+8MW9hsA3lrKUZBzGTQQSLeuhi
	 aJCXJ0GolG/OphQUbNYc9lYW+hAt/+wpoe/8fdNfJhkKXD7OPgDQXPWYjWRoU+l95q
	 jjRYO4HNj9z79N3y8FsIJPLpgVNMDMNlDBev66kc6wi4P+plNxlRdooDtNVTyvUxHk
	 dEVp3BalxMzbQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Tony,

On 12/20/12 6:16 PM, Tony Anecito wrote:
> Thanks I did a search through all folder for those types of files
> and none found.
> 
> I am thinking it ran out of a resource.
> 
> I will keep trying.

Anything in the Window event log?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDUhg0ACgkQ9CaO5/Lv0PDdMQCZAXESdKMsflMl+HO1rUnQ7sD4
RoUAoLjye7EWARxOEytr0+4LOWF4ihKo
=a2yc
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238706-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:56:18 2012
Return-Path: <users-return-238706-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 213CCDE2A
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:56:18 +0000 (UTC)
Received: (qmail 72106 invoked by uid 500); 21 Dec 2012 15:56:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 71888 invoked by uid 500); 21 Dec 2012 15:56:14 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 71879 invoked by uid 99); 21 Dec 2012 15:56:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:56:14 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:56:08 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id eBvg1k0020Fqzac55FvnsA; Fri, 21 Dec 2012 15:55:47 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id eFvl1k00138FjT13UFvnhF; Fri, 21 Dec 2012 15:55:47 +0000
Message-ID: <50D48681.9020402@christopherschultz.net>
Date: Fri, 21 Dec 2012 10:55:45 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com> <6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com> <CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com> <50D343E1.2040603@christopherschultz.net> <CAGrg8DWsLObbEku0qdL2BeNpi2JROwDY2hOvup3-1mc3raG+tQ@mail.gmail.com>
In-Reply-To: <CAGrg8DWsLObbEku0qdL2BeNpi2JROwDY2hOvup3-1mc3raG+tQ@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356105347;
	bh=7iiNTn7gPqR3AcMyfYCCqve/I7Ssju0MN1zSsb/aWXs=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=dfV0ctqAaIcy02xBkiia0ell5BuutAQ9kqdd+y9R8yq4yc2oCn93cMQ0l0kIauogw
	 IPp+r2I7NK7Sh1RqHYaSC8eSM2ubTAL3iARfm/XM2cHmjtZ3ZcPIAj9PmA7kD56ZCh
	 G/x2ant6jKh7RXMCQbxVHVTX7Gym2TLnQBlLjkD3h9WOhIueo5oTi9qPQLua2yIVKt
	 oVZFXoh8Mu7ezq/JuPB5okkfHZTUo5rSCo5iVbEpH4V36n0b7SA8Nb0LU3k3cF2gIb
	 jgg+L8BBq1pL/iDPpIYitjOLYHZZQBxe8D4EOjQ9PV869cBHTVLdlvGIhuJ4a4m4EN
	 wISTEgez4C6Zg==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Robert,

On 12/20/12 8:39 PM, Robert Anderson wrote:
> Now, the "trick": <VirtualHost *:80> ... Include
> conf.d/mod_jk.mounts ... </VirtualHost>
> 
> <VirtualHost *:443> ... Include conf.d/mod_jk_sec.mounts ... 
> </VirtualHost>

Oh, of course. It's still not necessary unless you have some other
kind of options that need to be different.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDUhoEACgkQ9CaO5/Lv0PCeAACfSLMRO0zXGfuOWR1kJvFkYi0f
ItQAoJwEamOodhEg8lvXy2D2q69Tgb78
=NJFj
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238707-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 15:59:13 2012
Return-Path: <users-return-238707-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A11ACDE42
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 15:59:13 +0000 (UTC)
Received: (qmail 84158 invoked by uid 500); 21 Dec 2012 15:59:10 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83979 invoked by uid 500); 21 Dec 2012 15:59:10 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83970 invoked by uid 99); 21 Dec 2012 15:59:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:59:10 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 15:59:03 +0000
Received: from omta18.westchester.pa.mail.comcast.net ([76.96.62.90])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id eBjq1k0081wpRvQ53Fyhkq; Fri, 21 Dec 2012 15:58:41 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta18.westchester.pa.mail.comcast.net with comcast
	id eFyf1k00s38FjT13eFyg5m; Fri, 21 Dec 2012 15:58:41 +0000
Message-ID: <50D4872F.8090803@christopherschultz.net>
Date: Fri, 21 Dec 2012 10:58:39 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Reporting a revoked certificate
References: <CAN=ruA6HJVyi6A7mkihFBveP6_=i7sn8vDwf-pcGFpKP2h_Y2A@mail.gmail.com> <F6B26E8C-B30F-4E14-82F3-0DDF4F9D671E@vmware.com> <CAN=ruA7LKKPz_CEXNMmJi4v=9D-=bD5gZuh+sPwQmdWemX_Fng@mail.gmail.com> <CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>
In-Reply-To: <CAMwoAzfgbPYeMh5LX0UpXDcFppRsrZ=qNFGD9hSMPMJ25N2kTQ@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356105521;
	bh=ovnxbuerbL2TxOOURXHbNVTgzv9HQSfnPCfkJLbFEb0=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=KrF11hjDuv0VGo2XTHZz3tR5VxbGXG5OCk3b6tLlg6pXt4IcYP4EkBZhE1CXAOfNf
	 Z9GyVlVXpOurEjPDQjW7GnXIUbtjVvYBOporpWUSUH4d59OmItG4Z67rZvyIwp2ZWt
	 e2GeTyV14Hz9eOjz3LbJBsrXEViXkYKXo5nbyVwjf2daDv3vnXHIeZa8YIIeKc3JcR
	 D2vjnOTxpTUtmMkOFVKQffdXqClISypzmDM1rpfzQ6yXLMqGswXvSRmVrlzYA+D7uc
	 gas2dYvesbIgw9f7Oc1OlCOUEMKQ2xPR5So19fWG5up9c7zoJvjLzBXep6IPA/xysh
	 DTCHoVwLGLGRw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

CÃ©dric,

On 12/21/12 9:34 AM, CÃ©dric Couralet wrote:
>>> 
>> Thanks Dan - which access log should I look at?  all of the
>> tomcat logs don't show anything.  I've got it configured with APR
>> & TCNATIVE
>> 
> 
> Hello,
> 
> I'm not sure you could get an error page. The ssl dialog takes
> place before any http communication. So I don't think tomcat can
> send an http response if the certificate is revoked.

+1

I don't think you have any control over the page that gets displayed
in this event: Tomcat does not even get involved. Either OpenSSL or
JSSE will simply refuse the handshake and the (software) client has to
report something to the user. Sounds like MSIE does it's usual
worthless error reporting.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDUhy8ACgkQ9CaO5/Lv0PCXmACfVkGB3b+/yXndeehTg6Hl1GCP
C2EAoLbMxP3hv5icouotV46p64nhmbcl
=Mvyi
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238708-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 19:20:58 2012
Return-Path: <users-return-238708-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id B732BE795
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 19:20:58 +0000 (UTC)
Received: (qmail 28803 invoked by uid 500); 21 Dec 2012 19:20:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28558 invoked by uid 500); 21 Dec 2012 19:20:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28546 invoked by uid 99); 21 Dec 2012 19:20:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 19:20:55 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ranomail@gmail.com designates 74.125.82.53 as permitted sender)
Received: from [74.125.82.53] (HELO mail-wg0-f53.google.com) (74.125.82.53)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 19:20:49 +0000
Received: by mail-wg0-f53.google.com with SMTP id ei8so2327101wgb.20
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 11:20:29 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=xZxm67HzIOQ0ESbZpUT4to0HsqY93Ga2t/w0lJe2Lgk=;
        b=WcSAMz0NPkC6717pshLLl8UpYmSiL9Rm+cuZETm2AwwEji7vb+68I/kS8PNWxM+++Q
         82O79HSfHMPVZSsM6FTSpgqjhuerviD0tBXUaLRha/DohE09SQH6m0WcmWlkSrGwpN75
         AzMnfqlsXjTSfHwUEFWmhroE3QfyRpWQeJyiNYIxqCjeQWson91Ez8VCU7yjc3ik6QtZ
         7vcPllzSRNvB4NZM7WqGZWemVAVm7G7LfGeZOYP/1F3PqEwRIkS/CMbE7EkxZWRqCGj4
         r0LKVS6EOHswzPRKN8rCALpDNg88zSWJBexHqZQeQa8UkAMSpcTbAxBxt4Q1/5yvRghf
         H4Qw==
MIME-Version: 1.0
Received: by 10.194.238.226 with SMTP id vn2mr25342317wjc.23.1356117629218;
 Fri, 21 Dec 2012 11:20:29 -0800 (PST)
Received: by 10.180.146.137 with HTTP; Fri, 21 Dec 2012 11:20:29 -0800 (PST)
In-Reply-To: <50D48681.9020402@christopherschultz.net>
References: <99C8B2929B39C24493377AC7A121E21FC499CBF8B2@USEA-EXCH8.na.uis.unisys.com>
	<6636AAC7-87AB-4FBC-B92A-C7D490D5E85B@nextfort.com>
	<CAGrg8DV8fiZQX4nDgApEG1g+RSaCcm3JnZq4Qh6srLj+cp20pw@mail.gmail.com>
	<50D343E1.2040603@christopherschultz.net>
	<CAGrg8DWsLObbEku0qdL2BeNpi2JROwDY2hOvup3-1mc3raG+tQ@mail.gmail.com>
	<50D48681.9020402@christopherschultz.net>
Date: Fri, 21 Dec 2012 16:20:29 -0300
Message-ID: <CAGrg8DVkh=2L5sk2xU4-6-m=v33Da1oemgL3YZX5VcuFW-LNqA@mail.gmail.com>
Subject: Re: jvmRoute with multiple AJP Connectors for one Engine
From: Robert Anderson <ranomail@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=089e01493c98902e7b04d161bdc3
X-Virus-Checked: Checked by ClamAV on apache.org

--089e01493c98902e7b04d161bdc3
Content-Type: text/plain; charset=ISO-8859-1

Chris,

This strategy is working well, we have some statistics and controls that
are easier to implement and maintain if we keep separate connectors.
Currently, we have only two Tomcats,  each one with 40 applications (focus
in justice, virtual processes) deployed on it and processing 160 req/sec.


Robert


On Fri, Dec 21, 2012 at 12:55 PM, Christopher Schultz <
chris@christopherschultz.net> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Robert,
>
> On 12/20/12 8:39 PM, Robert Anderson wrote:
> > Now, the "trick": <VirtualHost *:80> ... Include
> > conf.d/mod_jk.mounts ... </VirtualHost>
> >
> > <VirtualHost *:443> ... Include conf.d/mod_jk_sec.mounts ...
> > </VirtualHost>
>
> Oh, of course. It's still not necessary unless you have some other
> kind of options that need to be different.
>
> - -chris
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
> Comment: GPGTools - http://gpgtools.org
> Comment: Using GnuPG with undefined - http://www.enigmail.net/
>
> iEYEAREIAAYFAlDUhoEACgkQ9CaO5/Lv0PCeAACfSLMRO0zXGfuOWR1kJvFkYi0f
> ItQAoJwEamOodhEg8lvXy2D2q69Tgb78
> =NJFj
> -----END PGP SIGNATURE-----
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>

--089e01493c98902e7b04d161bdc3--

From users-return-238709-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 21:02:16 2012
Return-Path: <users-return-238709-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 04088E857
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 21:02:16 +0000 (UTC)
Received: (qmail 31882 invoked by uid 500); 21 Dec 2012 21:02:12 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 31696 invoked by uid 500); 21 Dec 2012 21:02:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 31682 invoked by uid 99); 21 Dec 2012 21:02:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 21:02:12 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rop049@gmail.com designates 209.85.220.175 as permitted sender)
Received: from [209.85.220.175] (HELO mail-vc0-f175.google.com) (209.85.220.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 21:02:04 +0000
Received: by mail-vc0-f175.google.com with SMTP id fy7so5537723vcb.6
        for <users@tomcat.apache.org>; Fri, 21 Dec 2012 13:01:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=vTQtFMVBLouQIiAYWnWYbnIkFPSHYmXmvuxr34tvo1s=;
        b=QVmF0+zJw6t1TYdCCslP2EoTmzmUnZssCO3pt/sO8aGljbvG/sa4OiYTAaEzGPt/mb
         lZQVxyODUWw43Sz31709S20CqMpNaZdq8jrsXrxrFLJv/lUguKgD5v1ityuJEXXRwU4T
         I31LdA+vE0pt7hBOxO2XPqiRjm4Gtak0Ota4xy/ypIEsPS6FSjtZvPED61GAJcz+qWib
         Pz2LDW9WYgv2+yrhvC0bLyf2HD+DsT+3dNQj2kjJ2Q538maQfnRlcCWeb7BEbYadEYOt
         KZuYQjLwY3D8MoKg28Fty8p9KNAYKMSf+v8zIxguXAatGY/bH31t4mXOZyG28A2vy7Ck
         mniw==
MIME-Version: 1.0
Received: by 10.52.19.20 with SMTP id a20mr19585252vde.26.1356123703872; Fri,
 21 Dec 2012 13:01:43 -0800 (PST)
Received: by 10.58.132.211 with HTTP; Fri, 21 Dec 2012 13:01:43 -0800 (PST)
Date: Fri, 21 Dec 2012 22:01:43 +0100
Message-ID: <CAGmJ4QD8bv2CS+gD68anGzMg9DztjZw0AO8jxKJxKoHNyOOYnQ@mail.gmail.com>
Subject: Tomcat j_security_check skips authentication after timeout?
From: rop <rop049@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=bcaec5040838a40c2204d163276c
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec5040838a40c2204d163276c
Content-Type: text/plain; charset=ISO-8859-1

I got the responsibility of maintaining a legacy web-application running on
Tomcat 5.5.36 and using the *j_security_check* feature for
user-authentication.

One problem scenario I am looking into:

When you first start the browser and logon to the application, everything
works OK....

The application receives the username from *request.getRemoteUser()* and
looks up user-roles in config-tables, for exactly what each user is allowed
to do in the GUI.

*The problem is* when a user leaves the application inactive for an
extended time (not clear yet exactly how long, but more than an hour) and
then submits a form.

It now appears that tomcat may have discarded the authentication-info,
because of time-out I guess, and *request.getRemoteUser()* will return *null
*, which result in a broken GUI-display.

I would expect (prefer) Tomcat, in this case to request the
login-credentials anew, before accessing the application, but for some
reason it does not.

For info, the *web.xml* under *{TOMCAT_HOME}/config* has
 ...<session-timeout>240</session-timeout>...
while the *web.xml* in the application WAR-file has no session-timeout
specified at all.

What do I need to do to get Tomcat to always ask for login-credentials
again, when needed, and make sure *request.getRemoteUser()* is never null
when calling the application?

Anyone has a clue?

--bcaec5040838a40c2204d163276c--

From users-return-238710-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 21 22:34:08 2012
Return-Path: <users-return-238710-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E024C9E27
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 21 Dec 2012 22:34:08 +0000 (UTC)
Received: (qmail 68703 invoked by uid 500); 21 Dec 2012 22:34:05 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 68488 invoked by uid 500); 21 Dec 2012 22:34:05 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 68479 invoked by uid 99); 21 Dec 2012 22:34:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 22:34:05 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.32] (HELO qmta03.westchester.pa.mail.comcast.net) (76.96.62.32)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 21 Dec 2012 22:33:58 +0000
Received: from omta14.westchester.pa.mail.comcast.net ([76.96.62.60])
	by qmta03.westchester.pa.mail.comcast.net with comcast
	id eD061k0091HzFnQ53NZd9J; Fri, 21 Dec 2012 22:33:37 +0000
Received: from Christophers-MacBook-Pro.local ([69.143.109.145])
	by omta14.westchester.pa.mail.comcast.net with comcast
	id eNZc1k00a38FjT13aNZdE2; Fri, 21 Dec 2012 22:33:37 +0000
Message-ID: <50D4E3BE.2040806@christopherschultz.net>
Date: Fri, 21 Dec 2012 17:33:34 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Tomcat j_security_check skips authentication after timeout?
References: <CAGmJ4QD8bv2CS+gD68anGzMg9DztjZw0AO8jxKJxKoHNyOOYnQ@mail.gmail.com>
In-Reply-To: <CAGmJ4QD8bv2CS+gD68anGzMg9DztjZw0AO8jxKJxKoHNyOOYnQ@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356129217;
	bh=JVhebfPBotNwQJOdpuDKy94Frqgjn+86IZtdcS73DAg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=PGN14sYvshwvFlQ6e19cKEj8Y1K2kMH7VJ2fAVRd77tdjFPkGm+0oauV1lP8snVlr
	 Ki4MDL1E2g8wa63wL0kZ+IYnSiTz2+gtOrfAYaMfvtfVRjj05yUyWCgjW1r8fH2ecH
	 JIXFEtabtKXhHHUJe2vHSCpi+gEqCTh1LZhPWb3aGp2sKAGC4QOdYKRNnY/Ebpcpaf
	 kQRHNgNQwbYd0dvlD9N2PJU7nVffajX+tC0ubWLp4e/+404nmM8DITqGMBQkP6wX+v
	 iH+dNFaHRGufcMPrGhJmkDAjzY/asBsyjObJMf39VOEXaJkBXo80mscNMOmD/JPXOK
	 bJceM5G3D/AhA==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Rop,
On 12/21/12 4:01 PM, rop wrote:
> I got the responsibility of maintaining a legacy web-application
> running on Tomcat 5.5.36 and using the *j_security_check* feature
> for user-authentication.

Obligatory warning: Tomcat 5.5.x is no longer supported. You will
likely get better help, feedback, results, etc. by upgrading. Most web
applications can be migrated to later versions (Tomcat 7.0.x is
current) with little adjustment.

Moving on...

To be clear, you're talking about using FORM authentication, right?

> One problem scenario I am looking into:
> 
> When you first start the browser and logon to the application,
> everything works OK....
> 
> The application receives the username from
> *request.getRemoteUser()* and looks up user-roles in config-tables,
> for exactly what each user is allowed to do in the GUI.

Technically, Tomcat uses role-based authorization for URL-patterns.
Whatever you do in the GUI is up to you.

> *The problem is* when a user leaves the application inactive for
> an extended time (not clear yet exactly how long, but more than an
> hour) and then submits a form.

In this case, the HttpSession has expired and the user is no longer
authenticated.

> It now appears that tomcat may have discarded the
> authentication-info, because of time-out I guess, and
> *request.getRemoteUser()* will return *null *, which result in a
> broken GUI-display.

Since Tomcat does not control your UI, this is your application's fault.

> I would expect (prefer) Tomcat, in this case to request the 
> login-credentials anew, before accessing the application, but for
> some reason it does not.

If you have a <security-constraint> with an <auth-constraint> on the
URL(s) you are serving, then Tomcat *will* request the user's
credentials anew. I suspect you have a simple "login" screen that is
protected and nothing else is.

> For info, the *web.xml* under *{TOMCAT_HOME}/config* has 
> ...<session-timeout>240</session-timeout>...

That is likely a mistake on your (or someone else at your
organization's) part.

> while the *web.xml* in the application WAR-file has no
> session-timeout specified at all.

This is the proper place for a web application's session timeout to be
set.

> What do I need to do to get Tomcat to always ask for
> login-credentials again, when needed, and make sure
> *request.getRemoteUser()* is never null when calling the
> application?

Please post an example URL to your web application that results in a
"broken GUI" after the session times-out.

Also, post all <security-constraint> elements (and their children)
from your WEB-INF/web.xml file. Feel free to sanitize and/or anonymize
them as necessary (but consistently: if you say that you are
requesting /foo/bar and your constraint is on /bar/baz then we're
going to tell you that's the problem).

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDU474ACgkQ9CaO5/Lv0PBHTwCdF+G0v+l9+T1Ht2tjoe4RJiB1
1zgAni2Px6X/nddHKiDfKxEF8Il30Yg9
=Aykg
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238711-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 07:37:15 2012
Return-Path: <users-return-238711-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 32CC1EC2A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 07:37:15 +0000 (UTC)
Received: (qmail 86307 invoked by uid 500); 27 Dec 2012 07:37:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 85990 invoked by uid 500); 27 Dec 2012 07:37:08 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 85956 invoked by uid 99); 27 Dec 2012 07:37:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 07:37:06 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ferdieromero@gmail.com designates 209.85.216.44 as permitted sender)
Received: from [209.85.216.44] (HELO mail-qa0-f44.google.com) (209.85.216.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 07:37:00 +0000
Received: by mail-qa0-f44.google.com with SMTP id z4so8767808qan.10
        for <users@tomcat.apache.org>; Wed, 26 Dec 2012 23:36:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=M4ERzeUHhe4Qj2Ar49ajyMAKmfqAm46dJ4NkkdzJVOo=;
        b=MQ7xqZrJHl+65xhsTKaE5dJLUlOUBUnTrDJ3EyJrhuF3DRZ/DETnSaUBb0cL5DAtUl
         s8fbfI99miifyBNvsv5C0/ZXXJ2uTwYE3Cs7Y5LIuCgnyJEXSRDqqdvmclmtxEKyifx9
         jAJEfghKbus1zCkXd3b8ZuLI0tHaChEtxPinYFFwAjqu7vvglBAWPCZ/A7H7qPLxd0VT
         nsJbxtHWnI7bgDsA3IcXEZwOSbRj7RngA/RtOvx1ocHiXcXQ7UCuNhSrxEo50z3em+nh
         6CGewCHEUIRcrOXNqpYWTgpZp573TtmlRp0r7mC93HOP4LBinC7AC/r/4hLIE14KveiV
         SWIw==
MIME-Version: 1.0
Received: by 10.229.201.194 with SMTP id fb2mr3273492qcb.36.1356593799760;
 Wed, 26 Dec 2012 23:36:39 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 26 Dec 2012 23:36:39 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 26 Dec 2012 23:36:39 -0800 (PST)
Date: Thu, 27 Dec 2012 15:36:39 +0800
Message-ID: <CAC9Sjx+NWpVtELHEpRN-EtE8wC0DJ3eTnMaW6xwJ9moFR_+A-A@mail.gmail.com>
Subject: Index.Jsp not loading other portion
From: Ferdie Romero <ferdieromero@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=0016e6d99d1f8a0bda04d1d09b4c
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d99d1f8a0bda04d1d09b4c
Content-Type: text/plain; charset=ISO-8859-1

We recently upgraded from tomcat 6.032 to 7.032 and apache from 2.0.59 to
2.2.23 and when we tried to access one of the index.jsp only the header and
footer are appearing. If we use the previous version of tomcat 6.0.32 the
index.jsp loads completely. We are aware of the changes on tomcat 7: server
3.0, jsp 2.2 and el 2.2 but we can't seem to identify which part of the
custom codes are causing the issue. No errors are seen in the logs. Hope
you can help us further investigate and resolve this issue.

--0016e6d99d1f8a0bda04d1d09b4c--

From users-return-238712-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 07:59:50 2012
Return-Path: <users-return-238712-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 18BC6EC62
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 07:59:50 +0000 (UTC)
Received: (qmail 28309 invoked by uid 500); 27 Dec 2012 07:59:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 28169 invoked by uid 500); 27 Dec 2012 07:59:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 28154 invoked by uid 99); 27 Dec 2012 07:59:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 07:59:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ferdieromero@gmail.com designates 209.85.216.175 as permitted sender)
Received: from [209.85.216.175] (HELO mail-qc0-f175.google.com) (209.85.216.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 07:59:37 +0000
Received: by mail-qc0-f175.google.com with SMTP id j3so4761549qcs.6
        for <users@tomcat.apache.org>; Wed, 26 Dec 2012 23:59:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=fhpL2IsXSTQ6eIwPmB6gtY9R7H4XGM/akV+t5Kc2dac=;
        b=T7kdiHhc37TbLQPrHiQmUsG72IqgW2c8BJ9nTMeUWx4hyPYkbS0/5EAickloivYjtG
         jSoHLrCByss8zBILX/tQNIX8ojoDmfqdBEZJYxBnEEPjKyKcCdC2Kvo5aLxxvpdwYyJU
         /bFvb2Ca9c77Ouso2yZaFJsSPu3INtzznNpD/m0aNwdKRmu+r9EyFQikyqqZFXa3Wvzo
         68FjDXcz6fLWfX6GAUXY1cPpdtOSOO499bhwCBrzIuKywW2PW7JPeHolZAgx6qUc+ndr
         8UFRi0Tnof1yBzaT4NZU4NqpF6IihcxJfNUw02P3SaXJ4VkigFTTyHEPcVNUYnzr8BYl
         BHdw==
MIME-Version: 1.0
Received: by 10.224.223.17 with SMTP id ii17mr14083289qab.13.1356595157084;
 Wed, 26 Dec 2012 23:59:17 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 26 Dec 2012 23:59:16 -0800 (PST)
Received: by 10.49.47.107 with HTTP; Wed, 26 Dec 2012 23:59:16 -0800 (PST)
In-Reply-To: <CAC9Sjx+NWpVtELHEpRN-EtE8wC0DJ3eTnMaW6xwJ9moFR_+A-A@mail.gmail.com>
References: <CAC9Sjx+NWpVtELHEpRN-EtE8wC0DJ3eTnMaW6xwJ9moFR_+A-A@mail.gmail.com>
Date: Thu, 27 Dec 2012 15:59:16 +0800
Message-ID: <CAC9SjxKjSuxhHwSQBwjtH07A13YxZ7DUa6VGrAanFkE3Eke+og@mail.gmail.com>
Subject: Re: Index.Jsp not loading other portion
From: Ferdie Romero <ferdieromero@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=20cf3074b598712a0e04d1d0ec12
X-Virus-Checked: Checked by ClamAV on apache.org

--20cf3074b598712a0e04d1d0ec12
Content-Type: text/plain; charset=ISO-8859-1

On Dec 27, 2012 3:36 PM, "Ferdie Romero" <ferdieromero@gmail.com> wrote:
>
> We recently upgraded from tomcat 6.032 to 7.032 and apache from 2.0.59 to
2.2.23 and when we tried to access one of the index.jsp only the header and
footer are appearing. If we use the previous version of tomcat 6.0.32 the
index.jsp loads completely. We are aware of the changes on tomcat 7: server
3.0, jsp 2.2 and el 2.2 but we can't seem to identify which part of the
custom codes are causing the issue. No errors are seen in the logs. Hope
you can help us further investigate and resolve this issue.

I forgot to mention that the original error we had was

"an exception occurred processing JSP page.... "

We then updated Web.xml to use server 2.5 instead of 3.0 and the error no
longer appear but the page does not load the body section of the index. Jsp

Thanks.

--20cf3074b598712a0e04d1d0ec12--

From users-return-238713-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 10:41:22 2012
Return-Path: <users-return-238713-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 65700EC0E
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 10:41:22 +0000 (UTC)
Received: (qmail 91004 invoked by uid 500); 27 Dec 2012 10:41:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 90834 invoked by uid 500); 27 Dec 2012 10:41:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 90786 invoked by uid 99); 27 Dec 2012 10:41:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 10:41:17 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 216.139.250.139 is neither permitted nor denied by domain of nskarthik.k@gmail.com)
Received: from [216.139.250.139] (HELO joe.nabble.com) (216.139.250.139)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 10:41:12 +0000
Received: from alf.nabble.com ([192.168.236.21])
	by joe.nabble.com with esmtp (Exim 4.72)
	(envelope-from <nskarthik.k@gmail.com>)
	id 1ToAtL-0008GH-Bh
	for users@tomcat.apache.org; Thu, 27 Dec 2012 02:40:49 -0800
Date: Thu, 27 Dec 2012 02:40:47 -0800 (PST)
From: "N.s.Karthik" <nskarthik.k@gmail.com>
To: users@tomcat.apache.org
Message-ID: <1356604847339-4991580.post@n6.nabble.com>
Subject: New Library folder
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi

I have multiple web applications  working perfectly on Tomcat 7.0.30
I know that jar files of similar can be moved to  Tomcat /lib folder  so the
same could be shared 
by multiple applications.

I would like to know the configuration details for the following and where 
need to be done ?

A new folder called  "Alphalib"  under Tomcat/lib ,  where all the jars need
to be placed

    eg:  
                 /Tomcat6.0.30 / lib / Alphalib / 1.jar, 2.jar, 3,jar.......

This helps in clear separation of mixing Tomcat/lib/*.jars with application
specific jars.


with regards
N.s.Karthik




--
View this message in context: http://tomcat.10.n6.nabble.com/New-Library-folder-tp4991580.html
Sent from the Tomcat - User mailing list archive at Nabble.com.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238714-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 13:23:51 2012
Return-Path: <users-return-238714-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 388F4ED0B
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 13:23:51 +0000 (UTC)
Received: (qmail 25272 invoked by uid 500); 27 Dec 2012 13:23:47 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 25162 invoked by uid 500); 27 Dec 2012 13:23:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 25135 invoked by uid 99); 27 Dec 2012 13:23:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 13:23:45 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of j3vanek@gmail.com designates 209.85.216.174 as permitted sender)
Received: from [209.85.216.174] (HELO mail-qc0-f174.google.com) (209.85.216.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 13:23:38 +0000
Received: by mail-qc0-f174.google.com with SMTP id o22so4889980qcr.5
        for <users@tomcat.apache.org>; Thu, 27 Dec 2012 05:23:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=wfoeEmnei19gePsWP2vzLE+styWilat2FadPkcIzupc=;
        b=VCfqbbgv2OJXgCrkfwJks/sPPXuNSds9+8e12xkUzUbRUMyix4QFqBKCFUnR3ApTz1
         6bqyKON3AGWsPmz2V9vtnCxsEiiJRD0q5R/A1tRKTrpMmC0ZW+7FB2X++j1qYaAiXrEj
         SpTh+FKLfUtPmXs0cR9ZxJTr5Gr8vM8AmIXX5Enr6LzSZ4uLZp3/nWnKFWzQgEDsBr7C
         zqirVyy/jXU1HPU1RNG5hUquJxzyOcR76DP4gObrH30KCr3wF5rBVl4aD5/+4jBpnFo0
         ltgmNxUHupqG+ta3dVpfh5LTl63E2WEa+ECWHinx3iX+54XBHvcYldTjlMIXKxMBRJbo
         rWqg==
MIME-Version: 1.0
Received: by 10.224.17.193 with SMTP id t1mr13498989qaa.89.1356614598317; Thu,
 27 Dec 2012 05:23:18 -0800 (PST)
Received: by 10.49.107.100 with HTTP; Thu, 27 Dec 2012 05:23:18 -0800 (PST)
Date: Thu, 27 Dec 2012 14:23:18 +0100
Message-ID: <CACO6x-Sr4hSHEHPh79fQ2f4CA0GpXXYZ+sA2dta58RV_UvF_Jg@mail.gmail.com>
Subject: reload => drop jsp-page servlet instances
From: Jan Vanek <j3vanek@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=bcaec51b16d53ad7a604d1d57333
X-Virus-Checked: Checked by ClamAV on apache.org

--bcaec51b16d53ad7a604d1d57333
Content-Type: text/plain; charset=ISO-8859-1

Hello, I'm trying to implement custom application reloading in tomcat. This
means tomcat sees only a core part of the application, and the core creates
another class-loader to load the actual modules of the application. The
problem is with the JSP pages. The JspServlet class uses an instance of the
JspRuntimeContext to hold the compiled/loaded JSP-page servlets. When the
core detects a change and creates a new class-loader (module-class-loader
(to load modules of the application)) the JspServlet would still use the
old instances of the once-used JSP-page servlets which uses classes loaded
by the previous incarnation of the module-class-loader and it would also
keep the instances of once-used JSP-page servlets, which creates a memory
leak (the previous incarnation of the module-class-loader). I basically
need a way to tell to the JspServlet to drop all JSP-page servlet instances
from the JspRuntimeContext, and set "reload=true" in each JspServletWrapper
referenced from JspRuntimeContext. What is the best way to do this?

Thanks and regards,
Jan

--bcaec51b16d53ad7a604d1d57333--

From users-return-238715-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 14:16:47 2012
Return-Path: <users-return-238715-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C5F1DE9BF
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 14:16:47 +0000 (UTC)
Received: (qmail 43558 invoked by uid 500); 27 Dec 2012 14:16:44 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43436 invoked by uid 500); 27 Dec 2012 14:16:44 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43392 invoked by uid 99); 27 Dec 2012 14:16:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 14:16:43 +0000
X-ASF-Spam-Status: No, hits=-5.0 required=5.0
	tests=RCVD_IN_DNSWL_HI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [208.91.2.12] (HELO smtp-outbound-1.vmware.com) (208.91.2.12)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 14:16:36 +0000
Received: from sc9-mailhost3.vmware.com (sc9-mailhost3.vmware.com [10.113.161.73])
	by smtp-outbound-1.vmware.com (Postfix) with ESMTP id 28666283A5
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 06:16:15 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (zcs-prod-mta-1.vmware.com [10.113.163.63])
	by sc9-mailhost3.vmware.com (Postfix) with ESMTP id 25B19400B6
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 06:16:15 -0800 (PST)
Received: from zcs-prod-mta-1.vmware.com (localhost.localdomain [127.0.0.1])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTP id 147AAE14E2
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 06:16:15 -0800 (PST)
Received: from [10.113.229.157] (unknown [10.113.160.14])
	by zcs-prod-mta-1.vmware.com (Postfix) with ESMTPSA id A2035E1596
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 06:16:14 -0800 (PST)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Apple Message framework v1283)
Subject: Re: New Library folder
From: Daniel Mikusa <dmikusa@vmware.com>
In-Reply-To: <1356604847339-4991580.post@n6.nabble.com>
Date: Thu, 27 Dec 2012 09:16:14 -0500
Content-Transfer-Encoding: quoted-printable
Message-Id: <4D05BB16-DFAD-4D22-8C6B-461DE4482BF8@vmware.com>
References: <1356604847339-4991580.post@n6.nabble.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1283)
X-Virus-Checked: Checked by ClamAV on apache.org

On Dec 27, 2012, at 5:40 AM, N.s.Karthik wrote:

> Hi
>=20
> I have multiple web applications  working perfectly on Tomcat 7.0.30
> I know that jar files of similar can be moved to  Tomcat /lib folder  =
so the
> same could be shared by multiple applications.

If it was me, I would not do this.  Your setting yourself up for =
problems and the benefits from doing this are very minimal.  If it was =
me, the only thing I would put in "lib" are JDBC drivers. =20

That's me though.  You're certainly free to do whatever.

>=20
> I would like to know the configuration details for the following and =
where=20
> need to be done ?

Not sure what you mean.  If you want to share libraries, just drop them =
in "lib".  No other configuration needed.

>=20
> A new folder called  "Alphalib"  under Tomcat/lib ,  where all the =
jars need
> to be placed
>=20
>    eg: =20
>                 /Tomcat6.0.30 / lib / Alphalib / 1.jar, 2.jar, =
3,jar.......
>=20
> This helps in clear separation of mixing Tomcat/lib/*.jars with =
application
> specific jars.

By default, subfolders are not added to the class loader.  Look at =
"conf/catalina.properties", specifically the "common.loader" property to =
see what paths are added or to add more paths.

Also, see the following link which explains Tomcat's class loaders in =
detail.

  https://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html

Dan


>=20
>=20
> with regards
> N.s.Karthik
>=20
>=20
>=20
>=20
> --
> View this message in context: =
http://tomcat.10.n6.nabble.com/New-Library-folder-tp4991580.html
> Sent from the Tomcat - User mailing list archive at Nabble.com.
>=20
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>=20


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238716-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 15:07:39 2012
Return-Path: <users-return-238716-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6F6EEDC1A
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 15:07:39 +0000 (UTC)
Received: (qmail 48817 invoked by uid 500); 27 Dec 2012 15:07:35 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 48705 invoked by uid 500); 27 Dec 2012 15:07:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 48676 invoked by uid 99); 27 Dec 2012 15:07:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 15:07:34 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.59.227] (HELO qmta12.westchester.pa.mail.comcast.net) (76.96.59.227)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 15:07:27 +0000
Received: from omta08.westchester.pa.mail.comcast.net ([76.96.62.12])
	by qmta12.westchester.pa.mail.comcast.net with comcast
	id getJ1k0010Fqzac5Cf74Z2; Thu, 27 Dec 2012 15:07:04 +0000
Received: from [192.168.1.205] ([69.143.109.145])
	by omta08.westchester.pa.mail.comcast.net with comcast
	id gf721k00X38FjT13Uf73v8; Thu, 27 Dec 2012 15:07:04 +0000
Message-ID: <50DC6418.1080201@christopherschultz.net>
Date: Thu, 27 Dec 2012 10:07:04 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: Index.Jsp not loading other portion
References: <CAC9Sjx+NWpVtELHEpRN-EtE8wC0DJ3eTnMaW6xwJ9moFR_+A-A@mail.gmail.com> <CAC9SjxKjSuxhHwSQBwjtH07A13YxZ7DUa6VGrAanFkE3Eke+og@mail.gmail.com>
In-Reply-To: <CAC9SjxKjSuxhHwSQBwjtH07A13YxZ7DUa6VGrAanFkE3Eke+og@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356620824;
	bh=/umHiepH0L8VoHjekUn5nSEEOt58jibuSIpTa3F+iZM=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=WEZ48/M35J78zQdNyjos4d+9n5WW1F18Nt7MXi8UjDJ8kigGPVDBGYFIxT8lgNsbY
	 vrtoUVnf5h3NTvcYz0FRMWqXUOp1k/qOzBldeyknD+jCTs62kK4CXqDZjDNRPyaPcb
	 66AAw7dEIdkg6175SXAeZjOgCyBYaM5HkeszXaYJVo2/vJ4+/CF2Tute4yIahYo+Xh
	 84/wQozTxSZoCvhfR5edP3QUycNdw/vDPH6g6vssKUFeGPk/8rdZB8bnk1SN+8c0GB
	 GkGN1MwZdNTvZHqzLdVLoX1H4A3sSs3+OpyrfnrZ28kGHug2pOCU0MSoZo43upZjT+
	 zzgMFgp4GKRdw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Ferdie,

On 12/27/12 2:59 AM, Ferdie Romero wrote:
> On Dec 27, 2012 3:36 PM, "Ferdie Romero" <ferdieromero@gmail.com>
> wrote:
>> 
>> We recently upgraded from tomcat 6.032 to 7.032 and apache from
>> 2.0.59 to
> 2.2.23 and when we tried to access one of the index.jsp only the
> header and footer are appearing. If we use the previous version of
> tomcat 6.0.32 the index.jsp loads completely. We are aware of the
> changes on tomcat 7: server 3.0, jsp 2.2 and el 2.2 but we can't
> seem to identify which part of the custom codes are causing the
> issue. No errors are seen in the logs. Hope you can help us further
> investigate and resolve this issue.
> 
> I forgot to mention that the original error we had was
> 
> "an exception occurred processing JSP page.... "
> 
> We then updated Web.xml to use server 2.5 instead of 3.0 and the
> error no longer appear but the page does not load the body section
> of the index. Jsp

What messages, if any, do you see in any of the log files in logs/*?

Can you post some of the index.jsp file?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDcZBgACgkQ9CaO5/Lv0PAd1gCbBT/CRk8/WJtoGT/3eLpbW5AH
APkAn2FyCFCKg0vQy8i0vIw8knJLKOEK
=xn6e
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238717-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 15:26:59 2012
Return-Path: <users-return-238717-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DFD7DEA4C
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 15:26:58 +0000 (UTC)
Received: (qmail 91386 invoked by uid 500); 27 Dec 2012 15:26:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 91333 invoked by uid 500); 27 Dec 2012 15:26:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 91322 invoked by uid 99); 27 Dec 2012 15:26:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 15:26:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of rainer.frey@inxmail.de designates 213.30.253.65 as permitted sender)
Received: from [213.30.253.65] (HELO mail.inxmail.de) (213.30.253.65)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 15:26:48 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail.inxmail.de (Postfix) with ESMTP id D24D287407
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 16:26:27 +0100 (CET)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=inxmail.de; h=
	x-mailer:references:message-id:content-transfer-encoding:date
	:in-reply-to:from:subject:mime-version:content-type:received
	:x-virus-scanned; s=mail20091023; t=1356621986; bh=bknhT4YrDkEKV
	tpeDf6rDU6l2EgWp0dEJtpFo4/3MMc=; b=YJ9Na/wabaThUSvrGYyrwtlxuR1T6
	D1ht1HPqYXSLcbeQFerqgkjRGImIZ1jD+stfHUGOLVLYdEsmhc81HzhC1LnnCl+y
	lmro889yhf9ZU2ggqCdMiqcAfxe0MTUM1Ua+rpZUpn63b7phzI2ECSeMXvdSwqLJ
	8cXtZ9J3G632hY=
X-Virus-Scanned: Debian amavisd-new at inxmail.de
Received: from dev-rfy-mac.intern.inxmail.de (unknown [213.30.253.126])
	by mail.inxmail.de (Postfix) with ESMTP
	for <users@tomcat.apache.org>; Thu, 27 Dec 2012 16:26:26 +0100 (CET)
Content-Type: text/plain; charset=us-ascii
Mime-Version: 1.0 (Mac OS X Mail 6.2 \(1499\))
Subject: Re: New Library folder
From: Rainer Frey <rainer.frey@inxmail.de>
In-Reply-To: <1356604847339-4991580.post@n6.nabble.com>
Date: Thu, 27 Dec 2012 16:26:26 +0100
Content-Transfer-Encoding: quoted-printable
Message-Id: <90D2482C-7128-4D8E-BCEC-8E43174803B8@inxmail.de>
References: <1356604847339-4991580.post@n6.nabble.com>
To: "Tomcat Users List" <users@tomcat.apache.org>
X-Mailer: Apple Mail (2.1499)
X-Virus-Checked: Checked by ClamAV on apache.org

On 27.12.2012, at 11:40, N.s.Karthik <nskarthik.k@gmail.com> wrote:

> Hi
>=20
> I have multiple web applications  working perfectly on Tomcat 7.0.30
> I know that jar files of similar can be moved to  Tomcat /lib folder  =
so the
> same could be shared=20
> by multiple applications.

You know that *your specific jar files* can be moved to tomcat/lib? =
You'll wanna be really sure of that.
Static references used within these jar files can lead to permgen memory =
leaks and/or misbehavior (to put it in a grossly simplified way). See =
various conference talks and presentations by Mark Thomas, and part of =
following JavaOne session:
=
https://oracleus.activeevents.com/connect/sessionDetail.ww?SESSION_ID=3D79=
05

I think this is only worth the effort in very specific use cases, most =
commonly a multi tenant service with an instance of (almost) identical =
web apps per tenant. Just to save a few MB of permgen memory or disk =
space: don't do it.=20

> This helps in clear separation of mixing Tomcat/lib/*.jars with =
application
> specific jars.

For that purpose, I would not nest your own lib folder within tomcat's =
lib folder. Place your folder next to the original lib folder, or even =
outside the tomcat directory.

As Daniel Mikusa already said, you can configure such a folder in =
conf/catalina.properties by modifying the common.loader property, if you =
really are determined to do that.

> with regards
> N.s.Karthik

Rainer=

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238718-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 16:19:14 2012
Return-Path: <users-return-238718-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6FD19EA98
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 16:19:14 +0000 (UTC)
Received: (qmail 46174 invoked by uid 500); 27 Dec 2012 16:19:11 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 45918 invoked by uid 500); 27 Dec 2012 16:19:11 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 45909 invoked by uid 99); 27 Dec 2012 16:19:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 16:19:11 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 16:19:04 +0000
Received: from omta19.westchester.pa.mail.comcast.net ([76.96.62.98])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id gerd1k00627AodY55gJijx; Thu, 27 Dec 2012 16:18:42 +0000
Received: from [192.168.1.205] ([69.143.109.145])
	by omta19.westchester.pa.mail.comcast.net with comcast
	id ggJg1k00M38FjT13fgJhMt; Thu, 27 Dec 2012 16:18:42 +0000
Message-ID: <50DC74E2.4010509@christopherschultz.net>
Date: Thu, 27 Dec 2012 11:18:42 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: New Library folder
References: <1356604847339-4991580.post@n6.nabble.com> <4D05BB16-DFAD-4D22-8C6B-461DE4482BF8@vmware.com>
In-Reply-To: <4D05BB16-DFAD-4D22-8C6B-461DE4482BF8@vmware.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356625122;
	bh=uyh0C01zGvODv41V+MiMoWHcSr84jDswAKxm2b23wa8=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=hZiPJT/QBilVxBGuwxeKu86rN+J2IuX+9OAhXOcur3S6LzB590TnA70SC0uh74y4d
	 TRw6aWSGTECplb63OsKoGl3Bc6IZ42OMwShIvSeUERWgSAA8gcPBXegYcgzqTXzzCB
	 ttpKKIWZsNNpfjvCMjLOHJNkw3XPFd+f9uJ8I4B/yJvLXyw0QMQhHXh+y3JbrAnQbU
	 JFysOfFOY2dHgxWYxWpkuyq8IrxjXabU61d+hWaXjOXprP2GFgXvfEWho2TPofhwjX
	 D1CwMhcVFSyAdW2ilhCmGARomuQLqJ772PBU+kdsxWIJMDrZZK2RDLoUrrqeRsbib3
	 vundMaXOL/bgQ==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Daniel,

On 12/27/12 9:16 AM, Daniel Mikusa wrote:
> On Dec 27, 2012, at 5:40 AM, N.s.Karthik wrote:
> 
>> Hi
>> 
>> I have multiple web applications  working perfectly on Tomcat
>> 7.0.30 I know that jar files of similar can be moved to  Tomcat
>> /lib folder  so the same could be shared by multiple
>> applications.
> 
> If it was me, I would not do this.  Your setting yourself up for
> problems and the benefits from doing this are very minimal.  If it
> was me, the only thing I would put in "lib" are JDBC drivers.
> 
> That's me though.  You're certainly free to do whatever.

+1

>> I would like to know the configuration details for the following
>> and where need to be done ?
> 
> Not sure what you mean. If you want to share libraries, just drop 
> them in "lib". No other configuration needed.

OP does not want to "pollute" his Tomcat lib/ folder.

>> A new folder called  "Alphalib"  under Tomcat/lib ,  where all
>> the jars need to be placed
>> 
>> eg: /Tomcat6.0.30 / lib / Alphalib / 1.jar, 2.jar, 3,jar.......
>> 
>> This helps in clear separation of mixing Tomcat/lib/*.jars with
>> application specific jars.
> 
> By default, subfolders are not added to the class loader. Look at 
> "conf/catalina.properties", specifically the "common.loader"
> property to see what paths are added or to add more paths.

Or shared.loader -- it depends on exactly the requirements and the
desired outcome.

> Also, see the following link which explains Tomcat's class loaders
> in detail.
> 
> https://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html

+1

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDcdOEACgkQ9CaO5/Lv0PAFEACgj07egyqjZqqxMYWBMAQUePAK
XtEAmwWMY1ntueD5WVyVZEsP9XxKwGoH
=7pOE
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238719-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 16:51:37 2012
Return-Path: <users-return-238719-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 75183DC27
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 16:51:37 +0000 (UTC)
Received: (qmail 30720 invoked by uid 500); 27 Dec 2012 16:51:34 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30537 invoked by uid 500); 27 Dec 2012 16:51:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30528 invoked by uid 99); 27 Dec 2012 16:51:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 16:51:34 +0000
X-ASF-Spam-Status: No, hits=2.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_SOFTFAIL
X-Spam-Check-By: apache.org
Received-SPF: softfail (nike.apache.org: transitioning domain of dhaval.jaiswal@via.com does not designate 209.85.215.44 as permitted sender)
Received: from [209.85.215.44] (HELO mail-la0-f44.google.com) (209.85.215.44)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 16:51:28 +0000
Received: by mail-la0-f44.google.com with SMTP id d3so12625439lah.31
        for <users@tomcat.apache.org>; Thu, 27 Dec 2012 08:51:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=via.com; s=google;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=H17hIYiLAC2H9aqv12ImC20e6/hUP5EqlxRyasTwm7A=;
        b=UIqLetor42w50EDxW66bT0ioOl+NlBfboDI6iQyVnmIo0z7TnEcmVS5d8X8NftLxSs
         rjUihcPEtrVMLgkkgkYEXMCA3hwf4YY29EKsf4WlqGn/ZIFfyL9ETkvQ1Oa9LXaW9vla
         2ldkzOndriMtYbnvKakuTt0Bkh9qMecjtZcWs=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type
         :x-gm-message-state;
        bh=H17hIYiLAC2H9aqv12ImC20e6/hUP5EqlxRyasTwm7A=;
        b=U3XO4MArKcJ9/5gur3O+8Dvz38XXMHkaLQ5AtrstNCO/I7lS9DcEC7FBDHDXqJU/yn
         y8qPXiKVK4xSuPYpqFULxDUeBUgjF39MKgkQ1reSNOl9lq6XhyDdyzaJsKtI1U/3V1dJ
         lYhLh1o+IvJXNubm26J7c0OrwEu/0wqf4yuX5LJUpWs6yNdsuoHpZ+kmn115AnPI4zEH
         z8I9lkE7ADCU4BzuETRQT+fGByuoBIHLeMdoCeiyIy9m4KtZ5N6KdRSmsl4AMJn+yjag
         9eTnfJgyTdOe1jPokRALBumaA9fkcVBGPyWrISoJNLF3ABd6G1q0RRxeFa33gWJ2mJA7
         lk8g==
MIME-Version: 1.0
Received: by 10.112.16.69 with SMTP id e5mr12494232lbd.43.1356627067696; Thu,
 27 Dec 2012 08:51:07 -0800 (PST)
Received: by 10.112.112.165 with HTTP; Thu, 27 Dec 2012 08:51:07 -0800 (PST)
Date: Thu, 27 Dec 2012 22:21:07 +0530
Message-ID: <CABKrPsMPT87_o=UyT6hLxHjOE4=Qq1p=e4XRq5nEDHEmkxHj3A@mail.gmail.com>
Subject: redirection of www.xyz.com/xyz to https://xyz.com/xyz.html is not
 happening in httpd.conf
From: Dhaval Jaiswal <dhaval.jaiswal@via.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d0401fb417677a404d1d85acb
X-Gm-Message-State: ALoCoQkeedjEz1NwtDyE0IzovbCyndNRugW+KgZ/pXuAT/cdx+IUtsiXsWD1kLlh1bil73vfum8e
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d0401fb417677a404d1d85acb
Content-Type: text/plain; charset=ISO-8859-1

i have tried through Redirect option to redirect specific page to one *.html

it is not redirecting. Still it is redirecting to old values only.

Even i have tried through Rewriterule.

Any other efficient way will be helpful to me.


--

--f46d0401fb417677a404d1d85acb--

From users-return-238720-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Thu Dec 27 17:11:22 2012
Return-Path: <users-return-238720-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id C8526DCE1
	for <apmail-tomcat-users-archive@www.apache.org>; Thu, 27 Dec 2012 17:11:22 +0000 (UTC)
Received: (qmail 72411 invoked by uid 500); 27 Dec 2012 17:11:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 72237 invoked by uid 500); 27 Dec 2012 17:11:19 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 72224 invoked by uid 99); 27 Dec 2012 17:11:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 17:11:19 +0000
X-ASF-Spam-Status: No, hits=-2.3 required=5.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Chuck.Caldarale@unisys.com designates 216.82.254.211 as permitted sender)
Received: from [216.82.254.211] (HELO mail201.messagelabs.com) (216.82.254.211)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 27 Dec 2012 17:11:11 +0000
X-Env-Sender: Chuck.Caldarale@unisys.com
X-Msg-Ref: server-12.tower-201.messagelabs.com!1356628247!7327454!2
X-Originating-IP: [192.61.61.105]
X-StarScan-Received:
X-StarScan-Version: 6.6.1.8; banners=-,-,-
X-VirusChecked: Checked
Received: (qmail 23514 invoked from network); 27 Dec 2012 17:10:47 -0000
Received: from naedge.unisys.com (HELO USEA-NAEDGE2.unisys.com) (192.61.61.105)
  by server-12.tower-201.messagelabs.com with RC4-SHA encrypted SMTP; 27 Dec 2012 17:10:47 -0000
Received: from usea-nahubcas1.na.uis.unisys.com (129.224.76.114) by
 USEA-NAEDGE2.unisys.com (192.61.61.105) with Microsoft SMTP Server (TLS) id
 8.3.83.0; Thu, 27 Dec 2012 11:10:40 -0600
Received: from USEA-EXCH8.na.uis.unisys.com ([129.224.76.41]) by
 usea-nahubcas1.na.uis.unisys.com ([129.224.76.114]) with mapi; Thu, 27 Dec
 2012 11:10:40 -0600
From: "Caldarale, Charles R" <Chuck.Caldarale@unisys.com>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Thu, 27 Dec 2012 11:10:51 -0600
Subject: RE: redirection of www.xyz.com/xyz to https://xyz.com/xyz.html is
 not happening in httpd.conf
Thread-Topic: redirection of www.xyz.com/xyz to https://xyz.com/xyz.html is
 not happening in httpd.conf
Thread-Index: Ac3kUnBmaGF3Gs8rRVeNGQ6ZSCy8/wAARdkA
Message-ID: <99C8B2929B39C24493377AC7A121E21FC49A3E909C@USEA-EXCH8.na.uis.unisys.com>
References: <CABKrPsMPT87_o=UyT6hLxHjOE4=Qq1p=e4XRq5nEDHEmkxHj3A@mail.gmail.com>
In-Reply-To: <CABKrPsMPT87_o=UyT6hLxHjOE4=Qq1p=e4XRq5nEDHEmkxHj3A@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

> From: Dhaval Jaiswal [mailto:dhaval.jaiswal@via.com]=20
> Subject: redirection of www.xyz.com/xyz to https://xyz.com/xyz.html is no=
t happening in httpd.conf

> i have tried through Redirect option to redirect specific page to one *.h=
tml

> it is not redirecting. Still it is redirecting to old values only.

> Even i have tried through Rewriterule.

This is the Tomcat mailing list; perhaps you want the one for httpd.  Befor=
e posting on that list, you might want to read this first:

http://www.catb.org/~esr/faqs/smart-questions.html

and then provide specifics rather than vague ramblings.

 - Chuck


THIS COMMUNICATION MAY CONTAIN CONFIDENTIAL AND/OR OTHERWISE PROPRIETARY MA=
TERIAL and is thus for use only by the intended recipient. If you received =
this in error, please contact the sender and delete the e-mail and its atta=
chments from all computers.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238721-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 08:33:39 2012
Return-Path: <users-return-238721-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A6EDADBA7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 08:33:39 +0000 (UTC)
Received: (qmail 34645 invoked by uid 500); 28 Dec 2012 08:33:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34448 invoked by uid 500); 28 Dec 2012 08:33:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34414 invoked by uid 99); 28 Dec 2012 08:33:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:33:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.173.43.131] (HELO phillips-3db9a7.ho.phillipsconsulting.net) (62.173.43.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:33:27 +0000
Received: from phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) by
 phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) with mapi; Fri,
 28 Dec 2012 09:33:01 +0100
From: Olayemi Olatunji <olayemio@phillipsconsulting.net>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Fri, 28 Dec 2012 09:32:50 +0100
Subject: users-subscribe-mic5005@gmail.com@tomcat.apache.org
Thread-Topic: users-subscribe-mic5005@gmail.com@tomcat.apache.org
Thread-Index: Ac3k1ea/wNjf5eoGSJ6OAr2rUioGag==
Message-ID: <0C5091D86E6EFA46A1853E63EC11E8CC01025258697D@phillips-3db9a7.ho.phillipsconsulting.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
acceptlanguage: en-US
x-kse-antivirus-interceptor-info: scan successful
x-kse-antivirus-info: Clean
Content-Type: multipart/related;
	boundary="_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_";
	type="multipart/alternative"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_
Content-Type: multipart/alternative;
	boundary="_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_"

--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

users-subscribe-mic5005@gmail.com@tomcat.apache.org

Regards,
Olayemi Olatunji   | Senior Analyst

[cid:image001.png@01CDE4DE.4DD48B60]<http://www.phillipsconsulting.net/>

Mobile: +234 (0)7036583697 +234 (0)8137061701
Skype:   yemiolat
4th Floor, UBA House, 57 Marina, Lagos, Nigeria




--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40"><head><META HTTP-EQUIV=3D"Content-Type" CONTENT=
=3D"text/html; charset=3Dus-ascii"><meta name=3DGenerator content=3D"Micros=
oft Word 14 (filtered medium)"><!--[if !mso]><style>v\:* {behavior:url(#def=
ault#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Futura Lt BT";
	panose-1:2 11 4 2 2 2 4 2 3 3;}
@font-face
	{font-family:"Futura Md BT";
	panose-1:2 11 6 2 2 2 4 2 3 3;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Futura Lt BT","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri","sans-serif";}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DEN-US link=3Dblue vli=
nk=3Dpurple><div class=3DWordSection1><p class=3DMsoNormal><span style=3D'f=
ont-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'>users-subscribe-mi=
c5005@gmail.com@tomcat.apache.org<o:p></o:p></span></p><p class=3DMsoNormal=
><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'><=
o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal style=3D'mso-margin-top-alt=
:auto;mso-margin-bottom-alt:auto'><b><span style=3D'font-size:10.0pt;font-f=
amily:"Futura Lt BT","sans-serif"'>Regards,</span></b><span style=3D'font-s=
ize:12.0pt;font-family:"Times New Roman","serif"'><o:p></o:p></span></p><ta=
ble class=3DMsoNormalTable border=3D0 cellspacing=3D0 cellpadding=3D0 width=
=3D812 style=3D'width:609.0pt;border-collapse:collapse'><tr style=3D'height=
:19.5pt'><td colspan=3D2 valign=3Dtop style=3D'padding:0in 0in 0in 0in;heig=
ht:19.5pt'><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-margin=
-bottom-alt:auto'><b><span style=3D'font-size:10.0pt;font-family:"Futura Md=
 BT","sans-serif"'>Olayemi</span></b><b><span style=3D'font-size:12.0pt;fon=
t-family:"Futura Md BT","sans-serif"'>&nbsp;</span></b><b><span style=3D'fo=
nt-size:10.0pt;font-family:"Futura Md BT","sans-serif"'>Olatunji</span></b>=
<b><span style=3D'font-family:"Futura Md BT","sans-serif"'>&nbsp;&nbsp;&nbs=
p;| </span></b><b><span style=3D'font-size:10.0pt;font-family:"Futura Md BT=
","sans-serif"'>Senior Analyst</span></b><b><span style=3D'font-family:"Fut=
ura Md BT","sans-serif"'><o:p></o:p></span></b></p></td></tr><tr><td width=
=3D1 valign=3Dtop style=3D'width:.75pt;padding:0in 0in 0in 0in'><p class=3D=
MsoNormal style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><a h=
ref=3D"http://www.phillipsconsulting.net/"><span style=3D'font-size:12.0pt;=
font-family:"Times New Roman","serif";color:blue;text-decoration:none'><img=
 border=3D0 width=3D350 height=3D37 id=3D"_x0000_i1025" src=3D"cid:image001=
.png@01CDE4DE.4DD48B60" alt=3D"Description: C:\Users\Olayemio\AppData\Roami=
ng\Microsoft\Signatures\Copy of Training (Olayemi Olatunji)-Image01.png"></=
span></a><span style=3D'font-size:12.0pt;font-family:"Times New Roman","ser=
if"'><o:p></o:p></span></p></td><td width=3D448 style=3D'width:336.0pt;padd=
ing:0in 0in 0in 0in'><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;=
mso-margin-bottom-alt:auto'><span style=3D'font-size:9.0pt;font-family:"Fut=
ura Lt BT","sans-serif"'>Mobile: +234 (0)7036583697&nbsp;+234 (0)8137061701=
<br>Skype:&nbsp; &nbsp;yemiolat&nbsp;<br>4th Floor, UBA House, 57 Marina, L=
agos, Nigeria</span><span style=3D'font-size:12.0pt;font-family:"Times New =
Roman","serif"'><o:p></o:p></span></p></td></tr></table><p class=3DMsoNorma=
l style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span style=
=3D'font-size:12.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p><p class=3DMsoNo=
rmal><span style=3D'font-size:12.0pt;font-family:"Times New Roman","serif"'=
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p><=
/o:p></p></div></body></html>=

--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_--

--_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Dphillips3db_--

From users-return-238722-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 08:35:19 2012
Return-Path: <users-return-238722-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3685EDBB2
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 08:35:19 +0000 (UTC)
Received: (qmail 40972 invoked by uid 500); 28 Dec 2012 08:35:15 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 40918 invoked by uid 500); 28 Dec 2012 08:35:15 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 40900 invoked by uid 99); 28 Dec 2012 08:35:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:35:15 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [62.173.43.131] (HELO phillips-3db9a7.ho.phillipsconsulting.net) (62.173.43.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:35:06 +0000
Received: from phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) by
 phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) with mapi; Fri,
 28 Dec 2012 09:34:41 +0100
From: Olayemi Olatunji <olayemio@phillipsconsulting.net>
To: Tomcat Users List <users@tomcat.apache.org>
Date: Fri, 28 Dec 2012 09:34:30 +0100
Subject: RE: users-subscribe-mic5005@gmail.com@tomcat.apache.org
Thread-Topic: users-subscribe-mic5005@gmail.com@tomcat.apache.org
Thread-Index: Ac3k1ea/wNjf5eoGSJ6OAr2rUioGagAAD7oQ
Message-ID: <0C5091D86E6EFA46A1853E63EC11E8CC01025258697E@phillips-3db9a7.ho.phillipsconsulting.net>
References: <0C5091D86E6EFA46A1853E63EC11E8CC01025258697D@phillips-3db9a7.ho.phillipsconsulting.net>
In-Reply-To: <0C5091D86E6EFA46A1853E63EC11E8CC01025258697D@phillips-3db9a7.ho.phillipsconsulting.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
acceptlanguage: en-US
x-kse-antivirus-interceptor-info: scan successful
x-kse-antivirus-info: Clean
Content-Type: multipart/related;
	boundary="_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_";
	type="multipart/alternative"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_
Content-Type: multipart/alternative;
	boundary="_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_"

--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable



Regards,
Olayemi Olatunji   | Senior Analyst

[cid:image001.png@01CDE4DE.899490A0]<http://www.phillipsconsulting.net/>

Mobile: +234 (0)7036583697 +234 (0)8137061701
Skype:   yemiolat
4th Floor, UBA House, 57 Marina, Lagos, Nigeria



From: Olayemi Olatunji [mailto:olayemio@phillipsconsulting.net]
Sent: Friday, December 28, 2012 9:33 AM
To: users@tomcat.apache.org
Subject: users-subscribe-mic5005@gmail.com@tomcat.apache.org

users-subscribe-mic5005@gmail.com@tomcat.apache.org<mailto:users-subscribe-=
mic5005@gmail.com@tomcat.apache.org>

Regards,
Olayemi Olatunji   | Senior Analyst

[cid:image001.png@01CDE4DE.4DD48B60]<http://www.phillipsconsulting.net/>

Mobile: +234 (0)7036583697 +234 (0)8137061701
Skype:   yemiolat
4th Floor, UBA House, 57 Marina, Lagos, Nigeria




--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40"><head><META HTTP-EQUIV=3D"Content-Type" CONTENT=
=3D"text/html; charset=3Dus-ascii"><meta name=3DGenerator content=3D"Micros=
oft Word 14 (filtered medium)"><!--[if !mso]><style>v\:* {behavior:url(#def=
ault#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Futura Lt BT";
	panose-1:2 11 4 2 2 2 4 2 3 3;}
@font-face
	{font-family:"Futura Md BT";
	panose-1:2 11 6 2 2 2 4 2 3 3;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.EmailStyle19
	{mso-style-type:personal;
	font-family:"Futura Lt BT","sans-serif";
	color:windowtext;}
span.EmailStyle20
	{mso-style-type:personal-reply;
	font-family:"Futura Lt BT","sans-serif";
	color:#1F497D;}
.MsoChpDefault
	{mso-style-type:export-only;
	font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DEN-US link=3Dblue vli=
nk=3Dpurple><div class=3DWordSection1><p class=3DMsoNormal><span style=3D'f=
ont-size:10.0pt;font-family:"Futura Lt BT","sans-serif";color:#1F497D'><o:p=
>&nbsp;</o:p></span></p><p class=3DMsoNormal><span style=3D'font-size:10.0p=
t;font-family:"Futura Lt BT","sans-serif";color:#1F497D'><o:p>&nbsp;</o:p><=
/span></p><div><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-ma=
rgin-bottom-alt:auto'><b><span style=3D'font-size:10.0pt;font-family:"Futur=
a Lt BT","sans-serif";color:#1F497D'>Regards,</span></b><span style=3D'font=
-size:12.0pt;font-family:"Times New Roman","serif";color:#1F497D'><o:p></o:=
p></span></p><table class=3DMsoNormalTable border=3D0 cellspacing=3D0 cellp=
adding=3D0 width=3D812 style=3D'width:609.0pt;border-collapse:collapse'><tr=
 style=3D'height:19.5pt'><td colspan=3D2 valign=3Dtop style=3D'padding:0in =
0in 0in 0in;height:19.5pt'><p class=3DMsoNormal style=3D'mso-margin-top-alt=
:auto;mso-margin-bottom-alt:auto'><b><span style=3D'font-size:10.0pt;font-f=
amily:"Futura Md BT","sans-serif";color:#1F497D'>Olayemi</span></b><b><span=
 style=3D'font-size:12.0pt;font-family:"Futura Md BT","sans-serif";color:#1=
F497D'>&nbsp;</span></b><b><span style=3D'font-size:10.0pt;font-family:"Fut=
ura Md BT","sans-serif";color:#1F497D'>Olatunji</span></b><b><span style=3D=
'font-family:"Futura Md BT","sans-serif";color:#1F497D'>&nbsp;&nbsp;&nbsp;|=
 </span></b><b><span style=3D'font-size:10.0pt;font-family:"Futura Md BT","=
sans-serif";color:#1F497D'>Senior Analyst</span></b><b><span style=3D'font-=
family:"Futura Md BT","sans-serif";color:#1F497D'><o:p></o:p></span></b></p=
></td></tr><tr><td width=3D1 valign=3Dtop style=3D'width:.75pt;padding:0in =
0in 0in 0in'><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-marg=
in-bottom-alt:auto'><a href=3D"http://www.phillipsconsulting.net/"><span st=
yle=3D'font-size:12.0pt;font-family:"Times New Roman","serif";text-decorati=
on:none'><img border=3D0 width=3D350 height=3D37 id=3D"_x0000_i1026" src=3D=
"cid:image001.png@01CDE4DE.899490A0" alt=3D"Description: C:\Users\Olayemio\=
AppData\Roaming\Microsoft\Signatures\Copy of Training (Olayemi Olatunji)-Im=
age01.png"></span></a><span style=3D'font-size:12.0pt;font-family:"Times Ne=
w Roman","serif";color:#1F497D'><o:p></o:p></span></p></td><td width=3D448 =
style=3D'width:336.0pt;padding:0in 0in 0in 0in'><p class=3DMsoNormal style=
=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span style=3D'font=
-size:9.0pt;font-family:"Futura Lt BT","sans-serif";color:#1F497D'>Mobile: =
+234 (0)7036583697&nbsp;+234 (0)8137061701<br>Skype:&nbsp; &nbsp;yemiolat&n=
bsp;<br>4th Floor, UBA House, 57 Marina, Lagos, Nigeria</span><span style=
=3D'font-size:12.0pt;font-family:"Times New Roman","serif";color:#1F497D'><=
o:p></o:p></span></p></td></tr></table><p class=3DMsoNormal style=3D'mso-ma=
rgin-top-alt:auto;mso-margin-bottom-alt:auto'><span style=3D'font-size:12.0=
pt;font-family:"Times New Roman","serif";color:#1F497D'>&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:p></o:p></span></p></div><p class=3DMso=
Normal><span style=3D'font-size:12.0pt;font-family:"Times New Roman","serif=
";color:#1F497D'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p; </span><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-=
serif";color:#1F497D'><o:p></o:p></span></p><div><div style=3D'border:none;=
border-top:solid #B5C4DF 1.0pt;padding:3.0pt 0in 0in 0in'><p class=3DMsoNor=
mal><b><span style=3D'font-size:10.0pt;font-family:"Tahoma","sans-serif"'>F=
rom:</span></b><span style=3D'font-size:10.0pt;font-family:"Tahoma","sans-s=
erif"'> Olayemi Olatunji [mailto:olayemio@phillipsconsulting.net] <br><b>Se=
nt:</b> Friday, December 28, 2012 9:33 AM<br><b>To:</b> users@tomcat.apache=
.org<br><b>Subject:</b> users-subscribe-mic5005@gmail.com@tomcat.apache.org=
<o:p></o:p></span></p></div></div><p class=3DMsoNormal><o:p>&nbsp;</o:p></p=
><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Futura L=
t BT","sans-serif"'><a href=3D"mailto:users-subscribe-mic5005@gmail.com@tom=
cat.apache.org">users-subscribe-mic5005@gmail.com@tomcat.apache.org</a><o:p=
></o:p></span></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font=
-family:"Futura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></span></p><p class=
=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><=
b><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'>=
Regards,</span></b><span style=3D'font-size:12.0pt;font-family:"Times New R=
oman","serif"'><o:p></o:p></span></p><table class=3DMsoNormalTable border=
=3D0 cellspacing=3D0 cellpadding=3D0 width=3D812 style=3D'width:609.0pt;bor=
der-collapse:collapse'><tr style=3D'height:19.5pt'><td colspan=3D2 valign=
=3Dtop style=3D'padding:0in 0in 0in 0in;height:19.5pt'><p class=3DMsoNormal=
 style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><b><span styl=
e=3D'font-size:10.0pt;font-family:"Futura Md BT","sans-serif"'>Olayemi</spa=
n></b><b><span style=3D'font-size:12.0pt;font-family:"Futura Md BT","sans-s=
erif"'>&nbsp;</span></b><b><span style=3D'font-size:10.0pt;font-family:"Fut=
ura Md BT","sans-serif"'>Olatunji</span></b><b><span style=3D'font-family:"=
Futura Md BT","sans-serif"'>&nbsp;&nbsp;&nbsp;| </span></b><b><span style=
=3D'font-size:10.0pt;font-family:"Futura Md BT","sans-serif"'>Senior Analys=
t</span></b><b><span style=3D'font-family:"Futura Md BT","sans-serif"'><o:p=
></o:p></span></b></p></td></tr><tr><td width=3D1 valign=3Dtop style=3D'wid=
th:.75pt;padding:0in 0in 0in 0in'><p class=3DMsoNormal style=3D'mso-margin-=
top-alt:auto;mso-margin-bottom-alt:auto'><a href=3D"http://www.phillipscons=
ulting.net/"><span style=3D'font-size:12.0pt;font-family:"Times New Roman",=
"serif";text-decoration:none'><img border=3D0 width=3D350 height=3D37 id=3D=
"_x0000_i1025" src=3D"cid:image001.png@01CDE4DE.4DD48B60" alt=3D"Descriptio=
n: C:\Users\Olayemio\AppData\Roaming\Microsoft\Signatures\Copy of Training =
(Olayemi Olatunji)-Image01.png"></span></a><span style=3D'font-size:12.0pt;=
font-family:"Times New Roman","serif"'><o:p></o:p></span></p></td><td width=
=3D448 style=3D'width:336.0pt;padding:0in 0in 0in 0in'><p class=3DMsoNormal=
 style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><span style=
=3D'font-size:9.0pt;font-family:"Futura Lt BT","sans-serif"'>Mobile: +234 (=
0)7036583697&nbsp;+234 (0)8137061701<br>Skype:&nbsp; &nbsp;yemiolat&nbsp;<b=
r>4th Floor, UBA House, 57 Marina, Lagos, Nigeria</span><span style=3D'font=
-size:12.0pt;font-family:"Times New Roman","serif"'><o:p></o:p></span></p><=
/td></tr></table><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-=
margin-bottom-alt:auto'><span style=3D'font-size:12.0pt;font-family:"Times =
New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <o:=
p></o:p></span></p><p class=3DMsoNormal><span style=3D'font-size:12.0pt;fon=
t-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></p></div></body></html>=

--_000_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_--

--_004_0C5091D86E6EFA46A1853E63EC11E8CC01025258697Ephillips3db_--

From users-return-238723-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 08:41:55 2012
Return-Path: <users-return-238723-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 2795ADBC7
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 08:41:55 +0000 (UTC)
Received: (qmail 59279 invoked by uid 500); 28 Dec 2012 08:41:51 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 59169 invoked by uid 500); 28 Dec 2012 08:41:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 59143 invoked by uid 99); 28 Dec 2012 08:41:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:41:50 +0000
X-ASF-Spam-Status: No, hits=2.4 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shakun.nag@gmail.com designates 209.85.216.51 as permitted sender)
Received: from [209.85.216.51] (HELO mail-qa0-f51.google.com) (209.85.216.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 08:41:43 +0000
Received: by mail-qa0-f51.google.com with SMTP id i20so6709149qad.10
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 00:41:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=m/x7QR60a7z5iGSAcTJkaHsPzTe9hIzLmri9iyZrxzg=;
        b=xRbqQ+wEvQLeoryGMUpVEO6oopMJSAQWBytYdJMg3oHfRxa8pN1EXGLZ1HqFt2AhrZ
         9VT6hpVADUuITTfQXeFs0sHMxUUWrt0IYGKKP5RNo04Eg2O+tl6FIdCz1B3/x5PWTFWj
         WAqD8SifX6O5sggQwvyayy3wtNhHIrWCAeqwphxcLrv1sn5HQZltCet0aYVr/23uTPxb
         OgHutPwK5T5WgFuAKK75TLVTTLMlXbrqs3K4cs11F4Z0GKI+jl4XQlrZo52jjv4VB3gk
         Bu6uQbk12o8LP6imPBKglTyLQW9ZiO6qF3tBRwPDhF8L3aASXf5S6S6XVfxvQG/iLtSB
         CpAQ==
MIME-Version: 1.0
Received: by 10.229.37.218 with SMTP id y26mr3719904qcd.46.1356684082949; Fri,
 28 Dec 2012 00:41:22 -0800 (PST)
Received: by 10.49.110.101 with HTTP; Fri, 28 Dec 2012 00:41:22 -0800 (PST)
Date: Fri, 28 Dec 2012 14:11:22 +0530
Message-ID: <CAFjAA4oKPrTLuAvQcEzYLO+HkmtD6CFbVeX5-r9=XidmWuHZ+Q@mail.gmail.com>
Subject: Tomcat 5.5.9 compatibility with Java 1.7
From: Shakun Nag <shakun.nag@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=001636eef787d62f7304d1e5a0a1
X-Virus-Checked: Checked by ClamAV on apache.org

--001636eef787d62f7304d1e5a0a1
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am working on a web application which has been build on JDK/JRE 1.6.0_06
and has been deployed on Tomcat 5.5.9 server. This application is on
production since 2008. There is a plan to upgrade JDK/JVM to 1.7.0_07. My
concern is that after the upgrade of JDK and JVM, will the application be
deploying and running successfully on the aforesaid version of Tomcat i.e.
5.5.9 with out any issues? There is no information available either on
java<http://www.javaranch.com/> or
on Apace Tomcat site regrading the compatibility of java 1.7 with tomcat
5.5.9. The only information I was able to collect is that Tomcat 5.5.9
requires minimum 1.4 version. There are no resources available for the
maximum compatible version.

Please let me know if somebody has done such upgrade of their application
or is aware of any known compatibility issue. I am afraid that we will need
to upgrade tomcat as well along with upgrading to java 1.7. Do let me know
if any more information is required.

PS: This is an urgent request to evaluate the feasibility. So we don't have
much time, budget and resources to carry out a POC.

Thanks,
Shakun

--001636eef787d62f7304d1e5a0a1--

From users-return-238724-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 09:12:33 2012
Return-Path: <users-return-238724-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id BE7C9DCEC
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 09:12:33 +0000 (UTC)
Received: (qmail 34979 invoked by uid 500); 28 Dec 2012 09:12:30 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 34906 invoked by uid 500); 28 Dec 2012 09:12:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 34888 invoked by uid 99); 28 Dec 2012 09:12:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:12:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=5.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [62.173.43.131] (HELO phillips-3db9a7.ho.phillipsconsulting.net) (62.173.43.131)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:12:16 +0000
Received: from phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) by
 phillips-3db9a7.ho.phillipsconsulting.net ([200.200.200.12]) with mapi; Fri,
 28 Dec 2012 10:11:45 +0100
From: Olayemi Olatunji <olayemio@phillipsconsulting.net>
To: "users@tomcat.apache.org" <users@tomcat.apache.org>
Date: Fri, 28 Dec 2012 10:11:34 +0100
Subject: generating a CSR
Thread-Topic: generating a CSR
Thread-Index: Ac3k21IaDqILn9BlS26acOL9p0Hk/A==
Message-ID: <0C5091D86E6EFA46A1853E63EC11E8CC010252586980@phillips-3db9a7.ho.phillipsconsulting.net>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator:
acceptlanguage: en-US
x-kse-antivirus-interceptor-info: scan successful
x-kse-antivirus-info: Clean
Content-Type: multipart/related;
	boundary="_004_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_";
	type="multipart/alternative"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_
Content-Type: multipart/alternative;
	boundary="_000_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_"

--_000_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I need help with creating a CSR which I want to send to symmantec.

My tomcat version is 5.5.x.

When I run the command

keytool -certreq -keyalg RSA -alias tomcat -file certreq.csr -keystore .key=
store

where .keystore is the name of the keystore file... I get the error: "keyto=
ol error: java.lang.Exception: Keystore file does not exist: .keystore"

Please help with the error.

Regards,
Olayemi Olatunji   | Senior Analyst

[cid:image002.png@01CDE4E3.B745B380]<http://www.phillipsconsulting.net/>

Mobile: +234 (0)7036583697 +234 (0)8137061701
Skype:   yemiolat
4th Floor, UBA House, 57 Marina, Lagos, Nigeria




--_000_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:m=3D"http://schemas.microsoft.com/office/2004/12/omml" xmlns=3D"http:=
//www.w3.org/TR/REC-html40"><head><meta http-equiv=3DContent-Type content=
=3D"text/html; charset=3Dus-ascii"><meta name=3DGenerator content=3D"Micros=
oft Word 14 (filtered medium)"><!--[if !mso]><style>v\:* {behavior:url(#def=
ault#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style><![endif]--><style><!--
/* Font Definitions */
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Futura Lt BT";
	panose-1:2 11 4 2 2 2 4 2 3 3;}
@font-face
	{font-family:"Futura Md BT";
	panose-1:2 11 6 2 2 2 4 2 3 3;}
/* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-priority:99;
	mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Futura Lt BT","sans-serif";
	color:windowtext;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-priority:99;
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
.MsoChpDefault
	{mso-style-type:export-only;
	font-family:"Calibri","sans-serif";}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
--></style><!--[if gte mso 9]><xml>
<o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
<o:shapelayout v:ext=3D"edit">
<o:idmap v:ext=3D"edit" data=3D"1" />
</o:shapelayout></xml><![endif]--></head><body lang=3DEN-US link=3Dblue vli=
nk=3Dpurple><div class=3DWordSection1><p class=3DMsoNormal><span style=3D'f=
ont-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'>Hi,<o:p></o:p></sp=
an></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Fu=
tura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal>=
<span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'>I =
need help with creating a CSR which I want to send to symmantec.<o:p></o:p>=
</span></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family=
:"Futura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></span></p><p class=3DMsoNor=
mal><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"=
'>My tomcat version is 5.5.x.<o:p></o:p></span></p><p class=3DMsoNormal><sp=
an style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'><o:p>=
&nbsp;</o:p></span></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt=
;font-family:"Futura Lt BT","sans-serif"'>When I run the command <o:p></o:p=
></span></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-famil=
y:"Futura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></span></p><p class=3DMsoNo=
rmal><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif=
"'>keytool -certreq -keyalg RSA &#8211;alias tomcat -file certreq.csr -keys=
tore .keystore<o:p></o:p></span></p><p class=3DMsoNormal><span style=3D'fon=
t-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></s=
pan></p><p class=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"F=
utura Lt BT","sans-serif"'>where .keystore is the name of the keystore file=
&#8230; I get the error: <i>&#8220;keytool error: java.lang.Exception: Keys=
tore file does not exist: .keystore&#8221;<o:p></o:p></i></span></p><p clas=
s=3DMsoNormal><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","s=
ans-serif"'><o:p>&nbsp;</o:p></span></p><p class=3DMsoNormal><span style=3D=
'font-size:10.0pt;font-family:"Futura Lt BT","sans-serif"'>Please help with=
 the error.<o:p></o:p></span></p><p class=3DMsoNormal><span style=3D'font-s=
ize:10.0pt;font-family:"Futura Lt BT","sans-serif"'><o:p>&nbsp;</o:p></span=
></p><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-margin-botto=
m-alt:auto'><b><span style=3D'font-size:10.0pt;font-family:"Futura Lt BT","=
sans-serif"'>Regards,</span></b><span style=3D'font-size:12.0pt;font-family=
:"Times New Roman","serif"'><o:p></o:p></span></p><table class=3DMsoNormalT=
able border=3D0 cellspacing=3D0 cellpadding=3D0 width=3D812 style=3D'width:=
609.0pt;border-collapse:collapse'><tr style=3D'height:19.5pt'><td colspan=
=3D2 valign=3Dtop style=3D'padding:0in 0in 0in 0in;height:19.5pt'><p class=
=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-margin-bottom-alt:auto'><=
b><span style=3D'font-size:10.0pt;font-family:"Futura Md BT","sans-serif"'>=
Olayemi</span></b><b><span style=3D'font-size:12.0pt;font-family:"Futura Md=
 BT","sans-serif"'>&nbsp;</span></b><b><span style=3D'font-size:10.0pt;font=
-family:"Futura Md BT","sans-serif"'>Olatunji</span></b><b><span style=3D'f=
ont-family:"Futura Md BT","sans-serif"'>&nbsp;&nbsp;&nbsp;| </span></b><b><=
span style=3D'font-size:10.0pt;font-family:"Futura Md BT","sans-serif"'>Sen=
ior Analyst</span></b><b><span style=3D'font-family:"Futura Md BT","sans-se=
rif"'><o:p></o:p></span></b></p></td></tr><tr><td width=3D1 valign=3Dtop st=
yle=3D'width:.75pt;padding:0in 0in 0in 0in'><p class=3DMsoNormal style=3D'm=
so-margin-top-alt:auto;mso-margin-bottom-alt:auto'><a href=3D"http://www.ph=
illipsconsulting.net/"><span style=3D'font-size:12.0pt;font-family:"Times N=
ew Roman","serif";color:blue;text-decoration:none'><img border=3D0 width=3D=
350 height=3D37 id=3D"_x0000_i1025" src=3D"cid:image002.png@01CDE4E3.B745B3=
80" alt=3D"Description: C:\Users\Olayemio\AppData\Roaming\Microsoft\Signatu=
res\Copy of Training (Olayemi Olatunji)-Image01.png"></span></a><span style=
=3D'font-size:12.0pt;font-family:"Times New Roman","serif"'><o:p></o:p></sp=
an></p></td><td width=3D448 style=3D'width:336.0pt;padding:0in 0in 0in 0in'=
><p class=3DMsoNormal style=3D'mso-margin-top-alt:auto;mso-margin-bottom-al=
t:auto'><span style=3D'font-size:9.0pt;font-family:"Futura Lt BT","sans-ser=
if"'>Mobile: +234 (0)7036583697&nbsp;+234 (0)8137061701<br>Skype:&nbsp; &nb=
sp;yemiolat&nbsp;<br>4th Floor, UBA House, 57 Marina, Lagos, Nigeria</span>=
<span style=3D'font-size:12.0pt;font-family:"Times New Roman","serif"'><o:p=
></o:p></span></p></td></tr></table><p class=3DMsoNormal style=3D'mso-margi=
n-top-alt:auto;mso-margin-bottom-alt:auto'><span style=3D'font-size:12.0pt;=
font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp; <o:p></o:p></span></p><p class=3DMsoNormal><span style=3D'f=
ont-size:12.0pt;font-family:"Times New Roman","serif"'>&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></p></div></body=
></html>=

--_000_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_--

--_004_0C5091D86E6EFA46A1853E63EC11E8CC010252586980phillips3db_--

From users-return-238725-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 09:26:53 2012
Return-Path: <users-return-238725-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 436BE9BE8
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 09:26:53 +0000 (UTC)
Received: (qmail 66643 invoked by uid 500); 28 Dec 2012 09:26:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 66590 invoked by uid 500); 28 Dec 2012 09:26:49 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 66567 invoked by uid 99); 28 Dec 2012 09:26:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:26:49 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS,T_REMOTE_IMAGE
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kalle.privat@gmail.com designates 209.85.215.54 as permitted sender)
Received: from [209.85.215.54] (HELO mail-la0-f54.google.com) (209.85.215.54)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:26:42 +0000
Received: by mail-la0-f54.google.com with SMTP id fp12so508247lab.41
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 01:26:21 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:message-id:date:from:user-agent:mime-version:to:subject
         :references:in-reply-to:content-type;
        bh=u0Bnn+G3Zh2/37k2JJmBQzJtrmns+1lXuaYhG9r1ga0=;
        b=Bp2qXNsRDQu+Yb79ErDqlvsjRSgFJ3IhQXCxJI6/2DV80sw1ByvP6drkkcyvismshc
         Db7I0aJKSNyfqxBOD9f86yaH3J0fWFRaRWjsmQGSCLqJL7/Kcu1gH5nMxNBhP9q9jJm4
         T2CyjEBVakWxUml/IH6GjmJOmeaGAr97HwZmV6LdMqrnKCNEFe+5n0yFL69t3ktn4+yJ
         ojUiNPRe87CBbooTTGvYR/RaIg/ccnotj1m+LKZLwYu6A7dAtMTcBtH0+p8AZ8dU84pW
         McH00dRHX4rZKVMjBOb+PIY/QOWZ7q9WJkCikO5Yvv0+z+Robdn5/Zua5u+5a8Z//ELP
         UrZw==
X-Received: by 10.152.132.137 with SMTP id ou9mr31120138lab.7.1356686781590;
        Fri, 28 Dec 2012 01:26:21 -0800 (PST)
Received: from [127.0.0.1] (x1-6-10-0d-7f-a0-54-6a.k31.webspeed.dk. [195.41.118.204])
        by mx.google.com with ESMTPS id jk8sm12110010lab.7.2012.12.28.01.26.19
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 28 Dec 2012 01:26:20 -0800 (PST)
Message-ID: <50DD65B5.4090708@gmail.com>
Date: Fri, 28 Dec 2012 10:26:13 +0100
From: Casper Wandahl Schmidt <kalle.privat@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: generating a CSR
References: <0C5091D86E6EFA46A1853E63EC11E8CC010252586980@phillips-3db9a7.ho.phillipsconsulting.net>
In-Reply-To: <0C5091D86E6EFA46A1853E63EC11E8CC010252586980@phillips-3db9a7.ho.phillipsconsulting.net>
Content-Type: multipart/alternative;
 boundary="------------040904020004010609090603"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------040904020004010609090603
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

See inline

Med venlig hilsen/Kind regards
Casper W. Schmidt

Den 28-12-2012 10:11, Olayemi Olatunji skrev:
>
> Hi,
>
> I need help with creating a CSR which I want to send to symmantec.
>
> My tomcat version is 5.5.x.
>
First of all that is EOL you really should upgrade
>
> When I run the command
>
> keytool -certreq -keyalg RSA --alias tomcat -file certreq.csr 
> -keystore .keystore
>
> where .keystore is the name of the keystore file... I get the error: 
> /"keytool error: java.lang.Exception: Keystore file does not exist: 
> .keystore"/
>
This has nothing to do with Tomcat really. Have you tried google for 
that? http://lmgtfy.com/?q=keytool+generate+csr returns 
http://www.entrust.net/knowledge-base/technote.cfm?tn=8425 as the third 
result which tells you that you need to create a keystore first./
/
>
> //
>
> Please help with the error.
>
> *Regards,*
>
> *Olayemi****Olatunji**   | **Senior Analyst***
>
> Description: 
> C:\Users\Olayemio\AppData\Roaming\Microsoft\Signatures\Copy of 
> Training (Olayemi Olatunji)-Image01.png 
> <http://www.phillipsconsulting.net/>
>
> 	
>
> Mobile: +234 (0)7036583697 +234 (0)8137061701
> Skype:   yemiolat
> 4th Floor, UBA House, 57 Marina, Lagos, Nigeria
>


--------------040904020004010609090603--

From users-return-238726-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 09:32:45 2012
Return-Path: <users-return-238726-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A167E9F41
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 09:32:45 +0000 (UTC)
Received: (qmail 81998 invoked by uid 500); 28 Dec 2012 09:32:42 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 81938 invoked by uid 500); 28 Dec 2012 09:32:42 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 81926 invoked by uid 99); 28 Dec 2012 09:32:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:32:42 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS,URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of kalle.privat@gmail.com designates 209.85.215.51 as permitted sender)
Received: from [209.85.215.51] (HELO mail-la0-f51.google.com) (209.85.215.51)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:32:34 +0000
Received: by mail-la0-f51.google.com with SMTP id fj20so515244lab.24
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 01:32:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=x-received:message-id:date:from:user-agent:mime-version:to:subject
         :references:in-reply-to:content-type:content-transfer-encoding;
        bh=B+qAz+V+FnbrnaZXyjOVAfbCgNRMMlAewm91TtzRg0o=;
        b=Z7jtRjL2wJB9Q2K0MWhKx7s1inCmuACunB2YPAfX5Yhy9Gm1K+g+bpUWRiAKjLsMfP
         USqwluoo7W9XUxQqgLtwb3SQYSpo8UeS6irM6EG066aRmKuVAfFWI8DLWD3eaIHOWqVH
         pGVrjfVgiHXBiWF8zQdBI80R62xNtc0zXxuA8vpEM04aMMfLC30Pl27ICalQRMqddyL1
         Oxj+etEx5ZKWGM9XCY2SdilGRZ9eoGj2j13mbUNymumSAEFpLMHZ5KJQw7bxvyvFVvEM
         wZW2sd5/GgjLbCXoGGuNfJTTK4QAXUGaKsv2Q/j8VKT1U4shthylQbmXGU98IW58COea
         G8kA==
X-Received: by 10.152.121.212 with SMTP id lm20mr30389297lab.42.1356687133806;
        Fri, 28 Dec 2012 01:32:13 -0800 (PST)
Received: from [127.0.0.1] (x1-6-10-0d-7f-a0-54-6a.k31.webspeed.dk. [195.41.118.204])
        by mx.google.com with ESMTPS id fh4sm11361577lbb.7.2012.12.28.01.32.11
        (version=TLSv1/SSLv3 cipher=OTHER);
        Fri, 28 Dec 2012 01:32:12 -0800 (PST)
Message-ID: <50DD6715.6080105@gmail.com>
Date: Fri, 28 Dec 2012 10:32:05 +0100
From: Casper Wandahl Schmidt <kalle.privat@gmail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: users@tomcat.apache.org
Subject: Re: Tomcat 5.5.9 compatibility with Java 1.7
References: <CAFjAA4oKPrTLuAvQcEzYLO+HkmtD6CFbVeX5-r9=XidmWuHZ+Q@mail.gmail.com>
In-Reply-To: <CAFjAA4oKPrTLuAvQcEzYLO+HkmtD6CFbVeX5-r9=XidmWuHZ+Q@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Den 28-12-2012 09:41, Shakun Nag skrev:
> Hi,
>
> I am working on a web application which has been build on JDK/JRE 1.6.0_06
> and has been deployed on Tomcat 5.5.9 server. This application is on
> production since 2008. There is a plan to upgrade JDK/JVM to 1.7.0_07. My
> concern is that after the upgrade of JDK and JVM, will the application be
> deploying and running successfully on the aforesaid version of Tomcat i.e.
> 5.5.9 with out any issues? There is no information available either on
> java<http://www.javaranch.com/> or
> on Apace Tomcat site regrading the compatibility of java 1.7 with tomcat
> 5.5.9. The only information I was able to collect is that Tomcat 5.5.9
> requires minimum 1.4 version. There are no resources available for the
> maximum compatible version.
>
> Please let me know if somebody has done such upgrade of their application
> or is aware of any known compatibility issue. I am afraid that we will need
> to upgrade tomcat as well along with upgrading to java 1.7. Do let me know
> if any more information is required.
>
> PS: This is an urgent request to evaluate the feasibility. So we don't have
> much time, budget and resources to carry out a POC.
>
> Thanks,
> Shakun
>
I don't know about the Tomcat 5.5.9 on JVM 1.7 but why not upgrade 
Tomcat as well? I couldn't find 5.5.9 in the archives, but 5.5.12 is 
from 2005-09-23 and 5.0.30 is from 2004-11-24 so I guess 5.5.9 is from 
somewhere in 2005 which is almost 8 years ago! O' boy that is out of 
date and has some serious security flaws.

Med venlig hilsen/Kind regards
Casper W. Schmidt


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238727-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 09:40:44 2012
Return-Path: <users-return-238727-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 303DC9F73
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 09:40:44 +0000 (UTC)
Received: (qmail 2848 invoked by uid 500); 28 Dec 2012 09:40:41 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2742 invoked by uid 500); 28 Dec 2012 09:40:40 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2731 invoked by uid 99); 28 Dec 2012 09:40:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:40:40 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ynmanware@gmail.com designates 209.85.219.47 as permitted sender)
Received: from [209.85.219.47] (HELO mail-oa0-f47.google.com) (209.85.219.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 09:40:34 +0000
Received: by mail-oa0-f47.google.com with SMTP id h1so9586285oag.6
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 01:40:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=0dOYO5l/uve8N7tKQ3IybnOZWHJz+1B3cqTMFYuf9Rg=;
        b=uau378DbAWMjLzHKlwkoFhDaEiB5YcRuByP27J6IpfTHUw9L4xRQOR+NoiLrzzTQLu
         NS3NOEHc5/bhBp70lqNmVlNvcT9qXKxz28HgwiZfmSWYqUDfGAZtm9v/K+jOKk1cz8ui
         63fvlQPvJavZYGkRiE1oM2fykDeswO4qVBHTR8iMWTwqXqr+HkbXuacih+F05RE/L94Y
         qiX5cyNY4IPtxc7XpZiI52MChJYR8EWG8si0o7q1co0PRd08fHm7h0oTMd+pokhVm4DQ
         ek+vKLIZ6iOWxXY5lPxnTlWGJYy+y8Z6ObO+FeLPQ7ekR6D3z2h0UePLd2cM5EsbmN6g
         Ly6g==
MIME-Version: 1.0
Received: by 10.60.32.67 with SMTP id g3mr14912248oei.77.1356687613569; Fri,
 28 Dec 2012 01:40:13 -0800 (PST)
Received: by 10.76.163.35 with HTTP; Fri, 28 Dec 2012 01:40:13 -0800 (PST)
In-Reply-To: <CAHyqF-uV+orGnnorSKHO04wHyGZBRnLKdtF9=7sZa1xuxr7g2A@mail.gmail.com>
References: <CAHyqF-uV+orGnnorSKHO04wHyGZBRnLKdtF9=7sZa1xuxr7g2A@mail.gmail.com>
Date: Fri, 28 Dec 2012 15:10:13 +0530
Message-ID: <CAHyqF-sDwBXv0k8=xys3iVORxgUfTN2RvZzX_gwpZiWLz9fYjQ@mail.gmail.com>
Subject: java.lang.IllegalStateException
From: Yogesh Manware <ynmanware@gmail.com>
To: users@tomcat.apache.org
Content-Type: multipart/alternative; boundary=e89a8fb1f846472bd104d1e6738a
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb1f846472bd104d1e6738a
Content-Type: text/plain; charset=ISO-8859-1

Hello,

I am facing weird problem with Tomcat 6.0.32+ version. have anyone
faced such issue? Is this a real bug in Tomcat? This error is
intermittent and does not occur with Tomcat 6.0.16.

Tomcat version: 6.0.32+

OS: windows 7

*Issue: *java.lang.IllegalStateException: getAttribute: Session already
invalidated

In our web application, when the user logs out, we are invoking
httpSession.invalidate(); and then we are redirecting user to login
page. But many a times httpSession.invalidate() is executed in
concurrent thread. This results into IllegalStateException in later
stages.

Following is the console trace
{code}
1. 14:03:10 DEBUG [ttp-8082-4] Startup   		 - #Session Id:
AEBD73C3F228729C90BFC5498B4481FD
2. 14:03:10 DEBUG [ttp-8082-4] Startup           	 -
#httpSession.invalidate() invoked...
3. 14:03:10 DEBUG [ttp-8082-5] LoginFilter               -
#request.getSession(false).getId(): AEBD73C3F228729C90BFC5498B4481FD
4. 14:03:10 DEBUG [ttp-8082-5] LoginFilter               -
#request.isRequestedSessionIdValid(): true
5. 14:03:10 DEBUG [ttp-8082-1] SessionContextListener    -
#sessionDestroyed(HttpSessionEvent event) exiting...
6. 14:03:10 DEBUG [ttp-8082-1] SessionContextListener    -
#sessionCreated(HttpSessionEvent event)
7. 14:03:10 DEBUG [ttp-8082-1] SessionContextListener    - #Session
Id:  0662CA084CBC71F4A7722E05E909E3CF
8. 14:03:10 DEBUG [ttp-8082-1] SessionContextListener    - #Returning
from sessionCreated(HttpSessionEvent event)
9. 14:03:10 DEBUG [ttp-8082-1] IppAuthenticationProvider -
#IppAuthenticationProvider initialized....
10. 14:03:10 INFO  [Thread-73 ] Parameters               - CARNOT
version: 7.1.0.30-r61111
Nov 29, 2012 2:03:10 PM org.apache.catalina.core.ApplicationDispatcher invoke
SEVERE: Servlet.service() for servlet Persistent Faces Servlet threw exception
java.lang.IllegalStateException: getAttribute: Session already invalidated
	at org.apache.catalina.session.StandardSession.getAttribute(StandardSession.java:1077)
	at org.apache.catalina.session.StandardSessionFacade.getAttribute(StandardSessionFacade.java:110)
	at com.icesoft.faces.webapp.http.servlet.ProxyHttpSession.getAttribute(ProxyHttpSession.java:107)
	at com.icesoft.faces.webapp.http.servlet.ServletSessionAttributeMap.getAttribute(ServletSessionAttributeMap.java:48)
        ....
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at <path>.LoginFilter.doFilter(LoginFilter.java:385)
{code}

httpSession.invalidate() is invoked at line 2 but it actually
completes at line 5.

Regards,
Yogesh

--e89a8fb1f846472bd104d1e6738a--

From users-return-238728-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 10:23:04 2012
Return-Path: <users-return-238728-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id D8CA8E105
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 10:23:04 +0000 (UTC)
Received: (qmail 8875 invoked by uid 500); 28 Dec 2012 10:23:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 8641 invoked by uid 500); 28 Dec 2012 10:22:59 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 8616 invoked by uid 99); 28 Dec 2012 10:22:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 10:22:58 +0000
X-ASF-Spam-Status: No, hits=0.2 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS,URG_BIZ
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.220.181 as permitted sender)
Received: from [209.85.220.181] (HELO mail-vc0-f181.google.com) (209.85.220.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 10:22:53 +0000
Received: by mail-vc0-f181.google.com with SMTP id gb30so10529582vcb.40
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 02:22:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=IksKquvcWBbwXoQO8OlTc/SzvKq5+WIAFmZDQbTPxvk=;
        b=v7CPlUGixQLH380hgHN+48QnmzH8OIxCCX8rlpyLoDVgLDvh86vLgZIF2gh6vHUaox
         ynQKtSj/FEBWqf69wRLMRlNeiu7lYY+N+6qDeKh8tWeCXo6YF0f2MKWsj5mox8lcz8i0
         4rGgFAeAYSkXabd0Iwiv/mRcV4Pqkj6gOvoR+4TfqgYv4GknGaFMm+wBjH480Xgg1aqt
         Ymbpwt5fYqA2gQNkTuqo48LCEvGsln5gEggVEyWdVtLqRxDfxqmaf7Fy7TKA9TBL3Wmj
         AS6CkV0sTYLJ2dOB6x3ETnec2OMNNfrzXaZe2hp+oFGUV3pJskA/wrTRAtWbApoJDdvf
         cCgA==
MIME-Version: 1.0
Received: by 10.52.16.75 with SMTP id e11mr44481198vdd.45.1356690152521; Fri,
 28 Dec 2012 02:22:32 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Fri, 28 Dec 2012 02:22:32 -0800 (PST)
In-Reply-To: <50DD6715.6080105@gmail.com>
References: <CAFjAA4oKPrTLuAvQcEzYLO+HkmtD6CFbVeX5-r9=XidmWuHZ+Q@mail.gmail.com>
	<50DD6715.6080105@gmail.com>
Date: Fri, 28 Dec 2012 14:22:32 +0400
Message-ID: <CABzHfV=EHEk58RMvP3+fBFzARvP4ROPzBRSq++gZCpOzAq-eBQ@mail.gmail.com>
Subject: Re: Tomcat 5.5.9 compatibility with Java 1.7
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/28 Casper Wandahl Schmidt <kalle.privat@gmail.com>:
> Den 28-12-2012 09:41, Shakun Nag skrev:
>
>> I am working on a web application which has been build on JDK/JRE 1.6.0_06
>> and has been deployed on Tomcat 5.5.9 server. This application is on
>> production since 2008. There is a plan to upgrade JDK/JVM to 1.7.0_07. My
>> concern is that after the upgrade of JDK and JVM, will the application be
>> deploying and running successfully on the aforesaid version of Tomcat i.e.
>> 5.5.9 with out any issues? There is no information available either on
>> java<http://www.javaranch.com/> or
>> on Apace Tomcat site regrading the compatibility of java 1.7 with tomcat
>> 5.5.9. The only information I was able to collect is that Tomcat 5.5.9
>> requires minimum 1.4 version. There are no resources available for the
>> maximum compatible version.
>>
>> Please let me know if somebody has done such upgrade of their application
>> or is aware of any known compatibility issue. I am afraid that we will
>> need
>> to upgrade tomcat as well along with upgrading to java 1.7. Do let me know
>> if any more information is required.
>>
>> PS: This is an urgent request to evaluate the feasibility. So we don't
>> have
>> much time, budget and resources to carry out a POC.
>>
> I don't know about the Tomcat 5.5.9 on JVM 1.7 but why not upgrade Tomcat as
> well? I couldn't find 5.5.9 in the archives, but 5.5.12 is from 2005-09-23
> and 5.0.30 is from 2004-11-24 so I guess 5.5.9 is from somewhere in 2005
> which is almost 8 years ago! O' boy that is out of date and has some serious
> security flaws.

+1

Tomcat 5.5 is no more supported, and will be removed from the site in
a few days,
http://tomcat.apache.org/tomcat-55-eol.html

Known security issues:
http://tomcat.apache.org/security.html

Migration guide:
http://tomcat.apache.org/migration.html


Regarding someone running 5.5.9 with Java 7,
1. I think hardly anybody has such experience.

2. There certainly were several fixes in TC7 & TC6 to make it run with
Java 7. The most important being
http://svn.apache.org/viewvc?view=revision&revision=1174884

None of such fixes were backported to 5.5. Whether they are relevant
for you, I do not know.


If you are going to upgrade Tomcat, I'd recommend Tomcat 7. It is
tested better, I think there are more people running it with Java 7
than Tomcat 6, it has faster release cycle if anything needs fixing.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238729-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 17:19:04 2012
Return-Path: <users-return-238729-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id ABF44D5B1
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 17:19:04 +0000 (UTC)
Received: (qmail 58928 invoked by uid 500); 28 Dec 2012 17:19:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 58709 invoked by uid 500); 28 Dec 2012 17:19:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 58700 invoked by uid 99); 28 Dec 2012 17:19:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 17:19:00 +0000
X-ASF-Spam-Status: No, hits=1.7 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of smithh032772@gmail.com designates 74.125.82.41 as permitted sender)
Received: from [74.125.82.41] (HELO mail-wg0-f41.google.com) (74.125.82.41)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 17:18:55 +0000
Received: by mail-wg0-f41.google.com with SMTP id ds1so4296353wgb.0
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 09:18:35 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=BTmcBIPdTNcQI+rzVlYaAB0GWzuxTwCWlqbcfK80MOQ=;
        b=RdwnR/obX7kWm8iEq8TD3EJrMADYoNhRiYgWQ0km2sZui0d3MIiNXT6hjyR4nE3dex
         3xvdkjyZ2MXl/HXoLXptZLRF7w//qFwfCfcnf3v3mW+0jzQWFg2DXooKD+rvEhCa3/DL
         AvimP9b0oic7qkTCiCikuL10sGSqjyYH/BFhqzLi+Mdia8+rqsCzRwXYnnA3dM3VTZIo
         L4hypsFp1L4z8yUEEgWiIl0JUYh9qjH+ZiGl6KbTVhqDXV5DDn6kwn1duN6IFS01ugKQ
         nYgXJB+Ax00jK0gQGs2usgC3cIbr1C+Zl/KpdKFcjnQ7FG28d8+PlEApL8VtpRV4sHaU
         mvdQ==
MIME-Version: 1.0
Received: by 10.180.82.41 with SMTP id f9mr45419715wiy.25.1356715115185; Fri,
 28 Dec 2012 09:18:35 -0800 (PST)
Received: by 10.194.137.37 with HTTP; Fri, 28 Dec 2012 09:18:35 -0800 (PST)
In-Reply-To: <CAHyqF-sDwBXv0k8=xys3iVORxgUfTN2RvZzX_gwpZiWLz9fYjQ@mail.gmail.com>
References: <CAHyqF-uV+orGnnorSKHO04wHyGZBRnLKdtF9=7sZa1xuxr7g2A@mail.gmail.com>
	<CAHyqF-sDwBXv0k8=xys3iVORxgUfTN2RvZzX_gwpZiWLz9fYjQ@mail.gmail.com>
Date: Fri, 28 Dec 2012 12:18:35 -0500
Message-ID: <CAGV1rDLM-LKaQW_CxNyCkX8oXDxfmQ2-tn+Yh7ssrckErckssg@mail.gmail.com>
Subject: Re: java.lang.IllegalStateException
From: "Howard W. Smith, Jr." <smithh032772@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=f46d041826e680872104d1ecdae7
X-Virus-Checked: Checked by ClamAV on apache.org

--f46d041826e680872104d1ecdae7
Content-Type: text/plain; charset=ISO-8859-1

http://lmgtfy.com/?q=stackoverflow+jsf+java.lang.IllegalStateException%3A+getAttribute%3A+Session+already+invalidated

and then I clicked on first search result (below)

http://stackoverflow.com/questions/4827035/illegalstateexception-getattribute-session-already-invalidated

--f46d041826e680872104d1ecdae7--

From users-return-238730-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Fri Dec 28 19:21:22 2012
Return-Path: <users-return-238730-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 1247ED6C6
	for <apmail-tomcat-users-archive@www.apache.org>; Fri, 28 Dec 2012 19:21:22 +0000 (UTC)
Received: (qmail 70941 invoked by uid 500); 28 Dec 2012 19:21:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 70890 invoked by uid 500); 28 Dec 2012 19:21:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 70878 invoked by uid 99); 28 Dec 2012 19:21:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 19:21:18 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.62.16] (HELO qmta01.westchester.pa.mail.comcast.net) (76.96.62.16)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 28 Dec 2012 19:21:11 +0000
Received: from omta05.westchester.pa.mail.comcast.net ([76.96.62.43])
	by qmta01.westchester.pa.mail.comcast.net with comcast
	id h7Kr1k0010vyq2s517LnCK; Fri, 28 Dec 2012 19:20:47 +0000
Received: from [192.168.1.205] ([69.143.109.145])
	by omta05.westchester.pa.mail.comcast.net with comcast
	id h7Ll1k00g38FjT13R7LleB; Fri, 28 Dec 2012 19:20:47 +0000
Message-ID: <50DDF10C.2010203@christopherschultz.net>
Date: Fri, 28 Dec 2012 14:20:44 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: generating a CSR
References: <0C5091D86E6EFA46A1853E63EC11E8CC010252586980@phillips-3db9a7.ho.phillipsconsulting.net>
In-Reply-To: <0C5091D86E6EFA46A1853E63EC11E8CC010252586980@phillips-3db9a7.ho.phillipsconsulting.net>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356722448;
	bh=Vkw07LtSryPSc7RTu+h2WoeXDPzn8LNZDifbr04+u28=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=qc/jPibIfP46qkAdfvm1K1z5o8IGlgS1OFN+oJz9Dfq5yJavbb1iGjR8EUH4dPQI/
	 Zn4Qf7wRa2USk2SFyeT5CKg4CJjxpX6XmKsZiWzz2lj9RSR1x0xArxi/yhv3csNZK0
	 mdTFvMKR77KRNDhoRG84FYkXGJC3FyCfg44fRtLcOdC+p+nDfYn6KBtehnBoALmCzG
	 QJdgqKbYKl8ijPRPgxDsov365hWCppJ6aXmwfQlra7aojSgfFYuaj6/ROnav8y/GzB
	 dh8Rlyov/Pi4UREneocXYFCJ+FHXGDSJqALUKYYXpMW75OhXmB5tW7KaFwL4HSXuzT
	 9Yq6ihhTBNKWw==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Olayemi,

On 12/28/12 4:11 AM, Olayemi Olatunji wrote:
> I need help with creating a CSR which I want to send to symmantec.
> 
> My tomcat version is 5.5.x.

Upgrade.

> When I run the command
> 
> keytool -certreq -keyalg RSA âalias tomcat -file certreq.csr
> -keystore .keystore
> 
> where .keystore is the name of the keystore fileâ¦ I get the error: 
> /âkeytool error: java.lang.Exception: Keystore file does not
> exist: .keystoreâ/

You are mixing up commands. You need to first create a server key,
then a CSR, then (later) import the certificate into your keystore.

Try reading the documentation
http://tomcat.apache.org/tomcat-5.5-doc/ssl-howto.html which clearly
lays all of this out for you with step-by-step instructions.

Oh, and you should upgrade. All the way up to 7.0.34.

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDd8QwACgkQ9CaO5/Lv0PAppACfWKK8BeBbFvEKEmYuGwcusMI4
3A4AnA/U4oXvGo3xizvOk5zxyVaiPt8I
=/KFA
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238731-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 02:33:16 2012
Return-Path: <users-return-238731-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E065FD00B
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 02:33:16 +0000 (UTC)
Received: (qmail 87782 invoked by uid 500); 29 Dec 2012 02:33:13 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87239 invoked by uid 500); 29 Dec 2012 02:33:12 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87209 invoked by uid 99); 29 Dec 2012 02:33:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 02:33:11 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of josh.gooding@gmail.com designates 209.85.223.176 as permitted sender)
Received: from [209.85.223.176] (HELO mail-ie0-f176.google.com) (209.85.223.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 02:33:03 +0000
Received: by mail-ie0-f176.google.com with SMTP id 13so13348968iea.35
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 18:32:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=Mt5MkcExZo94DHmvHjIfKjJzIzpTsr098kkiaNEd9QQ=;
        b=xhNQs12txzZ9hFlDjMB3UtHkAAo/knxkslqc5yuCCfu6x+UC8QOr6P3dEtedXSmkAS
         qVvMfkeS8Asyp5OYheq5X0vqfFXAD6BElBrOt4/eQ8g1wryOalZYthEVZIJ5MYP6XS+F
         ZPhQSIJOQXbKr4/rgqFNNACYrKlWnTA6woQ7BLwcCN2yifdOEakaw7DlYu9L5f4lb6Ta
         dyAEzlIsoe1nLyNyO9baMDNs0I0zMBs7eGM388CL4JBSbnZfbDyle+8yDXTwI6i5miO6
         n+Wgw5+9zRW80JExUztHOOqc2wpDtYLBtxYt05p/wcIo5JgmCGmvBK74j7HkhvixuD2u
         NwZg==
MIME-Version: 1.0
Received: by 10.50.40.133 with SMTP id x5mr30163444igk.32.1356748362803; Fri,
 28 Dec 2012 18:32:42 -0800 (PST)
Received: by 10.43.61.18 with HTTP; Fri, 28 Dec 2012 18:32:42 -0800 (PST)
Date: Fri, 28 Dec 2012 21:32:42 -0500
Message-ID: <CAFpYQw-NZOQDpk_oe8QuJ0jqEZ6j4NW5OFMH6cBhZKSvkAwMSw@mail.gmail.com>
Subject: Questions on Tomcat Embedded
From: Josh Gooding <josh.gooding@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=14dae93403d936e86b04d1f4983e
X-Virus-Checked: Checked by ClamAV on apache.org

--14dae93403d936e86b04d1f4983e
Content-Type: text/plain; charset=ISO-8859-1

Hey guys,

I am starting to get into creating an ARM cluster (on 4 pieces of hardware
called ODROID-u2's) running a tomcat cluster for some possible parallel
processing.  I've downloaded the Tomcat embedded but wondering are there
specific doc's for it or are they the same as the 7.0.34 docs?

- Josh

--14dae93403d936e86b04d1f4983e--

From users-return-238732-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 04:14:40 2012
Return-Path: <users-return-238732-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id EF66EE103
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 04:14:39 +0000 (UTC)
Received: (qmail 96754 invoked by uid 500); 29 Dec 2012 04:14:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 96587 invoked by uid 500); 29 Dec 2012 04:14:35 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 96537 invoked by uid 99); 29 Dec 2012 04:14:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 04:14:34 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ynmanware@gmail.com designates 209.85.214.175 as permitted sender)
Received: from [209.85.214.175] (HELO mail-ob0-f175.google.com) (209.85.214.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 04:14:28 +0000
Received: by mail-ob0-f175.google.com with SMTP id vb8so10378872obc.34
        for <users@tomcat.apache.org>; Fri, 28 Dec 2012 20:14:07 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=P3bAxVj4p1MF/j0udf0d1fB3hLUx8bkb6igatstZseA=;
        b=zqHWeY8ugyEnVdEgrNd11VLQMKMvuqTDv+5iLJN9ST++StAlNYLKm5Y+PoVkudWWtI
         He49mRx2HdTY5R9fe2bbojS0dbq32jb9HBePdl1HXJps8zV2lIUtdTLeOGFQnF54pnVu
         txmyNhcruLrWTg32DKeUQLvGbFR8WmU2JjyOeyEdhcDAibGLCwDvSe5AJ42BAr4uIn6C
         kpQbCefGqQLIZ+tRwtWnvgNK1OmmdcABCM3cwcmCVfQYxJ5cLPZwdMJ1mJP/9d8xLHSE
         A5N7QslQ/YfLICPW8hJsd6omP6So/47lOgboKTDdrN2n2xpNGcLq7tG7ZIRog5QjXtJq
         x3JA==
MIME-Version: 1.0
Received: by 10.60.32.37 with SMTP id f5mr16991385oei.19.1356754447355; Fri,
 28 Dec 2012 20:14:07 -0800 (PST)
Received: by 10.76.163.35 with HTTP; Fri, 28 Dec 2012 20:14:07 -0800 (PST)
In-Reply-To: <CAGV1rDLM-LKaQW_CxNyCkX8oXDxfmQ2-tn+Yh7ssrckErckssg@mail.gmail.com>
References: <CAHyqF-uV+orGnnorSKHO04wHyGZBRnLKdtF9=7sZa1xuxr7g2A@mail.gmail.com>
	<CAHyqF-sDwBXv0k8=xys3iVORxgUfTN2RvZzX_gwpZiWLz9fYjQ@mail.gmail.com>
	<CAGV1rDLM-LKaQW_CxNyCkX8oXDxfmQ2-tn+Yh7ssrckErckssg@mail.gmail.com>
Date: Sat, 29 Dec 2012 09:44:07 +0530
Message-ID: <CAHyqF-tGc1EymXHxX06ioPM9Tt1RQJkQCzhePnSnH-xkYCHsvQ@mail.gmail.com>
Subject: Re: java.lang.IllegalStateException
From: Yogesh Manware <ynmanware@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8fb20020e1cd4e04d1f60288
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8fb20020e1cd4e04d1f60288
Content-Type: text/plain; charset=ISO-8859-1

Howard,
Thanks for the reply.
I am sorry, I guess I could not point out the exact issue in my earlier
mail. There are many reasons because of which this exception may occur. But
the only thing I am more curious to know is, when I invoke
httpsession.invalidate(), sometimes it gets executed in concurrent thread
and later the obvious IllegalStateException occurs. This behavior is
intermittent. I started seeing this behavior(and error) only when I
switched to 6.0.32 or later version.
So, my major concern is why httpsession.invalidate() is executed in
concurrent thread sometimes?

Regards,
Yogesh

On Fri, Dec 28, 2012 at 10:48 PM, Howard W. Smith, Jr. <
smithh032772@gmail.com> wrote:

>
> http://lmgtfy.com/?q=stackoverflow+jsf+java.lang.IllegalStateException%3A+getAttribute%3A+Session+already+invalidated
>
> and then I clicked on first search result (below)
>
>
> http://stackoverflow.com/questions/4827035/illegalstateexception-getattribute-session-already-invalidated
>

--e89a8fb20020e1cd4e04d1f60288--

From users-return-238733-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 07:43:23 2012
Return-Path: <users-return-238733-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 20808EC19
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 07:43:23 +0000 (UTC)
Received: (qmail 87762 invoked by uid 500); 29 Dec 2012 07:43:19 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 87052 invoked by uid 500); 29 Dec 2012 07:43:18 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 87005 invoked by uid 99); 29 Dec 2012 07:43:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 07:43:16 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [217.146.182.223] (HELO nm1-vm0.bt.bullet.mail.ukl.yahoo.com) (217.146.182.223)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 07:43:07 +0000
Received: from [217.146.183.196] by nm1.bt.bullet.mail.ukl.yahoo.com with NNFMP; 29 Dec 2012 07:42:45 -0000
Received: from [217.12.12.19] by tm2.bt.bullet.mail.ukl.yahoo.com with NNFMP; 29 Dec 2012 07:42:45 -0000
Received: from [127.0.0.1] by smtp823.mail.ukl.yahoo.com with NNFMP; 29 Dec 2012 07:42:45 -0000
X-Yahoo-Newman-Id: 896659.72898.bm@smtp823.mail.ukl.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: y8nQ6gkVM1m6IjzNqQXWBDynj2TLMkGsacMsZ53qSA8tToo
 lrXt3KIY1nStOBg4_t2JpfiMQeQOuAXnNa6gnOTlGcrFuQF2jCSxbTqrO39f
 9HQr59CaIPw12LpZw_jPjempaLWA5A.i83RMZzR0NCqN8Mnoqrv7MI4E3QFs
 RWjTlt1Bc8V0Si5X8BKzg0NHVgl4xNY_94g973w1nYwoULcRMPELxhAw5Qtl
 3unM5ZnBZ90EXdAb6ElS8akmP11M0L4xM7UpWZS85gahvY41rA1dE54FOpJ6
 VZ9.mIzGdJiNNACHiuFM5ozCdCwonD9JdyDwJqtvTbIJmO7suI7Cd64Qtu5I
 J7Rmwbhv8B.c3CBM0j9CHGaVD19l0Q1AXAGwzrH8TOzDX.SfwiPC5pEc5cz7
 FLs.woxn9wJMW6EXntGenHU_jzmD0bA--
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp823.mail.ukl.yahoo.com with SMTP; 28 Dec 2012 23:42:45 -0800 PST
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 84AE3B22001
	for <users@tomcat.apache.org>; Sat, 29 Dec 2012 07:42:45 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YDl0NQ5rJksW for <users@tomcat.apache.org>;
	Sat, 29 Dec 2012 07:42:15 +0000 (GMT)
Received: from markstablet.dev.local (markstablet.dev.local [192.168.23.207])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 1AE7EEAB9D6
	for <users@tomcat.apache.org>; Sat, 29 Dec 2012 07:42:15 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <CAHyqF-tGc1EymXHxX06ioPM9Tt1RQJkQCzhePnSnH-xkYCHsvQ@mail.gmail.com>
References: <CAHyqF-uV+orGnnorSKHO04wHyGZBRnLKdtF9=7sZa1xuxr7g2A@mail.gmail.com> <CAHyqF-sDwBXv0k8=xys3iVORxgUfTN2RvZzX_gwpZiWLz9fYjQ@mail.gmail.com> <CAGV1rDLM-LKaQW_CxNyCkX8oXDxfmQ2-tn+Yh7ssrckErckssg@mail.gmail.com> <CAHyqF-tGc1EymXHxX06ioPM9Tt1RQJkQCzhePnSnH-xkYCHsvQ@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: java.lang.IllegalStateException
From: Mark Thomas <markt@apache.org>
Date: Sat, 29 Dec 2012 07:42:14 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <7f99cdbd-9bd8-43d5-a3db-51797ef9b510@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org



Yogesh Manware <ynmanware@gmail.com> wrote:

>Howard,
>Thanks for the reply.
>I am sorry, I guess I could not point out the exact issue in my earlier
>mail. There are many reasons because of which this exception may occur.
>But
>the only thing I am more curious to know is, when I invoke
>httpsession.invalidate(), sometimes it gets executed in concurrent
>thread
>and later the obvious IllegalStateException occurs. This behavior is
>intermittent. I started seeing this behavior(and error) only when I
>switched to 6.0.32 or later version.
>So, my major concern is why httpsession.invalidate() is executed in
>concurrent thread sometimes?

The only way I am aware that this could happen is if the session is being expired by the background thread at the same time as a request is accessing the session. Using the system property org.apache.catalina.session.StandardSession.ACTIVITY_CHECK should fix this. See the 6.0.x docs for details.

Mark

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238734-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 07:45:05 2012
Return-Path: <users-return-238734-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 5C8A9EC1B
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 07:45:05 +0000 (UTC)
Received: (qmail 92338 invoked by uid 500); 29 Dec 2012 07:45:01 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92133 invoked by uid 500); 29 Dec 2012 07:45:01 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92111 invoked by uid 99); 29 Dec 2012 07:45:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 07:45:00 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL,UNPARSEABLE_RELAY
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [212.82.108.232] (HELO nm1.bt.bullet.mail.ird.yahoo.com) (212.82.108.232)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 07:44:50 +0000
Received: from [212.82.108.230] by nm1.bt.bullet.mail.ird.yahoo.com with NNFMP; 29 Dec 2012 07:44:30 -0000
Received: from [217.146.189.75] by tm3.bt.bullet.mail.ird.yahoo.com with NNFMP; 29 Dec 2012 07:44:30 -0000
Received: from [127.0.0.1] by smtp825.mail.ird.yahoo.com with NNFMP; 29 Dec 2012 07:44:30 -0000
X-Yahoo-Newman-Id: 348784.3020.bm@smtp825.mail.ird.yahoo.com
X-Yahoo-Newman-Property: ymail-3
X-YMail-OSG: 4qh8GtcVM1kGykWHyEL_S73FG7pXlD9S.IN04_noMOuNBgd
 7F1XDaNUtsG3rDvTVDHPAr5xPFToDxqH5tPZMVcUkcmSqWy0nP8p_Zph8HVg
 73hmyx.l03wIulbqyGu288Ie3A2EDQaXQpECB_6KVTd6weBtnNAdfGQ0xsOu
 QNfh4oH22kcLsmYECrBOawZaoLkeZsxFGgV84WZBnQJ19_HT1kn_n.OpLOtF
 uWJ0FCURO287S6Hw440Lzs6418u2VqunkUKClHmWtXQ4Y0yzB21ohtgSuZoN
 EOqf2CKB0r5j9fF4WjrolzoAb_zLFQZruN_b8yGR2zo0tFU8lMThiBqWtu_N
 b8vvsLnGBFISWdoIZpkUnUEnOH067ahaD4qvl2YLCCezxoYqNW0OD03HBA43
 6s43KH_Z8ZCQ877QzTVl7tRo.5vpvsw--
X-Yahoo-SMTP: 56TNLPWswBBNVS_kiT4ZwBAS8ZwKJ2BaB901hkoATM8MbuRyxg--
Received: from mail.homeinbox.net (markt@86.149.134.142 with login)
        by smtp825.mail.ird.yahoo.com with SMTP; 28 Dec 2012 23:44:29 -0800 PST
Received: from localhost (localhost [127.0.0.1])
	by mail.homeinbox.net (Postfix) with ESMTP id 912DDB22001
	for <users@tomcat.apache.org>; Sat, 29 Dec 2012 07:44:29 +0000 (GMT)
X-Virus-Scanned: Debian amavisd-new at homeinbox.net
Received: from mail.homeinbox.net ([127.0.0.1])
	by localhost (mail.homeinbox.net [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id aCs0xntds3M4 for <users@tomcat.apache.org>;
	Sat, 29 Dec 2012 07:44:29 +0000 (GMT)
Received: from markstablet.dev.local (markstablet.dev.local [192.168.23.207])
	(using TLSv1 with cipher RC4-MD5 (128/128 bits))
	(No client certificate requested)
	by mail.homeinbox.net (Postfix) with ESMTPSA id 4E06AEAB9D6
	for <users@tomcat.apache.org>; Sat, 29 Dec 2012 07:44:29 +0000 (GMT)
User-Agent: K-9 Mail for Android
In-Reply-To: <CAFpYQw-NZOQDpk_oe8QuJ0jqEZ6j4NW5OFMH6cBhZKSvkAwMSw@mail.gmail.com>
References: <CAFpYQw-NZOQDpk_oe8QuJ0jqEZ6j4NW5OFMH6cBhZKSvkAwMSw@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 8bit
Subject: Re: Questions on Tomcat Embedded
From: Mark Thomas <markt@apache.org>
Date: Sat, 29 Dec 2012 07:44:28 +0000
To: Tomcat Users List <users@tomcat.apache.org>
Message-ID: <702d5f52-8cbc-4ea7-b319-cd121380b424@email.android.com>
X-Virus-Checked: Checked by ClamAV on apache.org

No specific docs. The o.a.catalina.startup.Tomcat class's Javadoc should give you some pointers as will the usage in the Tomcat unit tests.

Mark

Josh Gooding <josh.gooding@gmail.com> wrote:

>Hey guys,
>
>I am starting to get into creating an ARM cluster (on 4 pieces of
>hardware
>called ODROID-u2's) running a tomcat cluster for some possible parallel
>processing.  I've downloaded the Tomcat embedded but wondering are
>there
>specific doc's for it or are they the same as the 7.0.34 docs?
>
>- Josh


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238735-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 11:54:00 2012
Return-Path: <users-return-238735-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id DAFFADA01
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 11:53:59 +0000 (UTC)
Received: (qmail 25008 invoked by uid 500); 29 Dec 2012 11:53:56 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 24697 invoked by uid 500); 29 Dec 2012 11:53:51 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 24666 invoked by uid 99); 29 Dec 2012 11:53:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 11:53:50 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mrsanna1@gmail.com designates 209.85.214.181 as permitted sender)
Received: from [209.85.214.181] (HELO mail-ob0-f181.google.com) (209.85.214.181)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 11:53:43 +0000
Received: by mail-ob0-f181.google.com with SMTP id oi10so10423827obb.12
        for <users@tomcat.apache.org>; Sat, 29 Dec 2012 03:53:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=SR7Sq2xdOTkBwxgdJZa8g3FZwSENhpWwpk56bhvgM7s=;
        b=TH6BMpoI6+AiXlc+B9wqXhTTXni5UIyKMRHKDJF83w7ndv+8g8S/57Z20/I3Y5FjkT
         JYZTX5xDnoHueYkgVqJxEAaW/U53ebW6dclng+3obfyiKczY9msdh34TN0Myfp6Zlj64
         fbaqEsPG4IISu1LviXTei+AvT+gy9ZfTIfQ1vQUBUo1ib6tUQ8+qvThugpDIr3kIY1w4
         tHJCrC3N1JZ+AXZJngLy9g5oFoLnQAZETd5gQ9kTy9sb90ohgyYx6lbGlH/uBgbo0JJJ
         kYn5u5AbMP/R8sR9PK5XHxTvPErJtEUypSPpOk49A4xp0gvAeaKGphAO8supOsZ83OBg
         MATA==
MIME-Version: 1.0
Received: by 10.60.12.74 with SMTP id w10mr18134017oeb.100.1356782002987; Sat,
 29 Dec 2012 03:53:22 -0800 (PST)
Received: by 10.76.143.40 with HTTP; Sat, 29 Dec 2012 03:53:22 -0800 (PST)
Date: Sat, 29 Dec 2012 12:53:22 +0100
Message-ID: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
Subject: some clarification about context.
From: Mauro <mrsanna1@gmail.com>
To: users@tomcat.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hello.
I've various web applications running under tomcat6.
One of those use jndi, say the name of webapp is my_app.
I put a my_app.xml under Catalina/localhost/ with a context section in
which I put:

<Resource name="jdbc/my_app" auth="Container" type="javax.sql.DataSource"
         maxActive="100" maxIdle="30" maxWait="10000"
         username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
         url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app"/>

The jndi connection work well but........
I deploy another web application that uses jndi, say my_app1.
Put a my_app1.xml under Catalina/localhost/


<Resource name="jdbc/my_app1" auth="Container" type="javax.sql.DataSource"
         maxActive="100" maxIdle="30" maxWait="10000"
         username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
         url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app1"/>


This second application does not work and I must investigate on it but
the problem is that also the jndi connection of the first application,
my_app, does not work.
Why?
I'm correct on putting my_app.xml and my_app1.xml under Catalina/localhost?
Thank you.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238736-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 12:04:32 2012
Return-Path: <users-return-238736-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id CA5A6DA7F
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 12:04:32 +0000 (UTC)
Received: (qmail 46634 invoked by uid 500); 29 Dec 2012 12:04:29 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 46523 invoked by uid 500); 29 Dec 2012 12:04:29 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 46505 invoked by uid 99); 29 Dec 2012 12:04:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 12:04:28 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of knst.kolinko@gmail.com designates 209.85.212.42 as permitted sender)
Received: from [209.85.212.42] (HELO mail-vb0-f42.google.com) (209.85.212.42)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 12:04:22 +0000
Received: by mail-vb0-f42.google.com with SMTP id fa15so11567769vbb.1
        for <users@tomcat.apache.org>; Sat, 29 Dec 2012 04:04:01 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=a9N7dvDu4Kh61dij1GRyQUaQayNpdiD7Gw/4Zx8U3qs=;
        b=e+I6Q0C+5nJE/ItJYukoFFeY7+MJO+pP2IWPS7a4Qw4VwDyZ2yiTTMSm5TZZILuu1g
         vaCFXqddRhk64/n/jfDc3ss8HIrk9pm+slf1by31B41E7sMQRrl24bcjX585k5pP1ywf
         /nVCFZnkLCMEltSCgvY8KCaPOjLLy0izXrpyp8uI4v76OUucc7JmVSUaUauI6ljEyMKK
         mzksJ4+/E+VODrlw17lIu1ZNPDlvSc7VfSxr3ovtRQnbwNtOrFftf2AVRa4cqY8s4KQ7
         hOD4eLQEPUDNVEO1U9K2mGB99fdlhTnqNUJUQK7IkL7llEDRTLE5MHfSvI8UbfcN2kif
         FIeg==
MIME-Version: 1.0
Received: by 10.58.95.170 with SMTP id dl10mr50148230veb.54.1356782641536;
 Sat, 29 Dec 2012 04:04:01 -0800 (PST)
Received: by 10.58.249.199 with HTTP; Sat, 29 Dec 2012 04:04:01 -0800 (PST)
In-Reply-To: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
Date: Sat, 29 Dec 2012 16:04:01 +0400
Message-ID: <CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>
Subject: Re: some clarification about context.
From: Konstantin Kolinko <knst.kolinko@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2012/12/29 Mauro <mrsanna1@gmail.com>:
> Hello.
> I've various web applications running under tomcat6.

Which one of many 6.0.x versions?

> One of those use jndi, say the name of webapp is my_app.
> I put a my_app.xml under Catalina/localhost/ with a context section in
> which I put:
>
> <Resource name="jdbc/my_app" auth="Container" type="javax.sql.DataSource"
>          maxActive="100" maxIdle="30" maxWait="10000"
>          username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>          url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app"/>
>
> The jndi connection work well but........
> I deploy another web application that uses jndi, say my_app1.
> Put a my_app1.xml under Catalina/localhost/
>
>
> <Resource name="jdbc/my_app1" auth="Container" type="javax.sql.DataSource"
>          maxActive="100" maxIdle="30" maxWait="10000"
>          username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>          url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app1"/>
>
>
> This second application does not work and I must investigate on it but
> the problem is that also the jndi connection of the first application,
> my_app, does not work.
> Why?
> I'm correct on putting my_app.xml and my_app1.xml under Catalina/localhost?

So, if it is one application then it works. If you deploy the second
application then both the first and the second do not work?

What do you mean by "does not work"?
What are the symptoms, messages etc.

Where did you place your JDBC drivers?
I'd say that they should be in $CATALINA_BASE/lib, and NOT in any of your wars.

Best regards,
Konstantin Kolinko

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238737-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sat Dec 29 13:21:21 2012
Return-Path: <users-return-238737-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A4E01E899
	for <apmail-tomcat-users-archive@www.apache.org>; Sat, 29 Dec 2012 13:21:21 +0000 (UTC)
Received: (qmail 94015 invoked by uid 500); 29 Dec 2012 13:21:18 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 93802 invoked by uid 500); 29 Dec 2012 13:21:17 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 93774 invoked by uid 99); 29 Dec 2012 13:21:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 13:21:16 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mrsanna1@gmail.com designates 209.85.214.178 as permitted sender)
Received: from [209.85.214.178] (HELO mail-ob0-f178.google.com) (209.85.214.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 29 Dec 2012 13:21:07 +0000
Received: by mail-ob0-f178.google.com with SMTP id eh20so10376239obb.37
        for <users@tomcat.apache.org>; Sat, 29 Dec 2012 05:20:46 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nAc8+S2SpfkxOIsZBO5U/xY26UCyR/GwVgyEH7mPR9U=;
        b=G61+j9h+eV6P50zBEOi8ZOHSE8O7lRl6iYmf1e291sI4i+dU/amOqpvAMnsmyRXJqq
         13Cwdawr1k59wFZ3zaq4M4LUWrj6Qiu8siwvlKkWwQnk/KA3hui7lxLpbn194i88tjgB
         XEq+CkyIetp/oUnydMc9USvL6hLcZ46PoJvffFyNjAxC3+kEzla3ury3DQvaY5E/N4W0
         WjK/ogw5PQcJJcPPT7hHX3kT2DB8HOupMcfOAXYkCDRTHsRPLtAiKBwKwcrTLBjZm4LJ
         J5FyF2esL8dcFX9ygGg5+h4/as5Iz+QwIqYc2rq17dlsMaA/SbCfjxigPHPN321SX92y
         FTuQ==
MIME-Version: 1.0
Received: by 10.60.23.200 with SMTP id o8mr17617226oef.48.1356787246580; Sat,
 29 Dec 2012 05:20:46 -0800 (PST)
Received: by 10.76.143.40 with HTTP; Sat, 29 Dec 2012 05:20:46 -0800 (PST)
In-Reply-To: <CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
	<CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>
Date: Sat, 29 Dec 2012 14:20:46 +0100
Message-ID: <CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>
Subject: Re: some clarification about context.
From: Mauro <mrsanna1@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 29 December 2012 13:04, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:
> 2012/12/29 Mauro <mrsanna1@gmail.com>:
>> Hello.
>> I've various web applications running under tomcat6.
>
> Which one of many 6.0.x versions?

6.0.35

>
>> One of those use jndi, say the name of webapp is my_app.
>> I put a my_app.xml under Catalina/localhost/ with a context section in
>> which I put:
>>
>> <Resource name="jdbc/my_app" auth="Container" type="javax.sql.DataSource"
>>          maxActive="100" maxIdle="30" maxWait="10000"
>>          username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>>          url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app"/>
>>
>> The jndi connection work well but........
>> I deploy another web application that uses jndi, say my_app1.
>> Put a my_app1.xml under Catalina/localhost/
>>
>>
>> <Resource name="jdbc/my_app1" auth="Container" type="javax.sql.DataSource"
>>          maxActive="100" maxIdle="30" maxWait="10000"
>>          username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>>          url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app1"/>
>>
>>
>> This second application does not work and I must investigate on it but
>> the problem is that also the jndi connection of the first application,
>> my_app, does not work.
>> Why?
>> I'm correct on putting my_app.xml and my_app1.xml under Catalina/localhost?
>
> So, if it is one application then it works. If you deploy the second
> application then both the first and the second do not work?

Yes, the second application has a problem and I must investigate on it
but it is strange to me that also the first application doesn't work.
Here what I do:
Deploy the second application, it does not work, the first application works.
To connect the second application via jndi I create my_app1.xml with a
resource section and put under Catalina/localhost.
So under Catalina/localhost i have my_app.xml and my_app1.xml.
Redeploy the second and the forst applications, the second still does
not work but now does not work also the first application.


> What do you mean by "does not work"?
> What are the symptoms, messages etc.

Here is the message error of the first application:

org.jruby.rack.RackInitializationException: The driver encountered an
unknown error: Cannot create JDBC driver of class
'org.postgresql.Driver' for connect URL


>
> Where did you place your JDBC drivers?
> I'd say that they should be in $CATALINA_BASE/lib, and NOT in any of your wars.

My drivers are under $CATALINA_BASE/lib, I use only postgres.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238738-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 30 08:43:54 2012
Return-Path: <users-return-238738-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4D3B0E12E
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 30 Dec 2012 08:43:54 +0000 (UTC)
Received: (qmail 4070 invoked by uid 500); 30 Dec 2012 08:43:50 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 3756 invoked by uid 500); 30 Dec 2012 08:43:48 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 3704 invoked by uid 99); 30 Dec 2012 08:43:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 08:43:46 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.174 as permitted sender)
Received: from [209.85.214.174] (HELO mail-ob0-f174.google.com) (209.85.214.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 08:43:33 +0000
Received: by mail-ob0-f174.google.com with SMTP id ta14so10897586obb.33
        for <users@tomcat.apache.org>; Sun, 30 Dec 2012 00:43:12 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type;
        bh=Q58jA+iAObdyVXBFy/tVf2f4HnWB4czzPVr+SeYgkR0=;
        b=o1XfZ/EtVTp29iINzzXEfeIHV6XJcEBW1zuCpgb15G+3mEZbylc1ERIKqDHpAXKwFP
         ms64HVE1iQMOJNqMP4lwhiA7Bd7kfbwJDzcaWTIItLOyEJNVuZYQP1TeBlDGOLZ/SSmf
         Mr2JFwiISkDcbGqG80UVSLGddIPcEtU254j8A=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:x-gm-message-state;
        bh=Q58jA+iAObdyVXBFy/tVf2f4HnWB4czzPVr+SeYgkR0=;
        b=aWqTRy4cBO02ABo9LlBqBBJAXkmiF/06E6vx+5k1abVuujOplVO74NCKXaE2u5TedA
         WxZnUHiCULvwKSAviq/McxOIcIw7A0Z3iQlF6HmeIwhV5aeg+iNjecYxDmJnyaMKJhyy
         RDB9kAxhrrnoy+fExiCNpCUHXFx/oFrJl4qQK2LNOEsyJ1Hh0+yWfs+wYaX9Pe7bkq0i
         9gl1NQjptzxGc5MULmGmxT/Ebk1G5nRsOdu4V5mGfbGSky4C1u7AgkTezebJsOrzjn2H
         keVHq+qv6+3ZyX+4o9RSs398olzdpl57WPpqPfAdOReOiHcm1wod9+m6ax6drj+Z08kP
         xWqA==
Received: by 10.60.1.132 with SMTP id 4mr19831347oem.140.1356856991892; Sun,
 30 Dec 2012 00:43:11 -0800 (PST)
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
 <CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com> <CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Sun, 30 Dec 2012 08:43:13 +0000
Message-ID: <-6973156401268103703@unknownmsgid>
Subject: Re: some clarification about context.
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Gm-Message-State: ALoCoQmztJeliqTMkryb7h+uaamDR/cuQlvo65hhPfFDAwBCOPl2jqcjycosA+GzVljTGp4wq5eT
X-Virus-Checked: Checked by ClamAV on apache.org

On 29 Dec 2012, at 13:21, Mauro <mrsanna1@gmail.com> wrote:

> On 29 December 2012 13:04, Konstantin Kolinko <knst.kolinko@gmail.com> wrote:
>> 2012/12/29 Mauro <mrsanna1@gmail.com>:
>>> Hello.
>>> I've various web applications running under tomcat6.
>>
>> Which one of many 6.0.x versions?
>
> 6.0.35
>
>>
>>> One of those use jndi, say the name of webapp is my_app.
>>> I put a my_app.xml under Catalina/localhost/ with a context section in
>>> which I put:
>>>
>>> <Resource name="jdbc/my_app" auth="Container" type="javax.sql.DataSource"
>>>         maxActive="100" maxIdle="30" maxWait="10000"
>>>         username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>>>         url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app"/>
>>>
>>> The jndi connection work well but........
>>> I deploy another web application that uses jndi, say my_app1.
>>> Put a my_app1.xml under Catalina/localhost/
>>>
>>>
>>> <Resource name="jdbc/my_app1" auth="Container" type="javax.sql.DataSource"
>>>         maxActive="100" maxIdle="30" maxWait="10000"
>>>         username="xxx" password="xxx" driverClassName="org.postgresql.Driver"
>>>         url="jdbc:postgresql://svsopsql01.comune.cagliari.loc:5432/my_app1"/>
>>>
>>>
>>> This second application does not work and I must investigate on it but
>>> the problem is that also the jndi connection of the first application,
>>> my_app, does not work.
>>> Why?
>>> I'm correct on putting my_app.xml and my_app1.xml under Catalina/localhost?
>>
>> So, if it is one application then it works. If you deploy the second
>> application then both the first and the second do not work?
>
> Yes, the second application has a problem and I must investigate on it
> but it is strange to me that also the first application doesn't work.
> Here what I do:
> Deploy the second application, it does not work, the first application works.
> To connect the second application via jndi I create my_app1.xml with a
> resource section and put under Catalina/localhost.
> So under Catalina/localhost i have my_app.xml and my_app1.xml.
> Redeploy the second and the forst applications, the second still does
> not work but now does not work also the first application.
>
>
>> What do you mean by "does not work"?
>> What are the symptoms, messages etc.
>
> Here is the message error of the first application:
>
> org.jruby.rack.RackInitializationException: The driver encountered an
> unknown error: Cannot create JDBC driver of class
> 'org.postgresql.Driver' for connect URL
>
>
>>
>> Where did you place your JDBC drivers?
>> I'd say that they should be in $CATALINA_BASE/lib, and NOT in any of your wars.
>
> My drivers are under $CATALINA_BASE/lib, I use only postgres.

Are you setting path or docBase in your Context XML?

Can you post the exact file content, password redacted etc?


p



>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238739-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 30 12:57:01 2012
Return-Path: <users-return-238739-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 6C345ECB3
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 30 Dec 2012 12:57:01 +0000 (UTC)
Received: (qmail 2940 invoked by uid 500); 30 Dec 2012 12:56:57 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 2798 invoked by uid 500); 30 Dec 2012 12:56:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 2778 invoked by uid 99); 30 Dec 2012 12:56:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 12:56:54 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mrsanna1@gmail.com designates 209.85.219.47 as permitted sender)
Received: from [209.85.219.47] (HELO mail-oa0-f47.google.com) (209.85.219.47)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 12:56:49 +0000
Received: by mail-oa0-f47.google.com with SMTP id h1so10948441oag.6
        for <users@tomcat.apache.org>; Sun, 30 Dec 2012 04:56:28 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=XxrfXvNz9YloVFg1X11ZfBziWNMqR1pnrHL79O7BuGY=;
        b=T3Ai5HZahyPgISZacpsEYvHllyZYI2q2blvKxIaeoKTNI1f7Af74Hjgmx41ah/IhYB
         GfDRYcvZ5wrHRB6Fw4Fh1HCLgAFllR373WSfWj/VkbJT/BFMq04frD1GKFg8nVT2fJIa
         +gP/+NWZuSwU5MOikLM9jBRcV2ANUGv1+yhY7Za3vL78LJMZ8RLG+j0aD27IYv9IObLc
         XIWtu2nVWrnAqj73bi9PwuD6TMzVtrbSVzu6AsWVLY038wl0a4HJrsRxGwDvFYKCev28
         iIaQHXai8rzNi5+Ik6hdfQJgEUG3K50DZwjEDKTZoHk9m5wSIPa2yalotaIws+jcigYP
         oGPg==
MIME-Version: 1.0
Received: by 10.60.12.74 with SMTP id w10mr20278852oeb.100.1356872188775; Sun,
 30 Dec 2012 04:56:28 -0800 (PST)
Received: by 10.76.143.40 with HTTP; Sun, 30 Dec 2012 04:56:28 -0800 (PST)
In-Reply-To: <-6973156401268103703@unknownmsgid>
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
	<CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>
	<CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>
	<-6973156401268103703@unknownmsgid>
Date: Sun, 30 Dec 2012 13:56:28 +0100
Message-ID: <CAE17a0UcT6Ax7-BB2m1f0pcz0z=uZGkTKTCTM88LjgyjPa90Kg@mail.gmail.com>
Subject: Re: some clarification about context.
From: Mauro <mrsanna1@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On 30 December 2012 09:43, Pid * <pid@pidster.com> wrote:
> password redacted

Why need password?

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238740-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 30 13:52:35 2012
Return-Path: <users-return-238740-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id E1E38DF2C
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 30 Dec 2012 13:52:35 +0000 (UTC)
Received: (qmail 6698 invoked by uid 500); 30 Dec 2012 13:52:32 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 6121 invoked by uid 500); 30 Dec 2012 13:52:31 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 6083 invoked by uid 99); 30 Dec 2012 13:52:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 13:52:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 13:52:22 +0000
Received: from [192.168.245.207] (montserrat.wissensbank.com [212.85.37.175])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 809AE3C013A
	for <users@tomcat.apache.org>; Sun, 30 Dec 2012 14:53:08 +0100 (CET)
Message-ID: <50E04701.5030205@ice-sa.com>
Date: Sun, 30 Dec 2012 14:52:01 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: some clarification about context.
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>	<CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>	<CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>	<-6973156401268103703@unknownmsgid> <CAE17a0UcT6Ax7-BB2m1f0pcz0z=uZGkTKTCTM88LjgyjPa90Kg@mail.gmail.com>
In-Reply-To: <CAE17a0UcT6Ax7-BB2m1f0pcz0z=uZGkTKTCTM88LjgyjPa90Kg@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mauro wrote:
> On 30 December 2012 09:43, Pid * <pid@pidster.com> wrote:
>> password redacted
> 
> Why need password?

Does NOT need.  He means remove them.


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238741-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 30 14:05:49 2012
Return-Path: <users-return-238741-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id A610ADF8B
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 30 Dec 2012 14:05:49 +0000 (UTC)
Received: (qmail 27868 invoked by uid 500); 30 Dec 2012 14:05:46 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 27773 invoked by uid 500); 30 Dec 2012 14:05:46 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 27755 invoked by uid 99); 30 Dec 2012 14:05:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 14:05:45 +0000
X-ASF-Spam-Status: No, hits=-0.5 required=5.0
	tests=FREEMAIL_ENVFROM_END_DIGIT,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mrsanna1@gmail.com designates 209.85.214.179 as permitted sender)
Received: from [209.85.214.179] (HELO mail-ob0-f179.google.com) (209.85.214.179)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 14:05:39 +0000
Received: by mail-ob0-f179.google.com with SMTP id x4so10873892obh.38
        for <users@tomcat.apache.org>; Sun, 30 Dec 2012 06:05:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        bh=/aeqETY5aKJeaGbsXkmKgvtY05VlPU4aqP323eL7Kck=;
        b=DAY0WbHkZYELCJfgKfAb1VoGvmzddzMOQ34WTerQdHmhZNqNKUbaCP6Z9cgeIeJhN3
         mDgEZmK4ziFr/SE0DObB8qvWcfZCnbiGAN5PBvx5YMomFpea+GQ8q6VeWcnYHPzettne
         e5D1GLLIFN0VFjpOQNgavBOCX7TvFyFmnv1ZvlIMqaTbjgQZ4AMgmXHiwxm6KZPBOhIv
         OC3z2abR+vyA8pTVnjjwsuQ8VqMAFYDrjpzG6wQEKIpEQ9kDqDQHHKo6DIs7HMoi8RZW
         TygM1imOZuYthM9Y5Cwim17Cld7s+vCU31Bc1rN/EKWeyiFUUQ+kPXXO4Zn8Vt/EZWVp
         Nn9Q==
MIME-Version: 1.0
Received: by 10.182.131.100 with SMTP id ol4mr31855462obb.38.1356876318826;
 Sun, 30 Dec 2012 06:05:18 -0800 (PST)
Received: by 10.76.143.40 with HTTP; Sun, 30 Dec 2012 06:05:18 -0800 (PST)
In-Reply-To: <50E04701.5030205@ice-sa.com>
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>
	<CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>
	<CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>
	<-6973156401268103703@unknownmsgid>
	<CAE17a0UcT6Ax7-BB2m1f0pcz0z=uZGkTKTCTM88LjgyjPa90Kg@mail.gmail.com>
	<50E04701.5030205@ice-sa.com>
Date: Sun, 30 Dec 2012 15:05:18 +0100
Message-ID: <CAE17a0Vk2YT+4pjzZq1SJKWVQLwvwOX2O0f+c2Bg1W03sLEqQw@mail.gmail.com>
Subject: Re: some clarification about context.
From: Mauro <mrsanna1@gmail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On 30 December 2012 14:52, Andr=C3=A9 Warnier <aw@ice-sa.com> wrote:
> Mauro wrote:
>>
>> On 30 December 2012 09:43, Pid * <pid@pidster.com> wrote:
>>>
>>> password redacted
>>
>>
>> Why need password?
>
>
> Does NOT need.  He means remove them.

Ok, excuse me for my bad english understanding.

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238742-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Sun Dec 30 14:42:58 2012
Return-Path: <users-return-238742-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 4BA16EBE5
	for <apmail-tomcat-users-archive@www.apache.org>; Sun, 30 Dec 2012 14:42:58 +0000 (UTC)
Received: (qmail 83509 invoked by uid 500); 30 Dec 2012 14:42:55 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 83463 invoked by uid 500); 30 Dec 2012 14:42:55 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 83454 invoked by uid 99); 30 Dec 2012 14:42:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 14:42:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=5.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of aw@ice-sa.com designates 212.85.38.228 as permitted sender)
Received: from [212.85.38.228] (HELO tor.combios.es) (212.85.38.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 30 Dec 2012 14:42:47 +0000
Received: from [192.168.245.207] (montserrat.wissensbank.com [212.85.37.175])
	(Authenticated sender: andre.warnier@ice-sa.com)
	by tor.combios.es (Postfix) with ESMTPA id 765793C0025
	for <users@tomcat.apache.org>; Sun, 30 Dec 2012 15:43:32 +0100 (CET)
Message-ID: <50E052D0.2070701@ice-sa.com>
Date: Sun, 30 Dec 2012 15:42:24 +0100
From: =?UTF-8?B?QW5kcsOpIFdhcm5pZXI=?= <aw@ice-sa.com>
Reply-To: Tomcat Users List <users@tomcat.apache.org>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: some clarification about context.
References: <CAE17a0XyGwmT0vQbC0+eactRv2Mf6XNbEjTbAfKy=XCC+DKZVg@mail.gmail.com>	<CABzHfVkbEXpUoV_2U3LMEKx+Q5A4=hBUzF9aZXydY8GX_tHkLA@mail.gmail.com>	<CAE17a0VHCnyMJQH3TDqS0OsO-=dgb2U-s5pmURJhBapp=2b8Vg@mail.gmail.com>	<-6973156401268103703@unknownmsgid>	<CAE17a0UcT6Ax7-BB2m1f0pcz0z=uZGkTKTCTM88LjgyjPa90Kg@mail.gmail.com>	<50E04701.5030205@ice-sa.com> <CAE17a0Vk2YT+4pjzZq1SJKWVQLwvwOX2O0f+c2Bg1W03sLEqQw@mail.gmail.com>
In-Reply-To: <CAE17a0Vk2YT+4pjzZq1SJKWVQLwvwOX2O0f+c2Bg1W03sLEqQw@mail.gmail.com>
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 8bit
X-Virus-Checked: Checked by ClamAV on apache.org

Mauro wrote:
> On 30 December 2012 14:52, AndrÃ© Warnier <aw@ice-sa.com> wrote:
>> Mauro wrote:
>>> On 30 December 2012 09:43, Pid * <pid@pidster.com> wrote:
>>>> password redacted
>>>
>>> Why need password?
>>
>> Does NOT need.  He means remove them.
> 
> Ok, excuse me for my bad english understanding.
> 

You are excused. English people sometimes speak funny English, as if they had invented it.
But not this time :
http://oxforddictionaries.com/definition/english/redact?q=redact


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238743-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 31 08:05:32 2012
Return-Path: <users-return-238743-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90B02E544
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 31 Dec 2012 08:05:32 +0000 (UTC)
Received: (qmail 92684 invoked by uid 500); 31 Dec 2012 08:05:28 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 92631 invoked by uid 500); 31 Dec 2012 08:05:28 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 92589 invoked by uid 99); 31 Dec 2012 08:05:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 08:05:26 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cahirking@googlemail.com designates 209.85.214.170 as permitted sender)
Received: from [209.85.214.170] (HELO mail-ob0-f170.google.com) (209.85.214.170)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 08:05:20 +0000
Received: by mail-ob0-f170.google.com with SMTP id wp18so11373948obc.15
        for <users@tomcat.apache.org>; Mon, 31 Dec 2012 00:04:59 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:date:message-id:subject:from:to:content-type;
        bh=FcIre0e0frXXhSN5Zhmx1IJly3lbPN4WBOL6fnX0Zlk=;
        b=FlkTFKSF3w4atuoofpARdFsIBXljuryXrXidDduz4vUXGYnuIHz7w0xYL0d5bzrTrr
         SLINiomuF9g4JcOuXW+Fg6eUzVfEhMlIczAaUhmOLhdfrT0bXFrC7nURkeQo0j/5n/MF
         evJ7NWyFIldWo9cvt0JFcfhv59M2/WCLfjGfMTeObMdAQGyIQ+9RJowREO6tljnJV5R9
         6PCakz7cI9gVX5ozkxjgN++vU7fSjFa4q2OkYutCJCp0lOQPylsZKBNOcu+I+C4bQgOb
         NuBer1/4Skovp/GywwYtqf0ws9Vl4njb5cZqKez4P2hGrFtFCE7aEmb0qlvAxFFbMsej
         Mv5w==
MIME-Version: 1.0
Received: by 10.182.131.100 with SMTP id ol4mr33379164obb.38.1356941099345;
 Mon, 31 Dec 2012 00:04:59 -0800 (PST)
Received: by 10.60.27.74 with HTTP; Mon, 31 Dec 2012 00:04:59 -0800 (PST)
Date: Mon, 31 Dec 2012 08:04:59 +0000
Message-ID: <CAGJT4CXSx2qjeqUpMHOgVrSLdtjGPJgOtbPbm3TY6nL_ARQ0Pg@mail.gmail.com>
Subject: "No print service found" error on Apache Tomcat 6.0.35 running on
 FreeBSD using CUPS when trying to print via Jasper.
From: Cahir King <cahirking@googlemail.com>
To: users@tomcat.apache.org
Content-Type: multipart/mixed; boundary=e89a8f6438bc3525a804d22178b9
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8f6438bc3525a804d22178b9
Content-Type: multipart/alternative; boundary=e89a8f6438bc3525a504d22178b7

--e89a8f6438bc3525a504d22178b7
Content-Type: text/plain; charset=ISO-8859-1

Hello all,

I am running a web application (OpenVPMS) on Tomcat 6.0.35 on a FreeBSD 9.0
server. The webapp has a Mysql database backend. I have installed CUPS and
have several printers on the local network (mainly HP).  The JVM is openjdk
6.0 (1.6.0_32-b26), downloaded and installed from ports in BSD.

One feature of the webapp is that it is supposed to send label printouts
directly to a printer using jasper. However, when I try to do this, the
following error comes up:

Failed to generate report: No suitable print service found.

I can print from the BSD server using other programs like gedit. I just
can't get the tomcat server to print directly. I am assuming that the
jasper bit was installed automatically with the tomcat port on BSD, so I
don't think I need any additional programs. I have also made sure that the
tomcat user is a member of the cups group.

I am a novice in all of this, so if anyone can point me in the right
direction, I would be most grateful. The error log is attached to this
message.

Thank you.

--e89a8f6438bc3525a504d22178b7
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

Hello all,<br>
<br>
I am running a web application (OpenVPMS) on Tomcat 6.0.35 on a FreeBSD 9.0=
 server.  The
 webapp has a Mysql database backend.  I have installed CUPS and have=20
several printers on the local network (mainly HP).=A0 The JVM is openjdk 6.=
0 (1.6.0_32-b26), downloaded and installed from ports in BSD.<br>
<br>
One feature of the webapp is that it is supposed to send label printouts
 directly to a printer using jasper.  However, when I try to do=20
this, the following error comes up:<br>
<br>
Failed to generate report: No suitable print service found.<br>
<br>
I can print from the BSD server using other programs like gedit.  I just
 can&#39;t get the tomcat server to print directly.  I am assuming that the=
=20
jasper bit was installed automatically with the tomcat port on BSD, so I
 don&#39;t think I need any additional programs.  I have also made sure tha=
t
 the tomcat user is a member of the cups group.<br>
<br>
I am a novice in all of this, so if anyone can point me in the right=20
direction, I would be most grateful.  The error log is attached to this=20
message.<br>
<br>
Thank you.
		<br clear=3D"all"><br><br><div>=A0</div><br>

--e89a8f6438bc3525a504d22178b7--
--e89a8f6438bc3525a804d22178b9
Content-Type: text/plain; charset=US-ASCII; name="opv_print_error.txt"
Content-Disposition: attachment; filename="opv_print_error.txt"
Content-Transfer-Encoding: base64
X-Attachment-Id: f_hbdbim0t0

PGVycm9yLXJlcG9ydD4KPHZlcnNpb24+MS42LWJldGEtMzwvdmVyc2lvbj4KPHJldmlzaW9uPjQ4
ODc8L3JldmlzaW9uPgo8bWVzc2FnZT5GYWlsZWQgdG8gZ2VuZXJhdGUgcmVwb3J0OiBObyBzdWl0
YWJsZSBwcmludCBzZXJ2aWNlIGZvdW5kLjwvbWVzc2FnZT4KPGV4Y2VwdGlvbj4KPHR5cGU+b3Jn
Lm9wZW52cG1zLnJlcG9ydC5SZXBvcnRFeGNlcHRpb248L3R5cGU+CjxtZXNzYWdlPkZhaWxlZCB0
byBnZW5lcmF0ZSByZXBvcnQ6IE5vIHN1aXRhYmxlIHByaW50IHNlcnZpY2UgZm91bmQuPC9tZXNz
YWdlPgo8c3RhY2tUcmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy5yZXBvcnQuamFzcGVyLkFic3Ry
YWN0SmFzcGVySU1SZXBvcnQucHJpbnQoQWJzdHJhY3RKYXNwZXJJTVJlcG9ydC5qYXZhOjQyMCk8
L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQuaW0ucmVwb3J0LlJlcG9y
dGVyLnByaW50KFJlcG9ydGVyLmphdmE6MTUzKTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMu
d2ViLmNvbXBvbmVudC5pbS5wcmludC5BYnN0cmFjdElNUHJpbnRlci5wcmludChBYnN0cmFjdElN
UHJpbnRlci5qYXZhOjc4KTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMud2ViLmNvbXBvbmVu
dC5wcmludC5JbnRlcmFjdGl2ZVByaW50ZXIuZG9QcmludChJbnRlcmFjdGl2ZVByaW50ZXIuamF2
YTozNzApPC90cmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LnByaW50Lklu
dGVyYWN0aXZlUHJpbnRlciQyLm9uQ2xvc2UoSW50ZXJhY3RpdmVQcmludGVyLmphdmE6MzM5KTwv
dHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMud2ViLmNvbXBvbmVudC5ldmVudC5XaW5kb3dQYW5l
TGlzdGVuZXIud2luZG93UGFuZUNsb3NpbmcoV2luZG93UGFuZUxpc3RlbmVyLmphdmE6MzkpPC90
cmFjZT4KPHRyYWNlPm5leHRhcHAuZWNobzIuYXBwLldpbmRvd1BhbmUuZmlyZVdpbmRvd0Nsb3Np
bmcoV2luZG93UGFuZS5qYXZhOjE1NCk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5j
b21wb25lbnQuZGlhbG9nLlBvcHVwV2luZG93LmZpcmVXaW5kb3dDbG9zaW5nKFBvcHVwV2luZG93
LmphdmE6MjIxKTwvdHJhY2U+Cjx0cmFjZT5uZXh0YXBwLmVjaG8yLmFwcC5XaW5kb3dQYW5lLnVz
ZXJDbG9zZShXaW5kb3dQYW5lLmphdmE6Nzk1KTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMu
d2ViLmNvbXBvbmVudC5kaWFsb2cuUG9wdXBEaWFsb2cudXNlckNsb3NlKFBvcHVwRGlhbG9nLmph
dmE6MjI3KTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMud2ViLmNvbXBvbmVudC5kaWFsb2cu
UG9wdXBXaW5kb3cuY2xvc2UoUG9wdXBXaW5kb3cuamF2YToxNDUpPC90cmFjZT4KPHRyYWNlPm9y
Zy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmRpYWxvZy5Qb3B1cERpYWxvZy5jbG9zZShQb3B1cERp
YWxvZy5qYXZhOjM2Myk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQu
ZGlhbG9nLlBvcHVwRGlhbG9nLm9uT0soUG9wdXBEaWFsb2cuamF2YToyNzkpPC90cmFjZT4KPHRy
YWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmRpYWxvZy5Qb3B1cERpYWxvZy5vbkJ1dHRv
bihQb3B1cERpYWxvZy5qYXZhOjI1MCk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5j
b21wb25lbnQuZGlhbG9nLlBvcHVwRGlhbG9nJDIub25BY3Rpb24oUG9wdXBEaWFsb2cuamF2YToz
OTQpPC90cmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmV2ZW50LkFjdGlv
bkxpc3RlbmVyLmFjdGlvblBlcmZvcm1lZChBY3Rpb25MaXN0ZW5lci5qYXZhOjQxKTwvdHJhY2U+
Cjx0cmFjZT5uZXh0YXBwLmVjaG8yLmFwcC5idXR0b24uQWJzdHJhY3RCdXR0b24uZmlyZUFjdGlv
blBlcmZvcm1lZChBYnN0cmFjdEJ1dHRvbi5qYXZhOjEzNSk8L3RyYWNlPgo8dHJhY2U+ZWNob3Bv
aW50bmcuQnV0dG9uRXgkMS5hY3Rpb25QZXJmb3JtZWQoQnV0dG9uRXguamF2YToxMjApPC90cmFj
ZT4KPHRyYWNlPm5leHRhcHAuZWNobzIuYXBwLmJ1dHRvbi5EZWZhdWx0QnV0dG9uTW9kZWwuZmly
ZUFjdGlvblBlcmZvcm1lZChEZWZhdWx0QnV0dG9uTW9kZWwuamF2YTo3MCk8L3RyYWNlPgo8dHJh
Y2U+ZWNob3BvaW50bmcubW9kZWwuRGVmYXVsdEJ1dHRvbk1vZGVsRXguZG9BY3Rpb24oRGVmYXVs
dEJ1dHRvbk1vZGVsRXguamF2YTo1MSk8L3RyYWNlPgo8dHJhY2U+ZWNob3BvaW50bmcuQnV0dG9u
RXgucHJvY2Vzc0lucHV0KEJ1dHRvbkV4LmphdmE6MjAyKTwvdHJhY2U+Cjx0cmFjZT5uZXh0YXBw
LmVjaG8yLmFwcC51cGRhdGUuQ2xpZW50VXBkYXRlTWFuYWdlci5wcm9jZXNzKENsaWVudFVwZGF0
ZU1hbmFnZXIuamF2YToxMTYpPC90cmFjZT4KPHRyYWNlPm5leHRhcHAuZWNobzIuYXBwLnVwZGF0
ZS5VcGRhdGVNYW5hZ2VyLnByb2Nlc3NDbGllbnRVcGRhdGVzKFVwZGF0ZU1hbmFnZXIuamF2YTo4
OSk8L3RyYWNlPgo8dHJhY2U+bmV4dGFwcC5lY2hvMi53ZWJjb250YWluZXIuQ29udGFpbmVyU3lu
Y2hyb25pemVTZXJ2aWNlLnJlbmRlclVwZGF0ZShDb250YWluZXJTeW5jaHJvbml6ZVNlcnZpY2Uu
amF2YTo0NzEpPC90cmFjZT4KPHRyYWNlPm5leHRhcHAuZWNobzIud2VicmVuZGVyLnNlcnZpY2Uu
U3luY2hyb25pemVTZXJ2aWNlLnNlcnZpY2UoU3luY2hyb25pemVTZXJ2aWNlLmphdmE6Mjc5KTwv
dHJhY2U+Cjx0cmFjZT5uZXh0YXBwLmVjaG8yLndlYnJlbmRlci5XZWJSZW5kZXJTZXJ2bGV0LnBy
b2Nlc3MoV2ViUmVuZGVyU2VydmxldC5qYXZhOjI3Myk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52
cG1zLndlYi5zZXJ2bGV0LlNwcmluZ1dlYkNvbnRhaW5lclNlcnZsZXQucHJvY2VzcyhTcHJpbmdX
ZWJDb250YWluZXJTZXJ2bGV0LmphdmE6MTQ4KTwvdHJhY2U+Cjx0cmFjZT5uZXh0YXBwLmVjaG8y
LndlYnJlbmRlci5XZWJSZW5kZXJTZXJ2bGV0LmRvUG9zdChXZWJSZW5kZXJTZXJ2bGV0LmphdmE6
MTg5KTwvdHJhY2U+Cjx0cmFjZT5qYXZheC5zZXJ2bGV0Lmh0dHAuSHR0cFNlcnZsZXQuc2Vydmlj
ZShIdHRwU2VydmxldC5qYXZhOjYzNyk8L3RyYWNlPgo8dHJhY2U+amF2YXguc2VydmxldC5odHRw
Lkh0dHBTZXJ2bGV0LnNlcnZpY2UoSHR0cFNlcnZsZXQuamF2YTo3MTcpPC90cmFjZT4KPHRyYWNl
Pm9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5BcHBsaWNhdGlvbkZpbHRlckNoYWluLmludGVybmFs
RG9GaWx0ZXIoQXBwbGljYXRpb25GaWx0ZXJDaGFpbi5qYXZhOjI5MCk8L3RyYWNlPgo8dHJhY2U+
b3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLkFwcGxpY2F0aW9uRmlsdGVyQ2hhaW4uZG9GaWx0ZXIo
QXBwbGljYXRpb25GaWx0ZXJDaGFpbi5qYXZhOjIwNik8L3RyYWNlPgo8dHJhY2U+b3JnLnNwcmlu
Z2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hh
aW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM0Myk8L3RyYWNlPgo8dHJhY2U+b3Jn
LnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLmludGVyY2VwdC5GaWx0ZXJTZWN1
cml0eUludGVyY2VwdG9yLmludm9rZShGaWx0ZXJTZWN1cml0eUludGVyY2VwdG9yLmphdmE6MTA5
KTwvdHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hY2Nlc3Mu
aW50ZXJjZXB0LkZpbHRlclNlY3VyaXR5SW50ZXJjZXB0b3IuZG9GaWx0ZXIoRmlsdGVyU2VjdXJp
dHlJbnRlcmNlcHRvci5qYXZhOjgzKTwvdHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3Jr
LnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRl
cihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KTwvdHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJh
bWV3b3JrLnNlY3VyaXR5LndlYi5hdXRoZW50aWNhdGlvbi5Bbm9ueW1vdXNBdXRoZW50aWNhdGlv
bkZpbHRlci5kb0ZpbHRlcihBbm9ueW1vdXNBdXRoZW50aWNhdGlvbkZpbHRlci5qYXZhOjc4KTwv
dHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFp
blByb3h5JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6
MzU1KTwvdHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5hdXRo
ZW50aWNhdGlvbi5BYnN0cmFjdEF1dGhlbnRpY2F0aW9uUHJvY2Vzc2luZ0ZpbHRlci5kb0ZpbHRl
cihBYnN0cmFjdEF1dGhlbnRpY2F0aW9uUHJvY2Vzc2luZ0ZpbHRlci5qYXZhOjE4Nyk8L3RyYWNl
Pgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94
eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSk8
L3RyYWNlPgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLkV4
Y2VwdGlvblRyYW5zbGF0aW9uRmlsdGVyLmRvRmlsdGVyKEV4Y2VwdGlvblRyYW5zbGF0aW9uRmls
dGVyLmphdmE6OTcpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHku
d2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNo
YWluUHJveHkuamF2YTozNTUpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdvcmsuc2Vj
dXJpdHkud2ViLmNvbnRleHQuU2VjdXJpdHlDb250ZXh0UGVyc2lzdGVuY2VGaWx0ZXIuZG9GaWx0
ZXIoU2VjdXJpdHlDb250ZXh0UGVyc2lzdGVuY2VGaWx0ZXIuamF2YTo3OSk8L3RyYWNlPgo8dHJh
Y2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0
dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSk8L3RyYWNl
Pgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94
eS5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MTQ5KTwvdHJhY2U+Cjx0cmFjZT5vcmcu
c3ByaW5nZnJhbWV3b3JrLndlYi5maWx0ZXIuRGVsZWdhdGluZ0ZpbHRlclByb3h5Lmludm9rZURl
bGVnYXRlKERlbGVnYXRpbmdGaWx0ZXJQcm94eS5qYXZhOjIzNyk8L3RyYWNlPgo8dHJhY2U+b3Jn
LnNwcmluZ2ZyYW1ld29yay53ZWIuZmlsdGVyLkRlbGVnYXRpbmdGaWx0ZXJQcm94eS5kb0ZpbHRl
cihEZWxlZ2F0aW5nRmlsdGVyUHJveHkuamF2YToxNjcpPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFj
aGUuY2F0YWxpbmEuY29yZS5BcHBsaWNhdGlvbkZpbHRlckNoYWluLmludGVybmFsRG9GaWx0ZXIo
QXBwbGljYXRpb25GaWx0ZXJDaGFpbi5qYXZhOjIzNSk8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNo
ZS5jYXRhbGluYS5jb3JlLkFwcGxpY2F0aW9uRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoQXBwbGljYXRp
b25GaWx0ZXJDaGFpbi5qYXZhOjIwNik8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS5jYXRhbGlu
YS5jb3JlLlN0YW5kYXJkV3JhcHBlclZhbHZlLmludm9rZShTdGFuZGFyZFdyYXBwZXJWYWx2ZS5q
YXZhOjIzMyk8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJk
Q29udGV4dFZhbHZlLmludm9rZShTdGFuZGFyZENvbnRleHRWYWx2ZS5qYXZhOjE5MSk8L3RyYWNl
Pgo8dHJhY2U+b3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJkSG9zdFZhbHZlLmludm9r
ZShTdGFuZGFyZEhvc3RWYWx2ZS5qYXZhOjEyNyk8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS5j
YXRhbGluYS52YWx2ZXMuRXJyb3JSZXBvcnRWYWx2ZS5pbnZva2UoRXJyb3JSZXBvcnRWYWx2ZS5q
YXZhOjEwMik8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS5jYXRhbGluYS5jb3JlLlN0YW5kYXJk
RW5naW5lVmFsdmUuaW52b2tlKFN0YW5kYXJkRW5naW5lVmFsdmUuamF2YToxMDkpPC90cmFjZT4K
PHRyYWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEuY29ubmVjdG9yLkNveW90ZUFkYXB0ZXIuc2Vydmlj
ZShDb3lvdGVBZGFwdGVyLmphdmE6MjkzKTwvdHJhY2U+Cjx0cmFjZT5vcmcuYXBhY2hlLmNveW90
ZS5odHRwMTEuSHR0cDExUHJvY2Vzc29yLnByb2Nlc3MoSHR0cDExUHJvY2Vzc29yLmphdmE6ODU5
KTwvdHJhY2U+Cjx0cmFjZT5vcmcuYXBhY2hlLmNveW90ZS5odHRwMTEuSHR0cDExUHJvdG9jb2wk
SHR0cDExQ29ubmVjdGlvbkhhbmRsZXIucHJvY2VzcyhIdHRwMTFQcm90b2NvbC5qYXZhOjYwMik8
L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS50b21jYXQudXRpbC5uZXQuSklvRW5kcG9pbnQkV29y
a2VyLnJ1bihKSW9FbmRwb2ludC5qYXZhOjQ4OSk8L3RyYWNlPgo8dHJhY2U+amF2YS5sYW5nLlRo
cmVhZC5ydW4oVGhyZWFkLmphdmE6Njc5KTwvdHJhY2U+Cjwvc3RhY2tUcmFjZT4KPGNhdXNlPgo8
dHlwZT5uZXQuc2YuamFzcGVycmVwb3J0cy5lbmdpbmUuSlJFeGNlcHRpb248L3R5cGU+CjxtZXNz
YWdlPk5vIHN1aXRhYmxlIHByaW50IHNlcnZpY2UgZm91bmQuPC9tZXNzYWdlPgo8c3RhY2tUcmFj
ZT4KPHRyYWNlPm5ldC5zZi5qYXNwZXJyZXBvcnRzLmVuZ2luZS5leHBvcnQuSlJQcmludFNlcnZp
Y2VFeHBvcnRlci5leHBvcnRSZXBvcnQoSlJQcmludFNlcnZpY2VFeHBvcnRlci5qYXZhOjE1MCk8
L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLnJlcG9ydC5qYXNwZXIuQWJzdHJhY3RKYXNwZXJJ
TVJlcG9ydC5wcmludChBYnN0cmFjdEphc3BlcklNUmVwb3J0LmphdmE6Njk4KTwvdHJhY2U+Cjx0
cmFjZT5vcmcub3BlbnZwbXMucmVwb3J0Lmphc3Blci5BYnN0cmFjdEphc3BlcklNUmVwb3J0LnBy
aW50KEFic3RyYWN0SmFzcGVySU1SZXBvcnQuamF2YTo0MTgpPC90cmFjZT4KPHRyYWNlPm9yZy5v
cGVudnBtcy53ZWIuY29tcG9uZW50LmltLnJlcG9ydC5SZXBvcnRlci5wcmludChSZXBvcnRlci5q
YXZhOjE1Myk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQuaW0ucHJp
bnQuQWJzdHJhY3RJTVByaW50ZXIucHJpbnQoQWJzdHJhY3RJTVByaW50ZXIuamF2YTo3OCk8L3Ry
YWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQucHJpbnQuSW50ZXJhY3RpdmVQ
cmludGVyLmRvUHJpbnQoSW50ZXJhY3RpdmVQcmludGVyLmphdmE6MzcwKTwvdHJhY2U+Cjx0cmFj
ZT5vcmcub3BlbnZwbXMud2ViLmNvbXBvbmVudC5wcmludC5JbnRlcmFjdGl2ZVByaW50ZXIkMi5v
bkNsb3NlKEludGVyYWN0aXZlUHJpbnRlci5qYXZhOjMzOSk8L3RyYWNlPgo8dHJhY2U+b3JnLm9w
ZW52cG1zLndlYi5jb21wb25lbnQuZXZlbnQuV2luZG93UGFuZUxpc3RlbmVyLndpbmRvd1BhbmVD
bG9zaW5nKFdpbmRvd1BhbmVMaXN0ZW5lci5qYXZhOjM5KTwvdHJhY2U+Cjx0cmFjZT5uZXh0YXBw
LmVjaG8yLmFwcC5XaW5kb3dQYW5lLmZpcmVXaW5kb3dDbG9zaW5nKFdpbmRvd1BhbmUuamF2YTox
NTQpPC90cmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmRpYWxvZy5Qb3B1
cFdpbmRvdy5maXJlV2luZG93Q2xvc2luZyhQb3B1cFdpbmRvdy5qYXZhOjIyMSk8L3RyYWNlPgo8
dHJhY2U+bmV4dGFwcC5lY2hvMi5hcHAuV2luZG93UGFuZS51c2VyQ2xvc2UoV2luZG93UGFuZS5q
YXZhOjc5NSk8L3RyYWNlPgo8dHJhY2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQuZGlhbG9n
LlBvcHVwRGlhbG9nLnVzZXJDbG9zZShQb3B1cERpYWxvZy5qYXZhOjIyNyk8L3RyYWNlPgo8dHJh
Y2U+b3JnLm9wZW52cG1zLndlYi5jb21wb25lbnQuZGlhbG9nLlBvcHVwV2luZG93LmNsb3NlKFBv
cHVwV2luZG93LmphdmE6MTQ1KTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMud2ViLmNvbXBv
bmVudC5kaWFsb2cuUG9wdXBEaWFsb2cuY2xvc2UoUG9wdXBEaWFsb2cuamF2YTozNjMpPC90cmFj
ZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmRpYWxvZy5Qb3B1cERpYWxvZy5v
bk9LKFBvcHVwRGlhbG9nLmphdmE6Mjc5KTwvdHJhY2U+Cjx0cmFjZT5vcmcub3BlbnZwbXMud2Vi
LmNvbXBvbmVudC5kaWFsb2cuUG9wdXBEaWFsb2cub25CdXR0b24oUG9wdXBEaWFsb2cuamF2YToy
NTApPC90cmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuY29tcG9uZW50LmRpYWxvZy5Qb3B1
cERpYWxvZyQyLm9uQWN0aW9uKFBvcHVwRGlhbG9nLmphdmE6Mzk0KTwvdHJhY2U+Cjx0cmFjZT5v
cmcub3BlbnZwbXMud2ViLmNvbXBvbmVudC5ldmVudC5BY3Rpb25MaXN0ZW5lci5hY3Rpb25QZXJm
b3JtZWQoQWN0aW9uTGlzdGVuZXIuamF2YTo0MSk8L3RyYWNlPgo8dHJhY2U+bmV4dGFwcC5lY2hv
Mi5hcHAuYnV0dG9uLkFic3RyYWN0QnV0dG9uLmZpcmVBY3Rpb25QZXJmb3JtZWQoQWJzdHJhY3RC
dXR0b24uamF2YToxMzUpPC90cmFjZT4KPHRyYWNlPmVjaG9wb2ludG5nLkJ1dHRvbkV4JDEuYWN0
aW9uUGVyZm9ybWVkKEJ1dHRvbkV4LmphdmE6MTIwKTwvdHJhY2U+Cjx0cmFjZT5uZXh0YXBwLmVj
aG8yLmFwcC5idXR0b24uRGVmYXVsdEJ1dHRvbk1vZGVsLmZpcmVBY3Rpb25QZXJmb3JtZWQoRGVm
YXVsdEJ1dHRvbk1vZGVsLmphdmE6NzApPC90cmFjZT4KPHRyYWNlPmVjaG9wb2ludG5nLm1vZGVs
LkRlZmF1bHRCdXR0b25Nb2RlbEV4LmRvQWN0aW9uKERlZmF1bHRCdXR0b25Nb2RlbEV4LmphdmE6
NTEpPC90cmFjZT4KPHRyYWNlPmVjaG9wb2ludG5nLkJ1dHRvbkV4LnByb2Nlc3NJbnB1dChCdXR0
b25FeC5qYXZhOjIwMik8L3RyYWNlPgo8dHJhY2U+bmV4dGFwcC5lY2hvMi5hcHAudXBkYXRlLkNs
aWVudFVwZGF0ZU1hbmFnZXIucHJvY2VzcyhDbGllbnRVcGRhdGVNYW5hZ2VyLmphdmE6MTE2KTwv
dHJhY2U+Cjx0cmFjZT5uZXh0YXBwLmVjaG8yLmFwcC51cGRhdGUuVXBkYXRlTWFuYWdlci5wcm9j
ZXNzQ2xpZW50VXBkYXRlcyhVcGRhdGVNYW5hZ2VyLmphdmE6ODkpPC90cmFjZT4KPHRyYWNlPm5l
eHRhcHAuZWNobzIud2ViY29udGFpbmVyLkNvbnRhaW5lclN5bmNocm9uaXplU2VydmljZS5yZW5k
ZXJVcGRhdGUoQ29udGFpbmVyU3luY2hyb25pemVTZXJ2aWNlLmphdmE6NDcxKTwvdHJhY2U+Cjx0
cmFjZT5uZXh0YXBwLmVjaG8yLndlYnJlbmRlci5zZXJ2aWNlLlN5bmNocm9uaXplU2VydmljZS5z
ZXJ2aWNlKFN5bmNocm9uaXplU2VydmljZS5qYXZhOjI3OSk8L3RyYWNlPgo8dHJhY2U+bmV4dGFw
cC5lY2hvMi53ZWJyZW5kZXIuV2ViUmVuZGVyU2VydmxldC5wcm9jZXNzKFdlYlJlbmRlclNlcnZs
ZXQuamF2YToyNzMpPC90cmFjZT4KPHRyYWNlPm9yZy5vcGVudnBtcy53ZWIuc2VydmxldC5TcHJp
bmdXZWJDb250YWluZXJTZXJ2bGV0LnByb2Nlc3MoU3ByaW5nV2ViQ29udGFpbmVyU2VydmxldC5q
YXZhOjE0OCk8L3RyYWNlPgo8dHJhY2U+bmV4dGFwcC5lY2hvMi53ZWJyZW5kZXIuV2ViUmVuZGVy
U2VydmxldC5kb1Bvc3QoV2ViUmVuZGVyU2VydmxldC5qYXZhOjE4OSk8L3RyYWNlPgo8dHJhY2U+
amF2YXguc2VydmxldC5odHRwLkh0dHBTZXJ2bGV0LnNlcnZpY2UoSHR0cFNlcnZsZXQuamF2YTo2
MzcpPC90cmFjZT4KPHRyYWNlPmphdmF4LnNlcnZsZXQuaHR0cC5IdHRwU2VydmxldC5zZXJ2aWNl
KEh0dHBTZXJ2bGV0LmphdmE6NzE3KTwvdHJhY2U+Cjx0cmFjZT5vcmcuYXBhY2hlLmNhdGFsaW5h
LmNvcmUuQXBwbGljYXRpb25GaWx0ZXJDaGFpbi5pbnRlcm5hbERvRmlsdGVyKEFwcGxpY2F0aW9u
RmlsdGVyQ2hhaW4uamF2YToyOTApPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEu
Y29yZS5BcHBsaWNhdGlvbkZpbHRlckNoYWluLmRvRmlsdGVyKEFwcGxpY2F0aW9uRmlsdGVyQ2hh
aW4uamF2YToyMDYpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdvcmsuc2VjdXJpdHku
d2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRlckNoYWluLmRvRmlsdGVyKEZpbHRlckNo
YWluUHJveHkuamF2YTozNDMpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdvcmsuc2Vj
dXJpdHkud2ViLmFjY2Vzcy5pbnRlcmNlcHQuRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRvci5pbnZv
a2UoRmlsdGVyU2VjdXJpdHlJbnRlcmNlcHRvci5qYXZhOjEwOSk8L3RyYWNlPgo8dHJhY2U+b3Jn
LnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYWNjZXNzLmludGVyY2VwdC5GaWx0ZXJTZWN1
cml0eUludGVyY2VwdG9yLmRvRmlsdGVyKEZpbHRlclNlY3VyaXR5SW50ZXJjZXB0b3IuamF2YTo4
Myk8L3RyYWNlPgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVy
Q2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVyQ2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5q
YXZhOjM1NSk8L3RyYWNlPgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIu
YXV0aGVudGljYXRpb24uQW5vbnltb3VzQXV0aGVudGljYXRpb25GaWx0ZXIuZG9GaWx0ZXIoQW5v
bnltb3VzQXV0aGVudGljYXRpb25GaWx0ZXIuamF2YTo3OCk8L3RyYWNlPgo8dHJhY2U+b3JnLnNw
cmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuRmlsdGVyQ2hhaW5Qcm94eSRWaXJ0dWFsRmlsdGVy
Q2hhaW4uZG9GaWx0ZXIoRmlsdGVyQ2hhaW5Qcm94eS5qYXZhOjM1NSk8L3RyYWNlPgo8dHJhY2U+
b3JnLnNwcmluZ2ZyYW1ld29yay5zZWN1cml0eS53ZWIuYXV0aGVudGljYXRpb24uQWJzdHJhY3RB
dXRoZW50aWNhdGlvblByb2Nlc3NpbmdGaWx0ZXIuZG9GaWx0ZXIoQWJzdHJhY3RBdXRoZW50aWNh
dGlvblByb2Nlc3NpbmdGaWx0ZXIuamF2YToxODcpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdm
cmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRlckNoYWlu
LmRvRmlsdGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpPC90cmFjZT4KPHRyYWNlPm9yZy5z
cHJpbmdmcmFtZXdvcmsuc2VjdXJpdHkud2ViLmFjY2Vzcy5FeGNlcHRpb25UcmFuc2xhdGlvbkZp
bHRlci5kb0ZpbHRlcihFeGNlcHRpb25UcmFuc2xhdGlvbkZpbHRlci5qYXZhOjk3KTwvdHJhY2U+
Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5GaWx0ZXJDaGFpblByb3h5
JFZpcnR1YWxGaWx0ZXJDaGFpbi5kb0ZpbHRlcihGaWx0ZXJDaGFpblByb3h5LmphdmE6MzU1KTwv
dHJhY2U+Cjx0cmFjZT5vcmcuc3ByaW5nZnJhbWV3b3JrLnNlY3VyaXR5LndlYi5jb250ZXh0LlNl
Y3VyaXR5Q29udGV4dFBlcnNpc3RlbmNlRmlsdGVyLmRvRmlsdGVyKFNlY3VyaXR5Q29udGV4dFBl
cnNpc3RlbmNlRmlsdGVyLmphdmE6NzkpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdv
cmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkkVmlydHVhbEZpbHRlckNoYWluLmRvRmls
dGVyKEZpbHRlckNoYWluUHJveHkuamF2YTozNTUpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdm
cmFtZXdvcmsuc2VjdXJpdHkud2ViLkZpbHRlckNoYWluUHJveHkuZG9GaWx0ZXIoRmlsdGVyQ2hh
aW5Qcm94eS5qYXZhOjE0OSk8L3RyYWNlPgo8dHJhY2U+b3JnLnNwcmluZ2ZyYW1ld29yay53ZWIu
ZmlsdGVyLkRlbGVnYXRpbmdGaWx0ZXJQcm94eS5pbnZva2VEZWxlZ2F0ZShEZWxlZ2F0aW5nRmls
dGVyUHJveHkuamF2YToyMzcpPC90cmFjZT4KPHRyYWNlPm9yZy5zcHJpbmdmcmFtZXdvcmsud2Vi
LmZpbHRlci5EZWxlZ2F0aW5nRmlsdGVyUHJveHkuZG9GaWx0ZXIoRGVsZWdhdGluZ0ZpbHRlclBy
b3h5LmphdmE6MTY3KTwvdHJhY2U+Cjx0cmFjZT5vcmcuYXBhY2hlLmNhdGFsaW5hLmNvcmUuQXBw
bGljYXRpb25GaWx0ZXJDaGFpbi5pbnRlcm5hbERvRmlsdGVyKEFwcGxpY2F0aW9uRmlsdGVyQ2hh
aW4uamF2YToyMzUpPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5BcHBs
aWNhdGlvbkZpbHRlckNoYWluLmRvRmlsdGVyKEFwcGxpY2F0aW9uRmlsdGVyQ2hhaW4uamF2YToy
MDYpPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZFdyYXBw
ZXJWYWx2ZS5pbnZva2UoU3RhbmRhcmRXcmFwcGVyVmFsdmUuamF2YToyMzMpPC90cmFjZT4KPHRy
YWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZENvbnRleHRWYWx2ZS5pbnZva2Uo
U3RhbmRhcmRDb250ZXh0VmFsdmUuamF2YToxOTEpPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFjaGUu
Y2F0YWxpbmEuY29yZS5TdGFuZGFyZEhvc3RWYWx2ZS5pbnZva2UoU3RhbmRhcmRIb3N0VmFsdmUu
amF2YToxMjcpPC90cmFjZT4KPHRyYWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEudmFsdmVzLkVycm9y
UmVwb3J0VmFsdmUuaW52b2tlKEVycm9yUmVwb3J0VmFsdmUuamF2YToxMDIpPC90cmFjZT4KPHRy
YWNlPm9yZy5hcGFjaGUuY2F0YWxpbmEuY29yZS5TdGFuZGFyZEVuZ2luZVZhbHZlLmludm9rZShT
dGFuZGFyZEVuZ2luZVZhbHZlLmphdmE6MTA5KTwvdHJhY2U+Cjx0cmFjZT5vcmcuYXBhY2hlLmNh
dGFsaW5hLmNvbm5lY3Rvci5Db3lvdGVBZGFwdGVyLnNlcnZpY2UoQ295b3RlQWRhcHRlci5qYXZh
OjI5Myk8L3RyYWNlPgo8dHJhY2U+b3JnLmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMVByb2Nl
c3Nvci5wcm9jZXNzKEh0dHAxMVByb2Nlc3Nvci5qYXZhOjg1OSk8L3RyYWNlPgo8dHJhY2U+b3Jn
LmFwYWNoZS5jb3lvdGUuaHR0cDExLkh0dHAxMVByb3RvY29sJEh0dHAxMUNvbm5lY3Rpb25IYW5k
bGVyLnByb2Nlc3MoSHR0cDExUHJvdG9jb2wuamF2YTo2MDIpPC90cmFjZT4KPHRyYWNlPm9yZy5h
cGFjaGUudG9tY2F0LnV0aWwubmV0LkpJb0VuZHBvaW50JFdvcmtlci5ydW4oSklvRW5kcG9pbnQu
amF2YTo0ODkpPC90cmFjZT4KPHRyYWNlPmphdmEubGFuZy5UaHJlYWQucnVuKFRocmVhZC5qYXZh
OjY3OSk8L3RyYWNlPgo8L3N0YWNrVHJhY2U+CjwvY2F1c2U+CjwvZXhjZXB0aW9uPgo8ZnJlZU1l
bW9yeT4zMjg2MDE3NjwvZnJlZU1lbW9yeT4KPHRvdGFsTWVtb3J5Pjc5MDc3Mzc2PC90b3RhbE1l
bW9yeT4KPG1heE1lbW9yeT4yNTk1MjI1NjA8L21heE1lbW9yeT4KPHByb3BlcnRpZXM+Cjxwcm9w
ZXJ0eSBuYW1lPSJqYXZhLnJ1bnRpbWUubmFtZSIgdmFsdWU9Ik9wZW5KREsgUnVudGltZSBFbnZp
cm9ubWVudCIvPgo8cHJvcGVydHkgbmFtZT0ic3VuLmJvb3QubGlicmFyeS5wYXRoIiB2YWx1ZT0i
L3Vzci9sb2NhbC9vcGVuamRrNi9qcmUvbGliL2kzODYiLz4KPHByb3BlcnR5IG5hbWU9ImphdmEu
dm0udmVyc2lvbiIgdmFsdWU9IjIwLjAtYjEyIi8+Cjxwcm9wZXJ0eSBuYW1lPSJzaGFyZWQubG9h
ZGVyIiB2YWx1ZT0iIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnZtLnZlbmRvciIgdmFsdWU9IlN1
biBNaWNyb3N5c3RlbXMgSW5jLiIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS52ZW5kb3IudXJsIiB2
YWx1ZT0iaHR0cDovL2phdmEuc3VuLmNvbS8iLz4KPHByb3BlcnR5IG5hbWU9InBhdGguc2VwYXJh
dG9yIiB2YWx1ZT0iOiIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS52bS5uYW1lIiB2YWx1ZT0iT3Bl
bkpESyBDbGllbnQgVk0iLz4KPHByb3BlcnR5IG5hbWU9InRvbWNhdC51dGlsLmJ1Zi5TdHJpbmdD
YWNoZS5ieXRlLmVuYWJsZWQiIHZhbHVlPSJ0cnVlIi8+Cjxwcm9wZXJ0eSBuYW1lPSJmaWxlLmVu
Y29kaW5nLnBrZyIgdmFsdWU9InN1bi5pbyIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS51dGlsLmxv
Z2dpbmcuY29uZmlnLmZpbGUiIHZhbHVlPSIvdXNyL2xvY2FsL2FwYWNoZS10b21jYXQtNi4wL2Nv
bmYvbG9nZ2luZy5wcm9wZXJ0aWVzIi8+Cjxwcm9wZXJ0eSBuYW1lPSJzdW4uamF2YS5sYXVuY2hl
ciIgdmFsdWU9IlNVTl9TVEFOREFSRCIvPgo8cHJvcGVydHkgbmFtZT0ic3VuLm9zLnBhdGNoLmxl
dmVsIiB2YWx1ZT0idW5rbm93biIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS52bS5zcGVjaWZpY2F0
aW9uLm5hbWUiIHZhbHVlPSJKYXZhIFZpcnR1YWwgTWFjaGluZSBTcGVjaWZpY2F0aW9uIi8+Cjxw
cm9wZXJ0eSBuYW1lPSJ1c2VyLmRpciIgdmFsdWU9Ii91c3IvbG9jYWwvYXBhY2hlLXRvbWNhdC02
LjAvYmluIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnJ1bnRpbWUudmVyc2lvbiIgdmFsdWU9IjEu
Ni4wXzMyLWIyNiIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS5hd3QuZ3JhcGhpY3NlbnYiIHZhbHVl
PSJzdW4uYXd0LlgxMUdyYXBoaWNzRW52aXJvbm1lbnQiLz4KPHByb3BlcnR5IG5hbWU9ImphdmEu
ZW5kb3JzZWQuZGlycyIgdmFsdWU9Ii91c3IvbG9jYWwvYXBhY2hlLXRvbWNhdC02LjAvZW5kb3Jz
ZWQiLz4KPHByb3BlcnR5IG5hbWU9Im9zLmFyY2giIHZhbHVlPSJpMzg2Ii8+Cjxwcm9wZXJ0eSBu
YW1lPSJqYXZhLmlvLnRtcGRpciIgdmFsdWU9Ii91c3IvbG9jYWwvYXBhY2hlLXRvbWNhdC02LjAv
dGVtcCIvPgo8cHJvcGVydHkgbmFtZT0ibGluZS5zZXBhcmF0b3IiIHZhbHVlPSIKIi8+Cjxwcm9w
ZXJ0eSBuYW1lPSJqYXZhLnZtLnNwZWNpZmljYXRpb24udmVuZG9yIiB2YWx1ZT0iU3VuIE1pY3Jv
c3lzdGVtcyBJbmMuIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnV0aWwubG9nZ2luZy5tYW5hZ2Vy
IiB2YWx1ZT0ib3JnLmFwYWNoZS5qdWxpLkNsYXNzTG9hZGVyTG9nTWFuYWdlciIvPgo8cHJvcGVy
dHkgbmFtZT0iamF2YS5uYW1pbmcuZmFjdG9yeS51cmwucGtncyIgdmFsdWU9Im9yZy5hcGFjaGUu
bmFtaW5nIi8+Cjxwcm9wZXJ0eSBuYW1lPSJvcy5uYW1lIiB2YWx1ZT0iRnJlZUJTRCIvPgo8cHJv
cGVydHkgbmFtZT0ic3VuLmpudS5lbmNvZGluZyIgdmFsdWU9IklTTzg4NTktMSIvPgo8cHJvcGVy
dHkgbmFtZT0ib3JnLmFwYWNoZS5jb21tb25zLmp4cGF0aC5KWFBhdGhDb250ZXh0RmFjdG9yeSIg
dmFsdWU9Im9yZy5vcGVudnBtcy5jb21wb25lbnQuc3lzdGVtLmNvbW1vbi5qeHBhdGguT3BlblZQ
TVNDb250ZXh0RmFjdG9yeVJlZmVyZW5jZUltcGwiLz4KPHByb3BlcnR5IG5hbWU9ImphdmEubGli
cmFyeS5wYXRoIiB2YWx1ZT0iL3Vzci9sb2NhbC9vcGVuamRrNi9qcmUvbGliL2kzODYvY2xpZW50
Oi91c3IvbG9jYWwvb3BlbmpkazYvanJlL2xpYi9pMzg2Oi91c3IvbG9jYWwvb3BlbmpkazYvanJl
Ly4uL2xpYi9pMzg2Oi91c3IvamF2YS9wYWNrYWdlcy9saWIvaTM4NjovbGliOi91c3IvbGliOi91
c3IvbG9jYWwvbGliIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnNwZWNpZmljYXRpb24ubmFtZSIg
dmFsdWU9IkphdmEgUGxhdGZvcm0gQVBJIFNwZWNpZmljYXRpb24iLz4KPHByb3BlcnR5IG5hbWU9
ImphdmEuY2xhc3MudmVyc2lvbiIgdmFsdWU9IjUwLjAiLz4KPHByb3BlcnR5IG5hbWU9InN1bi5t
YW5hZ2VtZW50LmNvbXBpbGVyIiB2YWx1ZT0iSG90U3BvdCBDbGllbnQgQ29tcGlsZXIiLz4KPHBy
b3BlcnR5IG5hbWU9Im9zLnZlcnNpb24iIHZhbHVlPSI5LjAtUkVMRUFTRSIvPgo8cHJvcGVydHkg
bmFtZT0idXNlci5ob21lIiB2YWx1ZT0iL2hvbWUvb3BlbnZwbXMiLz4KPHByb3BlcnR5IG5hbWU9
InVzZXIudGltZXpvbmUiIHZhbHVlPSJFdXJvcGUvTG9uZG9uIi8+Cjxwcm9wZXJ0eSBuYW1lPSJj
YXRhbGluYS51c2VOYW1pbmciIHZhbHVlPSJ0cnVlIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLmF3
dC5wcmludGVyam9iIiB2YWx1ZT0ic3VuLnByaW50LlBTUHJpbnRlckpvYiIvPgo8cHJvcGVydHkg
bmFtZT0iamF2YS5zcGVjaWZpY2F0aW9uLnZlcnNpb24iIHZhbHVlPSIxLjYiLz4KPHByb3BlcnR5
IG5hbWU9ImZpbGUuZW5jb2RpbmciIHZhbHVlPSJJU084ODU5LTEiLz4KPHByb3BlcnR5IG5hbWU9
ImNhdGFsaW5hLmhvbWUiIHZhbHVlPSIvdXNyL2xvY2FsL2FwYWNoZS10b21jYXQtNi4wIi8+Cjxw
cm9wZXJ0eSBuYW1lPSJ1c2VyLm5hbWUiIHZhbHVlPSJvcGVudnBtcyIvPgo8cHJvcGVydHkgbmFt
ZT0iamF2YS5jbGFzcy5wYXRoIiB2YWx1ZT0iL3Vzci9sb2NhbC9hcGFjaGUtdG9tY2F0LTYuMC9i
aW4vYm9vdHN0cmFwLmphciIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS5uYW1pbmcuZmFjdG9yeS5p
bml0aWFsIiB2YWx1ZT0ib3JnLmFwYWNoZS5uYW1pbmcuamF2YS5qYXZhVVJMQ29udGV4dEZhY3Rv
cnkiLz4KPHByb3BlcnR5IG5hbWU9Im9wZW52cG1zIiB2YWx1ZT0iL3Vzci9sb2NhbC9hcGFjaGUt
dG9tY2F0LTYuMC93ZWJhcHBzL29wZW52cG1zLyIvPgo8cHJvcGVydHkgbmFtZT0icGFja2FnZS5k
ZWZpbml0aW9uIiB2YWx1ZT0ic3VuLixqYXZhLixvcmcuYXBhY2hlLmNhdGFsaW5hLixvcmcuYXBh
Y2hlLmNveW90ZS4sb3JnLmFwYWNoZS50b21jYXQuLG9yZy5hcGFjaGUuamFzcGVyLiIvPgo8cHJv
cGVydHkgbmFtZT0iamF2YS52bS5zcGVjaWZpY2F0aW9uLnZlcnNpb24iIHZhbHVlPSIxLjAiLz4K
PHByb3BlcnR5IG5hbWU9InN1bi5hcmNoLmRhdGEubW9kZWwiIHZhbHVlPSIzMiIvPgo8cHJvcGVy
dHkgbmFtZT0iamF2YS5ob21lIiB2YWx1ZT0iL3Vzci9sb2NhbC9vcGVuamRrNi9qcmUiLz4KPHBy
b3BlcnR5IG5hbWU9InN1bi5qYXZhLmNvbW1hbmQiIHZhbHVlPSJvcmcuYXBhY2hlLmNhdGFsaW5h
LnN0YXJ0dXAuQm9vdHN0cmFwIHN0YXJ0Ii8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnNwZWNpZmlj
YXRpb24udmVuZG9yIiB2YWx1ZT0iU3VuIE1pY3Jvc3lzdGVtcyBJbmMuIi8+Cjxwcm9wZXJ0eSBu
YW1lPSJ1c2VyLmxhbmd1YWdlIiB2YWx1ZT0iZW4iLz4KPHByb3BlcnR5IG5hbWU9ImphdmEudm0u
aW5mbyIgdmFsdWU9Im1peGVkIG1vZGUiLz4KPHByb3BlcnR5IG5hbWU9ImphdmEudmVyc2lvbiIg
dmFsdWU9IjEuNi4wXzMyIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLmV4dC5kaXJzIiB2YWx1ZT0i
L3Vzci9sb2NhbC9vcGVuamRrNi9qcmUvbGliL2V4dDovdXNyL2phdmEvcGFja2FnZXMvbGliL2V4
dCIvPgo8cHJvcGVydHkgbmFtZT0ic3VuLmJvb3QuY2xhc3MucGF0aCIgdmFsdWU9Ii91c3IvbG9j
YWwvb3BlbmpkazYvanJlL2xpYi9yZXNvdXJjZXMuamFyOi91c3IvbG9jYWwvb3BlbmpkazYvanJl
L2xpYi9ydC5qYXI6L3Vzci9sb2NhbC9vcGVuamRrNi9qcmUvbGliL3N1bnJzYXNpZ24uamFyOi91
c3IvbG9jYWwvb3BlbmpkazYvanJlL2xpYi9qc3NlLmphcjovdXNyL2xvY2FsL29wZW5qZGs2L2py
ZS9saWIvamNlLmphcjovdXNyL2xvY2FsL29wZW5qZGs2L2pyZS9saWIvY2hhcnNldHMuamFyOi91
c3IvbG9jYWwvb3BlbmpkazYvanJlL2xpYi9tb2R1bGVzL2pkay5ib290LmphcjovdXNyL2xvY2Fs
L29wZW5qZGs2L2pyZS9jbGFzc2VzIi8+Cjxwcm9wZXJ0eSBuYW1lPSJqYXZhLnZlbmRvciIgdmFs
dWU9IlN1biBNaWNyb3N5c3RlbXMgSW5jLiIvPgo8cHJvcGVydHkgbmFtZT0ic2VydmVyLmxvYWRl
ciIgdmFsdWU9IiIvPgo8cHJvcGVydHkgbmFtZT0iY2F0YWxpbmEuYmFzZSIgdmFsdWU9Ii91c3Iv
bG9jYWwvYXBhY2hlLXRvbWNhdC02LjAiLz4KPHByb3BlcnR5IG5hbWU9ImZpbGUuc2VwYXJhdG9y
IiB2YWx1ZT0iLyIvPgo8cHJvcGVydHkgbmFtZT0iamF2YS52ZW5kb3IudXJsLmJ1ZyIgdmFsdWU9
Imh0dHA6Ly9qYXZhLnN1bi5jb20vY2dpLWJpbi9idWdyZXBvcnQuY2dpIi8+Cjxwcm9wZXJ0eSBu
YW1lPSJjb21tb24ubG9hZGVyIiB2YWx1ZT0iJHtjYXRhbGluYS5iYXNlfS9saWIsJHtjYXRhbGlu
YS5iYXNlfS9saWIvKi5qYXIsJHtjYXRhbGluYS5ob21lfS9saWIsJHtjYXRhbGluYS5ob21lfS9s
aWIvKi5qYXIiLz4KPHByb3BlcnR5IG5hbWU9InN1bi5jcHUuZW5kaWFuIiB2YWx1ZT0ibGl0dGxl
Ii8+Cjxwcm9wZXJ0eSBuYW1lPSJzdW4uaW8udW5pY29kZS5lbmNvZGluZyIgdmFsdWU9IlVuaWNv
ZGVMaXR0bGUiLz4KPHByb3BlcnR5IG5hbWU9InBhY2thZ2UuYWNjZXNzIiB2YWx1ZT0ic3VuLixv
cmcuYXBhY2hlLmNhdGFsaW5hLixvcmcuYXBhY2hlLmNveW90ZS4sb3JnLmFwYWNoZS50b21jYXQu
LG9yZy5hcGFjaGUuamFzcGVyLixzdW4uYmVhbnMuIi8+Cjxwcm9wZXJ0eSBuYW1lPSJzdW4uY3B1
LmlzYWxpc3QiIHZhbHVlPSIiLz4KPC9wcm9wZXJ0aWVzPgo8L2Vycm9yLXJlcG9ydD4K

--e89a8f6438bc3525a804d22178b9
Content-Type: text/plain; charset=us-ascii


---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org
--e89a8f6438bc3525a804d22178b9--

From users-return-238744-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 31 08:23:39 2012
Return-Path: <users-return-238744-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 404F5E594
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 31 Dec 2012 08:23:39 +0000 (UTC)
Received: (qmail 31292 invoked by uid 500); 31 Dec 2012 08:23:36 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 30984 invoked by uid 500); 31 Dec 2012 08:23:34 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 30934 invoked by uid 99); 31 Dec 2012 08:23:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 08:23:33 +0000
X-ASF-Spam-Status: No, hits=-0.7 required=5.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of pid@pidster.com designates 209.85.214.169 as permitted sender)
Received: from [209.85.214.169] (HELO mail-ob0-f169.google.com) (209.85.214.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 08:23:27 +0000
Received: by mail-ob0-f169.google.com with SMTP id v19so11500032obq.14
        for <users@tomcat.apache.org>; Mon, 31 Dec 2012 00:23:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=pidster.com; s=google;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding;
        bh=ki9SXBsXi23f6QPhrGOUlMxijN+ZRfGnLgVpePn3fTY=;
        b=BKFACf8FhAEwKBzJmbYQAUXswa9gwJwIeNX9xTi8IRcrvg/itz9iOQRQSf7f8i7ap3
         LE2P0OADWiPbyknMzrnxZONwQCsg97dE6I8u/IwIVumxIzS1YoNsP1A8g8ja92/c//LC
         LxNnuFVZf8pPwJA11E44XfAct0N3xSbdip4ms=
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=google.com; s=20120113;
        h=references:from:in-reply-to:mime-version:date:message-id:subject:to
         :content-type:content-transfer-encoding:x-gm-message-state;
        bh=ki9SXBsXi23f6QPhrGOUlMxijN+ZRfGnLgVpePn3fTY=;
        b=QHb70Jor2w8xyMdcCbrDdYC0ClbA+lmUzrx1y8xnU6duVxF/OaF5PPV1LwEDCN0xTN
         XtDD2tvJX9ZsialfOpZWXyYpK+lF6tFEIbhN27SzIaBGVxsW7rW+H5yzMs6QnNXr6L+2
         Zwrh9hMtdFAIzkGFg1nppsBBSkevWrCLvpnfWy2jBfLui17gu+vm6Zwu60EdPZIFKD7N
         4QXBjsmeMmOhzJ3tBKzo+VrnBSDsPYOAJrNysPSL8eOvO69G2jj+p3PKGCAuYRgjR1kt
         f+pB4kMW9PMcOCuf71Z47N3HSjT0OPZ5PhY0KOG0tvpkSDmyqDTv6bM0Px5wSMXXrA2W
         wAFA==
Received: by 10.60.7.67 with SMTP id h3mr21195853oea.31.1356942186242; Mon, 31
 Dec 2012 00:23:06 -0800 (PST)
References: <CAGJT4CXSx2qjeqUpMHOgVrSLdtjGPJgOtbPbm3TY6nL_ARQ0Pg@mail.gmail.com>
From: "Pid *" <pid@pidster.com>
In-Reply-To: <CAGJT4CXSx2qjeqUpMHOgVrSLdtjGPJgOtbPbm3TY6nL_ARQ0Pg@mail.gmail.com>
Mime-Version: 1.0 (1.0)
Date: Mon, 31 Dec 2012 08:23:11 +0000
Message-ID: <-4759368852390021358@unknownmsgid>
Subject: Re: "No print service found" error on Apache Tomcat 6.0.35 running on
 FreeBSD using CUPS when trying to print via Jasper.
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Gm-Message-State: ALoCoQlOevQ4P3e6b3FFWoyeWh/PbCvR39h42A+t106fkpDRYXAUm2rOrqo7vfcwL+zNLq58Bk9y
X-Virus-Checked: Checked by ClamAV on apache.org

On 31 Dec 2012, at 08:05, Cahir King <cahirking@googlemail.com> wrote:

> Hello all,
>
> I am running a web application (OpenVPMS) on Tomcat 6.0.35 on a FreeBSD 9=
.0 server. The webapp has a Mysql database backend. I have installed CUPS a=
nd have several printers on the local network (mainly HP).  The JVM is open=
jdk 6.0 (1.6.0_32-b26), downloaded and installed from ports in BSD.
>
> One feature of the webapp is that it is supposed to send label printouts =
directly to a printer using jasper. However, when I try to do this, the fol=
lowing error comes up:
>
> Failed to generate report: No suitable print service found.
>
> I can print from the BSD server using other programs like gedit. I just c=
an't get the tomcat server to print directly. I am assuming that the jasper=
 bit was installed automatically with the tomcat port on BSD, so I don't th=
ink I need any additional programs. I have also made sure that the tomcat u=
ser is a member of the cups group.

Apache Tomcat's Jasper component is not the same as Jasper Reports.
Perhaps this is causing some confusion?


p


> I am a novice in all of this, so if anyone can point me in the right dire=
ction, I would be most grateful. The error log is attached to this message.
>
> Thank you.
>
>
>
>
> <opv_print_error.txt>
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


From users-return-238745-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 31 10:14:41 2012
Return-Path: <users-return-238745-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 90EB0E5DE
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 31 Dec 2012 10:14:41 +0000 (UTC)
Received: (qmail 33295 invoked by uid 500); 31 Dec 2012 10:14:38 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 33079 invoked by uid 500); 31 Dec 2012 10:14:36 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 33064 invoked by uid 99); 31 Dec 2012 10:14:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 10:14:36 +0000
X-ASF-Spam-Status: No, hits=1.5 required=5.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cahirking@googlemail.com designates 209.85.214.169 as permitted sender)
Received: from [209.85.214.169] (HELO mail-ob0-f169.google.com) (209.85.214.169)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 10:14:32 +0000
Received: by mail-ob0-f169.google.com with SMTP id v19so11324655obq.28
        for <users@tomcat.apache.org>; Mon, 31 Dec 2012 02:14:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        bh=nF5BD+RrlQuPuKO8Cr7E3ygHwXVbJPy8NDSun2bZZPg=;
        b=REzQsV0FZnegWRAnmol1FiI+wKgNq70VFlDn+2aMXK27X6zv8p26Yv0azR7t0dvwgQ
         TxjTa9Azz6ARcb1RyFA6+s9xfmp3TtdWgHFVN+X6KSiDyl5GCuIjqIgFNugRolKwUm9j
         G+g5VcojBXTdYFQ+h3BTwLuIBw0v1ABXvdGP8QxmXh0WUmI4xC99k+ibMSdQunDZ4eXg
         JL9AZIE30f29XasNyYor41zp7OSe46zBS9Q8cYHqq8LtZBiio6A6T2LCO3TzwadMdn2J
         xQg4Aqkj1ExbMp2p5eXeLbYP3zRni4eJdf7GqZ5YkmEp48sHcpon0TZ6GPgv6RmoDBX2
         cZwQ==
MIME-Version: 1.0
Received: by 10.60.4.165 with SMTP id l5mr22306079oel.84.1356948851384; Mon,
 31 Dec 2012 02:14:11 -0800 (PST)
Received: by 10.60.27.74 with HTTP; Mon, 31 Dec 2012 02:14:11 -0800 (PST)
In-Reply-To: <-4759368852390021358@unknownmsgid>
References: <CAGJT4CXSx2qjeqUpMHOgVrSLdtjGPJgOtbPbm3TY6nL_ARQ0Pg@mail.gmail.com>
	<-4759368852390021358@unknownmsgid>
Date: Mon, 31 Dec 2012 10:14:11 +0000
Message-ID: <CAGJT4CVvw9_b7ekoHT-maysR14JvHOuoHOTChAkwWuJk3TpezA@mail.gmail.com>
Subject: Re: "No print service found" error on Apache Tomcat 6.0.35 running on
 FreeBSD using CUPS when trying to print via Jasper.
From: Cahir King <cahirking@googlemail.com>
To: Tomcat Users List <users@tomcat.apache.org>
Content-Type: multipart/alternative; boundary=e89a8ff1c2e843e1e304d223465a
X-Virus-Checked: Checked by ClamAV on apache.org

--e89a8ff1c2e843e1e304d223465a
Content-Type: text/plain; charset=ISO-8859-1

Thank you for your reply.  I don't think that my webapp requires Jasper
Reports, just the native Tomcat's jasper.  Jasper Reports is not listed as
required in any of the installation documentation (
http://www.openvpms.org/implementors-handbook).  The setup seems to work
without a hitch on Windows, so I think it may be a linux / unix
configuration issue that I am confused about.

On 31 December 2012 08:23, Pid * <pid@pidster.com> wrote:

> On 31 Dec 2012, at 08:05, Cahir King <cahirking@googlemail.com> wrote:
>
> > Hello all,
> >
> > I am running a web application (OpenVPMS) on Tomcat 6.0.35 on a FreeBSD
> 9.0 server. The webapp has a Mysql database backend. I have installed CUPS
> and have several printers on the local network (mainly HP).  The JVM is
> openjdk 6.0 (1.6.0_32-b26), downloaded and installed from ports in BSD.
> >
> > One feature of the webapp is that it is supposed to send label printouts
> directly to a printer using jasper. However, when I try to do this, the
> following error comes up:
> >
> > Failed to generate report: No suitable print service found.
> >
> > I can print from the BSD server using other programs like gedit. I just
> can't get the tomcat server to print directly. I am assuming that the
> jasper bit was installed automatically with the tomcat port on BSD, so I
> don't think I need any additional programs. I have also made sure that the
> tomcat user is a member of the cups group.
>
> Apache Tomcat's Jasper component is not the same as Jasper Reports.
> Perhaps this is causing some confusion?
>
>
> p
>
>
> > I am a novice in all of this, so if anyone can point me in the right
> direction, I would be most grateful. The error log is attached to this
> message.
> >
> > Thank you.
> >
> >
> >
> >
> > <opv_print_error.txt>
> >
> > ---------------------------------------------------------------------
> > To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> > For additional commands, e-mail: users-help@tomcat.apache.org
>
> ---------------------------------------------------------------------
> To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
> For additional commands, e-mail: users-help@tomcat.apache.org
>
>


-- 
Cahir P. King
11 Governor's Gate,
Hillsborough,
County Down
BT26 6FE  N. Ireland
UK.

+44 2890459212

--e89a8ff1c2e843e1e304d223465a--

From users-return-238746-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org  Mon Dec 31 20:37:11 2012
Return-Path: <users-return-238746-apmail-tomcat-users-archive=tomcat.apache.org@tomcat.apache.org>
X-Original-To: apmail-tomcat-users-archive@www.apache.org
Delivered-To: apmail-tomcat-users-archive@www.apache.org
Received: from mail.apache.org (hermes.apache.org [140.211.11.3])
	by minotaur.apache.org (Postfix) with SMTP id 3231BE4A3
	for <apmail-tomcat-users-archive@www.apache.org>; Mon, 31 Dec 2012 20:37:11 +0000 (UTC)
Received: (qmail 43602 invoked by uid 500); 31 Dec 2012 20:37:07 -0000
Delivered-To: apmail-tomcat-users-archive@tomcat.apache.org
Received: (qmail 43548 invoked by uid 500); 31 Dec 2012 20:37:07 -0000
Mailing-List: contact users-help@tomcat.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:users-help@tomcat.apache.org>
List-Unsubscribe: <mailto:users-unsubscribe@tomcat.apache.org>
List-Post: <mailto:users@tomcat.apache.org>
List-Id: <users.tomcat.apache.org>
Reply-To: "Tomcat Users List" <users@tomcat.apache.org>
Delivered-To: mailing list users@tomcat.apache.org
Received: (qmail 43539 invoked by uid 99); 31 Dec 2012 20:37:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 20:37:07 +0000
X-ASF-Spam-Status: No, hits=0.7 required=5.0
	tests=RCVD_IN_DNSWL_NONE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.48] (HELO qmta05.westchester.pa.mail.comcast.net) (76.96.62.48)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 31 Dec 2012 20:37:01 +0000
Received: from omta15.westchester.pa.mail.comcast.net ([76.96.62.87])
	by qmta05.westchester.pa.mail.comcast.net with comcast
	id iC341k00G1swQuc55LcfUp; Mon, 31 Dec 2012 20:36:39 +0000
Received: from [192.168.1.200] ([69.143.109.145])
	by omta15.westchester.pa.mail.comcast.net with comcast
	id iLcd1k00N38FjT13bLcetq; Mon, 31 Dec 2012 20:36:39 +0000
Message-ID: <50E1F754.6040307@christopherschultz.net>
Date: Mon, 31 Dec 2012 15:36:36 -0500
From: Christopher Schultz <chris@christopherschultz.net>
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:17.0) Gecko/17.0 Thunderbird/17.0
MIME-Version: 1.0
To: Tomcat Users List <users@tomcat.apache.org>
Subject: Re: "No print service found" error on Apache Tomcat 6.0.35 running
 on FreeBSD using CUPS when trying to print via Jasper.
References: <CAGJT4CXSx2qjeqUpMHOgVrSLdtjGPJgOtbPbm3TY6nL_ARQ0Pg@mail.gmail.com> <-4759368852390021358@unknownmsgid> <CAGJT4CVvw9_b7ekoHT-maysR14JvHOuoHOTChAkwWuJk3TpezA@mail.gmail.com>
In-Reply-To: <CAGJT4CVvw9_b7ekoHT-maysR14JvHOuoHOTChAkwWuJk3TpezA@mail.gmail.com>
X-Enigmail-Version: 1.4.6
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=comcast.net;
	s=q20121106; t=1356986199;
	bh=hqO/UliXv6e5rHefpRfUbWqrcb91vTxRp6SpT1x2+Hg=;
	h=Received:Received:Message-ID:Date:From:MIME-Version:To:Subject:
	 Content-Type;
	b=nKxQ66xCkpFLocunxFP40y9rhCGICKCO/9yGts+eJpgwY0FJfmWj8fzEhzngVENsk
	 DASpsNjDjNdZ3nK9oL7K3dbtjQPPCvCyE7HnxmMrLiV+nwHZMqXNwq4ZGjNpEIdBLJ
	 KxptZtxFKn2jhlMC4JQwxFcVJEHyQKZjd0Dhfcx8cAWO+hmw4LxH3YKJ61xyhStwSF
	 7aDSRuW3JxSjKZuRaSW8xTSjwjmmXqFTv975E5325y0r98AAtRFMExVaCd4XiHF81V
	 jWbiLhXUL7sb0W3bcia3F44e/dmxaitG0+fItzZ9ZakIu9AjqGtrMQLYuaHCJmkbmG
	 Yxb+3Vd/tWH+w==
X-Virus-Checked: Checked by ClamAV on apache.org

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Cahir,

On 12/31/12 5:14 AM, Cahir King wrote:
> Thank you for your reply.  I don't think that my webapp requires
> Jasper Reports, just the native Tomcat's jasper.

Nope:

> <cause> <type>net.sf.jasperreports.engine.JRException</type> 
> <message>No suitable print service found.</message> <stackTrace> 
> <trace>net.sf.jasperreports.engine.export.JRPrintServiceExporter.exportReport(JRPrintServiceExporter.java:150)</trace>

That's
> 
JasperReports, an unfortunately-named product that has little
to do with Apache Tomcat.

> Jasper Reports is not listed as required in any of the installation
> documentation ( http://www.openvpms.org/implementors-handbook).
> The setup seems to work without a hitch on Windows, so I think it
> may be a linux / unix configuration issue that I am confused
> about.

Well, it's using JasperReports whether it is an installation
requirement or not (it probably comes bundled with OpenVPMS or
whatever). The above stack trace clearly shows that it *is* using
JasperReports.

There is obviously some disconnect between your Java installation and
CUPS. I'd be surprised if they didn't work together in general, but
you might have to do a bit of configuration to get it all situated.

I would write some simple standalone Java programs to probe the print
capabilities that the JVM reports. Perhaps it's as simple as having
not selected the right device/port/etc. in your setup?

- -chris
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.17 (Darwin)
Comment: GPGTools - http://gpgtools.org
Comment: Using GnuPG with undefined - http://www.enigmail.net/

iEYEAREIAAYFAlDh91QACgkQ9CaO5/Lv0PBhVACfQ0jItG6FnUpXSme0IJtJwHFY
p5kAoMGVuFlj3A5Wio5Sz3gVsDWDIRVs
=U7f8
-----END PGP SIGNATURE-----

---------------------------------------------------------------------
To unsubscribe, e-mail: users-unsubscribe@tomcat.apache.org
For additional commands, e-mail: users-help@tomcat.apache.org


